function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _array_with_holes(e){if(Array.isArray(e))return e}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array(e)}function _assert_this_initialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function asyncGeneratorStep(e,t,n,r,i,a,s){try{var o=e[a](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,i)}function _async_to_generator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){asyncGeneratorStep(a,r,i,s,o,"next",e)}function o(e){asyncGeneratorStep(a,r,i,s,o,"throw",e)}s(void 0)}))}}function _class_call_check(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _construct(e,t,n){return _construct=_is_native_reflect_construct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_set_prototype_of(i,n.prototype),i},_construct.apply(null,arguments)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _create_class(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _define_property(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get(e,t,n){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_super_prop_base(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n||e):i.value}},_get(e,t,n||e)}function _get_prototype_of(e){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_get_prototype_of(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_set_prototype_of(e,t)}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _is_native_function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterable_to_array_limit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_define_property(e,t,n[t])}))}return e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _possible_constructor_return(e,t){return!t||"object"!==_type_of(t)&&"function"!=typeof t?_assert_this_initialized(e):t}function _set_prototype_of(e,t){return _set_prototype_of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_set_prototype_of(e,t)}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _super_prop_base(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_get_prototype_of(e)););return e}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array(e)||_unsupported_iterable_to_array(e)||_non_iterable_spread()}function _type_of(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_array_like_to_array(e,t):void 0}}function _wrap_native_super(e){var t="function"==typeof Map?new Map:void 0;return _wrap_native_super=function(e){if(null===e||!_is_native_function(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_get_prototype_of(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(n,e)},_wrap_native_super(e)}function _is_native_reflect_construct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _create_super(e){var t=_is_native_reflect_construct();return function(){var n,r=_get_prototype_of(e);if(t){var i=_get_prototype_of(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possible_constructor_return(this,n)}}function _ts_generator(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}var NutPlayer=function(e){"use strict";var t,n=Object.create,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,c=(t=function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(t,{get:function(e,t){return("undefined"!=typeof require?require:e)[t]}}):t),d=function(e,t){return function(){return e&&(t=(0,e[o(e)[0]])(e=0)),t}},h=function(e,t){return function(){return t||(0,e[o(e)[0]])((t={exports:{}}).exports,t),t.exports}},f=function(e,t,a){return a=null!=e?n(l(e)):{},function(e,t,n,a){if(t&&"object"==typeof t||"function"==typeof t){var s=!0,l=!1,c=void 0;try{for(var d,h=function(){var s=d.value;u.call(e,s)||s===n||r(e,s,{get:function(){return t[s]},enumerable:!(a=i(t,s))||a.enumerable})},f=o(t)[Symbol.iterator]();!(s=(d=f.next()).done);s=!0)h()}catch(e){l=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}}return e}(!t&&e&&e.__esModule?a:r(a,"default",{value:e,enumerable:!0}),e)},p=function(e,t,n){return function(e,t,n){t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==(void 0===t?"undefined":_type_of(t))?t+"":t,n),n},A=h({"node_modules/global/window.js":function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t.exports=n}}),g=h({"node_modules/dom-walk/index.js":function(e,t){var n=Array.prototype.slice;t.exports=function(e,t){"length"in e||(e=[e]);e=n.call(e);for(;e.length;){var r=e.shift(),i=t(r);if(i)return i;r.childNodes&&r.childNodes.length&&(e=n.call(r.childNodes).concat(e))}}}}),m=h({"node_modules/min-document/dom-comment.js":function(e,t){function n(e,t){if(!_instanceof(this,n))return new n(e,t);this.data=e,this.nodeValue=e,this.length=e.length,this.ownerDocument=t||null}t.exports=n,n.prototype.nodeType=8,n.prototype.nodeName="#comment",n.prototype.toString=function(){return"[object Comment]"}}}),v=h({"node_modules/min-document/dom-text.js":function(e,t){function n(e,t){if(!_instanceof(this,n))return new n(e);this.data=e||"",this.length=this.data.length,this.ownerDocument=t||null}t.exports=n,n.prototype.type="DOMTextNode",n.prototype.nodeType=3,n.prototype.nodeName="#text",n.prototype.toString=function(){return this.data},n.prototype.replaceData=function(e,t,n){var r=this.data,i=r.substring(0,e),a=r.substring(e+t,r.length);this.data=i+n+a,this.length=this.data.length}}}),y=h({"node_modules/min-document/event/dispatch-event.js":function(e,t){t.exports=function(e){var t=this,n=e.type;e.target||(e.target=t);t.listeners||(t.listeners={});var r=t.listeners[n];if(r)return r.forEach((function(n){e.currentTarget=t,"function"==typeof n?n(e):n.handleEvent(e)}));t.parentNode&&t.parentNode.dispatchEvent(e)}}}),E=h({"node_modules/min-document/event/add-event-listener.js":function(e,t){t.exports=function(e,t){var n=this;n.listeners||(n.listeners={});n.listeners[e]||(n.listeners[e]=[]);-1===n.listeners[e].indexOf(t)&&n.listeners[e].push(t)}}}),_=h({"node_modules/min-document/event/remove-event-listener.js":function(e,t){t.exports=function(e,t){var n=this;if(!n.listeners)return;if(!n.listeners[e])return;var r=n.listeners[e],i=r.indexOf(t);-1!==i&&r.splice(i,1)}}}),T=h({"node_modules/min-document/serialize.js":function(e,t){t.exports=r;var n=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function r(e){switch(e.nodeType){case 3:return s(e.data);case 8:return"\x3c!--"+e.data+"--\x3e";default:return function(e){var t=[],o=e.tagName;"http://www.w3.org/1999/xhtml"===e.namespaceURI&&(o=o.toLowerCase());t.push("<"+o+function(e){var t=[];for(var n in e)i(e,n)&&t.push({name:n,value:e[n]});for(var r in e._attributes)for(var s in e._attributes[r]){var o=e._attributes[r][s],l=(o.prefix?o.prefix+":":"")+s;t.push({name:l,value:o.value})}e.className&&t.push({name:"class",value:e.className});return t.length?a(t):""}(e)+function(e){var t=e.dataset,n=[];for(var r in t)n.push({name:"data-"+r,value:t[r]});return n.length?a(n):""}(e)),n.indexOf(o)>-1?t.push(" />"):(t.push(">"),e.childNodes.length?t.push.apply(t,e.childNodes.map(r)):e.textContent||e.innerText?t.push(s(e.textContent||e.innerText)):e.innerHTML&&t.push(e.innerHTML),t.push("</"+o+">"));return t.join("")}(e)}}function i(e,t){var n=_type_of(e[t]);return"style"===t&&Object.keys(e.style).length>0||e.hasOwnProperty(t)&&("string"===n||"boolean"===n||"number"===n)&&"nodeName"!==t&&"className"!==t&&"tagName"!==t&&"textContent"!==t&&"innerText"!==t&&"namespaceURI"!==t&&"innerHTML"!==t}function a(e){var t=[];return e.forEach((function(e){var n=e.name,r=e.value;"style"===n&&(r=function(e){if("string"==typeof e)return e;var t="";return Object.keys(e).forEach((function(n){var r=e[n];n=n.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})),t+=n+":"+r+";"})),t}(r)),t.push(n+'="'+(s(r).replace(/"/g,"&quot;")+'"'))})),t.length?" "+t.join(" "):""}function s(e){var t="";return"string"==typeof e?t=e:e&&(t=e.toString()),t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}}),b=h({"node_modules/min-document/dom-element.js":function(e,t){var n=g(),r=y(),i=E(),a=_(),s=T(),o="http://www.w3.org/1999/xhtml";function l(e,t,n){if(!_instanceof(this,l))return new l(e);var r=void 0===n?o:n||null;this.tagName=r===o?String(e).toUpperCase():e,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=t||null,this.namespaceURI=r,this._attributes={},"INPUT"===this.tagName&&(this.type="text")}t.exports=l,l.prototype.type="DOMElement",l.prototype.nodeType=1,l.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e},l.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[n]=e,e.parentNode=this,t},l.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e},l.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=null==t?-1:this.childNodes.indexOf(t);return n>-1?this.childNodes.splice(n,0,e):this.childNodes.push(e),e.parentNode=this,e},l.prototype.setAttributeNS=function(e,t,n){var r=null,i=t,a=t.indexOf(":");(a>-1&&(r=t.substr(0,a),i=t.substr(a+1)),"INPUT"===this.tagName&&"type"===t)?this.type=n:(this._attributes[e]||(this._attributes[e]={}))[i]={value:n,prefix:r}},l.prototype.getAttributeNS=function(e,t){var n=this._attributes[e],r=n&&n[t]&&n[t].value;return"INPUT"===this.tagName&&"type"===t?this.type:"string"!=typeof r?null:r},l.prototype.removeAttributeNS=function(e,t){var n=this._attributes[e];n&&delete n[t]},l.prototype.hasAttributeNS=function(e,t){var n=this._attributes[e];return!!n&&t in n},l.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)},l.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)},l.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)},l.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)},l.prototype.removeEventListener=a,l.prototype.addEventListener=i,l.prototype.dispatchEvent=r,l.prototype.focus=function(){},l.prototype.toString=function(){return s(this)},l.prototype.getElementsByClassName=function(e){var t=e.split(" "),r=[];return n(this,(function(e){if(1===e.nodeType){var n=(e.className||"").split(" ");t.every((function(e){return-1!==n.indexOf(e)}))&&r.push(e)}})),r},l.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return n(this.childNodes,(function(n){1!==n.nodeType||"*"!==e&&n.tagName.toLowerCase()!==e||t.push(n)})),t},l.prototype.contains=function(e){return n(this,(function(t){return e===t}))||!1}}}),S=h({"node_modules/min-document/dom-fragment.js":function(e,t){var n=b();function r(e){if(!_instanceof(this,r))return new r;this.childNodes=[],this.parentNode=null,this.ownerDocument=e||null}t.exports=r,r.prototype.type="DocumentFragment",r.prototype.nodeType=11,r.prototype.nodeName="#document-fragment",r.prototype.appendChild=n.prototype.appendChild,r.prototype.replaceChild=n.prototype.replaceChild,r.prototype.removeChild=n.prototype.removeChild,r.prototype.toString=function(){return this.childNodes.map((function(e){return String(e)})).join("")}}}),w=h({"node_modules/min-document/event.js":function(e,t){function n(e){}t.exports=n,n.prototype.initEvent=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n},n.prototype.preventDefault=function(){}}}),C=h({"node_modules/min-document/document.js":function(e,t){var n=g(),r=m(),i=v(),a=b(),s=S(),o=w(),l=y(),u=E(),c=_();function d(){if(!_instanceof(this,d))return new d;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}t.exports=d;var h=d.prototype;h.createTextNode=function(e){return new i(e,this)},h.createElementNS=function(e,t){var n=null===e?null:String(e);return new a(t,this,n)},h.createElement=function(e){return new a(e,this)},h.createDocumentFragment=function(){return new s(this)},h.createEvent=function(e){return new o(e)},h.createComment=function(e){return new r(e,this)},h.getElementById=function(e){return e=String(e),n(this.childNodes,(function(t){if(String(t.id)===e)return t}))||null},h.getElementsByClassName=a.prototype.getElementsByClassName,h.getElementsByTagName=a.prototype.getElementsByTagName,h.contains=a.prototype.contains,h.removeEventListener=c,h.addEventListener=u,h.dispatchEvent=l}}),I=h({"node_modules/min-document/index.js":function(e,t){var n=C();t.exports=new n}}),k=h({"node_modules/global/document.js":function(e,t){var n,r="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},i=I();"undefined"!=typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"])||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=n}}),R=h({"node_modules/@babel/runtime/helpers/extends.js":function(e,t){function n(){return t.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(this,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),D=h({"node_modules/keycode/index.js":function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return o[e];var n,r=String(e);return(n=i[r.toLowerCase()])?n:(n=a[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var r;if(r=i[t.toLowerCase()])return r===n;if(r=a[t.toLowerCase()])return r===n}else if("number"==typeof t)return t===n;return!1}};var r,i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)i[String.fromCharCode(r)]=r-32;for(r=48;r<58;r++)i[r-48]=r;for(r=1;r<13;r++)i["f"+r]=r+111;for(r=0;r<10;r++)i["numpad "+r]=r+96;var s,o=e.names=e.title={};for(r in i)o[i[r]]=r;for(s in a)i[s]=a[s]}}),M=h({"node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e,t){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.__esModule=!0,t.exports.default=t.exports}}),L=h({"node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e,t){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),N=h({"node_modules/@babel/runtime/helpers/inheritsLoose.js":function(e,t){var n=L();t.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports}}),B=h({"node_modules/safe-json-parse/tuple.js":function(e,t){t.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]}}}),x=h({"node_modules/is-function/index.js":function(e,t){t.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString}}),P=h({"node_modules/@videojs/xhr/lib/http-handler.js":function(e,t){var n=A();t.exports=function(e,t){return void 0===t&&(t=!1),function(r,i,a){if(r)e(r);else if(i.statusCode>=400&&i.statusCode<=599){var s=a;if(t)if(n.TextDecoder){var o=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return"charset"===r.trim()?i.trim():e}),"utf-8")}(i.headers&&i.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch(e){}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s})}else e(null,a)}}}}),O=h({"node_modules/@videojs/xhr/lib/index.js":function(e,t){var n=A(),r=R(),i=x();o.httpHandler=P();var a=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t};function s(e,t,n){var a=e;return i(t)?(n=t,"string"==typeof e&&(a={uri:e})):a=r({},t,{uri:e}),a.callback=n,a}function o(e,t,n){return l(t=s(e,t,n))}function l(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(c),m)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(d),_instanceof(e,Error)||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function s(){if(!u){var t;clearTimeout(d),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=v,s=null;return 0!==t?(i={body:r(),statusCode:t,method:f,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(i.headers=a(c.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),n(s,i,i.body)}}var l,u,c=e.xhr||null;c||(c=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var d,h=c.url=e.uri||e.url,f=c.method=e.method||"GET",p=e.body||e.data,A=c.headers=e.headers||{},g=!!e.sync,m=!1,v={body:void 0,headers:{},statusCode:0,method:f,url:h,rawRequest:c};if("json"in e&&!1!==e.json&&(m=!0,A.accept||A.Accept||(A.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(A["content-type"]||A["Content-Type"]||(A["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(s,0)},c.onload=s,c.onerror=i,c.onprogress=function(){},c.onabort=function(){u=!0},c.ontimeout=i,c.open(f,h,!g,e.username,e.password),g||(c.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(d=setTimeout((function(){if(!u){u=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),c.setRequestHeader)for(l in A)A.hasOwnProperty(l)&&c.setRequestHeader(l,A[l]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(p||null),c}t.exports=o,t.exports.default=o,o.XMLHttpRequest=n.XMLHttpRequest||function(){},o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){o["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),l(n)}}))}}),F=h({"node_modules/videojs-vtt.js/lib/vtt.js":function(e,t){var n=k(),r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function i(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=r(null)}function o(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var s=i[a].split(n);if(2===s.length)t(s[0].trim(),s[1].trim())}}function l(e,t,n){var r=e;function l(){var t=a(e);if(null===t)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=l(),u(),"--\x3e"!==e.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=l(),u(),function(e,t){var r=new s;o(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),s=a[0];r.integer(e,s),r.percent(e,s)&&r.set("snapToLines",!1),r.alt(e,s,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(e){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(e){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}i.prototype=r(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=n.createElement&&n.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},f={rt:"ruby"};function p(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(t,n){var r=c[t];if(!r)return null;var i=e.document.createElement(r),a=h[t];return a&&n&&(i[a]=n.trim()),i}for(var i,s,o,l,p=e.document.createElement("div"),A=p,g=[];null!==(i=n());)if("<"!==i[0])A.appendChild(e.document.createTextNode((s=i,u.innerHTML=s,s=u.textContent,u.textContent="",s)));else{if("/"===i[1]){g.length&&g[g.length-1]===i.substr(2).replace(">","")&&(g.pop(),A=A.parentNode);continue}var m,v=a(i.substr(1,i.length-2));if(v){m=e.document.createProcessingInstruction("timestamp",v),A.appendChild(m);continue}var y=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=r(y[1],y[3])))continue;if(o=A,f[(l=m).localName]&&f[l.localName]!==o.localName)continue;if(y[2]){var E=y[2].split(".");E.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(d.hasOwnProperty(n)){var r=t?"background-color":"color",i=d[n];m.style[r]=i}})),m.className=E.join(" ")}g.push(y[1]),A.appendChild(m),A=m}return p}var A=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function g(e){for(var t=0;t<A.length;t++){var n=A[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function m(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var a=0;a<n.length;a++)if(g(n.charCodeAt(a)))return"rtl";return"ltr"}function v(){}function y(e,t,n){v.call(this),this.cue=t,this.cueDiv=p(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:m(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":case"line-left":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":case"line-right":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function E(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function _(e,t,n,r){var i=new E(t),a=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(a),o=[];if(a.snapToLines){var l;switch(a.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(s),d=n[l]+u,h=o[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),s<0&&(c+=""===a.vertical?n.height:n.width,o=o.reverse()),i.move(h,c)}else{var f=i.lineHeight/n.height*100;switch(a.lineAlign){case"center":s-=f/2;break;case"end":s-=f}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}o=["+y","-x","+x","-y"],i=new E(t)}var p=function(e,t){for(var i,a=new E(e),s=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(n,t[o])||e.within(n)&&e.overlapsAny(r);)e.move(t[o]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(i=new E(e),s=l),e=new E(a)}return i||a}(i,o);t.move(p.toCSSCompatValues(n))}function T(){}v.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},v.prototype.formatStyle=function(e,t){return 0===e?0:e+t},y.prototype=r(v.prototype),y.prototype.constructor=y,E.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},E.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},E.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},E.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},E.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},E.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},E.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},E.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},T.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},T.convertCueToDOMTree=function(e,t){return e&&t?p(e,t):null};T.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],a=E.getSimpleBoxPosition(r),s={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,o,l=0;l<t.length;l++)o=t[l],n=new y(e,o,s),r.appendChild(n.div),_(0,n,a,i),o.displayState=n.div,i.push(E.getSimpleBoxPosition(n))}()}else for(var o=0;o<t.length;o++)r.appendChild(t[o].displayState)},T.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},T.Parser.prototype={reportOrThrowError:function(e){if(!_instanceof(e,i))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?o(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new s;o(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",a(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):o(e,(function(e,n){if("Region"===e)!function(e){var n=new s;if(o(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new s;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(u=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new i(i.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:u=n(),t.state){case"HEADER":/:/.test(u)?r(u):u||(t.state="ID");continue;case"NOTE":u||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){t.state="NOTE";break}if(!u)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===u.indexOf("--\x3e")){t.cue.id=u;continue}case"CUE":try{l(u,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var h=-1!==u.indexOf("--\x3e");if(!u||h&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=u.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":u||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new i(i.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},t.exports=T}}),U=h({"node_modules/videojs-vtt.js/lib/vttcue.js":function(e,t){var n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function a(e,t,r){this.hasBeenReset=!1;var a="",s=!1,o=e,l=t,u=r,c=null,d="",h=!0,f="auto",p="start",A="auto",g="auto",m=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=i(e);t?(p=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return A},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");A=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=i(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=a}}),j=h({"node_modules/videojs-vtt.js/lib/vttregion.js":function(e,t){var n={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}t.exports=function(){var e=100,t=3,i=0,a=100,s=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):l=t}}})}}}),Q=h({"node_modules/videojs-vtt.js/lib/browser-index.js":function(e,t){var n=A(),r=t.exports={WebVTT:F(),VTTCue:U(),VTTRegion:j()};n.vttjs=r,n.WebVTT=r.WebVTT;var i=r.VTTCue,a=r.VTTRegion,s=n.VTTCue,o=n.VTTRegion;r.shim=function(){n.VTTCue=i,n.VTTRegion=a},r.restore=function(){n.VTTCue=s,n.VTTRegion=o},n.VTTCue||r.shim()}}),G=h({"node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js":function(e,t){function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(t.exports=n=function(){return!!e},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),V=h({"node_modules/@babel/runtime/helpers/construct.js":function(e,t){var n=L(),r=G();t.exports=function(e,t,i){if(r())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var s=new(e.bind.apply(e,a));return i&&n(s,i.prototype),s},t.exports.__esModule=!0,t.exports.default=t.exports}}),H=h({"node_modules/@babel/runtime/helpers/inherits.js":function(e,t){var n=L();t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports}}),Y=h({"node_modules/url-toolkit/src/url-toolkit.js":function(e,t){var n,r,i,a,s,o;n=e,r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},"object"==typeof e&&"object"==typeof t?t.exports=o:"function"==typeof define&&define.amd?define([],(function(){return o})):"object"==typeof e?e.URLToolkit=o:n.URLToolkit=o}}),q=h({"node_modules/@xmldom/xmldom/lib/conventions.js":function(e){function t(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=t({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=t({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},e.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},e.freeze=t,e.MIME_TYPE=n,e.NAMESPACE=r}}),z=h({"node_modules/@xmldom/xmldom/lib/dom.js":function(e){var t=q(),n=t.find,r=t.NAMESPACE;function i(e){return""!==e}function a(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function s(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(i):[]}(e);return Object.keys(t.reduce(a,{}))}function o(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function l(e,t){var n=e.prototype;if(!_instanceof(n,t)){var r=function(){};r.prototype=t.prototype,o(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var u={},c=u.ELEMENT_NODE=1,d=u.ATTRIBUTE_NODE=2,h=u.TEXT_NODE=3,f=u.CDATA_SECTION_NODE=4,p=u.ENTITY_REFERENCE_NODE=5,A=u.ENTITY_NODE=6,g=u.PROCESSING_INSTRUCTION_NODE=7,m=u.COMMENT_NODE=8,v=u.DOCUMENT_NODE=9,y=u.DOCUMENT_TYPE_NODE=10,E=u.DOCUMENT_FRAGMENT_NODE=11,_=u.NOTATION_NODE=12,T={},b={};T.INDEX_SIZE_ERR=(b[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2);var S=T.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3);T.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7);var w=T.NOT_FOUND_ERR=(b[8]="Not found",8);T.NOT_SUPPORTED_ERR=(b[9]="Not supported",9);var C=T.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10);function I(e,t){if(_instanceof(t,Error))var n=t;else n=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,I);return n.code=e,t&&(this.message=this.message+": "+t),n}function k(){}function R(e,t){this._node=e,this._refresh=t,D(this)}function D(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(ve(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];o(n,e),e._inc=t}}function M(){}function L(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function N(e,t,n,i){if(i?t[L(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(i&&j(a,e,i),function(e,t,n){e&&e._inc++;var i=n.namespaceURI;i===r.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(a,e,n))}}function B(e,t,n){var r=L(t,n);if(!(r>=0))throw new I(w,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(j(a,e,n),n.ownerElement=null)}}function x(){}function P(){}function O(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function U(){this.ownerDocument=this}function j(e,t,n,i){e&&e._inc++,n.namespaceURI===r.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function Q(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a,delete r[r.length]}}}function G(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,Q(e.ownerDocument,e),t}function V(e){return e&&e.nodeType===P.DOCUMENT_TYPE_NODE}function H(e){return e&&e.nodeType===P.ELEMENT_NODE}function Y(e){return e&&e.nodeType===P.TEXT_NODE}function z(e,t){var r=e.childNodes||[];if(n(r,H)||V(t))return!1;var i=n(r,V);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function W(e,t){var r=e.childNodes||[];if(n(r,(function(e){return H(e)&&e!==t})))return!1;var i=n(r,V);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function K(e,t,n){if(!function(e){return e&&(e.nodeType===P.DOCUMENT_NODE||e.nodeType===P.DOCUMENT_FRAGMENT_NODE||e.nodeType===P.ELEMENT_NODE)}(e))throw new I(S,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new I(w,"child not in parent");if(!function(e){return e&&(H(e)||Y(e)||V(e)||e.nodeType===P.DOCUMENT_FRAGMENT_NODE||e.nodeType===P.COMMENT_NODE||e.nodeType===P.PROCESSING_INSTRUCTION_NODE)}(t)||V(t)&&e.nodeType!==P.DOCUMENT_NODE)throw new I(S,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function X(e,t,r){var i=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===P.DOCUMENT_FRAGMENT_NODE){var s=a.filter(H);if(s.length>1||n(a,Y))throw new I(S,"More than one element or text in fragment");if(1===s.length&&!z(e,r))throw new I(S,"Element in fragment can not be inserted before doctype")}if(H(t)&&!z(e,r))throw new I(S,"Only one element can be added and only after doctype");if(V(t)){if(n(i,V))throw new I(S,"Only one doctype is allowed");var o=n(i,H);if(r&&i.indexOf(o)<i.indexOf(r))throw new I(S,"Doctype can only be inserted before an element");if(!r&&o)throw new I(S,"Doctype can not be appended since element is present")}}function J(e,t,r){var i=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===P.DOCUMENT_FRAGMENT_NODE){var s=a.filter(H);if(s.length>1||n(a,Y))throw new I(S,"More than one element or text in fragment");if(1===s.length&&!W(e,r))throw new I(S,"Element in fragment can not be inserted before doctype")}if(H(t)&&!W(e,r))throw new I(S,"Only one element can be added and only after doctype");if(V(t)){if(n(i,(function(e){return V(e)&&e!==r})))throw new I(S,"Only one doctype is allowed");var o=n(i,H);if(r&&i.indexOf(o)<i.indexOf(r))throw new I(S,"Doctype can only be inserted before an element")}}function Z(e,t,n,r){K(e,t,n),e.nodeType===P.DOCUMENT_NODE&&(r||X)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===E){var a=t.firstChild;if(null==a)return t;var s=t.lastChild}else a=s=t;var o=n?n.previousSibling:e.lastChild;a.previousSibling=o,s.nextSibling=n,o?o.nextSibling=a:e.firstChild=a,null==n?e.lastChild=s:n.previousSibling=s;do{a.parentNode=e}while(a!==s&&(a=a.nextSibling));return Q(e.ownerDocument||e,e),t.nodeType==E&&(t.firstChild=t.lastChild=null),t}function $(){this._nsMap={}}function ee(){}function te(){}function ne(){}function re(){}function ie(){}function ae(){}function se(){}function oe(){}function le(){}function ue(){}function ce(){}function de(){}function he(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var s=[{namespace:a,prefix:null}];return Ae(this,n,e,t,s),n.join("")}function fe(e,t,n){var i=e.prefix||"",a=e.namespaceURI;if(!a)return!1;if("xml"===i&&a===r.XML||a===r.XMLNS)return!1;for(var s=n.length;s--;){var o=n[s];if(o.prefix===i)return o.namespace!==a}return!0}function pe(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,O),'"')}function Ae(e,t,n,i,a){if(a||(a=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case c:var s=e.attributes,o=s.length,l=e.firstChild,u=e.tagName,A=u;if(!(n=r.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var _,T=0;T<s.length;T++)if("xmlns"===s.item(T).name){_=s.item(T).value;break}if(!_)for(var b=a.length-1;b>=0;b--){if(""===(S=a[b]).prefix&&S.namespace===e.namespaceURI){_=S.namespace;break}}if(_!==e.namespaceURI)for(b=a.length-1;b>=0;b--){var S;if((S=a[b]).namespace===e.namespaceURI){S.prefix&&(A=S.prefix+":"+u);break}}}t.push("<",A);for(var w=0;w<o;w++){"xmlns"==(C=s.item(w)).prefix?a.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&a.push({prefix:"",namespace:C.value})}for(w=0;w<o;w++){var C,I,k;if(fe(C=s.item(w),0,a))pe(t,(I=C.prefix||"")?"xmlns:"+I:"xmlns",k=C.namespaceURI),a.push({prefix:I,namespace:k});Ae(C,t,n,i,a)}if(u===A&&fe(e,0,a))pe(t,(I=e.prefix||"")?"xmlns:"+I:"xmlns",k=e.namespaceURI),a.push({prefix:I,namespace:k});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),n&&/^script$/i.test(u))for(;l;)l.data?t.push(l.data):Ae(l,t,n,i,a.slice()),l=l.nextSibling;else for(;l;)Ae(l,t,n,i,a.slice()),l=l.nextSibling;t.push("</",A,">")}else t.push("/>");return;case v:case E:for(l=e.firstChild;l;)Ae(l,t,n,i,a.slice()),l=l.nextSibling;return;case d:return pe(t,e.name,e.value);case h:return t.push(e.data.replace(/[<&>]/g,O));case f:return t.push("<![CDATA[",e.data,"]]>");case m:return t.push("\x3c!--",e.data,"--\x3e");case y:var R=e.publicId,D=e.systemId;if(t.push("<!DOCTYPE ",e.name),R)t.push(" PUBLIC ",R),D&&"."!=D&&t.push(" ",D),t.push(">");else if(D&&"."!=D)t.push(" SYSTEM ",D,">");else{var M=e.internalSubset;M&&t.push(" [",M,"]"),t.push(">")}return;case g:return t.push("<?",e.target," ",e.data,"?>");case p:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ge(e,t,n){var r;switch(t.nodeType){case c:(r=t.cloneNode(!1)).ownerDocument=e;case E:break;case d:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(ge(e,i,n)),i=i.nextSibling;return r}function me(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}switch(t.childNodes&&(r.childNodes=new k),r.ownerDocument=e,r.nodeType){case c:var s=t.attributes,o=r.attributes=new M,l=s.length;o._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(me(e,s.item(u),!0));break;case d:n=!0}if(n)for(var h=t.firstChild;h;)r.appendChild(me(e,h,n)),h=h.nextSibling;return r}function ve(e,t,n){e[t]=n}T.INVALID_STATE_ERR=(b[11]="Invalid state",11),T.SYNTAX_ERR=(b[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),T.NAMESPACE_ERR=(b[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(b[15]="Invalid access",15),I.prototype=Error.prototype,o(T,I),k.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)Ae(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},R.prototype.item=function(e){return D(this),this[e]||null},l(R,k),M.prototype={length:0,item:k.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new I(C);var n=this.getNamedItem(e.nodeName);return N(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new I(C);return t=this.getNamedItemNS(e.namespaceURI,e.localName),N(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return B(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return B(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},x.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new U;if(r.implementation=this,r.childNodes=new k,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new ae;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Z(this,e,t)},replaceChild:function(e,t){Z(this,e,t,J),t&&this.removeChild(t)},removeChild:function(e){return G(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return me(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==h&&e.nodeType==h?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},o(u,P),o(u,P.prototype),U.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==E){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return Z(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===c&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),G(this,e)},replaceChild:function(e,t){Z(this,e,t,J),e.ownerDocument=this,t&&this.removeChild(t),H(e)&&(this.documentElement=e)},importNode:function(e,t){return ge(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,(function(n){if(n.nodeType==c&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=s(e);return new R(this,(function(n){var r=[];return t.length>0&&F(n.documentElement,(function(i){if(i!==n&&i.nodeType===c){var a=i.getAttribute("class");if(a){var o=e===a;if(!o){var l=s(a);o=t.every((u=l,function(e){return u&&-1!==u.indexOf(e)}))}o&&r.push(i)}}var u})),r}))},createElement:function(e){var t=new $;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new k,(t.attributes=new M)._ownerElement=t,t},createDocumentFragment:function(){var e=new ue;return e.ownerDocument=this,e.childNodes=new k,e},createTextNode:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ce;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new le;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new $,r=t.split(":"),i=n.attributes=new M;return n.childNodes=new k,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new ee,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},l(U,P),$.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===E?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,Q(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new R(this,(function(t){var n=[];return F(t,(function(r){r===t||r.nodeType!=c||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new R(this,(function(n){var r=[];return F(n,(function(i){i===n||i.nodeType!==c||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},U.prototype.getElementsByTagName=$.prototype.getElementsByTagName,U.prototype.getElementsByTagNameNS=$.prototype.getElementsByTagNameNS,l($,P),ee.prototype.nodeType=d,l(ee,P),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[S])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},l(te,P),ne.prototype={nodeName:"#text",nodeType:h,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},l(ne,te),re.prototype={nodeName:"#comment",nodeType:m},l(re,te),ie.prototype={nodeName:"#cdata-section",nodeType:f},l(ie,te),ae.prototype.nodeType=y,l(ae,P),se.prototype.nodeType=_,l(se,P),oe.prototype.nodeType=A,l(oe,P),le.prototype.nodeType=p,l(le,P),ue.prototype.nodeName="#document-fragment",ue.prototype.nodeType=E,l(ue,P),ce.prototype.nodeType=g,l(ce,P),de.prototype.serializeToString=function(e,t,n){return he.call(e,t,n)},P.prototype.toString=he;try{if(Object.defineProperty){var ye=function(e){switch(e.nodeType){case c:case E:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ye(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};ye,Object.defineProperty(R.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return ye(this)},set:function(e){switch(this.nodeType){case c:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ve=function(e,t,n){e["$$"+t]=n}}}catch(e){}e.DocumentType=ae,e.DOMException=I,e.DOMImplementation=x,e.Element=$,e.Node=P,e.NodeList=k,e.XMLSerializer=de}}),W=h({"node_modules/@xmldom/xmldom/lib/entities.js":function(e){var t=q().freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),e.entityMap=e.HTML_ENTITIES}}),K=h({"node_modules/@xmldom/xmldom/lib/sax.js":function(e){var t=q().NAMESPACE,n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),a=0,s=1,o=2,l=3,u=4,c=5,d=6,h=7;function f(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,f)}function p(){}function A(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,n,r,i,f,p){function A(e,t,n){r.attributeNames.hasOwnProperty(e)&&p.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,f),n)}for(var g,m=++n,v=a;;){var y=e.charAt(m);switch(y){case"=":if(v===s)g=e.slice(n,m),v=l;else{if(v!==o)throw new Error("attribute equal must after attrName");v=l}break;case"'":case'"':if(v===l||v===s){if(v===s&&(p.warning('attribute value must after "="'),g=e.slice(n,m)),n=m+1,!((m=e.indexOf(y,n))>0))throw new Error("attribute value no end '"+y+"' match");A(g,E=e.slice(n,m),n-1),v=c}else{if(v!=u)throw new Error('attribute value must after "="');A(g,E=e.slice(n,m),n),p.warning('attribute "'+g+'" missed start quot('+y+")!!"),n=m+1,v=c}break;case"/":switch(v){case a:r.setTagName(e.slice(n,m));case c:case d:case h:v=h,r.closed=!0;case u:case s:break;case o:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),v==a&&r.setTagName(e.slice(n,m)),m;case">":switch(v){case a:r.setTagName(e.slice(n,m));case c:case d:case h:break;case u:case s:"/"===(E=e.slice(n,m)).slice(-1)&&(r.closed=!0,E=E.slice(0,-1));case o:v===o&&(E=g),v==u?(p.warning('attribute "'+E+'" missed quot(")!'),A(g,E,n)):(t.isHTML(i[""])&&E.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+E+'" missed value!! "'+E+'" instead!!'),A(E,E,n));break;case l:throw new Error("attribute value missed!!")}return m;case"":y=" ";default:if(y<=" ")switch(v){case a:r.setTagName(e.slice(n,m)),v=d;break;case s:g=e.slice(n,m),v=o;break;case u:var E=e.slice(n,m);p.warning('attribute "'+E+'" missed quot(")!!'),A(g,E,n);case c:v=d}else switch(v){case o:r.tagName,t.isHTML(i[""])&&g.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),A(g,g,n),n=m,v=s;break;case c:p.warning('attribute space is required"'+g+'"!!');case d:v=s,n=m;break;case l:v=u,n=m;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function m(e,n,r){for(var i=e.tagName,a=null,s=e.length;s--;){var o=e[s],l=o.qName,u=o.value;if((f=l.indexOf(":"))>0)var c=o.prefix=l.slice(0,f),d=l.slice(f+1),h="xmlns"===c&&d;else d=l,c=null,h="xmlns"===l&&"";o.localName=d,!1!==h&&(null==a&&(a={},E(r,r={})),r[h]=a[h]=u,o.uri=t.XMLNS,n.startPrefixMapping(h,u))}for(s=e.length;s--;){(c=(o=e[s]).prefix)&&("xml"===c&&(o.uri=t.XML),"xmlns"!==c&&(o.uri=r[c||""]))}var f;(f=i.indexOf(":"))>0?(c=e.prefix=i.slice(0,f),d=e.localName=i.slice(f+1)):(c=null,d=e.localName=i);var p=e.uri=r[c||""];if(n.startElement(p,d,i,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(n.endElement(p,d,i),a)for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&n.endPrefixMapping(c)}function v(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),a)}return t+1}function y(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function E(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function _(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var o=a[1][0],l=!1,u=!1;s>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],u=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var c=a[s-1];return n.startDTD(o,l,u),n.endDTD(),c.index+c[0].length}return-1}function T(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function b(){this.attributeNames={}}f.prototype=new Error,f.prototype.name=f.name,p.prototype={parse:function(e,n,r){var i=this.domBuilder;i.startDocument(),E(n,n={}),function(e,n,r,i,a){function s(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function o(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?s(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function l(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,o);p&&u(w),i.characters(n,0,t-w),w=t}}function u(t,n){for(;t>=d&&(n=h.exec(e));)c=n.index,d=c+n[0].length,p.lineNumber++;p.columnNumber=t-c+1}var c=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,p=i.locator,E=[{currentNSMap:n}],S={},w=0;for(;;){try{var C=e.indexOf("<",w);if(C<0){if(!e.substr(w).match(/^\s*$/)){var I=i.doc,k=I.createTextNode(e.substr(w));I.appendChild(k),i.currentElement=k}return}switch(C>w&&l(C),e.charAt(C+1)){case"/":var R=e.indexOf(">",C+3),D=e.substring(C+2,R).replace(/[ \t\n\r]+$/g,""),M=E.pop();R<0?(D=e.substring(C+2).replace(/[\s<].*/,""),a.error("end tag name: "+D+" is not complete:"+M.tagName),R=C+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),a.error("end tag name: "+D+" maybe not complete"),R=C+1+D.length);var L=M.localNSMap,N=M.tagName==D;if(N||M.tagName&&M.tagName.toLowerCase()==D.toLowerCase()){if(i.endElement(M.uri,M.localName,D),L)for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&i.endPrefixMapping(B);N||a.fatalError("end tag name: "+D+" is not match the current start tagName:"+M.tagName)}else E.push(M);R++;break;case"?":p&&u(C),R=T(e,C,i);break;case"!":p&&u(C),R=_(e,C,i,a);break;default:p&&u(C);var x=new b,P=E[E.length-1].currentNSMap,O=(R=g(e,C,x,P,o,a),x.length);if(!x.closed&&y(e,R,x.tagName,S)&&(x.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),p&&O){for(var F=A(p,{}),U=0;U<O;U++){var j=x[U];u(j.offset),j.locator=A(p,{})}i.locator=F,m(x,i,P)&&E.push(x),i.locator=p}else m(x,i,P)&&E.push(x);t.isHTML(x.uri)&&!x.closed?R=v(e,R,x.tagName,o,i):R++}}catch(e){if(_instanceof(e,f))throw e;a.error("element parse error: "+e),R=-1}R>w?w=R:l(Math.max(C,w)+1)}}(e,n,r,i,this.errorHandler),i.endDocument()}},b.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},e.XMLReader=p,e.ParseError=f}}),X=h({"node_modules/@xmldom/xmldom/lib/dom-parser.js":function(e){var t=q(),n=z(),r=W(),i=K(),a=n.DOMImplementation,s=t.NAMESPACE,o=i.ParseError,l=i.XMLReader;function u(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function c(e){this.options=e||{locator:{}}}function d(){this.cdata=!1}function h(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function f(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function p(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function A(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}c.prototype.parseFromString=function(e,t){var n=this.options,i=new l,a=n.domBuilder||new d,o=n.errorHandler,c=n.locator,h=n.xmlns||{},p=/\/x?html?$/.test(t),A=p?r.HTML_ENTITIES:r.XML_ENTITIES;c&&a.setDocumentLocator(c),i.errorHandler=function(e,t,n){if(!e){if(_instanceof(t,d))return t;e=t}var r={},i=_instanceof(e,Function);function a(t){var a=e[t];!a&&i&&(a=2==e.length?function(n){e(t,n)}:e),r[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+f(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(o,a,c),i.domBuilder=n.domBuilder||a,p&&(h[""]=s.HTML),h.xml=h.xml||s.XML;var g=n.normalizeLineEndings||u;return e&&"string"==typeof e?i.parse(g(e),h,A):i.errorHandler.error("invalid doc source"),a.doc},d.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),s=r.length;A(this,a),this.currentElement=a,this.locator&&h(this.locator,a);for(var o=0;o<s;o++){e=r.getURI(o);var l=r.getValue(o),u=(n=r.getQName(o),i.createAttributeNS(e,n));this.locator&&h(r.getLocator(o),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&h(this.locator,n),A(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=p.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&h(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=p.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&h(this.locator,r),A(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&h(this.locator,i),A(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,f(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,f(this.locator))},fatalError:function(e){throw new o(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){d.prototype[e]=function(){return null}})),e.__DOMHandler=d,e.normalizeLineEndings=u,e.DOMParser=c}}),J=h({"node_modules/@xmldom/xmldom/lib/index.js":function(e){var t=z();e.DOMImplementation=t.DOMImplementation,e.XMLSerializer=t.XMLSerializer,e.DOMParser=X().DOMParser}}),Z=h({"node_modules/mux.js/lib/utils/numbers.js":function(e,t){var n=Math.pow(2,32);t.exports={getUint64:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getBigUint64?(t=r.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:r.getUint32(0)*n+r.getUint32(4)},MAX_UINT32:n}}}),$=h({"node_modules/mux.js/lib/tools/parse-sidx.js":function(e,t){var n=Z().getUint64;t.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===r.version?(r.earliestPresentationTime=t.getUint32(i),r.firstOffset=t.getUint32(i+4),i+=8):(r.earliestPresentationTime=n(e.subarray(i)),r.firstOffset=n(e.subarray(i+8)),i+=16),i+=2;var a=t.getUint16(i);for(i+=2;a>0;i+=12,a--)r.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return r}}}),ee=h({"node_modules/mux.js/lib/utils/clock.js":function(e,t){var n,r,i,a,s,o,l,u=9e4;n=function(e){return e*u},r=function(e,t){return e*t},i=function(e){return e/u},a=function(e,t){return e/t},s=function(e,t){return n(a(e,t))},o=function(e,t){return r(i(e),t)},l=function(e,t,n){return i(n?e:e-t)},t.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:a,audioTsToVideoTs:s,videoTsToAudioTs:o,metadataTsToSeconds:l}}}),te=h({"node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(e,t){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),ne=h({"node_modules/@babel/runtime/helpers/isNativeFunction.js":function(e,t){t.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},t.exports.__esModule=!0,t.exports.default=t.exports}}),re=h({"node_modules/@babel/runtime/helpers/wrapNativeSuper.js":function(e,t){var n=te(),r=L(),i=ne(),a=V();function s(e){var o="function"==typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(e))return o.get(e);o.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}}),ie=h({"node_modules/eventemitter2/lib/eventemitter2.js":function(e,t){!function(n){var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=10;function a(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==n?e.maxListeners:i,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=i}function o(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}function l(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function u(e,t,n,r){if(!n)return[];var i,a,s,o,l,c,d,h=[],f=t.length,p=t[r],A=t[r+1];if(r===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,a=n._listeners.length;i<a;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(h=h.concat(u(e,t,n[s],r+1)));return h}if("**"===p){for(s in(d=r+1===f||r+2===f&&"*"===A)&&n._listeners&&(h=h.concat(u(e,t,n,f))),n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!d&&(h=h.concat(u(e,t,n[s],f))),h=h.concat(u(e,t,n[s],r))):h=s===A?h.concat(u(e,t,n[s],r+2)):h.concat(u(e,t,n[s],r)));return h}h=h.concat(u(e,t,n[p],r+1))}if((o=n["*"])&&u(e,t,o,r+1),l=n["**"])if(r<f)for(s in l._listeners&&u(e,t,l,f),l)"_listeners"!==s&&l.hasOwnProperty(s)&&(s===A?u(e,t,l[s],r+2):s===p?u(e,t,l[s],r+1):((c={})[s]=l[s],u(e,t,{"**":c},r+1)));else l._listeners?u(e,t,l,f):l["*"]&&l["*"]._listeners&&u(e,t,l["*"],f);return h}function c(e,t){for(var r=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;r+1<i;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var a=this.listenerTree,s=e.shift();s!==n;){if(a[s]||(a[s]={}),a=a[s],0===e.length)return a._listeners?("function"==typeof a._listeners&&(a._listeners=[a._listeners]),a._listeners.push(t),!a._listeners.warned&&this._maxListeners>0&&a._listeners.length>this._maxListeners&&(a._listeners.warned=!0,o.call(this,a._listeners.length,s))):a._listeners=t,!0;s=e.shift()}return!0}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){e!==n&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},l.prototype._many=function(e,t,n,r){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),n.apply(this,arguments)}return a._origin=n,this._on(e,a,r),i},l.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,n,r,i,s,o=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),o>3)for(t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];for(r=0,n=s.length;r<n;r++)switch(this.event=e,o){case 1:s[r].call(this,e);break;case 2:s[r].call(this,e,arguments[1]);break;case 3:s[r].call(this,e,arguments[1],arguments[2]);break;default:s[r].apply(this,t)}}if(this.wildcard){s=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,s,l,this.listenerTree,0)}else{if("function"==typeof(s=this._events[e])){switch(this.event=e,o){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];s.apply(this,t)}return!0}s&&(s=s.slice())}if(s&&s.length){if(o>3)for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];for(r=0,n=s.length;r<n;r++)switch(this.event=e,o){case 1:s[r].call(this);break;case 2:s[r].call(this,arguments[1]);break;case 3:s[r].call(this,arguments[1],arguments[2]);break;default:s[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw _instanceof(arguments[1],Error)?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,i,s,o=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),i=1;i<l;i++)t[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,l){case 1:o.push(this._all[r].call(this,e));break;case 2:o.push(this._all[r].call(this,e,arguments[1]));break;case 3:o.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[r].apply(this,t))}}if(this.wildcard){s=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,s,c,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,l){case 1:o.push(s.call(this));break;case 2:o.push(s.call(this,arguments[1]));break;case 3:o.push(s.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];o.push(s.apply(this,t))}else if(s&&s.length){if(s=s.slice(),l>3)for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];for(r=0,n=s.length;r<n;r++)switch(this.event=e,l){case 1:o.push(s[r].call(this));break;case 2:o.push(s[r].call(this,arguments[1]));break;case 3:o.push(s[r].call(this,arguments[1],arguments[2]));break;default:o.push(s[r].apply(this,t))}}else if(!this._all&&"error"===e)return _instanceof(arguments[1],Error)?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this._newListener&&this.emit("newListener",e,t),this.wildcard?(c.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,o.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var i,a=[];if(this.wildcard){var s="string"==typeof e?e.split(this.delimiter):e.slice();a=u.call(this,null,s,this.listenerTree,0)}else{if(!this._events[e])return this;i=this._events[e],a.push({_listeners:i})}for(var o=0;o<a.length;o++){var l=a[o];if(i=l._listeners,r(i)){for(var c=-1,d=0,h=i.length;d<h;d++)if(i[d]===t||i[d].listener&&i[d].listener===t||i[d]._origin&&i[d]._origin===t){c=d;break}if(c<0)continue;return this.wildcard?l._listeners.splice(c,1):this._events[e].splice(c,1),0===i.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(i===t||i.listener&&i.listener===t||i._origin&&i._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(t!==n){var r=Object.keys(t);for(var i in r){var a=r[i],s=t[a];_instanceof(s,Function)||"object"!=typeof s||null===s||(Object.keys(s).length>0&&e(t[a]),0===Object.keys(s).length&&delete t[a])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(e===n)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=u.call(this,null,t,this.listenerTree,0),i=0;i<r.length;i++){r[i]._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,n,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),r(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define((function(){return l})):"object"==typeof e?t.exports=l:window.EventEmitter2=l}()}}),ae=h({"node_modules/ts-bus/EventBus.js":function(e){var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=ie();function r(e){process&&process.env,0}function i(e){return!!e&&e.eventType}e.createEventDefinition=function(e){return function(t){function n(n){if(e&&n){var i="function"==typeof e?e:e.test;i&&!i(n)&&r(JSON.stringify(n))}return{type:t,payload:n}}return n.eventType=t,n.toString=function(){return t},n}},e.defineEvent=function(e){r();var t=function(t){return{type:e,payload:t}};return t.eventType=e,t};var a=function(){function e(){this.emitter=new n.EventEmitter2({wildcard:!0})}return e.prototype.publish=function(e,n){this.emitter.emit(e.type,n?t({},e,{meta:t({},e.meta,n)}):e)},e.prototype.subscribe=function(e,t){var n=this.emitter,r=(Array.isArray(e)?e:[e]).map((function(e){if(!i(a=e)&&"function"==typeof a){var r=function(e,t){return function(n){if(e(n))return t(n)}}(e,t);return n.on("**",r),function(){return n.off("**",r)}}var a,s=function(e){return i(e)?e.eventType:e}(e);return n.on(s,t),function(){return n.off(s,t)}}));return function(){return r.forEach((function(e){return e()}))}},e}();e.EventBus=a}}),se=h({"node_modules/ts-bus/index.js":function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ae();e.EventBus=t.EventBus,e.defineEvent=t.defineEvent,e.createEventDefinition=t.createEventDefinition}}),oe=h({"node_modules/es6-promise/dist/es6-promise.js":function(e,t){var n,r;n=e,r=function(){function e(e){return"function"==typeof e}var t=void 0;t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var n=t,r=0,i=void 0,a=void 0,s=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(a?a(A):E())},o="undefined"!=typeof window?window:void 0,l=o||{},u=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(A,1)}}var p=new Array(1e3);function A(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var g,m,v,y,E=void 0;function _(e,t){var n=this,r=new this.constructor(S);void 0===r[b]&&O(r);var i=n._state;if(i){var a=arguments[i-1];s((function(){return x(i,r,a,n._result)}))}else N(n,r,e,t);return r}function T(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(S);return R(t,e),t}d?E=function(){return process.nextTick(A)}:u?(m=0,v=new u(A),y=document.createTextNode(""),v.observe(y,{characterData:!0}),E=function(){y.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=A,E=function(){return g.port2.postMessage(0)}):E=void 0===o&&"function"==typeof c?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(A)}:f()}catch(e){return f()}}():f();var b=Math.random().toString(36).substring(2);function S(){}var w=void 0,C=1,I=2;function k(t,n,r){n.constructor===t.constructor&&r===_&&n.constructor.resolve===T?function(e,t){t._state===C?M(e,t._result):t._state===I?L(e,t._result):N(t,void 0,(function(t){return R(e,t)}),(function(t){return L(e,t)}))}(t,n):void 0===r?M(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?R(e,n):M(e,n))}),(function(t){r||(r=!0,L(e,t))}),e._label);!r&&i&&(r=!0,L(e,i))}),e)}(t,n,r):M(t,n)}function R(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=void 0===e?"undefined":_type_of(e);return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void L(e,t)}k(e,t,n)}else M(e,t)}function D(e){e._onerror&&e._onerror(e._result),B(e)}function M(e,t){e._state===w&&(e._result=t,e._state=C,0!==e._subscribers.length&&s(B,e))}function L(e,t){e._state===w&&(e._state=I,e._result=t,s(D,e))}function N(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+C]=n,i[a+I]=r,0===a&&e._state&&s(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?x(n,r,i,a):i(a);e._subscribers.length=0}}function x(t,n,r,i){var a=e(r),s=void 0,o=void 0,l=!0;if(a){try{s=r(i)}catch(e){l=!1,o=e}if(n===s)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;n._state!==w||(a&&l?R(n,s):!1===l?L(n,o):t===C?M(n,s):t===I&&L(n,s))}var P=0;function O(e){e[b]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[b]||O(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&M(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===w&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===T){var i=void 0,a=void 0,s=!1;try{i=e.then}catch(e){s=!0,a=e}if(i===_&&e._state!==w)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===U){var o=new n(S);s?L(o,a):k(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===w&&(this._remaining--,e===I?L(r,n):this._result[t]=n),0===this._remaining&&M(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;N(e,void 0,(function(e){return n._settledAt(C,t,e)}),(function(e){return n._settledAt(I,t,e)}))},e}(),U=function(){function t(e){this[b]=P++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),_instanceof(this,t)?function(e,t){try{t((function(t){R(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return U.prototype.then=_,U.all=function(e){return new F(this,e).promise},U.race=function(e){var t=this;return n(e)?new t((function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},U.resolve=T,U.reject=function(e){var t=new this(S);return L(t,e),t},U._setScheduler=function(e){a=e},U._setAsap=function(e){s=e},U._asap=s,U.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=U},U.Promise=U,U},"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):n.ES6Promise=r()}}),le=h({"src/vendors/dash.js/externals/cea608-parser.js":function(e){!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r=15,i=32,a={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},s={17:2,18:4,21:6,22:8,23:10,19:13,20:15},o={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},d=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},h=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};h.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var f=function(e,t,n,r,i,a){this.uchar=e||" ",this.penState=new h(t,n,r,i,a)};f.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var p=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new f);this.pos=0,this.currPenState=new h};p.prototype={equals:function(e){for(var t=!0,n=0;n<i;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);this.pos>=i?c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<i;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var A=function(){this.rows=[];for(var e=0;e<r;e++)this.rows.push(new p);this.currRow=14,this.nrRollUpRows=null,this.reset()};A.prototype={reset:function(){for(var e=0;e<r;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<r;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<r;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<r;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var a={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(a)},setBkgData:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=-1,a=0;a<r;a++){var s=this.rows[a].getTextString();s&&(i=a+1,e?t.push("Row "+i+': "'+s+'"'):t.push(s.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var g=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new A,this.nonDisplayedMemory=new A,this.lastOutputScreen=new A,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};g.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var m=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new g(1,t),new g(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};m.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,a=!1;this.lastTime=e,c.setTime(e);for(var s=0;s<t.length;s+=2)if(r=127&t[s],i=127&t[s+1],r>=16&&r<=31&&r===this.lastCmdA&&i===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+d([r,i])+") is dropped");else if(0!==r||0!==i){if(c.log("DATA","["+d([t[s],t[s+1]])+"] -> ("+d([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n)if(a=this.parseChars(r,i))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(a);else c.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+d([r,i])+" orig: "+d([t[s],t[s+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;n=20===e||21===e||23===e?1:2;var r=this.channels[n-1];return 20===e||21===e||28===e||29===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if((n=17===e?1:2)!==this.currChNr)return c.log("ERROR","Mismatch channel in midrow parsing"),!1;var r=this.channels[n-1];return r.insertChars([32]),r.cc_MIDROW(t),c.log("DEBUG","MIDROW ("+d([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var n,r=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;n=e<=23?1:2,r=64<=t&&t<=95?1===n?a[e]:o[e]:1===n?s[e]:l[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=!(1&~n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),17<=a&&a<=19){var s=t;s=17===a?t+80:18===a?t+112:t+144,c.log("INFO","Special char '"+n(s)+"' in channel "+r),i=[s],this.lastCmdA=e,this.lastCmdB=t}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null);if(i){var o=d(i);c.log("DEBUG","Char codes =  "+o.join(","))}return i},parseBackgroundAttributes:function(e,t){var n,r,i;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=u[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};e.logger=c,e.PenState=h,e.CaptionScreen=A,e.Cea608Parser=m,e.findCea608Nalus=function(e,t,n){for(var r=0,i=t,a=[],s=function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),a=n.getUint16(r+1),s=n.getUint32(r+3),o=n.getUint8(r+7);return 181==i&&49==a&&1195456820==s&&3==o};i<t+n;){if(r=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var o=i+5,l=-1;o<i+4+r-1;){l=0;for(var u=255;255===u;)l+=u=e.getUint8(o),o++;var c=0;for(u=255;255===u;)c+=u=e.getUint8(o),o++;s(l,c,e,o)&&a.push([o,c]),o+=c}i+=r+4}return a},e.extractCea608DataFromRange=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var a=0;a<i;a++){var s=e.getUint8(n),o=4&s,l=3&s;n++;var u=e.getUint8(n);n++;var c=e.getUint8(n);n++,o&&(127&u)+(127&c)!=0&&(0===l?(r[0].push(u),r[0].push(c)):1===l&&(r[1].push(u),r[1].push(c)))}return r}}(void 0===e?e.cea608parser={}:e)}}),ue=h({"src/vendors/dash.js/node_modules/path-browserify/index.js":function(e,t){function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var n,r="",i=0,a=-1,s=0,o=0;o<=e.length;++o){if(o<e.length)n=e.charCodeAt(o);else{if(47===n)break;n=47}if(47===n){if(a===o-1||1===s);else if(a!==o-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),a=o,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,a=o,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(a+1,o):r=e.slice(a+1,o),i=o-a-1;a=o,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var i={resolve:function(){for(var e,t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var s;a>=0?s=arguments[a]:(void 0===e&&(e=process.cwd()),s=e),n(s),0!==s.length&&(t=s+"/"+t,i=47===s.charCodeAt(0))}return t=r(t,!i),i?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(n(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];n(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var a=e.length,s=a-r,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var l=t.length-o,u=s<l?s:l,c=-1,d=0;d<=u;++d){if(d===u){if(l>u){if(47===t.charCodeAt(o+d))return t.slice(o+d+1);if(0===d)return t.slice(o+d)}else s>u&&(47===e.charCodeAt(r+d)?c=d:0===d&&(c=0));break}var h=e.charCodeAt(r+d);if(h!==t.charCodeAt(o+d))break;47===h&&(c=d)}var f="";for(d=r+c+1;d<=a;++d)d!==a&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(o+c):(o+=c,47===t.charCodeAt(o)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,a=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!a){i=s;break}}else a=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,i=0,a=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,l=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!s){i=r+1;break}}else-1===l&&(s=!1,l=r+1),o>=0&&(u===t.charCodeAt(o)?-1==--o&&(a=r):(o=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===a&&(s=!1,a=r+1);return-1===a?"":e.slice(i,a)},extname:function(e){n(e);for(var t=-1,r=0,i=-1,a=!0,s=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47!==l)-1===i&&(a=!1,i=o+1),46===l?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!a){r=o+1;break}}return-1===t||-1===i||0===s||1===s&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+(void 0===e?"undefined":_type_of(e)));return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,i=e.charCodeAt(0),a=47===i;a?(t.root="/",r=1):r=0;for(var s=-1,o=0,l=-1,u=!0,c=e.length-1,d=0;c>=r;--c)if(47!==(i=e.charCodeAt(c)))-1===l&&(u=!1,l=c+1),46===i?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1);else if(!u){o=c+1;break}return-1===s||-1===l||0===d||1===d&&s===l-1&&s===o+1?-1!==l&&(t.base=t.name=0===o&&a?e.slice(1,l):e.slice(o,l)):(0===o&&a?(t.name=e.slice(1,s),t.base=e.slice(1,l)):(t.name=e.slice(o,s),t.base=e.slice(o,l)),t.ext=e.slice(s,l)),o>0?t.dir=e.slice(0,o-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i}}),ce=h({"src/vendors/dash.js/node_modules/ua-parser-js/src/ua-parser.js":function(e,t){!function(n,r){var i="function",a="undefined",s="object",o="string",l="model",u="name",c="type",d="vendor",h="version",f="architecture",p="console",A="mobile",g="tablet",m="smarttv",v="wearable",y="embedded",E="Amazon",_="Apple",T="ASUS",b="BlackBerry",S="Browser",w="Chrome",C="Firefox",I="Google",k="Huawei",R="LG",D="Microsoft",M="Motorola",L="Opera",N="Samsung",B="Sony",x="Xiaomi",P="Zebra",O="Facebook",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},U=function(e,t){return(void 0===e?"undefined":_type_of(e))===o&&-1!==j(t).indexOf(j(e))},j=function(e){return e.toLowerCase()},Q=function(e,t){if((void 0===e?"undefined":_type_of(e))===o)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),(void 0===t?"undefined":_type_of(t))===a?e:e.substring(0,255)},G=function(e,t){for(var n,a,o,l,u,c,d=0;d<t.length&&!u;){var h=t[d],f=t[d+1];for(n=a=0;n<h.length&&!u;)if(u=h[n++].exec(e))for(o=0;o<f.length;o++)c=u[++a],(void 0===(l=f[o])?"undefined":_type_of(l))===s&&l.length>0?2===l.length?_type_of(l[1])==i?this[l[0]]=l[1].call(this,c):this[l[0]]=l[1]:3===l.length?_type_of(l[1])!==i||l[1].exec&&l[1].test?this[l[0]]=c?c.replace(l[1],l[2]):r:this[l[0]]=c?l[1].call(this,c,l[2]):r:4===l.length&&(this[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):r):this[l]=c||r;d+=2}},V=function(e,t){for(var n in t)if(_type_of(t[n])===s&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(U(t[n][i],e))return"?"===n?r:n}else if(U(t[n],e))return"?"===n?r:n;return e},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,h],[/opios[\/ ]+([\w\.]+)/i],[h,[u,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[h,[u,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[u,"UC"+S]],[/\bqbcore\/([\w\.]+)/i],[h,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+S],h],[/\bfocus\/([\w\.]+)/i],[h,[u,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[u,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[u,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[u,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[h,[u,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+S]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+S],h],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,O],h],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[u,w+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,w+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[u,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,h],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[h,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[h,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[h,V,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[u,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,j]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",j]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[d,N],[c,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[d,N],[c,A]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[d,_],[c,A]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[d,_],[c,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[d,k],[c,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[d,k],[c,A]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[d,x],[c,A]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[d,x],[c,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[d,"OPPO"],[c,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[d,"Vivo"],[c,A]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[d,"Realme"],[c,A]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[d,M],[c,A]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[d,M],[c,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[d,R],[c,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[d,R],[c,A]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[d,"Lenovo"],[c,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[d,"Nokia"],[c,A]],[/(pixel c)\b/i],[l,[d,I],[c,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[d,I],[c,A]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[d,B],[c,A]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[d,B],[c,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[d,"OnePlus"],[c,A]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[d,E],[c,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[d,E],[c,A]],[/(playbook);[-\w\),; ]+(rim)/i],[l,d,[c,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[d,b],[c,A]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[d,T],[c,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[d,T],[c,A]],[/(nexus 9)/i],[l,[d,"HTC"],[c,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[l,/_/g," "],[c,A]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[d,"Acer"],[c,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[d,"Meizu"],[c,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[d,"Sharp"],[c,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,l,[c,A]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,l,[c,g]],[/(surface duo)/i],[l,[d,D],[c,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[d,"Fairphone"],[c,A]],[/(u304aa)/i],[l,[d,"AT&T"],[c,A]],[/\bsie-(\w*)/i],[l,[d,"Siemens"],[c,A]],[/\b(rct\w+) b/i],[l,[d,"RCA"],[c,g]],[/\b(venue[\d ]{2,7}) b/i],[l,[d,"Dell"],[c,g]],[/\b(q(?:mv|ta)\w+) b/i],[l,[d,"Verizon"],[c,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[d,"Barnes & Noble"],[c,g]],[/\b(tm\d{3}\w+) b/i],[l,[d,"NuVision"],[c,g]],[/\b(k88) b/i],[l,[d,"ZTE"],[c,g]],[/\b(nx\d{3}j) b/i],[l,[d,"ZTE"],[c,A]],[/\b(gen\d{3}) b.+49h/i],[l,[d,"Swiss"],[c,A]],[/\b(zur\d{3}) b/i],[l,[d,"Swiss"],[c,g]],[/\b((zeki)?tb.*\b) b/i],[l,[d,"Zeki"],[c,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],l,[c,g]],[/\b(ns-?\w{0,9}) b/i],[l,[d,"Insignia"],[c,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[d,"NextBook"],[c,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],l,[c,A]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],l,[c,A]],[/\b(ph-1) /i],[l,[d,"Essential"],[c,A]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[d,"Envizen"],[c,g]],[/\b(trio[-\w\. ]+) b/i],[l,[d,"MachSpeed"],[c,g]],[/\btu_(1491) b/i],[l,[d,"Rotor"],[c,g]],[/(shield[\w ]+) b/i],[l,[d,"Nvidia"],[c,g]],[/(sprint) (\w+)/i],[d,l,[c,A]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[d,D],[c,A]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[d,P],[c,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[d,P],[c,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,l,[c,p]],[/droid.+; (shield) bui/i],[l,[d,"Nvidia"],[c,p]],[/(playstation [345portablevi]+)/i],[l,[d,B],[c,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[d,D],[c,p]],[/smart-tv.+(samsung)/i],[d,[c,m]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[d,N],[c,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,R],[c,m]],[/(apple) ?tv/i],[d,[l,_+" TV"],[c,m]],[/crkey/i],[[l,w+"cast"],[d,I],[c,m]],[/droid.+aft(\w)( bui|\))/i],[l,[d,E],[c,m]],[/\(dtv[\);].+(aquos)/i],[l,[d,"Sharp"],[c,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,Q],[l,Q],[c,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,m]],[/((pebble))app/i],[d,l,[c,v]],[/droid.+; (glass) \d/i],[l,[d,I],[c,v]],[/droid.+; (wt63?0{2,3})\)/i],[l,[d,P],[c,v]],[/(quest( 2)?)/i],[l,[d,O],[c,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[c,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[c,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[c,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,g]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[c,A]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[h,V,H]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[h,V,H]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[h,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,h],[/\(bb(10);/i],[h,[u,b]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[u,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[u,w+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],h],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,h],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,h]]},q=function(e,t){if((void 0===e?"undefined":_type_of(e))===s&&(t=e,e=r),!_instanceof(this,q))return new q(e,t).getResult();var i=e||((void 0===n?"undefined":_type_of(n))!==a&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),p=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Y,t):Y;return this.getBrowser=function(){var e,t={};return t[u]=r,t[h]=r,G.call(t,i,p.browser),t.major=(void 0===(e=t.version)?"undefined":_type_of(e))===o?e.replace(/[^\d\.]/g,"").split(".")[0]:r,t},this.getCPU=function(){var e={};return e[f]=r,G.call(e,i,p.cpu),e},this.getDevice=function(){var e={};return e[d]=r,e[l]=r,e[c]=r,G.call(e,i,p.device),e},this.getEngine=function(){var e={};return e[u]=r,e[h]=r,G.call(e,i,p.engine),e},this.getOS=function(){var e={};return e[u]=r,e[h]=r,G.call(e,i,p.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=(void 0===e?"undefined":_type_of(e))===o&&e.length>255?Q(e,255):e,this},this.setUA(i),this};q.VERSION="1.0.2",q.BROWSER=F([u,h,"major"]),q.CPU=F([f]),q.DEVICE=F([l,d,c,p,A,m,g,v,y]),q.ENGINE=q.OS=F([u,h]),(void 0===e?"undefined":_type_of(e))!==a?((void 0===t?"undefined":_type_of(t))!==a&&t.exports&&(e=t.exports=q),e.UAParser=q):("undefined"==typeof define?"undefined":_type_of(define))===i&&define.amd?define((function(){return q})):(void 0===n?"undefined":_type_of(n))!==a&&(n.UAParser=q);var z=(void 0===n?"undefined":_type_of(n))!==a&&(n.jQuery||n.Zepto);if(z&&!z.ua){var W=new q;z.ua=W.getResult(),z.ua.get=function(){return W.getUA()},z.ua.set=function(e){W.setUA(e);var t=W.getResult();for(var n in t)z.ua[n]=t[n]}}}("object"==typeof window?window:e)}}),de=h({"src/vendors/dash.js/node_modules/fast-deep-equal/index.js":function(e,t){var n=Array.isArray,r=Object.keys,i=Object.prototype.hasOwnProperty;t.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){var s,o,l,u=n(t),c=n(a);if(u&&c){if((o=t.length)!=a.length)return!1;for(s=o;0!=s--;)if(!e(t[s],a[s]))return!1;return!0}if(u!=c)return!1;var d=_instanceof(t,Date),h=_instanceof(a,Date);if(d!=h)return!1;if(d&&h)return t.getTime()==a.getTime();var f=_instanceof(t,RegExp),p=_instanceof(a,RegExp);if(f!=p)return!1;if(f&&p)return t.toString()==a.toString();var A=r(t);if((o=A.length)!==r(a).length)return!1;for(s=o;0!=s--;)if(!i.call(a,A[s]))return!1;for(s=o;0!=s--;)if(!e(t[l=A[s]],a[l]))return!1;return!0}return t!=t&&a!=a}}}),he=h({"src/vendors/dash.js/node_modules/codem-isoboxer/dist/iso_boxer.js":function(e){var t={parseBuffer:function(e){return new n(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(r.prototype._boxProcessors[e]=t)},createFile:function(){return new n},createBox:function(e,t,n){var i=r.create(e);return t&&t.append(i,n),i},createFullBox:function(e,n,r){var i=t.createBox(e,n,r);return i.version=0,i.flags=0,i},Utils:{}};t.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var a=e.getUint8(i++);a<128||(a<224?(a=(31&a)<<6,a|=63&e.getUint8(i++)):a<240?(a=(15&a)<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++)):(a=(7&a)<<18,a|=(63&e.getUint8(i++))<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++))),r.push(String.fromCharCode(a))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},t.Utils.utf8ToByteArray=function(e){var t,n;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},t.Utils.appendBox=function(e,t,n){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==n)if(null!=n){var r,i=-1;if("number"==typeof n)i=n;else{if("string"==typeof n)r=n;else{if("object"!=typeof n||!n.type)return void e.boxes.push(t);r=n.type}for(var a=0;a<e.boxes.length;a++)if(r===e.boxes[a].type){i=a+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},void 0!==e&&(e.parseBuffer=t.parseBuffer,e.addBoxProcessor=t.addBoxProcessor,e.createFile=t.createFile,e.createBox=t.createBox,e.createFullBox=t.createFullBox,e.Utils=t.Utils),t.Cursor=function(e){this.offset=void 0===e?0:e};var n=function(e){this._cursor=new t.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};n.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},n.prototype.fetchAll=function(e,t){var r=[];return n._sweep.call(this,e,r,t),r},n.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=r.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},n._sweep=function(e,t,r){for(var i in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;n._sweep.call(this.boxes[i],e,t,r)}},n.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var n=new Uint8Array(t);for(this._rawo=new DataView(n.buffer),this.bytes=n,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return n.buffer},n.prototype.append=function(e,n){t.Utils.appendBox(this,e,n)};var r=function(){this._cursor=new t.Cursor};r.parse=function(e){var t=new r;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},r.create=function(e){var t=new r;return t.type=e,t.boxes=[],t},r.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],r.prototype._boxProcessors={},r.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},r.prototype._procFieldArray=function(e,t,n,r){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(n,r);else for(i=0;i<this[e].length;i++)this._writeField(n,r,this[e][i])},r.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},r.prototype._procEntries=function(e,t,n){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push({}),n.call(this,this[e][r]);else for(r=0;r<t;r++)n.call(this,this[e][r])},r.prototype._procSubEntries=function(e,t,n,r){var i;if(this._parsing)for(e[t]=[],i=0;i<n;i++)e[t].push({}),r.call(this,e[t][i]);else for(i=0;i<n;i++)r.call(this,e[t][i])},r.prototype._procEntryField=function(e,t,n,r){this._parsing?e[t]=this._readField(n,r):this._writeField(n,r,e[t])},r.prototype._procSubBoxes=function(e,t){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push(r.parse(this));else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},r.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},r.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var r=this._raw.getInt32(n),i=this._raw.getInt32(n+4);t=r*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},r.prototype._readUint=function(e){var t,n,r=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:r=this._raw.getUint8(i);break;case 16:r=this._raw.getUint16(i);break;case 24:r=((t=this._raw.getUint16(i))<<8)+(n=this._raw.getUint8(i+2));break;case 32:r=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),n=this._raw.getUint32(i+4),r=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,r},r.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},r.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},r.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},r.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var n=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,n}return null},r.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),n=null;return e>0&&(n=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),n?t.Utils.dataViewToString(n):n},r.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},r.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},r.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(r.parse(this))},r.prototype.append=function(e,n){t.Utils.appendBox(this,e,n)},r.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},r.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},r.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var r=Math.floor(t/Math.pow(2,32)),i=t-r*Math.pow(2,32);this._rawo.setUint32(n,r),this._rawo.setUint32(n+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},r.prototype._writeUint=function(e,t){if(this._rawo){var n,r,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:n=(16776960&t)>>8,r=255&t,this._rawo.setUint16(i,n),this._rawo.setUint8(i+2,r);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=t-(n=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,n),this._rawo.setUint32(i+4,r)}this._cursor.offset+=e>>3}else this.size+=e>>3},r.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},r.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},r.prototype._writeTemplate=function(e,t){var n=Math.floor(t),r=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,r)},r.prototype._writeData=function(e){if(e)if(this._rawo){if(_instanceof(e,Array)){for(var t=this._cursor.offset-this._rawo.byteOffset,n=0;n<e.length;n++)this._rawo.setInt8(t+n,e[n]);this._cursor.offset+=e.length}_instanceof(e,Uint8Array)&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},r.prototype._writeUTF8String=function(e){var n=t.Utils.utf8ToByteArray(e);if(this._rawo)for(var r=new DataView(this._rawo.buffer,this._cursor.offset,n.length),i=0;i<n.length;i++)r.setUint8(i,n[i]);else this.size+=n.length},r.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":-1==t?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n)}},r.prototype._boxProcessors.avc1=r.prototype._boxProcessors.avc2=r.prototype._boxProcessors.avc3=r.prototype._boxProcessors.avc4=r.prototype._boxProcessors.hvc1=r.prototype._boxProcessors.hev1=r.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},r.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_offset",1===this.version?"int":"uint",32)}))},r.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},r.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},r.prototype._boxProcessors.free=r.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},r.prototype._boxProcessors.ftyp=r.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},r.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},r.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},r.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},r.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},r.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},r.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},r.prototype._boxProcessors.mp4a=r.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},r.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},r.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},r.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},r.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},r.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},r.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},r.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},r.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},r.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},r.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},r.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},r.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_delta","uint",32)}))},r.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},r.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},r.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},r.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},r.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},r.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},r.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},r.prototype._boxProcessors["url "]=r.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},r.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},r.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},r.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},r.prototype._boxProcessors.vtte=function(){}}}),fe=h({"src/vendors/dash.js/node_modules/is-alphabetical/index.js":function(e,t){t.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}}}),pe=h({"src/vendors/dash.js/node_modules/is-decimal/index.js":function(e,t){t.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}}}),Ae=h({"src/vendors/dash.js/node_modules/is-alphanumerical/index.js":function(e,t){var n=fe(),r=pe();t.exports=function(e){return n(e)||r(e)}}}),ge=h({"src/vendors/dash.js/node_modules/bcp-47/lib/regular.json":function(e,t){t.exports=["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]}}),me=h({"src/vendors/dash.js/node_modules/bcp-47/lib/normalize.json":function(e,t){t.exports={"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}}}),ve=h({"src/vendors/dash.js/node_modules/bcp-47/lib/parse.js":function(e,t){var n=Ae(),r=fe(),i=pe(),a=ge(),s=me();t.exports=function e(t,l){var u,c,d,h=l||{},f={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},p=String(t),A=p.toLowerCase(),g=0;if(null==t)throw new Error("Expected string, got `"+t+"`");if(o.call(s,A))return(null==h.normalize||h.normalize)&&s[A]?e(s[A]):(f[-1===a.indexOf(A)?"irregular":"regular"]=p,f);for(;r(A.charCodeAt(g))&&g<9;)g++;if(g>1&&g<9){if(f.language=p.slice(0,g),g<4)for(c=0;45===A.charCodeAt(g)&&r(A.charCodeAt(g+1))&&r(A.charCodeAt(g+2))&&r(A.charCodeAt(g+3))&&!r(A.charCodeAt(g+4));){if(c>2)return m(g,3,"Too many extended language subtags, expected at most 3 subtags");f.extendedLanguageSubtags.push(p.slice(g+1,g+4)),g+=4,c++}for(45===A.charCodeAt(g)&&r(A.charCodeAt(g+1))&&r(A.charCodeAt(g+2))&&r(A.charCodeAt(g+3))&&r(A.charCodeAt(g+4))&&!r(A.charCodeAt(g+5))&&(f.script=p.slice(g+1,g+5),g+=5),45===A.charCodeAt(g)&&(r(A.charCodeAt(g+1))&&r(A.charCodeAt(g+2))&&!r(A.charCodeAt(g+3))?(f.region=p.slice(g+1,g+3),g+=3):i(A.charCodeAt(g+1))&&i(A.charCodeAt(g+2))&&i(A.charCodeAt(g+3))&&!i(A.charCodeAt(g+4))&&(f.region=p.slice(g+1,g+4),g+=4));45===A.charCodeAt(g);){for(d=u=g+1;n(A.charCodeAt(d));){if(d-u>7)return m(d,1,"Too long variant, expected at most 8 characters");d++}if(!(d-u>4||d-u>3&&i(A.charCodeAt(u))))break;f.variants.push(p.slice(u,d)),g=d}for(;45===A.charCodeAt(g)&&120!==A.charCodeAt(g+1)&&n(A.charCodeAt(g+1))&&45===A.charCodeAt(g+2)&&n(A.charCodeAt(g+3));){for(d=g+2,c=0;45===A.charCodeAt(d)&&n(A.charCodeAt(d+1))&&n(A.charCodeAt(d+2));)for(d=(u=d+1)+2,c++;n(A.charCodeAt(d));){if(d-u>7)return m(d,2,"Too long extension, expected at most 8 characters");d++}if(!c)return m(d,4,"Empty extension, extensions must have at least 2 characters of content");f.extensions.push({singleton:p.charAt(g+1),extensions:p.slice(g+3,d).split("-")}),g=d}}else g=0;if(0===g&&120===A.charCodeAt(g)||45===A.charCodeAt(g)&&120===A.charCodeAt(g+1))for(d=g=g?g+2:1;45===A.charCodeAt(d)&&n(A.charCodeAt(d+1));){for(d=u=g+1;n(A.charCodeAt(d));){if(d-u>7)return m(d,5,"Too long private-use area, expected at most 8 characters");d++}f.privateuse.push(p.slice(g+1,d)),g=d}if(g!==p.length)return m(g,6,"Found superfluous content after tag");return f;function m(e,t,n){return h.warning&&h.warning(n,t,e),h.forgiving?f:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var o={}.hasOwnProperty}}),ye=h({"src/vendors/dash.js/node_modules/bcp-47/lib/stringify.js":function(e,t){t.exports=function(e){var t,n,r,i=e||{},a=[];if(i.irregular||i.regular)return i.irregular||i.regular;if(i.language)for(a=a.concat(i.language,i.extendedLanguageSubtags||[],i.script||[],i.region||[],i.variants||[]),t=i.extensions||[],n=-1;++n<t.length;)(r=t[n]).singleton&&r.extensions&&r.extensions.length&&(a=a.concat(r.singleton,r.extensions));i.privateuse&&i.privateuse.length&&(a=a.concat("x",i.privateuse));return a.join("-")}}}),Ee=h({"src/vendors/dash.js/node_modules/bcp-47/index.js":function(e){e.parse=ve(),e.stringify=ye()}}),_e=h({"src/vendors/dash.js/node_modules/bcp-47-match/index.js":function(e){function t(e,t){return function(r,i){var a,s,o,l=n(r,"tag"),u=n(null==i?"*":i,"range"),c=[],d=-1;for(;++d<u.length;)if(a=u[d].toLowerCase(),t||"*"!==a){for(s=-1,o=[];++s<l.length;)if(e(l[s].toLowerCase(),a)){if(!t)return l[s];c.push(l[s])}else o.push(l[s]);l=o}return t?c:void 0}}function n(e,t){var n=e&&"string"==typeof e?[e]:e;if(!n||"object"!=typeof n||!("length"in n))throw new Error("Invalid "+t+" `"+n+"`, expected non-empty string");return n}e.basicFilter=t((function(e,t){return"*"===t||e===t||e.indexOf(t+"-")>-1}),!0),e.extendedFilter=t((function(e,t){var n=e.split("-"),r=t.split("-"),i=0,a=0;if("*"!==r[a]&&n[i]!==r[a])return!1;i++,a++;for(;a<r.length;)if("*"!==r[a]){if(!n[i])return!1;if(n[i]!==r[a]){if(1===n[i].length)return!1;i++}else i++,a++}else a++;return!0}),!0),e.lookup=t((function(e,t){var n,r=t;for(;;){if("*"===r||e===r)return!0;if((n=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(n-2)&&(n-=2),r=r.slice(0,n)}}))}}),Te=h({"src/vendors/dash.js/node_modules/bcp-47-normalize/lib/matches.json":function(e,t){t.exports=[{from:"in",to:"id"},{from:"iw",to:"he"},{from:"ji",to:"yi"},{from:"jw",to:"jv"},{from:"mo",to:"ro"},{from:"scc",to:"sr"},{from:"scr",to:"hr"},{from:"aam",to:"aas"},{from:"adp",to:"dz"},{from:"aue",to:"ktz"},{from:"ayx",to:"nun"},{from:"bgm",to:"bcg"},{from:"bjd",to:"drl"},{from:"ccq",to:"rki"},{from:"cjr",to:"mom"},{from:"cka",to:"cmr"},{from:"cmk",to:"xch"},{from:"coy",to:"pij"},{from:"cqu",to:"quh"},{from:"drh",to:"mn"},{from:"drw",to:"fa-af"},{from:"gav",to:"dev"},{from:"gfx",to:"vaj"},{from:"ggn",to:"gvr"},{from:"gti",to:"nyc"},{from:"guv",to:"duz"},{from:"hrr",to:"jal"},{from:"ibi",to:"opa"},{from:"ilw",to:"gal"},{from:"jeg",to:"oyb"},{from:"kgc",to:"tdf"},{from:"kgh",to:"kml"},{from:"koj",to:"kwv"},{from:"krm",to:"bmf"},{from:"ktr",to:"dtp"},{from:"kvs",to:"gdj"},{from:"kwq",to:"yam"},{from:"kxe",to:"tvd"},{from:"kzj",to:"dtp"},{from:"kzt",to:"dtp"},{from:"lii",to:"raq"},{from:"lmm",to:"rmx"},{from:"meg",to:"cir"},{from:"mst",to:"mry"},{from:"mwj",to:"vaj"},{from:"myt",to:"mry"},{from:"nad",to:"xny"},{from:"ncp",to:"kdz"},{from:"nnx",to:"ngv"},{from:"nts",to:"pij"},{from:"oun",to:"vaj"},{from:"pcr",to:"adx"},{from:"pmc",to:"huw"},{from:"pmu",to:"phr"},{from:"ppa",to:"bfy"},{from:"ppr",to:"lcq"},{from:"pry",to:"prt"},{from:"puz",to:"pub"},{from:"sca",to:"hle"},{from:"skk",to:"oyb"},{from:"tdu",to:"dtp"},{from:"thc",to:"tpo"},{from:"thx",to:"oyb"},{from:"tie",to:"ras"},{from:"tkk",to:"twm"},{from:"tlw",to:"weo"},{from:"tmp",to:"tyj"},{from:"tne",to:"kak"},{from:"tnf",to:"fa-af"},{from:"tsf",to:"taj"},{from:"uok",to:"ema"},{from:"xba",to:"cax"},{from:"xia",to:"acn"},{from:"xkh",to:"waw"},{from:"xsj",to:"suj"},{from:"ybd",to:"rki"},{from:"yma",to:"lrr"},{from:"ymt",to:"mtm"},{from:"yos",to:"zom"},{from:"yuu",to:"yug"},{from:"asd",to:"snz"},{from:"dit",to:"dif"},{from:"llo",to:"ngt"},{from:"myd",to:"aog"},{from:"nns",to:"nbr"},{from:"sgn-br",to:"bzs"},{from:"sgn-co",to:"csn"},{from:"sgn-de",to:"gsg"},{from:"sgn-dk",to:"dsl"},{from:"sgn-fr",to:"fsl"},{from:"sgn-gb",to:"bfi"},{from:"sgn-gr",to:"gss"},{from:"sgn-ie",to:"isg"},{from:"sgn-it",to:"ise"},{from:"sgn-jp",to:"jsl"},{from:"sgn-mx",to:"mfs"},{from:"sgn-ni",to:"ncs"},{from:"sgn-nl",to:"dse"},{from:"sgn-no",to:"nsi"},{from:"sgn-pt",to:"psr"},{from:"sgn-se",to:"swl"},{from:"sgn-us",to:"ase"},{from:"sgn-za",to:"sfs"},{from:"no-bokmal",to:"nb"},{from:"no-nynorsk",to:"nn"},{from:"aa-saaho",to:"ssy"},{from:"sh",to:"sr-latn"},{from:"cnr",to:"sr-me"},{from:"no",to:"nb"},{from:"tl",to:"fil"},{from:"az-az",to:"az-latn-az"},{from:"bs-ba",to:"bs-latn-ba"},{from:"ha-latn-gh",to:"ha-gh"},{from:"ha-latn-ne",to:"ha-ne"},{from:"ha-latn-ng",to:"ha-ng"},{from:"kk-cyrl-kz",to:"kk-kz"},{from:"ky-cyrl-kg",to:"ky-kg"},{from:"ks-arab-in",to:"ks-in"},{from:"mn-cyrl-mn",to:"mn-mn"},{from:"ms-latn-bn",to:"ms-bn"},{from:"ms-latn-my",to:"ms-my"},{from:"ms-latn-sg",to:"ms-sg"},{from:"pa-in",to:"pa-guru-in"},{from:"pa-pk",to:"pa-arab-pk"},{from:"shi-ma",to:"shi-tfng-ma"},{from:"sr-ba",to:"sr-cyrl-ba"},{from:"sr-me",to:"sr-latn-me"},{from:"sr-rs",to:"sr-cyrl-rs"},{from:"sr-xk",to:"sr-cyrl-xk"},{from:"tzm-latn-ma",to:"tzm-ma"},{from:"ug-arab-cn",to:"ug-cn"},{from:"uz-af",to:"uz-arab-af"},{from:"uz-uz",to:"uz-latn-uz"},{from:"vai-lr",to:"vai-vaii-lr"},{from:"yue-cn",to:"yue-hans-cn"},{from:"yue-hk",to:"yue-hant-hk"},{from:"zh-cn",to:"zh-hans-cn"},{from:"zh-hk",to:"zh-hant-hk"},{from:"zh-mo",to:"zh-hant-mo"},{from:"zh-sg",to:"zh-hans-sg"},{from:"zh-tw",to:"zh-hant-tw"},{from:"aju",to:"jrb"},{from:"als",to:"sq"},{from:"arb",to:"ar"},{from:"ayr",to:"ay"},{from:"azj",to:"az"},{from:"bcc",to:"bal"},{from:"bcl",to:"bik"},{from:"bxk",to:"luy"},{from:"bxr",to:"bua"},{from:"cld",to:"syr"},{from:"cmn",to:"zh"},{from:"cwd",to:"cr"},{from:"dgo",to:"doi"},{from:"dhd",to:"mwr"},{from:"dik",to:"din"},{from:"diq",to:"zza"},{from:"lbk",to:"bnc"},{from:"ekk",to:"et"},{from:"emk",to:"man"},{from:"esk",to:"ik"},{from:"fat",to:"ak"},{from:"fuc",to:"ff"},{from:"gaz",to:"om"},{from:"gbo",to:"grb"},{from:"gno",to:"gon"},{from:"gug",to:"gn"},{from:"gya",to:"gba"},{from:"hdn",to:"hai"},{from:"hea",to:"hmn"},{from:"ike",to:"iu"},{from:"kmr",to:"ku"},{from:"knc",to:"kr"},{from:"kng",to:"kg"},{from:"knn",to:"kok"},{from:"kpv",to:"kv"},{from:"lvs",to:"lv"},{from:"mhr",to:"chm"},{from:"mup",to:"raj"},{from:"khk",to:"mn"},{from:"npi",to:"ne"},{from:"ojg",to:"oj"},{from:"ory",to:"or"},{from:"pbu",to:"ps"},{from:"pes",to:"fa"},{from:"plt",to:"mg"},{from:"pnb",to:"lah"},{from:"quz",to:"qu"},{from:"rmy",to:"rom"},{from:"spy",to:"kln"},{from:"src",to:"sc"},{from:"swh",to:"sw"},{from:"ttq",to:"tmh"},{from:"tw",to:"ak"},{from:"umu",to:"del"},{from:"uzn",to:"uz"},{from:"xpe",to:"kpe"},{from:"xsl",to:"den"},{from:"ydd",to:"yi"},{from:"zai",to:"zap"},{from:"zsm",to:"ms"},{from:"zyb",to:"za"},{from:"him",to:"srx"},{from:"mnk",to:"man"},{from:"bh",to:"bho"},{from:"prs",to:"fa-af"},{from:"swc",to:"sw-cd"},{from:"aar",to:"aa"},{from:"abk",to:"ab"},{from:"ave",to:"ae"},{from:"afr",to:"af"},{from:"aka",to:"ak"},{from:"amh",to:"am"},{from:"arg",to:"an"},{from:"ara",to:"ar"},{from:"asm",to:"as"},{from:"ava",to:"av"},{from:"aym",to:"ay"},{from:"aze",to:"az"},{from:"bak",to:"ba"},{from:"bel",to:"be"},{from:"bul",to:"bg"},{from:"bih",to:"bho"},{from:"bis",to:"bi"},{from:"bam",to:"bm"},{from:"ben",to:"bn"},{from:"bod",to:"bo"},{from:"bre",to:"br"},{from:"bos",to:"bs"},{from:"cat",to:"ca"},{from:"che",to:"ce"},{from:"cha",to:"ch"},{from:"cos",to:"co"},{from:"cre",to:"cr"},{from:"ces",to:"cs"},{from:"chu",to:"cu"},{from:"chv",to:"cv"},{from:"cym",to:"cy"},{from:"dan",to:"da"},{from:"deu",to:"de"},{from:"div",to:"dv"},{from:"dzo",to:"dz"},{from:"ewe",to:"ee"},{from:"ell",to:"el"},{from:"eng",to:"en"},{from:"epo",to:"eo"},{from:"spa",to:"es"},{from:"est",to:"et"},{from:"eus",to:"eu"},{from:"fas",to:"fa"},{from:"ful",to:"ff"},{from:"fin",to:"fi"},{from:"fij",to:"fj"},{from:"fao",to:"fo"},{from:"fra",to:"fr"},{from:"fry",to:"fy"},{from:"gle",to:"ga"},{from:"gla",to:"gd"},{from:"glg",to:"gl"},{from:"grn",to:"gn"},{from:"guj",to:"gu"},{from:"glv",to:"gv"},{from:"hau",to:"ha"},{from:"heb",to:"he"},{from:"hin",to:"hi"},{from:"hmo",to:"ho"},{from:"hrv",to:"hr"},{from:"hat",to:"ht"},{from:"hun",to:"hu"},{from:"hye",to:"hy"},{from:"her",to:"hz"},{from:"ina",to:"ia"},{from:"ind",to:"id"},{from:"ile",to:"ie"},{from:"ibo",to:"ig"},{from:"iii",to:"ii"},{from:"ipk",to:"ik"},{from:"ido",to:"io"},{from:"isl",to:"is"},{from:"ita",to:"it"},{from:"iku",to:"iu"},{from:"jpn",to:"ja"},{from:"jav",to:"jv"},{from:"kat",to:"ka"},{from:"kon",to:"kg"},{from:"kik",to:"ki"},{from:"kua",to:"kj"},{from:"kaz",to:"kk"},{from:"kal",to:"kl"},{from:"khm",to:"km"},{from:"kan",to:"kn"},{from:"kor",to:"ko"},{from:"kau",to:"kr"},{from:"kas",to:"ks"},{from:"kur",to:"ku"},{from:"kom",to:"kv"},{from:"cor",to:"kw"},{from:"kir",to:"ky"},{from:"lat",to:"la"},{from:"ltz",to:"lb"},{from:"lug",to:"lg"},{from:"lim",to:"li"},{from:"lin",to:"ln"},{from:"lao",to:"lo"},{from:"lit",to:"lt"},{from:"lub",to:"lu"},{from:"lav",to:"lv"},{from:"mlg",to:"mg"},{from:"mah",to:"mh"},{from:"mri",to:"mi"},{from:"mkd",to:"mk"},{from:"mal",to:"ml"},{from:"mon",to:"mn"},{from:"mol",to:"ro"},{from:"mar",to:"mr"},{from:"msa",to:"ms"},{from:"mlt",to:"mt"},{from:"mya",to:"my"},{from:"nau",to:"na"},{from:"nob",to:"nb"},{from:"nde",to:"nd"},{from:"nep",to:"ne"},{from:"ndo",to:"ng"},{from:"nld",to:"nl"},{from:"nno",to:"nn"},{from:"nor",to:"nb"},{from:"nbl",to:"nr"},{from:"nav",to:"nv"},{from:"nya",to:"ny"},{from:"oci",to:"oc"},{from:"oji",to:"oj"},{from:"orm",to:"om"},{from:"ori",to:"or"},{from:"oss",to:"os"},{from:"pan",to:"pa"},{from:"pli",to:"pi"},{from:"pol",to:"pl"},{from:"pus",to:"ps"},{from:"por",to:"pt"},{from:"que",to:"qu"},{from:"roh",to:"rm"},{from:"run",to:"rn"},{from:"ron",to:"ro"},{from:"rus",to:"ru"},{from:"kin",to:"rw"},{from:"san",to:"sa"},{from:"srd",to:"sc"},{from:"snd",to:"sd"},{from:"sme",to:"se"},{from:"sag",to:"sg"},{from:"hbs",to:"sr-latn"},{from:"sin",to:"si"},{from:"slk",to:"sk"},{from:"slv",to:"sl"},{from:"smo",to:"sm"},{from:"sna",to:"sn"},{from:"som",to:"so"},{from:"sqi",to:"sq"},{from:"srp",to:"sr"},{from:"ssw",to:"ss"},{from:"sot",to:"st"},{from:"sun",to:"su"},{from:"swe",to:"sv"},{from:"swa",to:"sw"},{from:"tam",to:"ta"},{from:"tel",to:"te"},{from:"tgk",to:"tg"},{from:"tha",to:"th"},{from:"tir",to:"ti"},{from:"tuk",to:"tk"},{from:"tgl",to:"fil"},{from:"tsn",to:"tn"},{from:"ton",to:"to"},{from:"tur",to:"tr"},{from:"tso",to:"ts"},{from:"tat",to:"tt"},{from:"twi",to:"ak"},{from:"tah",to:"ty"},{from:"uig",to:"ug"},{from:"ukr",to:"uk"},{from:"urd",to:"ur"},{from:"uzb",to:"uz"},{from:"ven",to:"ve"},{from:"vie",to:"vi"},{from:"vol",to:"vo"},{from:"wln",to:"wa"},{from:"wol",to:"wo"},{from:"xho",to:"xh"},{from:"yid",to:"yi"},{from:"yor",to:"yo"},{from:"zha",to:"za"},{from:"zho",to:"zh"},{from:"zul",to:"zu"},{from:"alb",to:"sq"},{from:"arm",to:"hy"},{from:"baq",to:"eu"},{from:"bur",to:"my"},{from:"chi",to:"zh"},{from:"cze",to:"cs"},{from:"dut",to:"nl"},{from:"fre",to:"fr"},{from:"geo",to:"ka"},{from:"ger",to:"de"},{from:"gre",to:"el"},{from:"ice",to:"is"},{from:"mac",to:"mk"},{from:"mao",to:"mi"},{from:"may",to:"ms"},{from:"per",to:"fa"},{from:"rum",to:"ro"},{from:"slo",to:"sk"},{from:"tib",to:"bo"},{from:"wel",to:"cy"}]}}),be=h({"src/vendors/dash.js/node_modules/bcp-47-normalize/lib/fields.json":function(e,t){t.exports=[{from:{field:"script",value:"qaai"},to:{field:"script",value:"zinh"}},{from:{field:"region",value:"bu"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"ct"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"dd"},to:{field:"region",value:"de"}},{from:{field:"region",value:"dy"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"fx"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"hv"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"jt"},to:{field:"region",value:"um"}},{from:{field:"region",value:"mi"},to:{field:"region",value:"um"}},{from:{field:"region",value:"nh"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"nq"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"pu"},to:{field:"region",value:"um"}},{from:{field:"region",value:"pz"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"qu"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"rh"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"tp"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"uk"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"vd"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"wk"},to:{field:"region",value:"um"}},{from:{field:"region",value:"yd"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"zr"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"230"},to:{field:"region",value:"et"}},{from:{field:"region",value:"280"},to:{field:"region",value:"de"}},{from:{field:"region",value:"736"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"886"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"958"},to:{field:"region",value:"aa"}},{from:{field:"region",value:"020"},to:{field:"region",value:"ad"}},{from:{field:"region",value:"784"},to:{field:"region",value:"ae"}},{from:{field:"region",value:"004"},to:{field:"region",value:"af"}},{from:{field:"region",value:"028"},to:{field:"region",value:"ag"}},{from:{field:"region",value:"660"},to:{field:"region",value:"ai"}},{from:{field:"region",value:"008"},to:{field:"region",value:"al"}},{from:{field:"region",value:"051"},to:{field:"region",value:"am"}},{from:{field:"region",value:"024"},to:{field:"region",value:"ao"}},{from:{field:"region",value:"010"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"032"},to:{field:"region",value:"ar"}},{from:{field:"region",value:"016"},to:{field:"region",value:"as"}},{from:{field:"region",value:"040"},to:{field:"region",value:"at"}},{from:{field:"region",value:"036"},to:{field:"region",value:"au"}},{from:{field:"region",value:"533"},to:{field:"region",value:"aw"}},{from:{field:"region",value:"248"},to:{field:"region",value:"ax"}},{from:{field:"region",value:"031"},to:{field:"region",value:"az"}},{from:{field:"region",value:"070"},to:{field:"region",value:"ba"}},{from:{field:"region",value:"052"},to:{field:"region",value:"bb"}},{from:{field:"region",value:"050"},to:{field:"region",value:"bd"}},{from:{field:"region",value:"056"},to:{field:"region",value:"be"}},{from:{field:"region",value:"854"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"100"},to:{field:"region",value:"bg"}},{from:{field:"region",value:"048"},to:{field:"region",value:"bh"}},{from:{field:"region",value:"108"},to:{field:"region",value:"bi"}},{from:{field:"region",value:"204"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"652"},to:{field:"region",value:"bl"}},{from:{field:"region",value:"060"},to:{field:"region",value:"bm"}},{from:{field:"region",value:"096"},to:{field:"region",value:"bn"}},{from:{field:"region",value:"068"},to:{field:"region",value:"bo"}},{from:{field:"region",value:"535"},to:{field:"region",value:"bq"}},{from:{field:"region",value:"076"},to:{field:"region",value:"br"}},{from:{field:"region",value:"044"},to:{field:"region",value:"bs"}},{from:{field:"region",value:"064"},to:{field:"region",value:"bt"}},{from:{field:"region",value:"104"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"074"},to:{field:"region",value:"bv"}},{from:{field:"region",value:"072"},to:{field:"region",value:"bw"}},{from:{field:"region",value:"112"},to:{field:"region",value:"by"}},{from:{field:"region",value:"084"},to:{field:"region",value:"bz"}},{from:{field:"region",value:"124"},to:{field:"region",value:"ca"}},{from:{field:"region",value:"166"},to:{field:"region",value:"cc"}},{from:{field:"region",value:"180"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"140"},to:{field:"region",value:"cf"}},{from:{field:"region",value:"178"},to:{field:"region",value:"cg"}},{from:{field:"region",value:"756"},to:{field:"region",value:"ch"}},{from:{field:"region",value:"384"},to:{field:"region",value:"ci"}},{from:{field:"region",value:"184"},to:{field:"region",value:"ck"}},{from:{field:"region",value:"152"},to:{field:"region",value:"cl"}},{from:{field:"region",value:"120"},to:{field:"region",value:"cm"}},{from:{field:"region",value:"156"},to:{field:"region",value:"cn"}},{from:{field:"region",value:"170"},to:{field:"region",value:"co"}},{from:{field:"region",value:"188"},to:{field:"region",value:"cr"}},{from:{field:"region",value:"192"},to:{field:"region",value:"cu"}},{from:{field:"region",value:"132"},to:{field:"region",value:"cv"}},{from:{field:"region",value:"531"},to:{field:"region",value:"cw"}},{from:{field:"region",value:"162"},to:{field:"region",value:"cx"}},{from:{field:"region",value:"196"},to:{field:"region",value:"cy"}},{from:{field:"region",value:"203"},to:{field:"region",value:"cz"}},{from:{field:"region",value:"278"},to:{field:"region",value:"de"}},{from:{field:"region",value:"276"},to:{field:"region",value:"de"}},{from:{field:"region",value:"262"},to:{field:"region",value:"dj"}},{from:{field:"region",value:"208"},to:{field:"region",value:"dk"}},{from:{field:"region",value:"212"},to:{field:"region",value:"dm"}},{from:{field:"region",value:"214"},to:{field:"region",value:"do"}},{from:{field:"region",value:"012"},to:{field:"region",value:"dz"}},{from:{field:"region",value:"218"},to:{field:"region",value:"ec"}},{from:{field:"region",value:"233"},to:{field:"region",value:"ee"}},{from:{field:"region",value:"818"},to:{field:"region",value:"eg"}},{from:{field:"region",value:"732"},to:{field:"region",value:"eh"}},{from:{field:"region",value:"232"},to:{field:"region",value:"er"}},{from:{field:"region",value:"724"},to:{field:"region",value:"es"}},{from:{field:"region",value:"231"},to:{field:"region",value:"et"}},{from:{field:"region",value:"246"},to:{field:"region",value:"fi"}},{from:{field:"region",value:"242"},to:{field:"region",value:"fj"}},{from:{field:"region",value:"238"},to:{field:"region",value:"fk"}},{from:{field:"region",value:"583"},to:{field:"region",value:"fm"}},{from:{field:"region",value:"234"},to:{field:"region",value:"fo"}},{from:{field:"region",value:"250"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"249"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"266"},to:{field:"region",value:"ga"}},{from:{field:"region",value:"826"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"308"},to:{field:"region",value:"gd"}},{from:{field:"region",value:"268"},to:{field:"region",value:"ge"}},{from:{field:"region",value:"254"},to:{field:"region",value:"gf"}},{from:{field:"region",value:"831"},to:{field:"region",value:"gg"}},{from:{field:"region",value:"288"},to:{field:"region",value:"gh"}},{from:{field:"region",value:"292"},to:{field:"region",value:"gi"}},{from:{field:"region",value:"304"},to:{field:"region",value:"gl"}},{from:{field:"region",value:"270"},to:{field:"region",value:"gm"}},{from:{field:"region",value:"324"},to:{field:"region",value:"gn"}},{from:{field:"region",value:"312"},to:{field:"region",value:"gp"}},{from:{field:"region",value:"226"},to:{field:"region",value:"gq"}},{from:{field:"region",value:"300"},to:{field:"region",value:"gr"}},{from:{field:"region",value:"239"},to:{field:"region",value:"gs"}},{from:{field:"region",value:"320"},to:{field:"region",value:"gt"}},{from:{field:"region",value:"316"},to:{field:"region",value:"gu"}},{from:{field:"region",value:"624"},to:{field:"region",value:"gw"}},{from:{field:"region",value:"328"},to:{field:"region",value:"gy"}},{from:{field:"region",value:"344"},to:{field:"region",value:"hk"}},{from:{field:"region",value:"334"},to:{field:"region",value:"hm"}},{from:{field:"region",value:"340"},to:{field:"region",value:"hn"}},{from:{field:"region",value:"191"},to:{field:"region",value:"hr"}},{from:{field:"region",value:"332"},to:{field:"region",value:"ht"}},{from:{field:"region",value:"348"},to:{field:"region",value:"hu"}},{from:{field:"region",value:"360"},to:{field:"region",value:"id"}},{from:{field:"region",value:"372"},to:{field:"region",value:"ie"}},{from:{field:"region",value:"376"},to:{field:"region",value:"il"}},{from:{field:"region",value:"833"},to:{field:"region",value:"im"}},{from:{field:"region",value:"356"},to:{field:"region",value:"in"}},{from:{field:"region",value:"086"},to:{field:"region",value:"io"}},{from:{field:"region",value:"368"},to:{field:"region",value:"iq"}},{from:{field:"region",value:"364"},to:{field:"region",value:"ir"}},{from:{field:"region",value:"352"},to:{field:"region",value:"is"}},{from:{field:"region",value:"380"},to:{field:"region",value:"it"}},{from:{field:"region",value:"832"},to:{field:"region",value:"je"}},{from:{field:"region",value:"388"},to:{field:"region",value:"jm"}},{from:{field:"region",value:"400"},to:{field:"region",value:"jo"}},{from:{field:"region",value:"392"},to:{field:"region",value:"jp"}},{from:{field:"region",value:"404"},to:{field:"region",value:"ke"}},{from:{field:"region",value:"417"},to:{field:"region",value:"kg"}},{from:{field:"region",value:"116"},to:{field:"region",value:"kh"}},{from:{field:"region",value:"296"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"174"},to:{field:"region",value:"km"}},{from:{field:"region",value:"659"},to:{field:"region",value:"kn"}},{from:{field:"region",value:"408"},to:{field:"region",value:"kp"}},{from:{field:"region",value:"410"},to:{field:"region",value:"kr"}},{from:{field:"region",value:"414"},to:{field:"region",value:"kw"}},{from:{field:"region",value:"136"},to:{field:"region",value:"ky"}},{from:{field:"region",value:"398"},to:{field:"region",value:"kz"}},{from:{field:"region",value:"418"},to:{field:"region",value:"la"}},{from:{field:"region",value:"422"},to:{field:"region",value:"lb"}},{from:{field:"region",value:"662"},to:{field:"region",value:"lc"}},{from:{field:"region",value:"438"},to:{field:"region",value:"li"}},{from:{field:"region",value:"144"},to:{field:"region",value:"lk"}},{from:{field:"region",value:"430"},to:{field:"region",value:"lr"}},{from:{field:"region",value:"426"},to:{field:"region",value:"ls"}},{from:{field:"region",value:"440"},to:{field:"region",value:"lt"}},{from:{field:"region",value:"442"},to:{field:"region",value:"lu"}},{from:{field:"region",value:"428"},to:{field:"region",value:"lv"}},{from:{field:"region",value:"434"},to:{field:"region",value:"ly"}},{from:{field:"region",value:"504"},to:{field:"region",value:"ma"}},{from:{field:"region",value:"492"},to:{field:"region",value:"mc"}},{from:{field:"region",value:"498"},to:{field:"region",value:"md"}},{from:{field:"region",value:"499"},to:{field:"region",value:"me"}},{from:{field:"region",value:"663"},to:{field:"region",value:"mf"}},{from:{field:"region",value:"450"},to:{field:"region",value:"mg"}},{from:{field:"region",value:"584"},to:{field:"region",value:"mh"}},{from:{field:"region",value:"807"},to:{field:"region",value:"mk"}},{from:{field:"region",value:"466"},to:{field:"region",value:"ml"}},{from:{field:"region",value:"496"},to:{field:"region",value:"mn"}},{from:{field:"region",value:"446"},to:{field:"region",value:"mo"}},{from:{field:"region",value:"580"},to:{field:"region",value:"mp"}},{from:{field:"region",value:"474"},to:{field:"region",value:"mq"}},{from:{field:"region",value:"478"},to:{field:"region",value:"mr"}},{from:{field:"region",value:"500"},to:{field:"region",value:"ms"}},{from:{field:"region",value:"470"},to:{field:"region",value:"mt"}},{from:{field:"region",value:"480"},to:{field:"region",value:"mu"}},{from:{field:"region",value:"462"},to:{field:"region",value:"mv"}},{from:{field:"region",value:"454"},to:{field:"region",value:"mw"}},{from:{field:"region",value:"484"},to:{field:"region",value:"mx"}},{from:{field:"region",value:"458"},to:{field:"region",value:"my"}},{from:{field:"region",value:"508"},to:{field:"region",value:"mz"}},{from:{field:"region",value:"516"},to:{field:"region",value:"na"}},{from:{field:"region",value:"540"},to:{field:"region",value:"nc"}},{from:{field:"region",value:"562"},to:{field:"region",value:"ne"}},{from:{field:"region",value:"574"},to:{field:"region",value:"nf"}},{from:{field:"region",value:"566"},to:{field:"region",value:"ng"}},{from:{field:"region",value:"558"},to:{field:"region",value:"ni"}},{from:{field:"region",value:"528"},to:{field:"region",value:"nl"}},{from:{field:"region",value:"578"},to:{field:"region",value:"no"}},{from:{field:"region",value:"524"},to:{field:"region",value:"np"}},{from:{field:"region",value:"520"},to:{field:"region",value:"nr"}},{from:{field:"region",value:"570"},to:{field:"region",value:"nu"}},{from:{field:"region",value:"554"},to:{field:"region",value:"nz"}},{from:{field:"region",value:"512"},to:{field:"region",value:"om"}},{from:{field:"region",value:"591"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"604"},to:{field:"region",value:"pe"}},{from:{field:"region",value:"258"},to:{field:"region",value:"pf"}},{from:{field:"region",value:"598"},to:{field:"region",value:"pg"}},{from:{field:"region",value:"608"},to:{field:"region",value:"ph"}},{from:{field:"region",value:"586"},to:{field:"region",value:"pk"}},{from:{field:"region",value:"616"},to:{field:"region",value:"pl"}},{from:{field:"region",value:"666"},to:{field:"region",value:"pm"}},{from:{field:"region",value:"612"},to:{field:"region",value:"pn"}},{from:{field:"region",value:"630"},to:{field:"region",value:"pr"}},{from:{field:"region",value:"275"},to:{field:"region",value:"ps"}},{from:{field:"region",value:"620"},to:{field:"region",value:"pt"}},{from:{field:"region",value:"585"},to:{field:"region",value:"pw"}},{from:{field:"region",value:"600"},to:{field:"region",value:"py"}},{from:{field:"region",value:"634"},to:{field:"region",value:"qa"}},{from:{field:"region",value:"959"},to:{field:"region",value:"qm"}},{from:{field:"region",value:"960"},to:{field:"region",value:"qn"}},{from:{field:"region",value:"962"},to:{field:"region",value:"qp"}},{from:{field:"region",value:"963"},to:{field:"region",value:"qq"}},{from:{field:"region",value:"964"},to:{field:"region",value:"qr"}},{from:{field:"region",value:"965"},to:{field:"region",value:"qs"}},{from:{field:"region",value:"966"},to:{field:"region",value:"qt"}},{from:{field:"region",value:"967"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"968"},to:{field:"region",value:"qv"}},{from:{field:"region",value:"969"},to:{field:"region",value:"qw"}},{from:{field:"region",value:"970"},to:{field:"region",value:"qx"}},{from:{field:"region",value:"971"},to:{field:"region",value:"qy"}},{from:{field:"region",value:"972"},to:{field:"region",value:"qz"}},{from:{field:"region",value:"638"},to:{field:"region",value:"re"}},{from:{field:"region",value:"642"},to:{field:"region",value:"ro"}},{from:{field:"region",value:"688"},to:{field:"region",value:"rs"}},{from:{field:"region",value:"643"},to:{field:"region",value:"ru"}},{from:{field:"region",value:"646"},to:{field:"region",value:"rw"}},{from:{field:"region",value:"682"},to:{field:"region",value:"sa"}},{from:{field:"region",value:"090"},to:{field:"region",value:"sb"}},{from:{field:"region",value:"690"},to:{field:"region",value:"sc"}},{from:{field:"region",value:"729"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"752"},to:{field:"region",value:"se"}},{from:{field:"region",value:"702"},to:{field:"region",value:"sg"}},{from:{field:"region",value:"654"},to:{field:"region",value:"sh"}},{from:{field:"region",value:"705"},to:{field:"region",value:"si"}},{from:{field:"region",value:"744"},to:{field:"region",value:"sj"}},{from:{field:"region",value:"703"},to:{field:"region",value:"sk"}},{from:{field:"region",value:"694"},to:{field:"region",value:"sl"}},{from:{field:"region",value:"674"},to:{field:"region",value:"sm"}},{from:{field:"region",value:"686"},to:{field:"region",value:"sn"}},{from:{field:"region",value:"706"},to:{field:"region",value:"so"}},{from:{field:"region",value:"740"},to:{field:"region",value:"sr"}},{from:{field:"region",value:"728"},to:{field:"region",value:"ss"}},{from:{field:"region",value:"678"},to:{field:"region",value:"st"}},{from:{field:"region",value:"222"},to:{field:"region",value:"sv"}},{from:{field:"region",value:"534"},to:{field:"region",value:"sx"}},{from:{field:"region",value:"760"},to:{field:"region",value:"sy"}},{from:{field:"region",value:"748"},to:{field:"region",value:"sz"}},{from:{field:"region",value:"796"},to:{field:"region",value:"tc"}},{from:{field:"region",value:"148"},to:{field:"region",value:"td"}},{from:{field:"region",value:"260"},to:{field:"region",value:"tf"}},{from:{field:"region",value:"768"},to:{field:"region",value:"tg"}},{from:{field:"region",value:"764"},to:{field:"region",value:"th"}},{from:{field:"region",value:"762"},to:{field:"region",value:"tj"}},{from:{field:"region",value:"772"},to:{field:"region",value:"tk"}},{from:{field:"region",value:"626"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"795"},to:{field:"region",value:"tm"}},{from:{field:"region",value:"788"},to:{field:"region",value:"tn"}},{from:{field:"region",value:"776"},to:{field:"region",value:"to"}},{from:{field:"region",value:"792"},to:{field:"region",value:"tr"}},{from:{field:"region",value:"780"},to:{field:"region",value:"tt"}},{from:{field:"region",value:"798"},to:{field:"region",value:"tv"}},{from:{field:"region",value:"158"},to:{field:"region",value:"tw"}},{from:{field:"region",value:"834"},to:{field:"region",value:"tz"}},{from:{field:"region",value:"804"},to:{field:"region",value:"ua"}},{from:{field:"region",value:"800"},to:{field:"region",value:"ug"}},{from:{field:"region",value:"581"},to:{field:"region",value:"um"}},{from:{field:"region",value:"840"},to:{field:"region",value:"us"}},{from:{field:"region",value:"858"},to:{field:"region",value:"uy"}},{from:{field:"region",value:"860"},to:{field:"region",value:"uz"}},{from:{field:"region",value:"336"},to:{field:"region",value:"va"}},{from:{field:"region",value:"670"},to:{field:"region",value:"vc"}},{from:{field:"region",value:"862"},to:{field:"region",value:"ve"}},{from:{field:"region",value:"092"},to:{field:"region",value:"vg"}},{from:{field:"region",value:"850"},to:{field:"region",value:"vi"}},{from:{field:"region",value:"704"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"548"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"876"},to:{field:"region",value:"wf"}},{from:{field:"region",value:"882"},to:{field:"region",value:"ws"}},{from:{field:"region",value:"973"},to:{field:"region",value:"xa"}},{from:{field:"region",value:"974"},to:{field:"region",value:"xb"}},{from:{field:"region",value:"975"},to:{field:"region",value:"xc"}},{from:{field:"region",value:"976"},to:{field:"region",value:"xd"}},{from:{field:"region",value:"977"},to:{field:"region",value:"xe"}},{from:{field:"region",value:"978"},to:{field:"region",value:"xf"}},{from:{field:"region",value:"979"},to:{field:"region",value:"xg"}},{from:{field:"region",value:"980"},to:{field:"region",value:"xh"}},{from:{field:"region",value:"981"},to:{field:"region",value:"xi"}},{from:{field:"region",value:"982"},to:{field:"region",value:"xj"}},{from:{field:"region",value:"983"},to:{field:"region",value:"xk"}},{from:{field:"region",value:"984"},to:{field:"region",value:"xl"}},{from:{field:"region",value:"985"},to:{field:"region",value:"xm"}},{from:{field:"region",value:"986"},to:{field:"region",value:"xn"}},{from:{field:"region",value:"987"},to:{field:"region",value:"xo"}},{from:{field:"region",value:"988"},to:{field:"region",value:"xp"}},{from:{field:"region",value:"989"},to:{field:"region",value:"xq"}},{from:{field:"region",value:"990"},to:{field:"region",value:"xr"}},{from:{field:"region",value:"991"},to:{field:"region",value:"xs"}},{from:{field:"region",value:"992"},to:{field:"region",value:"xt"}},{from:{field:"region",value:"993"},to:{field:"region",value:"xu"}},{from:{field:"region",value:"994"},to:{field:"region",value:"xv"}},{from:{field:"region",value:"995"},to:{field:"region",value:"xw"}},{from:{field:"region",value:"996"},to:{field:"region",value:"xx"}},{from:{field:"region",value:"997"},to:{field:"region",value:"xy"}},{from:{field:"region",value:"998"},to:{field:"region",value:"xz"}},{from:{field:"region",value:"720"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"887"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"175"},to:{field:"region",value:"yt"}},{from:{field:"region",value:"710"},to:{field:"region",value:"za"}},{from:{field:"region",value:"894"},to:{field:"region",value:"zm"}},{from:{field:"region",value:"716"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"999"},to:{field:"region",value:"zz"}},{from:{field:"variants",value:"aaland"},to:{field:"region",value:"ax"}},{from:{field:"variants",value:"polytoni"},to:{field:"variants",value:"polyton"}},{from:{field:"variants",value:"heploc"},to:{field:"variants",value:"alalc97"}},{from:{field:"variants",value:"arevela"},to:{field:"language",value:"hy"}},{from:{field:"variants",value:"arevmda"},to:{field:"language",value:"hyw"}}]}}),Se=h({"src/vendors/dash.js/node_modules/bcp-47-normalize/lib/defaults.json":function(e,t){t.exports=["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]}}),we=h({"src/vendors/dash.js/node_modules/bcp-47-normalize/lib/many.json":function(e,t){t.exports={region:{172:["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],200:["cz","sk"],530:["cw","sx","bq"],532:["cw","sx","bq"],536:["sa","iq"],582:["fm","mh","mp","pw"],810:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],830:["je","gg"],890:["rs","me","si","hr","mk","ba"],891:["rs","me"],an:["cw","sx","bq"],cs:["rs","me"],fq:["aq","tf"],nt:["sa","iq"],pc:["fm","mh","mp","pw"],su:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yu:["rs","me"],"062":["034","143"],ant:["cw","sx","bq"],scg:["rs","me"],ntz:["sa","iq"],sun:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yug:["rs","me"]}}}}),Ce=h({"src/vendors/dash.js/node_modules/bcp-47-normalize/lib/index.js":function(e,t){var n=Ee(),r=_e(),i=Te(),a=be(),s=Se(),o=we();t.exports=function(e,t){var u,A=t||{},g=n.parse(String(e||"").toLowerCase(),A),m=n.stringify(g),v=-1;if(!m)return m;for(;++v<i.length;)r.extendedFilter(m,i[v].from).length&&(d(g,i[v].from,i[v].to),m=n.stringify(g));v=-1;for(;++v<a.length;)h(g,a[v].from.field,a[v].from.value)&&f(g,a[v].to.field,a[v].to.value);m=n.stringify(Object.assign({},g,c)),v=-1;for(;++v<s.length;)m===s[v]&&(d(g,s[v],s[v].split("-").slice(0,-1).join("-")),m=n.stringify(Object.assign({},g,c)));if(g.extensions.sort(p),A.warning)for(u in o)l.call(o[u],g[u])&&A.warning("Deprecated "+u+" `"+g[u]+"`, expected one of `"+o[u][g[u]].join("`, `")+"`",null,7);g.script&&(g.script=g.script.charAt(0).toUpperCase()+g.script.slice(1));g.region&&(g.region=g.region.toUpperCase());return n.stringify(g)};var l={}.hasOwnProperty,u=new Intl.Collator,c={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function d(e,t,r){var i,a=n.parse(t),s=n.parse(r),o=[];for(i in a)a[i]&&a[i].length&&h(e,i,a[i])&&o.push(i);for(i in s)s[i]&&s[i].length&&(o.indexOf(i)>-1||!e[i]||!e[i].length)&&f(e,i,s[i])}function h(e,t,n){var r,i,a,s,o=!1;if(n){if(i=r=e[t],r&&"object"==typeof r)for(i=[],a=-1;++a<r.length;)s=r[a],n.indexOf(s)<0?i.push(s):o=!0;else r===n&&(i=null,o=!0);e[t]=i}return o}function f(e,t,n){var r,i,a,s=e[t];if(s&&"object"==typeof s)for(r=[].concat(n),i=-1;++i<r.length;)a=r[i],s.indexOf(a)<0&&s.push(a);else e[t]=n}function p(e,t){return u.compare(e.singleton,t.singleton)}}}),Ie=h({"src/vendors/dash.js/node_modules/bcp-47-normalize/index.js":function(e,t){t.exports=Ce()}}),ke=h({"src/vendors/dash.js/externals/base64.js":function(e){var t,n,r,i,o,l={encode:function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},decode:function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")}},u={};t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(e){for(var n=0,r=[],i=0|e.length/3;0<i--;){var a=(e[n]<<16)+(e[n+1]<<8)+e[n+2];n+=3,r.push(t.charAt(63&a>>18)),r.push(t.charAt(63&a>>12)),r.push(t.charAt(63&a>>6)),r.push(t.charAt(63&a))}return 2==e.length-n?(a=(e[n]<<16)+(e[n+1]<<8),r.push(t.charAt(63&a>>18)),r.push(t.charAt(63&a>>12)),r.push(t.charAt(63&a>>6)),r.push("=")):1==e.length-n&&(a=e[n]<<16,r.push(t.charAt(63&a>>18)),r.push(t.charAt(63&a>>12)),r.push("==")),r.join("")},r=function(){for(var e=[],n=0;n<64;++n)e[t.charCodeAt(n)]=n;return e["=".charCodeAt(0)]=0,e}(),i=function(e){for(var t=0,n=[],i=0|e.length/4;0<i--;){var a=(r[e.charCodeAt(t)]<<18)+(r[e.charCodeAt(t+1)]<<12)+(r[e.charCodeAt(t+2)]<<6)+r[e.charCodeAt(t+3)];n.push(255&a>>16),n.push(255&a>>8),n.push(255&a),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n},o={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},u.decodeArray=function(e){var t=i(e);return new Uint8Array(t)},u.encodeASCII=function(e){var t=o.encode(e);return n(t)},u.decodeASCII=function(e){var t=i(e);return o.decode(t)},u.encode=function(e){var t=l.encode(e);return n(t)},u.decode=function(e){var t=i(e);return l.decode(t)},void 0!==e&&(e.decode=u.decode,e.decodeArray=u.decodeArray,e.encode=u.encode,e.encodeASCII=u.encodeASCII)}}),Re=h({"src/vendors/dash.js/node_modules/imsc/src/main/js/names.js":function(e){var t;(t=void 0===e?e.imscNames={}:e).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"}}),De=h({"src/vendors/dash.js/node_modules/imsc/src/main/js/utils.js":function(e){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,n=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,r=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var a,s=null,o=i[e.toLowerCase()];return void 0!==o?s=o:null!==(a=t.exec(e))?s=[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),void 0!==a[4]?parseInt(a[4],16):255]:null!==(a=n.exec(e))?s=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),255]:null!==(a=r.exec(e))&&(s=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),parseInt(a[4])]),s};var a=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;e.parseLength=function(e){var t,n=null;return null!==(t=a.exec(e))&&(n={value:parseFloat(t[1]),unit:t[2]}),n},e.parseTextShadow=function(t){for(var n=t.match(/([^\(,\)]|\([^\)]+\))+/g),r=[],i=0;i<n.length;i++){var a=n[i].split(" ");if(1===a.length&&"none"===a[0])return"none";if(a.length>1&&a.length<5){var s=[null,null,null,null],o=e.parseLength(a.shift());if(null===o)return null;if(s[0]=o,null===(o=e.parseLength(a.shift())))return null;if(s[1]=o,0===a.length){r.push(s);continue}if(null!==(o=e.parseLength(a[0]))&&(s[2]=o,a.shift()),0===a.length){r.push(s);continue}var l=e.parseColor(a[0]);if(null===l)return null;s[3]=l,r.push(s)}}return r},e.parsePosition=function(t){var n=t.split(" "),r=function(e){return"center"===e||"left"===e||"top"===e||"bottom"===e||"right"===e};if(n.length>4)return null;for(var i=0;i<n.length;i++)if(!r(n[i])){var a=e.parseLength(n[i]);if(null===a)return null;n[i]=a}for(var s={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},o=0;o<n.length;){var l=n[o++];if(r(l)){var u={value:0,unit:"%"};2!==n.length&&o<n.length&&!r(n[o])&&(u=n[o++]),"right"===l?(s.h.edge=l,s.h.offset=u):"bottom"===l?(s.v.edge=l,s.v.offset=u):"left"===l?s.h.offset=u:"top"===l&&(s.v.offset=u)}else{if(1!==n.length&&2!==n.length)return null;1===o?s.h.offset=l:s.v.offset=l}}return s},e.ComputedLength=function(e,t){this.rw=e,this.rh=t},e.ComputedLength.prototype.toUsedLength=function(e,t){return e*this.rw+t*this.rh},e.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},e.toComputedLength=function(t,n,r,i,a,s){return"%"===n&&i?new e.ComputedLength(i.rw*t/100,i.rh*t/100):"em"===n&&r?new e.ComputedLength(r.rw*t,r.rh*t):"c"===n&&a?new e.ComputedLength(t*a.rw,t*a.rh):"px"===n&&s?new e.ComputedLength(t*s.rw,t*s.rh):"rh"===n?new e.ComputedLength(0,t/100):"rw"===n?new e.ComputedLength(t/100,0):null}}(void 0===e?e.imscUtils={}:e)}}),Me=h({"src/vendors/dash.js/node_modules/imsc/src/main/js/styles.js":function(e){!function(e,t,n){function r(e,t,n,r,i,a,s,o){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=a,this.initial=n,this.applies=r,this.parse=s,this.compute=o}for(var i in e.all=[new r(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,n.parseColor,null),new r(t.ns_tts,"color","white",["span"],!0,!0,n.parseColor,null),new r(t.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"displayAlign","before",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null}),(function(e,t,r,i,a){var s,o;if("auto"===i)s=new n.ComputedLength(0,1);else if(null===(s=n.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)o=new n.ComputedLength(1,0);else if(null===(o=n.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:s,w:o}})),new r(t.ns_tts,"fontFamily","default",["span","p"],!0,!0,(function(e){for(var t=e.split(","),n=[],r=0;r<t.length;r++)"'"!==t[r].charAt(0)&&'"'!==t[r].charAt(0)&&"default"===t[r]?n.push("monospaceSerif"):n.push(t[r]);return n}),null),new r(t.ns_tts,"shear","0%",["p"],!0,!0,n.parseLength,(function(e,t,n,r){return"%"!==r.unit?null:Math.abs(r.value)>100?100*Math.sign(r.value):r.value})),new r(t.ns_tts,"fontSize","1c",["span","p"],!0,!0,n.parseLength,(function(t,r,i,a,s){return n.toComputedLength(a.value,a.unit,null!==r?r.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,null!==r?r.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,t.cellLength.h,t.pxLength.h)})),new r(t.ns_tts,"fontStyle","normal",["span","p"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"fontWeight","normal",["span","p"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(e){return"normal"===e?e:n.parseLength(e)}),(function(t,r,i,a,s){var o;if("normal"===a)o=a;else if(null===(o=n.toComputedLength(a.value,a.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h)))return null;return o})),new r(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new r(t.ns_tts,"origin","auto",["region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null}),(function(e,t,r,i,a){var s,o;if("auto"===i)s=new n.ComputedLength(0,0);else if(null===(s=n.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)o=new n.ComputedLength(0,0);else if(null===(o=n.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:s,w:o}})),new r(t.ns_tts,"overflow","hidden",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"padding","0px",["region"],!1,!0,(function(e){var t=e.split(" ");if(t.length>4)return null;for(var r=[],i=0;i<t.length;i++){var a=n.parseLength(t[i]);if(!a)return null;r.push(a)}return r}),(function(t,r,i,a,s){var o;if(1===a.length)o=[a[0],a[0],a[0],a[0]];else if(2===a.length)o=[a[0],a[1],a[0],a[1]];else if(3===a.length)o=[a[0],a[1],a[2],a[1]];else{if(4!==a.length)return null;o=[a[0],a[1],a[2],a[3]]}var l=i.styleAttrs[e.byName.writingMode.qname];if("lrtb"===l||"lr"===l)o=[o[0],o[3],o[2],o[1]];else if("rltb"===l||"rl"===l)o=[o[0],o[1],o[2],o[3]];else if("tblr"===l)o=[o[3],o[0],o[1],o[2]];else{if("tbrl"!==l&&"tb"!==l)return null;o=[o[3],o[2],o[1],o[0]]}for(var u=[],c=0;c<o.length;c++)if(0===o[c].value)u[c]=new n.ComputedLength(0,0);else if(u[c]=n.toComputedLength(o[c].value,o[c].unit,i.styleAttrs[e.byName.fontSize.qname],0===c||2===c?i.styleAttrs[e.byName.extent.qname].h:i.styleAttrs[e.byName.extent.qname].w,0===c||2===c?t.cellLength.h:t.cellLength.w,0===c||2===c?t.pxLength.h:t.pxLength.w),null===u[c])return null;return u})),new r(t.ns_tts,"position","top left",["region"],!1,!0,(function(e){return n.parsePosition(e)}),(function(t,r,i,a){var s,o;return null===(s=n.toComputedLength(a.v.offset.value,a.v.offset.unit,null,new n.ComputedLength(-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-i.styleAttrs[e.byName.extent.qname].h.rh),null,t.pxLength.h))?null:("bottom"===a.v.edge&&(s=new n.ComputedLength(-s.rw-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-s.rh-i.styleAttrs[e.byName.extent.qname].h.rh)),o=n.toComputedLength(a.h.offset.value,a.h.offset.unit,null,new n.ComputedLength(t.dimensions.w.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-i.styleAttrs[e.byName.extent.qname].w.rh),null,t.pxLength.w),null===s?null:("right"===a.h.edge&&(o=new n.ComputedLength(t.dimensions.w.rw-o.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-o.rh-i.styleAttrs[e.byName.extent.qname].w.rh)),{h:s,w:o}))})),new r(t.ns_tts,"ruby","none",["span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"rubyAlign","center",["span"],!0,!0,(function(e){return"center"!==e&&"spaceAround"!==e?null:e}),null),new r(t.ns_tts,"rubyPosition","outside",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"rubyReserve","none",["p"],!0,!0,(function(e){var t=e.split(" "),r=[null,null];if(0===t.length||t.length>2)return null;if("none"!==t[0]&&"both"!==t[0]&&"after"!==t[0]&&"before"!==t[0]&&"outside"!==t[0])return null;if(r[0]=t[0],2===t.length&&"none"!==t[0]){var i=n.parseLength(t[1]);if(!i)return null;r[1]=i}return r}),(function(t,r,i,a,s){if("none"===a[0])return a;var o=null;return null===(o=null===a[1]?new n.ComputedLength(.5*i.styleAttrs[e.byName.fontSize.qname].rw,.5*i.styleAttrs[e.byName.fontSize.qname].rh):n.toComputedLength(a[1].value,a[1].unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h))?null:[a[0],o]})),new r(t.ns_tts,"showBackground","always",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"textAlign","start",["p"],!0,!0,(function(e){return e}),(function(e,t,n,r,i){return"left"===r?"start":"right"===r?"end":r})),new r(t.ns_tts,"textCombine","none",["span"],!0,!0,(function(e){return"none"===e||"all"===e?e:null}),null),new r(t.ns_tts,"textDecoration","none",["span"],!0,!0,(function(e){return e.split(" ")}),null),new r(t.ns_tts,"textEmphasis","none",["span"],!0,!0,(function(e){for(var t=e.split(" "),r={style:null,symbol:null,color:null,position:null},i=0;i<t.length;i++)if("none"===t[i]||"auto"===t[i])r.style=t[i];else if("filled"===t[i]||"open"===t[i])r.style=t[i];else if("circle"===t[i]||"dot"===t[i]||"sesame"===t[i])r.symbol=t[i];else if("current"===t[i])r.color=t[i];else if("outside"===t[i]||"before"===t[i]||"after"===t[i])r.position=t[i];else if(r.color=n.parseColor(t[i]),null===r.color)return null;return null==r.style&&null==r.symbol?r.style="auto":(r.symbol=r.symbol||"circle",r.style=r.style||"filled"),r.position=r.position||"outside",r.color=r.color||"current",r}),null),new r(t.ns_tts,"textOutline","none",["span"],!0,!0,(function(e){if("none"===e)return e;var t={},r=e.split(" ");if(0===r.length||r.length>2)return null;var i=n.parseColor(r[0]);if(t.color=i,null!==i&&r.shift(),1!==r.length)return null;var a=n.parseLength(r[0]);return a?(t.thickness=a,t):null}),(function(t,r,i,a,s){if("none"===a)return a;var o={};return null===a.color?o.color=i.styleAttrs[e.byName.color.qname]:o.color=a.color,o.thickness=n.toComputedLength(a.thickness.value,a.thickness.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h),null===o.thickness?null:o})),new r(t.ns_tts,"textShadow","none",["span"],!0,!0,n.parseTextShadow,(function(t,r,i,a){if("none"===a)return a;for(var s=[],o=0;o<a.length;o++){var l={};if(l.x_off=n.toComputedLength(a[o][0].value,a[o][0].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.w),null===l.x_off)return null;if(l.y_off=n.toComputedLength(a[o][1].value,a[o][1].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.y_off)return null;if(null===a[o][2])l.b_radius=0;else if(l.b_radius=n.toComputedLength(a[o][2].value,a[o][2].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.b_radius)return null;null===a[o][3]?l.color=i.styleAttrs[e.byName.color.qname]:l.color=a[o][3],s.push(l)}return s})),new r(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"zIndex","auto",["region"],!1,!0,(function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t}),null),new r(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,n.parseLength,(function(e,t,r,i,a){return n.toComputedLength(i.value,i.unit,null,null,e.cellLength.w,null)})),new r(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(e){return e}),null),new r(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(e){return e}),null),new r(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(e){return"true"===e}),null),new r(t.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(e){return"true"===e}),null)],e.byQName={},e.all)e.byQName[e.all[i].qname]=e.all[i];for(var a in e.byName={},e.all)e.byName[e.all[a].name]=e.all[a]}(void 0===e?e.imscStyles={}:e,"undefined"==typeof imscNames?Re():imscNames,"undefined"==typeof imscUtils?De():imscUtils)}}),Le=h({"src/vendors/dash.js/node_modules/imsc/src/main/js/isd.js":function(e){!function(e,t,n,r){e.generateISD=function(e,t,r){var i=new l(e),s={},o={},u={},c=e.head.styling.initials[n.byName.showBackground.qname],d=e.head.styling.initials[n.byName.backgroundColor.qname];for(var h in e.head.layout.regions)if(e.head.layout.regions.hasOwnProperty(h)){var f=e.head.layout.regions[h],p=f.styleAttrs[n.byName.showBackground.qname]||c,A=f.styleAttrs[n.byName.backgroundColor.qname]||d;u[f.id]=("always"===p||void 0===p)&&void 0!==A&&!(t<f.begin||t>=f.end)}for(var g in e.body&&e.body.regionID&&(u[e.body.regionID]=!0),o=null!==e.body?function e(t,n){if(n.contents){var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r.contents=[],n.contents.filter((function(e){return!(t<e.begin||t>=e.end)})).forEach((function(n){var i=e(t,n);i.regionID&&(u[i.regionID]=!0),null!==i&&r.contents.push(i)})),r}return n}(t,e.body):null,void 0!==u[""]&&(u[""]=!0),u)if(u[g]){var m=a(e,t,e.head.layout.regions[g],o,null,"",e.head.layout.regions[g],r,s);null!==m&&i.contents.push(m.element)}return i};var i=[n.byName.color.qname,n.byName.textCombine.qname,n.byName.textDecoration.qname,n.byName.textEmphasis.qname,n.byName.textOutline.qname,n.byName.textShadow.qname];function a(e,t,l,d,h,f,p,A,g){if(t<p.begin||t>=p.end)return null;var m="regionID"in p&&""!==p.regionID?p.regionID:f;if(null!==h&&m!==l.id&&(!("contents"in p)||"contents"in p&&0===p.contents.length||""!==m))return null;var v=new u(p);if("sets"in p)for(var y=0;y<p.sets.length;y++)t<p.sets[y].begin||t>=p.sets[y].end||(v.styleAttrs[p.sets[y].qname]=p.sets[y].value);var E={};for(var _ in v.styleAttrs)if(v.styleAttrs.hasOwnProperty(_)&&(E[_]=!0,"region"===v.kind&&_===n.byName.writingMode.qname&&!(n.byName.direction.qname in v.styleAttrs))){var T=v.styleAttrs[_];"lrtb"===T||"lr"===T?v.styleAttrs[n.byName.direction.qname]="ltr":"rltb"!==T&&"rl"!==T||(v.styleAttrs[n.byName.direction.qname]="rtl")}if(null!==h)for(var b=0;b<n.all.length;b++){var S=n.all[b];if(S.qname===n.byName.textDecoration.qname){var w=h.styleAttrs[S.qname],C=v.styleAttrs[S.qname],I=[];void 0===C?I=w:-1===C.indexOf("none")?((-1===C.indexOf("noUnderline")&&-1!==w.indexOf("underline")||-1!==C.indexOf("underline"))&&I.push("underline"),(-1===C.indexOf("noLineThrough")&&-1!==w.indexOf("lineThrough")||-1!==C.indexOf("lineThrough"))&&I.push("lineThrough"),(-1===C.indexOf("noOverline")&&-1!==w.indexOf("overline")||-1!==C.indexOf("overline"))&&I.push("overline")):I.push("none"),v.styleAttrs[S.qname]=I}else if(S.qname!==n.byName.fontSize.qname||S.qname in v.styleAttrs||"span"!==v.kind||"textContainer"!==v.styleAttrs[n.byName.ruby.qname])if(S.qname!==n.byName.fontSize.qname||S.qname in v.styleAttrs||"span"!==v.kind||"text"!==v.styleAttrs[n.byName.ruby.qname])S.inherit&&S.qname in h.styleAttrs&&!(S.qname in v.styleAttrs)&&(v.styleAttrs[S.qname]=h.styleAttrs[S.qname]);else{var k=h.styleAttrs[n.byName.fontSize.qname];"textContainer"===h.styleAttrs[n.byName.ruby.qname]?v.styleAttrs[S.qname]=k:v.styleAttrs[S.qname]=new r.ComputedLength(.5*k.rw,.5*k.rh)}else{var R=h.styleAttrs[n.byName.fontSize.qname];v.styleAttrs[S.qname]=new r.ComputedLength(.5*R.rw,.5*R.rh)}}for(var D=0;D<n.all.length;D++){var M=n.all[D];if(!(M.qname in v.styleAttrs)&&!(M.qname===n.byName.position.qname&&n.byName.origin.qname in v.styleAttrs||M.qname===n.byName.origin.qname&&n.byName.position.qname in v.styleAttrs)){var L=e.head.styling.initials[M.qname]||M.initial;if(null!==L&&("region"===v.kind||!1===M.inherit&&null!==L)){var N=M.parse(L);null!==N?(v.styleAttrs[M.qname]=N,E[M.qname]=!0):c(A,"Invalid initial value for '"+M.qname+"' on element '"+v.kind)}}}for(var B=0;B<n.all.length;B++){var x=n.all[B];if(x.qname in E&&null!==x.compute){var P=x.compute(e,h,v,v.styleAttrs[x.qname],g);null!==P?v.styleAttrs[x.qname]=P:(v.styleAttrs[x.qname]=x.compute(e,h,v,x.parse(x.initial),g),c(A,"Style '"+x.qname+"' on element '"+v.kind+"' cannot be computed"))}}if("none"===v.styleAttrs[n.byName.display.qname])return null;var O=null;null===h?O=null===d?[]:[d]:"contents"in p&&(O=p.contents);for(var F=0;null!==O&&F<O.length;F++){var U=a(e,t,l,d,v,m,O[F],A,g);null!==U&&v.contents.push(U.element)}for(var j in v.styleAttrs)if(v.styleAttrs.hasOwnProperty(j)){var Q=!1;if("span"===v.kind){var G=v.styleAttrs[n.byName.ruby.qname];(Q=("container"===G||"textContainer"===G||"baseContainer"===G)&&-1!==i.indexOf(j))||(Q="container"!==G&&j===n.byName.rubyAlign.qname),Q||(Q=!("textContainer"===G||"text"===G)&&j===n.byName.rubyPosition.qname)}if(!Q){var V=n.byQName[j];"applies"in V&&(Q=-1===V.applies.indexOf(v.kind))}Q&&delete v.styleAttrs[j]}var H=v.styleAttrs[n.byName.ruby.qname];if("p"===v.kind||"span"===v.kind&&("textContainer"===H||"text"===H)){var Y=[];s(v,Y),function(e){function t(e){return"br"===e.kind||/[\r\n\t ]$/.test(e.text)}function n(e){return"br"===e.kind||"preserve"===e.space&&/^[\r\n]/.test(e.text)}for(var r,i=0;i<e.length;)if("br"!==(r=e[i]).kind&&"preserve"!==r.space){var a=r.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(a)&&(0===i||t(e[i-1]))&&(a=a.substring(1)),r.text=a,0===a.length?e.splice(i,1):i++}else i++;for(i=0;i<e.length;i++)"br"!==(r=e[i]).kind&&"preserve"!==r.space?/[ ]$/.test(r.text)&&(i===e.length-1||n(e[i+1]))&&(r.text=r.text.slice(0,-1)):i++}(Y),o(v)}return"div"===v.kind&&n.byName.backgroundImage.qname in v.styleAttrs||"br"===v.kind||"image"===v.kind||"contents"in v&&v.contents.length>0||"span"===v.kind&&null!==v.text||"region"===v.kind&&"always"===v.styleAttrs[n.byName.showBackground.qname]?{region_id:m,element:v}:null}function s(e,t){if("contents"in e)for(var r=0;r<e.contents.length;r++){var i=e.contents[r],a=i.styleAttrs[n.byName.ruby.qname];("span"!==i.kind||"textContainer"!==a&&"text"!==a)&&("contents"in i?s(i,t):("span"===i.kind&&0!==i.text.length||"br"===i.kind)&&t.push(i))}}function o(e){if("br"===e.kind)return!1;if("text"in e)return 0===e.text.length;if("contents"in e){for(var t=e.contents.length;t--;)o(e.contents[t])&&e.contents.splice(t,1);return 0===e.contents.length}}function l(e){this.contents=[],this.aspectRatio=e.aspectRatio,this.lang=e.lang}function u(e){for(var t in this.kind=e.kind||"region",this.lang=e.lang,e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)e.styleAttrs.hasOwnProperty(t)&&(this.styleAttrs[t]=e.styleAttrs[t]);"src"in e&&(this.src=e.src),"type"in e&&(this.type=e.type),"text"in e?this.text=e.text:("region"===this.kind||"contents"in e)&&(this.contents=[]),"space"in e&&(this.space=e.space)}function c(e,t){if(e&&e.error&&e.error(t))throw t}}(void 0===e?e.imscISD={}:e,"undefined"==typeof imscNames?Re():imscNames,"undefined"==typeof imscStyles?Me():imscStyles,"undefined"==typeof imscUtils?De():imscUtils)}}),Ne=h({"src/vendors/dash.js/node_modules/sax/lib/sax.js":function(e){!function(e){e.parser=function(e,t){return new r(e,t)},e.SAXParser=r,e.SAXStream=a,e.createStream=function(e,t){return new a(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(t,i){if(!_instanceof(this,r))return new r(t,i);var a=this;!function(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}(a),a.q=a.c="",a.bufferCheckPosition=e.MAX_BUFFER_LENGTH,a.opt=i||{},a.opt.lowercase=a.opt.lowercase||a.opt.lowercasetags,a.looseCase=a.opt.lowercase?"toLowerCase":"toUpperCase",a.tags=[],a.closed=a.closedRoot=a.sawRoot=!1,a.tag=a.error=null,a.strict=!!t,a.noscript=!(!t&&!a.opt.noscript),a.state=I.BEGIN,a.strictEntities=a.opt.strictEntities,a.ENTITIES=a.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),a.attribList=[],a.opt.xmlns&&(a.ns=Object.create(g)),a.trackPosition=!1!==a.opt.position,a.trackPosition&&(a.position=a.line=a.column=0),R(a,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r.prototype={end:function(){B(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return N(r,"Cannot write after close. Assign an onready handler.");if(null===t)return B(r);"object"==typeof t&&(t=t.toString());var i=0,a="";for(;a=V(t,i++),r.c=a,a;)switch(r.trackPosition&&(r.position++,"\n"===a?(r.line++,r.column=0):r.column++),r.state){case I.BEGIN:if(r.state=I.BEGIN_WHITESPACE,"\ufeff"===a)continue;G(r,a);continue;case I.BEGIN_WHITESPACE:G(r,a);continue;case I.TEXT:if(r.sawRoot&&!r.closedRoot){for(var o=i-1;a&&"<"!==a&&"&"!==a;)(a=V(t,i++))&&r.trackPosition&&(r.position++,"\n"===a?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(o,i-1)}"<"!==a||r.sawRoot&&r.closedRoot&&!r.strict?(!b(s,a)||r.sawRoot&&!r.closedRoot||x(r,"Text data outside of root node."),"&"===a?r.state=I.TEXT_ENTITY:r.textNode+=a):(r.state=I.OPEN_WAKA,r.startTagPosition=r.position);continue;case I.SCRIPT:"<"===a?r.state=I.SCRIPT_ENDING:r.script+=a;continue;case I.SCRIPT_ENDING:"/"===a?r.state=I.CLOSE_TAG:(r.script+="<"+a,r.state=I.SCRIPT);continue;case I.OPEN_WAKA:if("!"===a)r.state=I.SGML_DECL,r.sgmlDecl="";else if(T(s,a));else if(T(m,a))r.state=I.OPEN_TAG,r.tagName=a;else if("/"===a)r.state=I.CLOSE_TAG,r.tagName="";else if("?"===a)r.state=I.PROC_INST,r.procInstName=r.procInstBody="";else{if(x(r,"Unencoded <"),r.startTagPosition+1<r.position){var l=r.position-r.startTagPosition;a=new Array(l).join(" ")+a}r.textNode+="<"+a,r.state=I.TEXT}continue;case I.SGML_DECL:(r.sgmlDecl+a).toUpperCase()===h?(D(r,"onopencdata"),r.state=I.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+a==="--"?(r.state=I.COMMENT,r.comment="",r.sgmlDecl=""):(r.sgmlDecl+a).toUpperCase()===f?(r.state=I.DOCTYPE,(r.doctype||r.sawRoot)&&x(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===a?(D(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=I.TEXT):T(u,a)?(r.state=I.SGML_DECL_QUOTED,r.sgmlDecl+=a):r.sgmlDecl+=a;continue;case I.SGML_DECL_QUOTED:a===r.q&&(r.state=I.SGML_DECL,r.q=""),r.sgmlDecl+=a;continue;case I.DOCTYPE:">"===a?(r.state=I.TEXT,D(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=a,"["===a?r.state=I.DOCTYPE_DTD:T(u,a)&&(r.state=I.DOCTYPE_QUOTED,r.q=a));continue;case I.DOCTYPE_QUOTED:r.doctype+=a,a===r.q&&(r.q="",r.state=I.DOCTYPE);continue;case I.DOCTYPE_DTD:r.doctype+=a,"]"===a?r.state=I.DOCTYPE:T(u,a)&&(r.state=I.DOCTYPE_DTD_QUOTED,r.q=a);continue;case I.DOCTYPE_DTD_QUOTED:r.doctype+=a,a===r.q&&(r.state=I.DOCTYPE_DTD,r.q="");continue;case I.COMMENT:"-"===a?r.state=I.COMMENT_ENDING:r.comment+=a;continue;case I.COMMENT_ENDING:"-"===a?(r.state=I.COMMENT_ENDED,r.comment=L(r.opt,r.comment),r.comment&&D(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+a,r.state=I.COMMENT);continue;case I.COMMENT_ENDED:">"!==a?(x(r,"Malformed comment"),r.comment+="--"+a,r.state=I.COMMENT):r.state=I.TEXT;continue;case I.CDATA:"]"===a?r.state=I.CDATA_ENDING:r.cdata+=a;continue;case I.CDATA_ENDING:"]"===a?r.state=I.CDATA_ENDING_2:(r.cdata+="]"+a,r.state=I.CDATA);continue;case I.CDATA_ENDING_2:">"===a?(r.cdata&&D(r,"oncdata",r.cdata),D(r,"onclosecdata"),r.cdata="",r.state=I.TEXT):"]"===a?r.cdata+="]":(r.cdata+="]]"+a,r.state=I.CDATA);continue;case I.PROC_INST:"?"===a?r.state=I.PROC_INST_ENDING:T(s,a)?r.state=I.PROC_INST_BODY:r.procInstName+=a;continue;case I.PROC_INST_BODY:if(!r.procInstBody&&T(s,a))continue;"?"===a?r.state=I.PROC_INST_ENDING:r.procInstBody+=a;continue;case I.PROC_INST_ENDING:">"===a?(D(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=I.TEXT):(r.procInstBody+="?"+a,r.state=I.PROC_INST_BODY);continue;case I.OPEN_TAG:T(v,a)?r.tagName+=a:(P(r),">"===a?U(r):"/"===a?r.state=I.OPEN_TAG_SLASH:(b(s,a)&&x(r,"Invalid character in tag name"),r.state=I.ATTRIB));continue;case I.OPEN_TAG_SLASH:">"===a?(U(r,!0),j(r)):(x(r,"Forward-slash in opening tag not followed by >"),r.state=I.ATTRIB);continue;case I.ATTRIB:if(T(s,a))continue;">"===a?U(r):"/"===a?r.state=I.OPEN_TAG_SLASH:T(m,a)?(r.attribName=a,r.attribValue="",r.state=I.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case I.ATTRIB_NAME:"="===a?r.state=I.ATTRIB_VALUE:">"===a?(x(r,"Attribute without value"),r.attribValue=r.attribName,F(r),U(r)):T(s,a)?r.state=I.ATTRIB_NAME_SAW_WHITE:T(v,a)?r.attribName+=a:x(r,"Invalid attribute name");continue;case I.ATTRIB_NAME_SAW_WHITE:if("="===a)r.state=I.ATTRIB_VALUE;else{if(T(s,a))continue;x(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",D(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===a?U(r):T(m,a)?(r.attribName=a,r.state=I.ATTRIB_NAME):(x(r,"Invalid attribute name"),r.state=I.ATTRIB)}continue;case I.ATTRIB_VALUE:if(T(s,a))continue;T(u,a)?(r.q=a,r.state=I.ATTRIB_VALUE_QUOTED):(x(r,"Unquoted attribute value"),r.state=I.ATTRIB_VALUE_UNQUOTED,r.attribValue=a);continue;case I.ATTRIB_VALUE_QUOTED:if(a!==r.q){"&"===a?r.state=I.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=a;continue}F(r),r.q="",r.state=I.ATTRIB_VALUE_CLOSED;continue;case I.ATTRIB_VALUE_CLOSED:T(s,a)?r.state=I.ATTRIB:">"===a?U(r):"/"===a?r.state=I.OPEN_TAG_SLASH:T(m,a)?(x(r,"No whitespace between attributes"),r.attribName=a,r.attribValue="",r.state=I.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case I.ATTRIB_VALUE_UNQUOTED:if(b(d,a)){"&"===a?r.state=I.ATTRIB_VALUE_ENTITY_U:r.attribValue+=a;continue}F(r),">"===a?U(r):r.state=I.ATTRIB;continue;case I.CLOSE_TAG:if(r.tagName)">"===a?j(r):T(v,a)?r.tagName+=a:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=I.SCRIPT):(b(s,a)&&x(r,"Invalid tagname in closing tag"),r.state=I.CLOSE_TAG_SAW_WHITE);else{if(T(s,a))continue;b(m,a)?r.script?(r.script+="</"+a,r.state=I.SCRIPT):x(r,"Invalid tagname in closing tag."):r.tagName=a}continue;case I.CLOSE_TAG_SAW_WHITE:if(T(s,a))continue;">"===a?j(r):x(r,"Invalid characters in closing tag");continue;case I.TEXT_ENTITY:case I.ATTRIB_VALUE_ENTITY_Q:case I.ATTRIB_VALUE_ENTITY_U:var c,p;switch(r.state){case I.TEXT_ENTITY:c=I.TEXT,p="textNode";break;case I.ATTRIB_VALUE_ENTITY_Q:c=I.ATTRIB_VALUE_QUOTED,p="attribValue";break;case I.ATTRIB_VALUE_ENTITY_U:c=I.ATTRIB_VALUE_UNQUOTED,p="attribValue"}";"===a?(r[p]+=Q(r),r.entity="",r.state=c):T(r.entity.length?E:y,a)?r.entity+=a:(x(r,"Invalid character in entity name"),r[p]+="&"+r.entity+a,r.entity="",r.state=c);continue;default:throw new Error(r,"Unknown state: "+r.state)}r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,a=0,s=n.length;a<s;a++){var o=t[n[a]].length;if(o>r)switch(n[a]){case"textNode":M(t);break;case"cdata":D(t,"oncdata",t.cdata),t.cdata="";break;case"script":D(t,"onscript",t.script),t.script="";break;default:N(t,"Max buffer length exceeded: "+n[a])}i=Math.max(i,o)}var l=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=l+t.position}(r);return r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;M(e=this),""!==e.cdata&&(D(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(D(e,"onscript",e.script),e.script="")}};try{t=c("stream").Stream}catch(e){t=function(){}}var i=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function a(e,n){if(!_instanceof(this,a))return new a(e,n);t.apply(this),this._parser=new r(e,n),this.writable=!0,this.readable=!0;var s=this;this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(e){s.emit("error",e),s._parser.error=null},this._decoder=null,i.forEach((function(e){Object.defineProperty(s,"on"+e,{get:function(){return s._parser["on"+e]},set:function(t){if(!t)return s.removeAllListeners(e),s._parser["on"+e]=t,t;s.on(e,t)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(t.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=c("string_decoder").StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},a.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===i.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var s="\r\n\t ",o="0124356789",l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",u="'\"",d=s+">",h="[CDATA[",f="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/2000/xmlns/",g={xml:p,xmlns:A};s=_(s),o=_(o),l=_(l);var m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function _(e){return e.split("").reduce((function(e,t){return e[t]=!0,e}),{})}function T(e,t){return function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)?!!t.match(e):e[t]}function b(e,t){return!T(e,t)}u=_(u),d=_(d);var S,w,C,I=0;for(var k in e.STATE={BEGIN:I++,BEGIN_WHITESPACE:I++,TEXT:I++,TEXT_ENTITY:I++,OPEN_WAKA:I++,SGML_DECL:I++,SGML_DECL_QUOTED:I++,DOCTYPE:I++,DOCTYPE_QUOTED:I++,DOCTYPE_DTD:I++,DOCTYPE_DTD_QUOTED:I++,COMMENT_STARTING:I++,COMMENT:I++,COMMENT_ENDING:I++,COMMENT_ENDED:I++,CDATA:I++,CDATA_ENDING:I++,CDATA_ENDING_2:I++,PROC_INST:I++,PROC_INST_BODY:I++,PROC_INST_ENDING:I++,OPEN_TAG:I++,OPEN_TAG_SLASH:I++,ATTRIB:I++,ATTRIB_NAME:I++,ATTRIB_NAME_SAW_WHITE:I++,ATTRIB_VALUE:I++,ATTRIB_VALUE_QUOTED:I++,ATTRIB_VALUE_CLOSED:I++,ATTRIB_VALUE_UNQUOTED:I++,ATTRIB_VALUE_ENTITY_Q:I++,ATTRIB_VALUE_ENTITY_U:I++,CLOSE_TAG:I++,CLOSE_TAG_SAW_WHITE:I++,SCRIPT:I++,SCRIPT_ENDING:I++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[k]]=k;function R(e,t,n){e[t]&&e[t](n)}function D(e,t,n){e.textNode&&M(e),R(e,t,n)}function M(e){e.textNode=L(e.opt,e.textNode),e.textNode&&R(e,"ontext",e.textNode),e.textNode=""}function L(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function N(e,t){return M(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,R(e,"onerror",t),e}function B(e){return e.sawRoot&&!e.closedRoot&&x(e,"Unclosed root tag"),e.state!==I.BEGIN&&e.state!==I.BEGIN_WHITESPACE&&e.state!==I.TEXT&&N(e,"Unexpected end"),M(e),e.c="",e.closed=!0,R(e,"onend"),r.call(e,e.strict,e.opt),e}function x(e,t){if("object"!=typeof e||!_instanceof(e,r))throw new Error("bad call to strictFail");e.strict&&N(e,t)}function P(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,D(e,"onopentagstart",n)}function O(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function F(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=O(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==p)x(e,"xml: prefix must be bound to "+p+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==A)x(e,"xmlns: prefix must be bound to "+A+"\nActual: "+e.attribValue);else{var i=e.tag,a=e.tags[e.tags.length-1]||e;i.ns===a.ns&&(i.ns=Object.create(a.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,D(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function U(e,t){if(e.opt.xmlns){var n=e.tag,r=O(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(x(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(t){D(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var a=0,s=e.attribList.length;a<s;a++){var o=e.attribList[a],l=o[0],u=o[1],c=O(l,!0),d=c.prefix,h=c.local,f=""===d?"":n.ns[d]||"",p={name:l,value:u,prefix:d,local:h,uri:f};d&&"xmlns"!==d&&!f&&(x(e,"Unbound namespace prefix: "+JSON.stringify(d)),p.uri=d),e.tag.attributes[l]=p,D(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),D(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=I.TEXT:e.state=I.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function j(e){if(!e.tagName)return x(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=I.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=I.SCRIPT);D(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){if(e.tags[t].name===r)break;x(e,"Unexpected close tag")}if(t<0)return x(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=I.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,D(e,"onclosetag",e.tagName);var s={};for(var o in a.ns)s[o]=a.ns[o];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach((function(t){var n=a.ns[t];D(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=I.TEXT}function Q(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(x(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function G(e,t){"<"===t?(e.state=I.OPEN_WAKA,e.startTagPosition=e.position):b(s,t)&&(x(e,"Non-whitespace before first tag."),e.textNode=t,e.state=I.TEXT)}function V(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}I=e.STATE,String.fromCodePoint||(S=String.fromCharCode,w=Math.floor,C=function(){var e,t,n=[],r=-1,i=arguments.length;if(!i)return"";for(var a="";++r<i;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||w(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(r+1===i||n.length>16384)&&(a+=S.apply(null,n),n.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:C,configurable:!0,writable:!0}):String.fromCodePoint=C)}(void 0===e?e.sax={}:e)}}),Be=h({"src/vendors/dash.js/node_modules/imsc/src/main/js/doc.js":function(e){!function(e,t,n,r,i){function a(e){if("contents"in e)for(var t=("styleAttrs"in e?e.styleAttrs[r.byName.ruby.qname]:null),n="span"===e.kind&&("container"===t||"textContainer"===t||"baseContainer"===t),i=e.contents.length-1;i>=0;i--)!n||"styleAttrs"in e.contents[i]&&r.byName.ruby.qname in e.contents[i].styleAttrs?a(e.contents[i]):delete e.contents[i]}function s(e,t,n,r){var i=r&&"seq"===r.timeContainer,a=0;r&&(a=i&&n?n.end:r.begin),t.begin=t.explicit_begin?t.explicit_begin+a:a;var o=t.begin,l=null;if("sets"in t)for(var u=0;u<t.sets.length;u++)s(e,t.sets[u],l,t),o="seq"===t.timeContainer?t.sets[u].end:Math.max(o,t.sets[u].end),l=t.sets[u];if("contents"in t){if("contents"in t)for(var c=0;c<t.contents.length;c++)s(e,t.contents[c],l,t),o="seq"===t.timeContainer?t.contents[c].end:Math.max(o,t.contents[c].end),l=t.contents[c]}else o=i?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,a+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=a+t.explicit_end:t.end=o,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function o(e){this.node=e}function l(){this.events=[],this.head=new u,this.body=null}function u(){this.styling=new c,this.layout=new f}function c(){this.styles={},this.initials={}}function d(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function h(){this.styleAttrs=null}function f(){this.regions={}}function p(e,t){A.call(this,"image"),this.src=e,this.type=t}function A(e){this.kind=e}function g(e){this.id=e}function m(e){this.regionID=e}function v(e){this.styleAttrs=e}function y(e){this.sets=e}function E(e){this.contents=e}function _(e,t,n){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=n}function T(){A.call(this,"body")}function b(){A.call(this,"div")}function S(){A.call(this,"p")}function w(){A.call(this,"span")}function C(){A.call(this,"span")}function I(){A.call(this,"br")}function k(){}function R(){}function D(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function M(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function L(e,t){var n={};if(null!==e)for(var i in e.attributes){var a=e.attributes[i].uri+" "+e.attributes[i].local,s=r.byQName[a];if(void 0!==s){var o=s.parse(e.attributes[i].value);null!==o?(n[a]=o,s===r.byName.zIndex&&F(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):U(t,"Cannot parse styling attribute "+a+" --\x3e "+e.attributes[i].value)}}return n}function N(e,t,n){for(var r in e.attributes)if(e.attributes[r].uri===t&&e.attributes[r].local===n)return e.attributes[r].value;return null}function B(e,t,n){var r,i=null;return null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(n))?null!==t&&(i=parseFloat(r[1])/t):null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(n))?null!==e&&(i=parseFloat(r[1])/e):null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(n))?i=parseFloat(r[1])/1e3:null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(n))?i=parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(n))?i=3600*parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(n))?i=60*parseFloat(r[1]):null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n))?i=3600*parseInt(r[1])+60*parseInt(r[2])+parseFloat(r[3]):null!==(r=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n))&&null!==t&&(i=3600*parseInt(r[1])+60*parseInt(r[2])+parseInt(r[3])+(null===r[4]?0:parseInt(r[4])/t)),i}function x(e,t,n){for(;t.styleRefs.length>0;){var r=t.styleRefs.pop();r in e.styles?(x(e,e.styles[r],n),O(e.styles[r].styleAttrs,t.styleAttrs)):U(n,"Non-existant style id referenced")}}function P(e,t,n,r){for(var i=t.length-1;i>=0;i--){var a=t[i];a in e.styles?O(e.styles[a].styleAttrs,n):U(r,"Non-existant style id referenced")}}function O(e,t){for(var n in e)e.hasOwnProperty(n)&&(n in t||(t[n]=e[n]))}function F(e,t){if(e&&e.warn&&e.warn(t))throw t}function U(e,t){if(e&&e.error&&e.error(t))throw t}function j(e,t){throw e&&e.fatal&&e.fatal(t),t}function Q(e,t){for(var n,r=0,i=e.length-1;r<=i;){var a=e[n=Math.floor((r+i)/2)];if(a<t)r=n+1;else{if(!(a>t))return{found:!0,index:n};i=n-1}}return{found:!1,index:r}}e.fromXML=function(e,i,A){var g=t.parser(!0,{xmlns:!0}),m=[],v=[],y=[],E=0,_=null;g.onclosetag=function(e){if(_instanceof(m[0],k))null!==_.head&&null!==_.head.styling&&P(_.head.styling,m[0].styleRefs,m[0].styleAttrs,i),delete m[0].styleRefs;else if(_instanceof(m[0],c))for(var t in m[0].styles)m[0].styles.hasOwnProperty(t)&&x(m[0],m[0].styles[t],i);else if(_instanceof(m[0],S)||_instanceof(m[0],w)){if(m[0].contents.length>1){var r,a=[m[0].contents[0]];for(r=1;r<m[0].contents.length;r++)_instanceof(m[0].contents[r],C)&&_instanceof(a[a.length-1],C)?a[a.length-1].text+=m[0].contents[r].text:a.push(m[0].contents[r]);m[0].contents=a}_instanceof(m[0],w)&&1===m[0].contents.length&&_instanceof(m[0].contents[0],C)&&(m[0].text=m[0].contents[0].text,delete m[0].contents)}else _instanceof(m[0],o)&&(m[0].node.uri===n.ns_tt&&"metadata"===m[0].node.local?E--:E>0&&A&&"onCloseTag"in A&&A.onCloseTag());y.shift(),v.shift(),m.shift()},g.ontext=function(e){if(void 0===m[0]);else if(_instanceof(m[0],w)||_instanceof(m[0],S)){if(_instanceof(m[0],w)){var t=m[0].styleAttrs[r.byName.ruby.qname];if("container"===t||"textContainer"===t||"baseContainer"===t)return}var n=new C;n.initFromText(_,m[0],e,v[0],y[0],i),m[0].contents.push(n)}else _instanceof(m[0],o)&&E>0&&A&&"onText"in A&&A.onText(e)},g.onopentag=function(e){var t=e.attributes["xml:space"];t?y.unshift(t.value):0===y.length?y.unshift("default"):y.unshift(y[0]);var a=e.attributes["xml:lang"];if(a?v.unshift(a.value):0===v.length?v.unshift(""):v.unshift(v[0]),e.uri===n.ns_tt)if("tt"===e.local)null!==_&&j(i,"Two <tt> elements at ("+this.line+","+this.column+")"),(_=new l).initFromNode(e,v[0],i),m.unshift(_);else if("head"===e.local)_instanceof(m[0],l)||j(i,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),m.unshift(_.head);else if("styling"===e.local)_instanceof(m[0],u)||j(i,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),m.unshift(_.head.styling);else if("style"===e.local){var s;_instanceof(m[0],c)?((s=new d).initFromNode(e,i),s.id?_.head.styling.styles[s.id]=s:U(i,"<style> element missing @id attribute"),m.unshift(s)):_instanceof(m[0],k)?((s=new d).initFromNode(e,i),O(s.styleAttrs,m[0].styleAttrs),m.unshift(s)):j(i,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===e.local){var g;if(_instanceof(m[0],c)){for(var C in(g=new h).initFromNode(e,i),g.styleAttrs)g.styleAttrs.hasOwnProperty(C)&&(_.head.styling.initials[C]=g.styleAttrs[C]);m.unshift(g)}else j(i,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===e.local)_instanceof(m[0],u)||j(i,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),m.unshift(_.head.layout);else if("region"===e.local){_instanceof(m[0],f)||j(i,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var D=new k;D.initFromNode(_,e,v[0],i),!D.id||D.id in _.head.layout.regions?U(i,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):_.head.layout.regions[D.id]=D,m.unshift(D)}else if("body"===e.local){_instanceof(m[0],l)||j(i,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==_.body&&j(i,"Second <body> element at "+this.line+","+this.column+")");var M=new T;M.initFromNode(_,e,v[0],i),_.body=M,m.unshift(M)}else if("div"===e.local){_instanceof(m[0],b)||_instanceof(m[0],T)||j(i,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var L=new b;L.initFromNode(_,m[0],e,v[0],i);var N=L.styleAttrs[r.byName.backgroundImage.qname];N&&(L.contents.push(new p(N)),delete L.styleAttrs[r.byName.backgroundImage.qname]),m[0].contents.push(L),m.unshift(L)}else if("image"===e.local){_instanceof(m[0],b)||j(i,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var B=new p;B.initFromNode(_,m[0],e,v[0],i),m[0].contents.push(B),m.unshift(B)}else if("p"===e.local){_instanceof(m[0],b)||j(i,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var x=new S;x.initFromNode(_,m[0],e,v[0],i),m[0].contents.push(x),m.unshift(x)}else if("span"===e.local){_instanceof(m[0],w)||_instanceof(m[0],S)||j(i,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var P=new w;P.initFromNode(_,m[0],e,v[0],y[0],i),m[0].contents.push(P),m.unshift(P)}else if("br"===e.local){_instanceof(m[0],w)||_instanceof(m[0],S)||j(i,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var F=new I;F.initFromNode(_,m[0],e,v[0],i),m[0].contents.push(F),m.unshift(F)}else if("set"===e.local){_instanceof(m[0],w)||_instanceof(m[0],S)||_instanceof(m[0],b)||_instanceof(m[0],T)||_instanceof(m[0],k)||_instanceof(m[0],I)||j(i,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Q=new R;Q.initFromNode(_,m[0],e,i),m[0].sets.push(Q),m.unshift(Q)}else m.unshift(new o(e));else m.unshift(new o(e));if(_instanceof(m[0],o))if(e.uri===n.ns_tt&&"metadata"===e.local)E++;else if(E>0&&A&&"onOpenTag"in A){var G=[];for(var V in e.attributes)G[e.attributes[V].uri+" "+e.attributes[V].local]={uri:e.attributes[V].uri,local:e.attributes[V].local,value:e.attributes[V].value};A.onOpenTag(e.uri,e.local,G)}},g.write(e).close(),delete _.head.styling.styles;var D=!1;for(var M in _.head.layout.regions)if(_.head.layout.regions.hasOwnProperty(M)){D=!0;break}if(!D){var L=k.prototype.createDefaultRegion(_.lang);_.head.layout.regions[L.id]=L}for(var N in _.head.layout.regions)_.head.layout.regions.hasOwnProperty(N)&&s(_,_.head.layout.regions[N],null,null);return _.body&&s(_,_.body,null,null),_.body&&a(_.body),_},l.prototype.initFromNode=function(e,t,r){var a=function(e,t){var r=N(e,n.ns_ttp,"cellResolution"),i=15,a=32;if(null!==r){var s=/(\d+) (\d+)/.exec(r);null!==s?(a=parseInt(s[1]),i=parseInt(s[2])):F(t,"Malformed cellResolution value (using initial value instead)")}return{w:a,h:i}}(e,r);this.cellLength={h:new i.ComputedLength(0,1/a.h),w:new i.ComputedLength(1/a.w,0)};var s=function(e,t){var r,i=N(e,n.ns_ttp,"frameRate"),a=30;if(null!==i){null!==(r=/(\d+)/.exec(i))?a=parseInt(r[1]):F(t,"Malformed frame rate attribute (using initial value instead)")}var s=N(e,n.ns_ttp,"frameRateMultiplier"),o=1;if(null!==s){null!==(r=/(\d+) (\d+)/.exec(s))?o=parseInt(r[1])/parseInt(r[2]):F(t,"Malformed frame rate multiplier attribute (using initial value instead)")}var l=o*a,u=1,c=N(e,n.ns_ttp,"tickRate");if(null===c)null!==i&&(u=l);else{null!==(r=/(\d+)/.exec(c))?u=parseInt(r[1]):F(t,"Malformed tick rate attribute (using initial value instead)")}return{effectiveFrameRate:l,tickRate:u}}(e,r);this.effectiveFrameRate=s.effectiveFrameRate,this.tickRate=s.tickRate,this.aspectRatio=function(e,t){var r=N(e,n.ns_ittp,"aspectRatio");null===r&&(r=N(e,n.ns_ttp,"displayAspectRatio"));var i=null;if(null!==r){var a=/(\d+)\s+(\d+)/.exec(r);if(null!==a){var s=parseInt(a[1]),o=parseInt(a[2]);0!==s&&0!==o?i=s/o:U(t,"Illegal aspectRatio values (ignoring)")}else U(t,"Malformed aspectRatio attribute (ignoring)")}return i}(e,r);var o=N(e,n.ns_ttp,"timeBase");null!==o&&"media"!==o&&j(r,"Unsupported time base");var l=function(e,t){var r=N(e,n.ns_tts,"extent");if(null===r)return null;var a=r.split(" ");if(2!==a.length)return F(t,"Malformed extent (ignoring)"),null;var s=i.parseLength(a[0]),o=i.parseLength(a[1]);if(!o||!s)return F(t,"Malformed extent values (ignoring)"),null;return{h:o,w:s}}(e,r);null===l?this.pxLength={h:null,w:null}:("px"===l.h.unit&&"px"===l.w.unit||j(r,"Extent on TT must be in px or absent"),this.pxLength={h:new i.ComputedLength(0,1/l.h.value),w:new i.ComputedLength(1/l.w.value,0)}),this.dimensions={h:new i.ComputedLength(0,1),w:new i.ComputedLength(1,0)},this.lang=t},l.prototype._registerEvent=function(e){if(!(e.end<=e.begin)){var t=Q(this.events,e.begin);if(t.found||this.events.splice(t.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY){var n=Q(this.events,e.end);n.found||this.events.splice(n.index,0,e.end)}}},l.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},l.prototype.getMediaTimeEvents=function(){return this.events},d.prototype.initFromNode=function(e,t){this.id=D(e),this.styleAttrs=L(e,t),this.styleRefs=M(e)},h.prototype.initFromNode=function(e,t){for(var r in this.styleAttrs={},e.attributes)if(e.attributes[r].uri===n.ns_itts||e.attributes[r].uri===n.ns_ebutts||e.attributes[r].uri===n.ns_tts){var i=e.attributes[r].uri+" "+e.attributes[r].local;this.styleAttrs[i]=e.attributes[r].value}},p.prototype.initFromNode=function(e,t,n,r,i){this.src="src"in n.attributes?n.attributes.src.value:null,this.src||U(i,"Invalid image@src attribute"),this.type="type"in n.attributes?n.attributes.type.value:null,this.type||U(i,"Invalid image@type attribute"),v.prototype.initFromNode.call(this,e,t,n,i),_.prototype.initFromNode.call(this,e,t,n,i),y.prototype.initFromNode.call(this,e,t,n,i),m.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},g.prototype.initFromNode=function(e,t,n,r){this.id=D(n)},m.prototype.initFromNode=function(e,t,n,r){this.regionID=function(e){return e&&"region"in e.attributes?e.attributes.region.value:""}(n)},v.prototype.initFromNode=function(e,t,n,r){this.styleAttrs=L(n,r),null!==e.head&&null!==e.head.styling&&P(e.head.styling,M(n),this.styleAttrs,r)},y.prototype.initFromNode=function(e,t,n,r){this.sets=[]},E.prototype.initFromNode=function(e,t,n,r){this.contents=[]},_.prototype.initFromNode=function(e,t,n,r){var i=function(e,t,n,r){var i=null;n&&"begin"in n.attributes&&null===(i=B(e.tickRate,e.effectiveFrameRate,n.attributes.begin.value))&&F(r,"Malformed begin value "+n.attributes.begin.value+" (using 0)");var a=null;n&&"dur"in n.attributes&&null===(a=B(e.tickRate,e.effectiveFrameRate,n.attributes.dur.value))&&F(r,"Malformed dur value "+n.attributes.dur.value+" (ignoring)");var s=null;n&&"end"in n.attributes&&null===(s=B(e.tickRate,e.effectiveFrameRate,n.attributes.end.value))&&F(r,"Malformed end value (ignoring)");return{explicit_begin:i,explicit_end:s,explicit_dur:a}}(e,0,n,r);this.explicit_begin=i.explicit_begin,this.explicit_end=i.explicit_end,this.explicit_dur=i.explicit_dur,this.timeContainer=function(e,t){var n=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null;return n&&"par"!==n?"seq"===n?"seq":(U(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(n,r)},T.prototype.initFromNode=function(e,t,n,r){v.prototype.initFromNode.call(this,e,null,t,r),_.prototype.initFromNode.call(this,e,null,t,r),y.prototype.initFromNode.call(this,e,null,t,r),m.prototype.initFromNode.call(this,e,null,t,r),E.prototype.initFromNode.call(this,e,null,t,r),this.lang=n},b.prototype.initFromNode=function(e,t,n,r,i){v.prototype.initFromNode.call(this,e,t,n,i),_.prototype.initFromNode.call(this,e,t,n,i),y.prototype.initFromNode.call(this,e,t,n,i),m.prototype.initFromNode.call(this,e,t,n,i),E.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},S.prototype.initFromNode=function(e,t,n,r,i){v.prototype.initFromNode.call(this,e,t,n,i),_.prototype.initFromNode.call(this,e,t,n,i),y.prototype.initFromNode.call(this,e,t,n,i),m.prototype.initFromNode.call(this,e,t,n,i),E.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},w.prototype.initFromNode=function(e,t,n,r,i,a){v.prototype.initFromNode.call(this,e,t,n,a),_.prototype.initFromNode.call(this,e,t,n,a),y.prototype.initFromNode.call(this,e,t,n,a),m.prototype.initFromNode.call(this,e,t,n,a),E.prototype.initFromNode.call(this,e,t,n,a),this.space=i,this.lang=r},C.prototype.initFromText=function(e,t,n,r,i,a){_.prototype.initFromNode.call(this,e,t,null,a),this.text=n,this.space=i,this.lang=r},I.prototype.initFromNode=function(e,t,n,r,i){m.prototype.initFromNode.call(this,e,t,n,i),_.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},k.prototype.createDefaultRegion=function(e){var t=new k;return g.call(t,""),v.call(t,{}),y.call(t,[]),_.call(t,0,Number.POSITIVE_INFINITY,null),this.lang=e,t},k.prototype.initFromNode=function(e,t,n,r){g.prototype.initFromNode.call(this,e,null,t,r),_.prototype.initFromNode.call(this,e,null,t,r),y.prototype.initFromNode.call(this,e,null,t,r),this.styleAttrs=L(t,r),this.styleRefs=M(t),this.lang=n},R.prototype.initFromNode=function(e,t,n,r){_.prototype.initFromNode.call(this,e,t,n,r);var i=L(n,r);for(var a in this.qname=null,this.value=null,i)if(i.hasOwnProperty(a)){if(this.qname){U(r,"More than one style specified on set");break}this.qname=a,this.value=i[a]}}}(void 0===e?e.imscDoc={}:e,"undefined"==typeof sax?Ne():sax,"undefined"==typeof imscNames?Re():imscNames,"undefined"==typeof imscStyles?Me():imscStyles,"undefined"==typeof imscUtils?De():imscUtils)}}),xe=h({"src/vendors/dash.js/node_modules/imsc/src/main/js/html.js":function(e){var t=/firefox/i.test(navigator.userAgent);!function(e,n,r){function i(e,n,d,f){var p;if("region"===d.kind)(p=document.createElement("div")).style.position="absolute";else if("body"===d.kind)p=document.createElement("div");else if("div"===d.kind)p=document.createElement("div");else if("image"===d.kind){if(p=document.createElement("img"),null!==e.imgResolver&&null!==d.src){var m=e.imgResolver(d.src,p);m&&(p.src=m),p.height=e.regionH,p.width=e.regionW}}else if("p"===d.kind)p=document.createElement("p");else if("span"===d.kind)if("container"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("ruby"),e.ruby=!0;else if("base"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("span");else if("text"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("rt");else if("baseContainer"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("rbc");else if("textContainer"===d.styleAttrs[r.byName.ruby.qname])p=document.createElement("rtc");else{if("delimiter"===d.styleAttrs[r.byName.ruby.qname])return;p=document.createElement("span")}else"br"===d.kind&&(p=document.createElement("br"));if(p){if(d.lang&&("region"!==d.kind&&d.lang===f.lang||(p.lang=d.lang)),n.appendChild(p),p.style.margin="0","region"===d.kind){var E=d.styleAttrs[r.byName.writingMode.qname];"lrtb"===E||"lr"===E?(e.ipd="lr",e.bpd="tb"):"rltb"===E||"rl"===E?(e.ipd="rl",e.bpd="tb"):"tblr"===E?(e.ipd="tb",e.bpd="lr"):"tbrl"!==E&&"tb"!==E||(e.ipd="tb",e.bpd="rl")}else if("p"===d.kind&&"tb"===e.bpd){var _=d.styleAttrs[r.byName.direction.qname];e.ipd="ltr"===_?"lr":"rl"}for(var T=0;T<h.length;T++){var b=h[T],S=d.styleAttrs[b.qname];void 0!==S&&null!==b.map&&b.map(e,p,d,S)}var w=p,C=d.styleAttrs[r.byName.linePadding.qname];if(C&&!C.isZero()){var I=C.toUsedLength(e.w,e.h);if(I>0){var k=Math.ceil(I)+"px";"tb"===e.bpd?(w.style.paddingLeft=k,w.style.paddingRight=k):(w.style.paddingTop=k,w.style.paddingBottom=k),e.lp=C}}var R=d.styleAttrs[r.byName.multiRowAlign.qname];if(R&&"auto"!==R){var D=document.createElement("span");D.style.display="inline-block",D.style.textAlign=R,p.appendChild(D),w=D,e.mra=R}var M=d.styleAttrs[r.byName.rubyReserve.qname];if(M&&"none"!==M[0]&&(e.rubyReserve=M),d.styleAttrs[r.byName.fillLineGap.qname]&&(e.flg=!0),"span"===d.kind&&d.text){var L=d.styleAttrs[r.byName.textEmphasis.qname];if(L&&"none"!==L.style&&(e.textEmphasis=!0),r.byName.textCombine.qname in d.styleAttrs&&"all"===d.styleAttrs[r.byName.textCombine.qname])p.textContent=d.text,p._isd_element=d,L&&c(e,p,d,L);else for(var N="",B=0;B<d.text.length;B++){N+=d.text.charAt(B);var x=d.text.charCodeAt(B);if(x<55296||x>56319||B===d.text.length-1){var P=document.createElement("span");P.textContent=N,L&&c(e,P,d,L),p.appendChild(P),N="",P._isd_element=d}}}if("contents"in d)for(var O=0;O<d.contents.length;O++)i(e,w,d.contents[O],d);var F=[];if("p"===d.kind&&(u(e,w,F,null),e.rubyReserve&&(!function(e,t){for(var n=0;n<e.length;n++){var r,i,a=document.createElement("ruby"),s=document.createElement("span");s.textContent="​",a.appendChild(s);var o,l=t.rubyReserve[1].toUsedLength(t.w,t.h)+"px";if("both"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&1==e.length)(r=document.createElement("rtc")).style[g]=A?"after":"under",r.textContent="​",r.style.fontSize=l,(i=document.createElement("rtc")).style[g]=A?"before":"over",i.textContent="​",i.style.fontSize=l,a.appendChild(r),a.appendChild(i);else(r=document.createElement("rtc")).textContent="​",r.style.fontSize=l,o="after"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&n>0?A?"after":"tb"===t.bpd||"rl"===t.bpd?"under":"over":A?"before":"tb"===t.bpd||"rl"===t.bpd?"over":"under",r.style[g]=o,a.appendChild(r);for(var u=null,c=0;c<e[n].rbc.length;c++)if("ruby"===e[n].rbc[c].localName){u=e[n].rbc[c];for(var d=0;d<u.style.length;d++)a.style.setProperty(u.style.item(d),u.style.getPropertyValue(u.style.item(d)));break}(u=u||e[n].elements[0].node).parentElement.insertBefore(a,u)}}(F,e),e.rubyReserve=null),(e.ruby||e.rubyReserve)&&(!function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].rbc.length;r++){var i;if(!e[n].rbc[r].style[g])i=A?0===n?"before":"after":"tb"===t.bpd||"rl"===t.bpd?0===n?"over":"under":0===n?"under":"over",e[n].rbc[r].style[g]=i}}(F,e),e.ruby=null),e.textEmphasis&&(!function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].te.length;r++){var i;if(!e[n].te[r].style[v]||"none"===e[n].te[r].style[v])i="tb"===t.bpd?0===n?"left over":"left under":"rl"===t.bpd?0===n?"right under":"left under":0===n?"left under":"right under",e[n].te[r].style[v]=i}}(F,e),e.textEmphasis=null),e.mra&&(!function(e){for(var t=0;t<e.length-1;t++){var n=e[t].elements.length;if(0!==n&&!1===e[t].br){var r=document.createElement("br"),i=e[t].elements[n-1].node;i.parentElement.insertBefore(r,i.nextSibling)}}}(F),e.mra=null),e.lp&&(!function(e,n,r){if(null===e)return;for(var i=0;i<e.length;i++){var a=e[i].elements.length,s=Math.ceil(n)+"px",o="-"+Math.ceil(n)+"px";if(0!==a){var l=e[i].elements[e[i].start_elem],u=e[i].elements[e[i].end_elem];if(l===u){var c=l.node.getBoundingClientRect();if(0==c.width||0==c.height)continue}"lr"===r.ipd?(l.node.style.marginLeft=o,l.node.style.paddingLeft=s):"rl"===r.ipd?(l.node.style.paddingRight=s,l.node.style.marginRight=o):"tb"===r.ipd&&(l.node.style.paddingTop=s,l.node.style.marginTop=o),"lr"===r.ipd?(t||(u.node.style.marginRight=o),u.node.style.paddingRight=s):"rl"===r.ipd?(u.node.style.paddingLeft=s,t||(u.node.style.marginLeft=o)):"tb"===r.ipd&&(u.node.style.paddingBottom=s,u.node.style.marginBottom=o)}}}(F,e.lp.toUsedLength(e.w,e.h),e),e.lp=null),function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=1;i<r.elements.length;){var o=r.elements[i-1],l=r.elements[i];s(o.node,l.node,t)?r.elements.splice(i,1):i++}for(var u,c,d=[],h=0;h<e.length;h++)for(var f=0;f<e[h].elements.length;f++)(c=a(u=e[h].elements[f].node,d,!1))&&(u.style.backgroundColor=c);for(var p=0;p<d.length;p++)d[p].style.backgroundColor=""}(F,e),e.flg)){var U=l(w.getBoundingClientRect(),e);!function(e,t,n,r,i){for(var a=Math.sign(n-t),s=0;s<=e.length;s++){var o,l,u,c;if(o=0===s?Math.round(t):s===e.length?Math.round(n):Math.round((e[s-1].after+e[s].before)/2),s>0&&e[s-1])for(u=0;u<e[s-1].elements.length;u++)l=a*(o-(c=e[s-1].elements[u]).after)+"px","lr"===r.bpd?c.node.style.paddingRight=l:"rl"===r.bpd?c.node.style.paddingLeft=l:"tb"===r.bpd&&(c.node.style.paddingBottom=l);if(s<e.length)for(u=0;u<e[s].elements.length;u++)l=a*((c=e[s].elements[u]).before-o)+"px","lr"===r.bpd?c.node.style.paddingLeft=l:"rl"===r.bpd?c.node.style.paddingRight=l:"tb"===r.bpd&&(c.node.style.paddingTop=l)}}(F,U.before,U.after,e),e.flg=null}if("region"===d.kind&&"tb"===e.bpd&&e.enableRollUp&&d.contents.length>0&&"after"===d.styleAttrs[r.byName.displayAlign.qname]){u(e,w,F,null);var j=new o(""===d.id?"_":d.id,F);if(e.currentISDState[j.id]=j,e.previousISDState&&j.id in e.previousISDState&&e.previousISDState[j.id].plist.length>0&&j.plist.length>1&&j.plist[j.plist.length-2].text===e.previousISDState[j.id].plist[e.previousISDState[j.id].plist.length-1].text){var Q=p.firstElementChild,G=j.plist[j.plist.length-1].after-j.plist[j.plist.length-1].before;Q.style.bottom="-"+G+"px",Q.style.transition="transform 0.4s",Q.style.position="relative",Q.style.transform="translateY(-"+G+"px)"}}}else y(e.errorHandler,"Error processing ISD element kind: "+d.kind)}function a(e,t,n){return e.style.backgroundColor?(n&&!t.includes(e)&&t.push(e),e.style.backgroundColor):"SPAN"===e.parentElement.nodeName||"RUBY"===e.parentElement.nodeName||"RBC"===e.parentElement.nodeName||"RTC"===e.parentElement.nodeName||"RT"===e.parentElement.nodeName?a(e.parentElement,t,!0):void 0}function s(e,t,n){if("SPAN"===e.tagName&&"SPAN"===t.tagName&&e._isd_element===t._isd_element){if(!e._isd_element)return y(n.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;e.textContent+=t.textContent;for(var r=0;r<t.style.length;r++){var i=t.style[r];(i.indexOf("border")>=0||i.indexOf("padding")>=0||i.indexOf("margin")>=0)&&(e.style[i]=t.style[i])}return t.parentElement.removeChild(t),!0}return!1}function o(e,t){this.id=e,this.plist=t}function l(e,t){var n={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(n.before=e.top,n.after=e.bottom,"lr"===t.ipd?(n.start=e.left,n.end=e.right):(n.start=e.right,n.end=e.left)):"lr"===t.bpd?(n.before=e.left,n.after=e.right,n.start=e.top,n.end=e.bottom):"rl"===t.bpd&&(n.before=e.right,n.after=e.left,n.start=e.top,n.end=e.bottom),n}function u(e,t,n,r){if("rt"!==t.localName&&"rtc"!==t.localName){var i,a,s,o,c=t.style.backgroundColor||r;if(0===t.childElementCount)if("span"===t.localName||"rb"===t.localName){var d=l(t.getBoundingClientRect(),e);if(0!==n.length&&(i=d.before,a=d.after,s=n[n.length-1].before,o=n[n.length-1].after,a<o&&i>s||o<=a&&s>=i)){var h=Math.sign(d.after-d.before),f=Math.sign(d.end-d.start);h*(d.before-n[n.length-1].before)<0&&(n[n.length-1].before=d.before),h*(d.after-n[n.length-1].after)>0&&(n[n.length-1].after=d.after),f*(d.start-n[n.length-1].start)<0&&(n[n.length-1].start=d.start,n[n.length-1].start_elem=n[n.length-1].elements.length),f*(d.end-n[n.length-1].end)>0&&(n[n.length-1].end=d.end,n[n.length-1].end_elem=n[n.length-1].elements.length)}else n.push({before:d.before,after:d.after,start:d.start,end:d.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});n[n.length-1].text+=t.textContent,n[n.length-1].elements.push({node:t,bgcolor:c,before:d.before,after:d.after})}else"br"===t.localName&&0!==n.length&&(n[n.length-1].br=!0);else for(var p=t.firstChild;p;)p.nodeType===Node.ELEMENT_NODE&&(u(e,p,n,c),"ruby"===p.localName||"rtc"===p.localName?n.length>0&&n[n.length-1].rbc.push(p):"span"===p.localName&&p.style[m]&&"none"!==p.style[m]&&n.length>0&&n[n.length-1].te.push(p)),p=p.nextSibling}}function c(e,t,n,r){var i;"none"!==r.style&&("auto"===r.style?t.style[m]="filled":t.style[m]=r.style+" "+r.symbol,("before"===r.position||"after"===r.position)&&(i="tb"===e.bpd?"before"===r.position?"left over":"left under":"rl"===e.bpd?"before"===r.position?"right under":"left under":"before"===r.position?"left under":"right under",t.style[v]=i))}function d(e,t){this.qname=e,this.map=t}e.render=function(e,t,n,r,a,s,o,l,u){var c=r||t.clientHeight,d=a||t.clientWidth;if(null!==e.aspectRatio){var h=c*e.aspectRatio;h>d?c=Math.round(d/e.aspectRatio):d=h}var f=document.createElement("div");f.style.position="relative",f.style.width=d+"px",f.style.height=c+"px",f.style.margin="auto",f.style.top=0,f.style.bottom=0,f.style.left=0,f.style.right=0,f.style.zIndex=0;var p={h:c,w:d,regionH:null,regionW:null,imgResolver:n,displayForcedOnlyMode:s||!1,isd:e,errorHandler:o,previousISDState:l,enableRollUp:u||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(t.appendChild(f),"contents"in e)for(var A=0;A<e.contents.length;A++)i(p,f,e.contents[A],e);return p.currentISDState};for(var h=[new d("http://www.w3.org/ns/ttml#styling backgroundColor",(function(e,t,n,r){0!==r[3]&&(t.style.backgroundColor="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")")})),new d("http://www.w3.org/ns/ttml#styling color",(function(e,t,n,r){t.style.color="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"})),new d("http://www.w3.org/ns/ttml#styling direction",(function(e,t,n,r){t.style.direction=r})),new d("http://www.w3.org/ns/ttml#styling display",(function(e,t,n,r){})),new d("http://www.w3.org/ns/ttml#styling displayAlign",(function(e,t,n,r){t.style.display="flex",t.style.flexDirection="column","before"===r?t.style.justifyContent="flex-start":"center"===r?t.style.justifyContent="center":"after"===r&&(t.style.justifyContent="flex-end")})),new d("http://www.w3.org/ns/ttml#styling extent",(function(e,t,n,r){e.regionH=r.h.toUsedLength(e.w,e.h),e.regionW=r.w.toUsedLength(e.w,e.h);var i=0,a=0,s=n.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];s&&(i=s[0].toUsedLength(e.w,e.h)+s[2].toUsedLength(e.w,e.h),a=s[1].toUsedLength(e.w,e.h)+s[3].toUsedLength(e.w,e.h)),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-a+"px"})),new d("http://www.w3.org/ns/ttml#styling fontFamily",(function(e,t,n,r){for(var i=[],a=0;a<r.length;a++)r[a]=r[a].trim(),"monospaceSerif"===r[a]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===r[a]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===r[a]?i.push("monospace"):"sansSerif"===r[a]?i.push("sans-serif"):"serif"===r[a]?i.push("serif"):"monospaceSansSerif"===r[a]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===r[a]?i.push("serif"):i.push(r[a]);if(i.length>0){for(var s=[i[0]],o=1;o<i.length;o++)-1==s.indexOf(i[o])&&s.push(i[o]);i=s}t.style.fontFamily=i.join(",")})),new d("http://www.w3.org/ns/ttml#styling shear",(function(e,t,n,r){if(0!==r){var i=-.9*r;"tb"===e.bpd?t.style.transform="skewX("+i+"deg)":t.style.transform="skewY("+i+"deg)"}})),new d("http://www.w3.org/ns/ttml#styling fontSize",(function(e,t,n,r){t.style.fontSize=r.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling fontStyle",(function(e,t,n,r){t.style.fontStyle=r})),new d("http://www.w3.org/ns/ttml#styling fontWeight",(function(e,t,n,r){t.style.fontWeight=r})),new d("http://www.w3.org/ns/ttml#styling lineHeight",(function(e,t,n,r){t.style.lineHeight="normal"===r?"normal":r.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling opacity",(function(e,t,n,r){t.style.opacity=r})),new d("http://www.w3.org/ns/ttml#styling origin",(function(e,t,n,r){t.style.top=r.h.toUsedLength(e.w,e.h)+"px",t.style.left=r.w.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling overflow",(function(e,t,n,r){t.style.overflow=r})),new d("http://www.w3.org/ns/ttml#styling padding",(function(e,t,n,r){var i=[];i[0]=r[0].toUsedLength(e.w,e.h)+"px",i[1]=r[3].toUsedLength(e.w,e.h)+"px",i[2]=r[2].toUsedLength(e.w,e.h)+"px",i[3]=r[1].toUsedLength(e.w,e.h)+"px",t.style.padding=i.join(" ")})),new d("http://www.w3.org/ns/ttml#styling position",(function(e,t,n,r){t.style.top=r.h.toUsedLength(e.w,e.h)+"px",t.style.left=r.w.toUsedLength(e.w,e.h)+"px"})),new d("http://www.w3.org/ns/ttml#styling rubyAlign",(function(e,t,n,r){t.style.rubyAlign="spaceAround"===r?"space-around":"center"})),new d("http://www.w3.org/ns/ttml#styling rubyPosition",(function(e,t,n,r){var i;"before"!==r&&"after"!==r||(i=A?r:"tb"===e.bpd||"rl"===e.bpd?"before"===r?"over":"under":"before"===r?"under":"over",t.parentElement.style[g]=i)})),new d("http://www.w3.org/ns/ttml#styling showBackground",null),new d("http://www.w3.org/ns/ttml#styling textAlign",(function(e,t,n,r){var i;i="start"===r?"rl"===e.ipd?"right":"left":"end"===r?"rl"===e.ipd?"left":"right":r,t.style.textAlign=i})),new d("http://www.w3.org/ns/ttml#styling textDecoration",(function(e,t,n,r){t.style.textDecoration=r.join(" ").replace("lineThrough","line-through")})),new d("http://www.w3.org/ns/ttml#styling textOutline",(function(e,t,n,r){})),new d("http://www.w3.org/ns/ttml#styling textShadow",(function(e,t,n,i){var a=n.styleAttrs[r.byName.textOutline.qname];if("none"===i&&"none"===a)t.style.textShadow="";else{var s=[];if("none"!==a){var o="rgba("+a.color[0].toString()+","+a.color[1].toString()+","+a.color[2].toString()+","+(a.color[3]/255).toString()+")";s.push("1px 1px 1px "+o),s.push("-1px 1px 1px "+o),s.push("1px -1px 1px "+o),s.push("-1px -1px 1px "+o)}if("none"!==i)for(var l=0;l<i.length;l++)s.push(i[l].x_off.toUsedLength(e.w,e.h)+"px "+i[l].y_off.toUsedLength(e.w,e.h)+"px "+i[l].b_radius.toUsedLength(e.w,e.h)+"px rgba("+i[l].color[0].toString()+","+i[l].color[1].toString()+","+i[l].color[2].toString()+","+(i[l].color[3]/255).toString()+")");t.style.textShadow=s.join(",")}})),new d("http://www.w3.org/ns/ttml#styling textCombine",(function(e,t,n,r){t.style.textCombineUpright=r})),new d("http://www.w3.org/ns/ttml#styling textEmphasis",(function(e,t,n,r){})),new d("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(e,t,n,r){var i;i="bidiOverride"===r?"bidi-override":r,t.style.unicodeBidi=i})),new d("http://www.w3.org/ns/ttml#styling visibility",(function(e,t,n,r){t.style.visibility=r})),new d("http://www.w3.org/ns/ttml#styling wrapOption",(function(e,t,n,r){"wrap"===r?"preserve"===n.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===n.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"})),new d("http://www.w3.org/ns/ttml#styling writingMode",(function(e,t,n,r){"lrtb"===r||"lr"===r||"rltb"===r||"rl"===r?t.style.writingMode="horizontal-tb":"tblr"===r?t.style.writingMode="vertical-lr":"tbrl"!==r&&"tb"!==r||(t.style.writingMode="vertical-rl")})),new d("http://www.w3.org/ns/ttml#styling zIndex",(function(e,t,n,r){t.style.zIndex=r})),new d("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(e,t,n,r){e.displayForcedOnlyMode&&!1===r&&(t.style.visibility="hidden")}))],f={},p=0;p<h.length;p++)f[h[p].qname]=h[p];var A="webkitRubyPosition"in window.getComputedStyle(document.documentElement),g=A?"webkitRubyPosition":"rubyPosition",m="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",v="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function y(e,t){if(e&&e.error&&e.error(t))throw t}}(void 0===e?e.imscHTML={}:e,"undefined"==typeof imscNames?Re():imscNames,"undefined"==typeof imscStyles?Me():imscStyles,"undefined"==typeof imscUtils?De():imscUtils)}}),Pe=h({"src/vendors/dash.js/node_modules/imsc/src/main/js/main.js":function(e){e.generateISD=Le().generateISD,e.fromXML=Be().fromXML,e.renderHTML=xe().render}}),Oe=h({"src/vendors/dash.js/node_modules/es6-promise/dist/es6-promise.js":function(e,t){var n,r;n=e,r=function(){function e(e){return"function"==typeof e}var t=void 0;t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var n=t,r=0,i=void 0,a=void 0,s=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(a?a(A):E())},o="undefined"!=typeof window?window:void 0,l=o||{},u=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(A,1)}}var p=new Array(1e3);function A(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var g,m,v,y,E=void 0;function _(e,t){var n=this,r=new this.constructor(S);void 0===r[b]&&O(r);var i=n._state;if(i){var a=arguments[i-1];s((function(){return x(i,r,a,n._result)}))}else N(n,r,e,t);return r}function T(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(S);return R(t,e),t}d?E=function(){return process.nextTick(A)}:u?(m=0,v=new u(A),y=document.createTextNode(""),v.observe(y,{characterData:!0}),E=function(){y.data=m=++m%2}):h?((g=new MessageChannel).port1.onmessage=A,E=function(){return g.port2.postMessage(0)}):E=void 0===o&&"function"==typeof c?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(A)}:f()}catch(e){return f()}}():f();var b=Math.random().toString(36).substring(2);function S(){}var w=void 0,C=1,I=2;function k(t,n,r){n.constructor===t.constructor&&r===_&&n.constructor.resolve===T?function(e,t){t._state===C?M(e,t._result):t._state===I?L(e,t._result):N(t,void 0,(function(t){return R(e,t)}),(function(t){return L(e,t)}))}(t,n):void 0===r?M(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?R(e,n):M(e,n))}),(function(t){r||(r=!0,L(e,t))}),e._label);!r&&i&&(r=!0,L(e,i))}),e)}(t,n,r):M(t,n)}function R(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=void 0===e?"undefined":_type_of(e);return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void L(e,t)}k(e,t,n)}else M(e,t)}function D(e){e._onerror&&e._onerror(e._result),B(e)}function M(e,t){e._state===w&&(e._result=t,e._state=C,0!==e._subscribers.length&&s(B,e))}function L(e,t){e._state===w&&(e._state=I,e._result=t,s(D,e))}function N(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+C]=n,i[a+I]=r,0===a&&e._state&&s(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?x(n,r,i,a):i(a);e._subscribers.length=0}}function x(t,n,r,i){var a=e(r),s=void 0,o=void 0,l=!0;if(a){try{s=r(i)}catch(e){l=!1,o=e}if(n===s)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;n._state!==w||(a&&l?R(n,s):!1===l?L(n,o):t===C?M(n,s):t===I&&L(n,s))}var P=0;function O(e){e[b]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[b]||O(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&M(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===w&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===T){var i=void 0,a=void 0,s=!1;try{i=e.then}catch(e){s=!0,a=e}if(i===_&&e._state!==w)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===U){var o=new n(S);s?L(o,a):k(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===w&&(this._remaining--,e===I?L(r,n):this._result[t]=n),0===this._remaining&&M(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;N(e,void 0,(function(e){return n._settledAt(C,t,e)}),(function(e){return n._settledAt(I,t,e)}))},e}(),U=function(){function t(e){this[b]=P++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),_instanceof(this,t)?function(e,t){try{t((function(t){R(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return U.prototype.then=_,U.all=function(e){return new F(this,e).promise},U.race=function(e){var t=this;return n(e)?new t((function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},U.resolve=T,U.reject=function(e){var t=new this(S);return L(t,e),t},U._setScheduler=function(e){a=e},U._setAsap=function(e){s=e},U._asap=s,U.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=U},U.Promise=U,U},"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):n.ES6Promise=r()}}),Fe=h({"src/vendors/dash.js/node_modules/es6-promise/auto.js":function(e,t){t.exports=Oe().polyfill()}}),Ue=h({"node_modules/ua-parser-js/src/ua-parser.js":function(e,t){!function(n,r){var i="function",a="undefined",s="object",o="string",l="major",u="model",c="name",d="type",h="vendor",f="version",p="architecture",A="console",g="mobile",m="tablet",v="smarttv",y="wearable",E="embedded",_="Amazon",T="Apple",b="ASUS",S="BlackBerry",w="Browser",C="Chrome",I="Firefox",k="Google",R="Huawei",D="LG",M="Microsoft",L="Motorola",N="Opera",B="Samsung",x="Sharp",P="Sony",O="Xiaomi",F="Zebra",U="Facebook",j="Chromium OS",Q="Mac OS",G=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},V=function(e,t){return(void 0===e?"undefined":_type_of(e))===o&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},Y=function(e,t){if((void 0===e?"undefined":_type_of(e))===o)return e=e.replace(/^\s\s*/,""),(void 0===t?"undefined":_type_of(t))===a?e:e.substring(0,500)},q=function(e,t){for(var n,a,o,l,u,c,d=0;d<t.length&&!u;){var h=t[d],f=t[d+1];for(n=a=0;n<h.length&&!u&&h[n];)if(u=h[n++].exec(e))for(o=0;o<f.length;o++)c=u[++a],(void 0===(l=f[o])?"undefined":_type_of(l))===s&&l.length>0?2===l.length?_type_of(l[1])==i?this[l[0]]=l[1].call(this,c):this[l[0]]=l[1]:3===l.length?_type_of(l[1])!==i||l[1].exec&&l[1].test?this[l[0]]=c?c.replace(l[1],l[2]):r:this[l[0]]=c?l[1].call(this,c,l[2]):r:4===l.length&&(this[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):r):this[l]=c||r;d+=2}},z=function(e,t){for(var n in t)if(_type_of(t[n])===s&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(V(t[n][i],e))return"?"===n?r:n}else if(V(t[n],e))return"?"===n?r:n;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,f],[/opios[\/ ]+([\w\.]+)/i],[f,[c,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[c,N]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[c,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[c,"UC"+w]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[c,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[c,"Smart Lenovo "+w]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+w],f],[/\bfocus\/([\w\.]+)/i],[f,[c,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[c,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[c,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[c,"MIUI "+w]],[/fxios\/([-\w\.]+)/i],[f,[c,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+w]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+w],f],[/samsungbrowser\/([\w\.]+)/i],[f,[c,B+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],f],[/metasr[\/ ]?([\d\.]+)/i],[f,[c,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[c,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[c,f],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,U],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[c,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[c,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[c,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[c,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,C+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[c,"Android "+w]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[f,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[c,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[c,f],[/(cobalt)\/([\w\.]+)/i],[c,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,H]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[h,B],[d,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[h,B],[d,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[h,T],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[h,T],[d,m]],[/(macintosh);/i],[u,[h,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[h,x],[d,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[h,R],[d,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[h,R],[d,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[h,O],[d,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[h,O],[d,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[h,"OPPO"],[d,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[h,"Vivo"],[d,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[h,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[h,L],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[h,L],[d,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[h,D],[d,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[h,D],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[h,"Lenovo"],[d,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[h,"Nokia"],[d,g]],[/(pixel c)\b/i],[u,[h,k],[d,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[h,k],[d,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[h,P],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[h,P],[d,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[h,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[h,_],[d,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[h,_],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[u,h,[d,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[h,S],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[h,b],[d,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[h,b],[d,g]],[/(nexus 9)/i],[u,[h,"HTC"],[d,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[u,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[h,"Acer"],[d,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[h,"Meizu"],[d,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[h,"Ulefone"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,u,[d,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,u,[d,m]],[/(surface duo)/i],[u,[h,M],[d,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[h,"Fairphone"],[d,g]],[/(u304aa)/i],[u,[h,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[u,[h,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[u,[h,"RCA"],[d,m]],[/\b(venue[\d ]{2,7}) b/i],[u,[h,"Dell"],[d,m]],[/\b(q(?:mv|ta)\w+) b/i],[u,[h,"Verizon"],[d,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[h,"Barnes & Noble"],[d,m]],[/\b(tm\d{3}\w+) b/i],[u,[h,"NuVision"],[d,m]],[/\b(k88) b/i],[u,[h,"ZTE"],[d,m]],[/\b(nx\d{3}j) b/i],[u,[h,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[u,[h,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[u,[h,"Swiss"],[d,m]],[/\b((zeki)?tb.*\b) b/i],[u,[h,"Zeki"],[d,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],u,[d,m]],[/\b(ns-?\w{0,9}) b/i],[u,[h,"Insignia"],[d,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[h,"NextBook"],[d,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],u,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],u,[d,g]],[/\b(ph-1) /i],[u,[h,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[h,"Envizen"],[d,m]],[/\b(trio[-\w\. ]+) b/i],[u,[h,"MachSpeed"],[d,m]],[/\btu_(1491) b/i],[u,[h,"Rotor"],[d,m]],[/(shield[\w ]+) b/i],[u,[h,"Nvidia"],[d,m]],[/(sprint) (\w+)/i],[h,u,[d,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[h,M],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[h,F],[d,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[h,F],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,v]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[h,B],[d,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,D],[d,v]],[/(apple) ?tv/i],[h,[u,T+" TV"],[d,v]],[/crkey/i],[[u,C+"cast"],[h,k],[d,v]],[/droid.+aft(\w+)( bui|\))/i],[u,[h,_],[d,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[h,x],[d,v]],[/(bravia[\w ]+)( bui|\))/i],[u,[h,P],[d,v]],[/(mitv-\w{5}) bui/i],[u,[h,O],[d,v]],[/Hbbtv.*(technisat) (.*);/i],[h,u,[d,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,Y],[u,Y],[d,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,u,[d,A]],[/droid.+; (shield) bui/i],[u,[h,"Nvidia"],[d,A]],[/(playstation [345portablevi]+)/i],[u,[h,P],[d,A]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[h,M],[d,A]],[/((pebble))app/i],[h,u,[d,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[h,T],[d,y]],[/droid.+; (glass) \d/i],[u,[h,k],[d,y]],[/droid.+; (wt63?0{2,3})\)/i],[u,[h,F],[d,y]],[/(quest( 2| pro)?)/i],[u,[h,U],[d,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,E]],[/(aeobc)\b/i],[u,[h,_],[d,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[d,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,f],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[c,[f,z,W]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,z,W],[c,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,Q],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,f],[/\(bb(10);/i],[f,[c,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[c,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[c,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[c,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,j],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,f],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,f]]},X=function(e,t){if((void 0===e?"undefined":_type_of(e))===s&&(t=e,e=r),!_instanceof(this,X))return new X(e,t).getResult();var A=(void 0===n?"undefined":_type_of(n))!==a&&n.navigator?n.navigator:r,v=e||(A&&A.userAgent?A.userAgent:""),y=A&&A.userAgentData?A.userAgentData:r,E=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(K,t):K,_=A&&A.userAgent==v;return this.getBrowser=function(){var e,t={};return t[c]=r,t[f]=r,q.call(t,v,E.browser),t[l]=(void 0===(e=t[f])?"undefined":_type_of(e))===o?e.replace(/[^\d\.]/g,"").split(".")[0]:r,_&&A&&A.brave&&_type_of(A.brave.isBrave)==i&&(t[c]="Brave"),t},this.getCPU=function(){var e={};return e[p]=r,q.call(e,v,E.cpu),e},this.getDevice=function(){var e={};return e[h]=r,e[u]=r,e[d]=r,q.call(e,v,E.device),_&&!e[d]&&y&&y.mobile&&(e[d]=g),_&&"Macintosh"==e[u]&&A&&_type_of(A.standalone)!==a&&A.maxTouchPoints&&A.maxTouchPoints>2&&(e[u]="iPad",e[d]=m),e},this.getEngine=function(){var e={};return e[c]=r,e[f]=r,q.call(e,v,E.engine),e},this.getOS=function(){var e={};return e[c]=r,e[f]=r,q.call(e,v,E.os),_&&!e[c]&&y&&"Unknown"!=y.platform&&(e[c]=y.platform.replace(/chrome os/i,j).replace(/macos/i,Q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return v},this.setUA=function(e){return v=(void 0===e?"undefined":_type_of(e))===o&&e.length>500?Y(e,500):e,this},this.setUA(v),this};X.VERSION="1.0.37",X.BROWSER=G([c,f,l]),X.CPU=G([p]),X.DEVICE=G([u,h,d,A,g,v,m,y,E]),X.ENGINE=X.OS=G([c,f]),(void 0===e?"undefined":_type_of(e))!==a?((void 0===t?"undefined":_type_of(t))!==a&&t.exports&&(e=t.exports=X),e.UAParser=X):("undefined"==typeof define?"undefined":_type_of(define))===i&&define.amd?define((function(){return X})):(void 0===n?"undefined":_type_of(n))!==a&&(n.UAParser=X);var J=(void 0===n?"undefined":_type_of(n))!==a&&(n.jQuery||n.Zepto);if(J&&!J.ua){var Z=new X;J.ua=Z.getResult(),J.ua.get=function(){return Z.getUA()},J.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var n in t)J.ua[n]=t[n]}}}("object"==typeof window?window:e)}}),je=h({"node_modules/@mobile/advertisement/dist/index.js":function(e,t){var n,r;n=self,r=function(){return function(){var e={734:function(e,t,n){var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".Te6jQ\\+YCHq6XpS8c3L-VzQ\\=\\= {\n  visibility: hidden;\n  opacity: 0;\n}\n.Te6jQ\\+YCHq6XpS8c3L-VzQ\\=\\= * {\n  position: absolute;\n  width: 200%;\n  height: 200%;\n  overflow: scroll;\n}\n",""]),i.locals={"resize-sensor":"Te6jQ+YCHq6XpS8c3L-VzQ=="},t.Z=i},645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(i[s]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},379:function(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},s=[],o=0;o<e.length;o++){var l=e[o],u=r.base?l[0]+r.base:l[0],c=a[u]||0,d="".concat(u," ").concat(c);a[u]=c+1;var h=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=i(f,r);r.byIndex=o,t.splice(o,0,{identifier:d,updater:p,references:1})}s.push(d)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var o=n(a[s]);t[o].references--}for(var l=r(e,i),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},569:function(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&_instanceof(n,window.HTMLIFrameElement))try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};return function(){var e,t,i,a;n.r(r),n.d(r,{AdInvitationType:function(){return Se},AdQuality:function(){return _e},AdShowResultErrorComponent:function(){return i},AdShowResultErrorType:function(){return t},AdSlotType:function(){return e},AdUnitResult:function(){return l},AdViewState:function(){return Ie},AdViewType:function(){return H},Advertisement:function(){return bt},AdvertisementError:function(){return Tt},IPlayerErrorType:function(){return ct},NutConfiguration:function(){return Ct},NutConfigurationError:function(){return wt},PreloadUnitError:function(){return At}}),(a=e||(e={})).preroll="preroll",a.midroll="midroll",a.postroll="postroll",function(e){e.Http="http",e.Timeout="timeout",e.Parsing="parsing",e.Exception="exception"}(t||(t={})),function(e){e.Config="config",e.Creative="creative",e.Xml="xml",e.Module="module"}(i||(i={}));var s,o,l=function(e,t){this.slot=e,this.results=t};!function(e){e[e.loadStart=0]="loadStart",e[e.created=1]="created",e[e.initialized=2]="initialized",e[e.ready=3]="ready",e[e.start=4]="start",e[e.playing=5]="playing",e[e.paused=6]="paused",e[e.skipped=7]="skipped",e[e.time=8]="time",e[e.completed=9]="completed",e[e.buffering=10]="buffering",e[e.error=11]="error"}(s||(s={})),function(e){e[e.vpaid=0]="vpaid",e[e.vast=1]="vast",e[e.external=2]="external"}(o||(o={}));var u,c,d=function(){function e(e){this.value=e,this.listeners=[],this.listenersOnce=[]}return Object.defineProperty(e.prototype,"current",{get:function(){return this.value},enumerable:!1,configurable:!0}),e.prototype.on=function(e){var t=this;return this.listeners.push(e),{dispose:function(){return t.off(e)}}},e.prototype.once=function(e){var t=this;return this.listenersOnce.push(e),{dispose:function(){return t.off(e)}}},e.prototype.off=function(e){var t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1),(t=this.listenersOnce.indexOf(e))>-1&&this.listenersOnce.splice(t,1)},e.prototype.emit=function(e){if(this.value=e,this.listeners.forEach((function(t){return t(e)})),this.listenersOnce.length>0){var t=this.listenersOnce;this.listenersOnce=[],t.forEach((function(t){return t(e)}))}},e.prototype.pipe=function(e){return this.on((function(t){return e.emit(t)}))},e}(),h=(u=function(e,t){return(u=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(n,r,i){var a=e.call(this)||this;return a.type=n,a.component=r,a.meta=i,Object.setPrototypeOf(a,t.prototype),a}return h(t,e),t}(Error);!function(e){e[e.XMLParsing=100]="XMLParsing",e[e.VastSchemaValidating=101]="VastSchemaValidating",e[e.VastVersionNotSupported=102]="VastVersionNotSupported",e[e.AdTypeNotSupported=200]="AdTypeNotSupported",e[e.UnexpectedLinearity=201]="UnexpectedLinearity",e[e.UnexpectedDuration=202]="UnexpectedDuration",e[e.WrapperGeneral=300]="WrapperGeneral",e[e.WrapperTimeout=301]="WrapperTimeout",e[e.WrapperLimitReached=302]="WrapperLimitReached",e[e.NoAdResponse=303]="NoAdResponse",e[e.LinearGeneral=400]="LinearGeneral",e[e.LinearMediaFileNotFound=401]="LinearMediaFileNotFound",e[e.LinearMediaFileTimeout=402]="LinearMediaFileTimeout",e[e.LinearMediaFileNotFoundSupported=403]="LinearMediaFileNotFoundSupported",e[e.LinearMediaFileDisplayingProblem=405]="LinearMediaFileDisplayingProblem",e[e.NonLinearAds=500]="NonLinearAds",e[e.CompanionAds=600]="CompanionAds",e[e.General=900]="General",e[e.GeneralVPAID=901]="GeneralVPAID"}(c||(c={}));var p,A=function(){function e(){}return Object.defineProperty(e,"browserHiddenPrefix",{get:function(){if("hidden"in document)return null;for(var e=0,t=["moz","ms","o","webkit"];e<t.length;e++){var n=t[e];if(n+"Hidden"in document)return n}return null},enumerable:!1,configurable:!0}),e.getCookie=function(e){var t;try{if(document&&document.cookie){var n=new RegExp("(?:^|; )"+e.replace(/([\\.$?*|{}\\(\\)\\[\]\\\\/\\+^])/g,"\\$1")+"=([^;]*)");t=document.cookie.match(n)}else t=null}catch(e){t=null}return null!=t&&t.length>0?decodeURIComponent(t[1]):null},e.hiddenProperty=function(e){return e?e+"Hidden":"hidden"},e.visibilityState=function(e){return e?e+"VisibilityState":"visibilityState"},e.visibilityEvent=function(e){return e?e+"visibilitychange":"visibilitychange"},e.visibilityViewportChange=function(e){var t=new d(0),n=function(){var n=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,i=n.top,a=n.bottom,s=n.height;if(i<=0&&a<=0)t.emit(0);else if(i<0&&a>=0)s>r?t.emit(a/r*100):t.emit(a/s*100);else if(i>=0&&a>=0)if(r-i>=0){var o=r-i;o>s?t.emit(100):t.emit(o/s*100)}else t.emit(0)};return window.addEventListener?(window.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1),window.addEventListener("scroll",n,!1),window.addEventListener("resize",n,!1)):window.attachEvent&&(window.attachEvent("onDOMContentLoaded",n),window.attachEvent("onload",n),window.attachEvent("onscroll",n),window.attachEvent("onresize",n)),n(),t},e.isIOS=function(){return/iPad|iPhone|iPod/i.test(navigator.userAgent)},e}(),g=function(){function e(t){this.type=o.vast,this.player=e.createPlayer(t),this.stateEmitter=new d({state:s.created}),this.timingEmitter=new d({time:0,duration:0}),this.mutedEmitter=new d({isMuted:this.player.muted}),this.setupListeners()}return Object.defineProperty(e.prototype,"duration",{get:function(){return this.player.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.player.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this.player.ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.player.volume},set:function(e){var t=parseFloat(e);if(this.player.volume=t,0===t&&!1===this.player.muted||t>0&&!0===this.player.muted){var n=0===this.player.volume;this.player.muted=!!n,this.mutedEmitter.emit({isMuted:n})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this.player.muted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.player.currentTime},enumerable:!1,configurable:!0}),e.prototype.load=function(e,n,r,a){var s=this;return new Promise((function(a,o){var l;if(s.player.addEventListener("error",(function(){clearTimeout(l),o(s)})),s.player.src=e,n)return s.player.addEventListener("loadedmetadata",(function(){a(s)})),s.player.addEventListener("loadstart",(function(){l=setTimeout((function(){o(new f(t.Timeout,i.Creative,{url:e,code:c.LinearMediaFileTimeout,description:"Timeout of MediaFile URI"})),clearInterval(l)}),r)})),s.player.addEventListener("canplay",(function(){clearTimeout(l)})),void s.player.load();a(s)}))},e.prototype.reset=function(){this.player.pause(),this.player.removeAttribute("src"),this.player.load()},e.prototype.destroy=function(){var e;null===(e=this.player.parentElement)||void 0===e||e.removeChild(this.player)},e.prototype.play=function(){return e=this,n=function(){var e,t=this;return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,(function(n){switch(n.label){case 0:if(A.isIOS())return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.player.play()];case 2:return n.sent(),[2,Promise.resolve(this)];case 3:return e=n.sent(),[2,Promise.reject(e)];case 4:return n.trys.push([4,6,,7]),[4,this.player.play().then((function(){return Promise.resolve(t)}))];case 5:return[2,n.sent()];case 6:return n.sent(),this.player.muted=!0,[2,this.player.play().then((function(){var e=function(){t.player.muted=!1,window.removeEventListener("touchstart",e)};return window.addEventListener("touchstart",e),Promise.resolve(t)}))];case 7:return[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function a(e){try{o(n.next(e))}catch(e){i(e)}}function s(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){var n;e.done?r(e.value):(n=e.value,_instanceof(n,t)?n:new t((function(e){e(n)}))).then(a,s)}o((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.pause=function(){this.player.pause()},e.prototype.getNode=function(){return this.player},e.createPlayer=function(e){var t=document.createElement("video");return t.setAttribute("playsinline",""),t.style.width="100%",t.style.height="100%",t.volume=e,t.muted=e<=0,t},e.prototype.setupListeners=function(){this.player.addEventListener("ended",this.listenerEnded.bind(this)),this.player.addEventListener("timeupdate",this.listenerTimeUpdate.bind(this)),this.player.addEventListener("waiting",this.listenerBuffering.bind(this)),this.player.addEventListener("playing",this.listenerPlaying.bind(this)),this.player.addEventListener("pause",this.listenerPause.bind(this)),this.player.addEventListener("canplay",this.listenerLoad.bind(this)),this.player.addEventListener("loadedmetadata",this.listenerInitialized.bind(this)),this.player.addEventListener("loadstart",this.listenerLoadStart.bind(this)),this.player.addEventListener("error",this.listenerError.bind(this))},e.prototype.listenerEnded=function(){this.stateEmitter.emit({state:s.completed})},e.prototype.listenerTimeUpdate=function(){this.player.paused||this.timingEmitter.emit({time:this.currentTime,duration:this.duration})},e.prototype.listenerPlaying=function(){this.stateEmitter.emit({state:s.playing})},e.prototype.listenerBuffering=function(){this.stateEmitter.emit({state:s.buffering})},e.prototype.listenerPause=function(){this.stateEmitter.emit({state:s.paused})},e.prototype.listenerLoad=function(){this.stateEmitter.emit({state:s.ready})},e.prototype.listenerLoadStart=function(){this.stateEmitter.emit({state:s.loadStart})},e.prototype.listenerInitialized=function(){this.stateEmitter.emit({state:s.initialized})},e.prototype.listenerError=function(){this.stateEmitter.emit({state:s.error})},e}();!function(e){e.StartTime="startTime",e.SkipTime="skipTime",e.SkipTime2="skipTime2",e.SkipAd="skipAd",e.Skip="skip",e.AddClick="addClick",e.LinkTxt="linkTxt",e.IsClickable="isClickable",e.Controls="controls"}(p||(p={}));var m,v=function(){function e(e){var t=this;if(this.values=[],e){var n=e.extension,r=_instanceof(n,Array)?n:n&&"object"==typeof n?[n]:[],i=Object.values(p);r.forEach((function(e){var n=e["@type"];i.includes(n)&&(t.values[n]=t.values[n]||[],"keyValue"in e&&t.values[n].push(e.keyValue))}))}}return e.prototype.merge=function(e){var t=this;Object.keys(e.values).forEach((function(n){t.values[n]=t.values[n]||[],t.values[n].length&&n!==p.AddClick&&n!==p.SkipAd||(t.values[n]=t.values[n].concat(e.values[n]))}))},e}(),y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,_instanceof(t,n)?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},T=function(){function e(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=null),this.vast=e,this.pods=t,this.buffetQueue=n,this.standaloneServed=r,this.skipAll=i}return Object.defineProperty(e.prototype,"isPodPresented",{get:function(){return this.pods.length>0},enumerable:!1,configurable:!0}),e}(),b=function(e){function t(n){var r=e.call(this)||this;return r.type=n,Object.setPrototypeOf(r,t.prototype),r}return y(t,e),t.general="general",t.notLoaded="notLoaded",t.alreadyServed="alreadyServed",t.notExists="notExists",t.emptyBuffet="emptyBuffet",t}(Error),S=function(){function e(e,t,n){this.urlResolver=e,this.tracker=n,this.resolver=t,this.record=null,this.remainingTimeout=t.timeout.xml}return e.prototype.load=function(e){return E(this,void 0,void 0,(function(){var t,n,r,i;return _(this,(function(a){switch(a.label){case 0:return t=performance.now(),[4,this.resolver.load(this.urlResolver())];case 1:return n=a.sent(),this.remainingTimeout-=performance.now()-t,this.fullFill(n,this.tracker),e?this.record?(r=this.record.vast.ad,i=0,[4,this.next()]):[3,3]:[3,4];case 2:r[i]=a.sent(),a.label=3;case 3:case 4:return[2,this]}}))}))},e.prototype.next=function(){return E(this,void 0,void 0,(function(){return _(this,(function(e){if(null===this.record)throw new b(b.notLoaded);return this.record.isPodPresented?[2,this.sequencedAd(this.record)]:[2,this.standaloneAd(this.record)]}))}))},Object.defineProperty(e.prototype,"skipAd",{get:function(){var e=this.record;return null!==e&&"boolean"==typeof e.skipAll&&e.skipAll},enumerable:!1,configurable:!0}),e.prototype.fullFill=function(e,t){var n=e.ad.filter((function(e){return e.sequence>0})).sort((function(e,t){return e.sequence-t.sequence})),r=e.ad.filter((function(e){return!(e.sequence>0)})),i=new T(e,n,r);if(i.isPodPresented){var a=i.pods.map((function(e){return e.sequence}));a.forEach((function(e,n){a.indexOf(e)!==n&&t.trackError(i.pods[n].adError,c.VastSchemaValidating)}))}this.record=i},e.prototype.standaloneAd=function(e){return E(this,void 0,void 0,(function(){return _(this,(function(t){if(e.standaloneServed)throw new b(b.alreadyServed);return[2,this.buffetAd(e)]}))}))},e.prototype.sequencedAd=function(t){return E(this,void 0,void 0,(function(){var n,r;return _(this,(function(i){switch(i.label){case 0:if(!(n=t.pods.shift()))throw new b(b.notExists);return[4,this.resolver.loadWrappers(n,this.remainingTimeout)];case 1:return r=i.sent(),e.updateSkipAllBehaviour(t,r),[2,r];case 2:return[3,0];case 3:return[2]}}))}))},e.prototype.buffetAd=function(e){return E(this,void 0,void 0,(function(){var t,n;return _(this,(function(r){switch(r.label){case 0:if(!(t=e.buffetQueue.shift()))throw new b(b.emptyBuffet);return[4,this.resolver.loadWrappers(t,this.remainingTimeout)];case 1:if(n=r.sent())return e.standaloneServed=!0,[2,n];r.label=2;case 2:return[3,0];case 3:return[2]}}))}))},e.updateSkipAllBehaviour=function(e,t){if(null===e.skipAll){var n=(t&&t.extensions.values[p.SkipAd]||[])[0],r=null!=n&&[0,1].indexOf(n)>-1;e.skipAll=!!r&&!!n}},e}(),w=function(){function e(){}return e.value=function(e,t,n){if(null==e||null==t||"string"!=typeof t)return n;if(void 0===e[t]||null==e[t])return n;var r=e[t];return"object"==typeof r&&(r=r.keyValue),(void 0===r?"undefined":_type_of(r))==(void 0===n?"undefined":_type_of(n))?r:n},e.stringToArray=function(e){return"string"==typeof e?[e]:_instanceof(e,Array)?e:[]},e.transformToStringArray=function(e,t){return"string"==typeof e?[e]:_instanceof(e,Array)?e.map((function(e){return t(e)})):[]},e.strToBool=function(e){return/^\s*(true|1|on)\s*$/i.test(e)},e.isValidNumber=function(e){return"number"==typeof e&&isFinite(e)},e.isValidTime=function(e){var t=Number(e);return"number"==typeof t&&t>0},e.filterUnique=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))},e.concatUnique=function(t,n){return e.filterUnique(null==t?void 0:t.concat(n))},e.random=function(e,t,n){void 0===n&&(n=!1);var r=Math.ceil(e);return Math.floor(Math.random()*(Math.floor(t)-r+ +n)+r)},e.convertHHMMSStoSeconds=function(e){var t=e.split(":");return 2===t.length?60*t[0]+ +t[1]:3600*t[0]+60*t[1]+ +t[2]},e.convertSecondsToMs=function(e){return 1e3*e},e.convertSecondsToMinSec=function(e){var t=e,n=Math.floor(t/60),r=Math.floor(t%60),i=n.toString();i.length<2&&(i="0"+i);var a=r.toString();return a.length<2&&(a="0"+a),i+":"+a},e}();!function(e){e.CreativeView="creativeView",e.Start="start",e.Midpoint="midpoint",e.FirstQuartile="firstQuartile",e.ThirdQuartile="thirdQuartile",e.Complete="complete",e.Mute="mute",e.Unmute="unmute",e.Pause="pause",e.Rewind="rewind",e.Resume="resume",e.Fullscreen="fullscreen",e.ExitFullscreen="exitFullscreen",e.Expand="expand",e.Collapse="collapse",e.AcceptInvitation="acceptInvitation",e.Close="close",e.Skip="skip"}(m||(m={}));var C,I=new Map(Object.entries(m).map((function(e){var t=e[0];return[e[1],t]}))),k=function(){function e(e){this.type=w.value(e,"@event",""),this.url=w.value(e,"keyValue","")}return e.prototype.isValid=function(){var e=I.get(this.type),t="string"==typeof this.url&&this.url.length>0&&/^((http)s?:|\/\/\w)/.test(this.url.trim());return void 0!==e&&t},e.events=function(t){return t&&t.tracking?t.tracking.map((function(t){return new e(t)})).filter((function(e){return e.isValid()})):[]},e}();!function(e){e.ClickTracking="clickTrackingURIs",e.CustomClick="customClickURIs"}(C||(C={}));var R,D=function(){function e(e){if(!e)return this.clickTrackingURIs=[],void(this.customClickURIs=[]);this.clickThroughURI=w.value(e,"clickthrough",""),this.clickTrackingURIs=w.stringToArray(e.clicktracking),this.customClickURIs=w.stringToArray(e.customclick)}return e.prototype.merge=function(e){e&&(this.clickTrackingURIs=this.clickTrackingURIs.concat(e.clickTrackingURIs),this.customClickURIs=this.customClickURIs.concat(e.customClickURIs))},e}(),M=function(){function e(e,t,n,r){var i=this;this.isMidpointSent=!1,this.isFirstQuartileSent=!1,this.isThirdQuartileSent=!1,this.isStarted=!1,this.impression=e,this.creative=t,this.tracker=r,this.player=n,this.player.stateEmitter.on((function(e){i.callStatisticByState(e)})),this.player.timingEmitter.on((function(e){i.callStatisticByTime(e.time,e.duration)})),this.player.mutedEmitter.on((function(e){void 0!==e.isMuted&&i.callStatisticByMuted(e.isMuted)}))}return e.prototype.trackFullscreenEvent=function(e){e?this.tracker.trackCreative(m.Fullscreen,this.creative):this.tracker.trackCreative(m.ExitFullscreen,this.creative)},e.prototype.trackVideoClickEvent=function(){this.tracker.trackVideoClicks(C.ClickTracking,this.creative)},e.prototype.trackExtraEvent=function(e,t){this.tracker.trackExtra(e,t)},e.prototype.trackCloseEvent=function(){this.tracker.trackCreative(m.Close,this.creative)},e.prototype.trackErrorEvent=function(e,t){this.tracker.trackError(e,t)},e.prototype.callStatisticByState=function(e){switch(e.state){case s.initialized:this.tracker.trackImpression(this.impression);break;case s.ready:this.tracker.trackCreative(m.CreativeView,this.creative);break;case s.paused:this.player.duration-this.player.currentTime>.5&&this.player.currentTime>0&&this.tracker.trackCreative(m.Pause,this.creative);break;case s.playing:!1===this.isStarted?(this.tracker.trackCreative(m.Start,this.creative),this.isStarted=!0):this.tracker.trackCreative(m.Resume,this.creative);break;case s.completed:this.tracker.trackCreative(m.Complete,this.creative);break;case s.skipped:this.tracker.trackCreative(m.Skip,this.creative)}},e.prototype.callStatisticByTime=function(e,t){return e>.75*t&&!1===this.isThirdQuartileSent?(this.isThirdQuartileSent=!0,void this.tracker.trackCreative(m.ThirdQuartile,this.creative)):e>t/2&&!1===this.isMidpointSent?(this.isMidpointSent=!0,void this.tracker.trackCreative(m.Midpoint,this.creative)):e>t/4&&!1===this.isFirstQuartileSent?(this.isFirstQuartileSent=!0,void this.tracker.trackCreative(m.FirstQuartile,this.creative)):void 0},e.prototype.callStatisticByMuted=function(e){e?this.tracker.trackCreative(m.Mute,this.creative):this.tracker.trackCreative(m.Unmute,this.creative)},e}(),L=function(){function e(){}return e.stringToDate=function(e){if(null==e)return null;var t=null;try{var n=e.indexOf("T")>-1?e.split("T"):e.split(" ");if(2!==n.length)return null;var r=n[0].split("-"),i=n[1].split(":");(t=new Date).setFullYear(r[0],r[1]-1,r[2]);var a=(new Date).getTimezoneOffset()+180;t.setHours(i[0],i[1]-a,i[2])}catch(e){}return t},e.formatTime=function(t){if(t<=0)return"00";var n="string"==typeof t?parseInt(t,10):Math.ceil(t),r=Math.floor(n/3600),i=Math.floor((n-3600*r)/60),a=n-3600*r-60*i,s=0;r>23&&(r-=24*(s=Math.floor(r/24)));var o=""+r;0===r&&0===s?o="":r<10&&(o="0"+o);var l=""+i;i<10&&(l="0"+l);var u=""+a;return a<10&&(u="0"+u),(s>0?s+" "+e.getDayAddition(s)+" ":"")+(o?o+":":"")+l+":"+u},e.getDayAddition=function(e){if(1===Math.floor(e%100/10))return"дней";switch(e%10){case 1:return"день";case 2:case 3:case 4:return"дня";default:return"дней"}},e.formatDate=function(e){var t=""+e.getDate();e.getDate()<10&&(t="0"+t);var n=""+e.getMonth();e.getMonth()+1<10&&(n="0"+(e.getMonth()+1));var r=""+e.getHours();e.getHours()<10&&(r="0"+e.getHours());var i=""+e.getMinutes();return e.getMinutes()<10&&(i="0"+e.getMinutes()),t+"."+n+"."+e.getFullYear()+" "+r+":"+i},e}();!function(e){e.ErrorCode="ERRORCODE",e.ContentPlayhead="CONTENTPLAYHEAD",e.CacheBusting="CACHEBUSTING",e.AssetURI="ASSETURI"}(R||(R={}));var N,B,x=function(){function e(){}return e.resolve=function(t,n){for(var r=t,i=n&&"object"==typeof n?n:{},a=/\[(.*?)\]/,s=a.exec(r);null!=s;){var o=s[0],l=s[1],u=encodeURIComponent(e.parameter(l,i));r=r.replace(o,u),s=a.exec(r)}return r},e.parameter=function(e,t){switch(e){case R.ErrorCode:return null!=t.errorCode?""+t.errorCode:"";case R.CacheBusting:return""+w.random(1e7,1e8,!1);case R.AssetURI:return null!=t.creativeUrl?""+t.creativeUrl:"";case R.ContentPlayhead:var n=t.currentTime;return null!=n&&w.isValidNumber(n)?""+L.formatTime(n):"";default:return""}},e}(),P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.get=0]="get",e[e.post=1]="post"}(N||(N={})),function(e){e[e.Timeout=0]="Timeout"}(B||(B={}));var O,F,U=function(e){function t(n){var r=e.call(this)||this;return r.type=n,Object.setPrototypeOf(r,t.prototype),r}return P(t,e),t}(Error),j=function(){function e(){}return e.track=function(t,n,r,i){if(0!==t.length)if("post"===n){var a={url:t,method:N.post,headers:i};e.request(a,r)}else e.requestByImage(t,!1)},e.request=function(e,t){return void 0===t&&(t=null),new Promise((function(n,r){var i=new XMLHttpRequest;i.withCredentials=!0;var a="GET";switch(e.method){case N.get:a="GET";break;case N.post:a="POST"}i.timeout="number"==typeof e.timeout?e.timeout:10,i.timeout=0===i.timeout?1:i.timeout,i.open(a,e.url,!0),Array.isArray(e.headers)&&e.headers.forEach((function(e){e.name&&e.value&&i.setRequestHeader(e.name,e.value)})),i.onload=function(){if(i.status>=200&&i.status<300){var e={code:i.status,body:i.response,text:i.responseText};n(e)}else r({code:i.status,text:i.statusText})},i.onerror=function(){r({code:i.status,text:i.statusText})},i.ontimeout=function(){r(new U(B.Timeout))};var s=null!=t&&void 0!==t?t:null;i.send(s)}))},e.requestByImage=function(e,t){var n=new Image(1,1);t&&"crossOrigin"in n&&(n.crossOrigin="use-credentials"),n.src=e},e}(),Q=function(){function e(){this.handler=void 0}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setHandler=function(e){this.handler=e},e.prototype.debug=function(e){var t;null===(t=this.handler)||void 0===t||t.debug(e)},e.prototype.error=function(e,t){var n;null===(n=this.handler)||void 0===n||n.error(e,t)},e}(),G=function(){function e(){}return e.trackCreative=function(t,n){t&&n&&(Q.getInstance().debug("Tracked "+t),n.events(t).forEach((function(t){e.trackUrl(t.url)})))},e.trackExtra=function(t,n){t&&n&&(n.extensions.values[t]||[]).forEach((function(t){return e.trackUrl(t)}))},e.trackVideoClicks=function(t,n){(n.videoClicks[t]||[]).forEach((function(t){return e.trackUrl(t)}))},e.trackError=function(t,n){void 0===n&&(n=c.General),Array.isArray(t)&&t.forEach((function(t){return e.trackUrl(t,{errorCode:n})}))},e.trackImpression=function(t){t.forEach((function(t){return e.trackUrl(t)}))},e.trackUrl=function(e,t){var n=x.resolve(e,t);j.track(n,"get",null,[])},e}();function V(e){switch(e){case"AdStarted":return O.AdStarted;case"AdStopped":return O.AdStopped;case"AdSkipped":return O.AdSkipped;case"AdLoaded":return O.AdLoaded;case"AdSizeChange":return O.AdSizeChange;case"AdExpandedChange":return O.AdExpandedChange;case"AdSkippableStateChange":return O.AdSkippableStateChange;case"AdDurationChange":return O.AdDurationChange;case"AdRemainingTimeChange":return O.AdRemainingTimeChange;case"AdVolumeChange":return O.AdVolumeChange;case"AdImpression":return O.AdImpression;case"AdClickThru":return O.AdClickThru;case"AdInteraction":return O.AdInteraction;case"AdVideoStart":return O.AdVideoStart;case"AdVideoFirstQuartile":return O.AdVideoFirstQuartile;case"AdVideoMidpoint":return O.AdVideoMidpoint;case"AdVideoThirdQuartile":return O.AdVideoThirdQuartile;case"AdVideoComplete":return O.AdVideoComplete;case"AdUserAcceptInvitation":return O.AdUserAcceptInvitation;case"AdUserMinimize":return O.AdUserMinimize;case"AdUserClose":return O.AdUserClose;case"AdPaused":return O.AdPaused;case"AdPlaying":return O.AdPlaying;case"AdError":return O.AdError;case"AdLog":return O.AdLog;default:return O.unknown}}!function(e){e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdLoaded="AdLoaded",e.AdSizeChange="AdSizeChange",e.AdExpandedChange="AdExpandedChange",e.AdSkippableStateChange="AdSkippableStateChange",e.AdDurationChange="AdDurationChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdError="AdError",e.AdLog="AdLog",e.unknown=""}(O||(O={})),function(e){e.Normal="normal",e.Thumbnail="thumbnail",e.Fullscreen="fullscreen"}(F||(F={}));var H,Y=function(){function e(){this.container=e.createContainer()}return e.prototype.reset=function(){this.container.pause(),this.container.removeAttribute("src"),this.container.load()},e.createContainer=function(){var e=document.createElement("video");return e.id="videoVPAIDContainer_"+w.random(100,100500),e.className="video-vpaid-container",e.style.width="100%",e.style.height="100%",e.style.zIndex="1",e},e}(),q=function(){function e(){this.container=e.createContainer()}return e.prototype.addStyles=function(){var t,n=window.document.createElement("style");n.setAttribute("type","text/css"),n.appendChild(window.document.createTextNode(e.BODY)),null===(t=this.container.contentWindow)||void 0===t||t.document.head.appendChild(n)},e.prototype.load=function(e,t){var n,r=this,i=null===(n=this.container.contentWindow)||void 0===n?void 0:n.document;return i?new Promise((function(n,a){var s=i.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",e);var o=window.setTimeout((function(){o=0,s.onload=function(){},s.onerror=function(){},a(new Error("timeout"))}),1e3*t);s.onload=function(){0!==o&&(clearTimeout(o),o=0),s.onerror=function(){},n(r)},s.onerror=function(){0!==o&&(clearTimeout(o),o=0),s.onload=function(){},a(new Error("timeout"))},i.body.appendChild(s)})):Promise.reject(new Error("ContentWindow"))},e.prototype.reset=function(){try{var e=this.container.contentWindow,t=null==e?void 0:e.document.body;null!==t&&(t.textContent="")}catch(e){}},e.createContainer=function(){var e=window.document.createElement("iframe");return e.id="iframeVPAIDContainer",e.className="iframe-vpaid-container",e.scrolling="no",e.allow="autoplay",e.allowFullscreen=!0,e.style.width="100%",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.border="0",e.style.height="100%",e.style.zIndex="1",e},e.BODY="body {overflow:hidden;margin:0px;width:100%;height:100%;}",e}(),z=q;!function(e){e[e.normal=0]="normal",e[e.fullscreen=1]="fullscreen",e[e.pip=2]="pip"}(H||(H={}));var W=n(379),K=n.n(W),X=n(795),J=n.n(X),Z=n(569),$=n.n(Z),ee=n(565),te=n.n(ee),ne=n(216),re=n.n(ne),ie=n(589),ae=n.n(ie),se=n(734),oe={};oe.styleTagTransform=ae(),oe.setAttributes=te(),oe.insert=$().bind(null,"head"),oe.domAPI=J(),oe.insertStyleElement=re(),K()(se.Z,oe);var le,ue=(se.Z&&se.Z.locals?se.Z.locals:void 0)["resize-sensor"],ce=function(){function e(e){var t=e.element,n=e.onResize,r=getComputedStyle(t);"static"===r.position?console.warn(new Error("ResizeSensor does not support 'position: static' elements")):"inline"===r.display&&console.warn(new Error("ResizeSensor does not support 'display: inline' elements")),this._sensor=document.createElement("div"),this._sensor.classList.add(ue);var i=document.createElement("div"),a=document.createElement("div");i.appendChild(a),this._sensor.appendChild(i);var s,o,l,u=document.createElement("div"),c=document.createElement("div");u.appendChild(c),this._sensor.appendChild(u);var d=function(){a.style.width=i.offsetWidth+"px",a.style.height=i.offsetHeight+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,u.scrollLeft=u.scrollWidth,u.scrollTop=u.scrollHeight,o=t.clientWidth,l=t.clientHeight},h=function(){s||(s=window.requestAnimationFrame((function(){s=void 0;var e=t.clientWidth!==o||t.clientHeight!==l;d(),e&&n()})))};i.addEventListener("scroll",h),u.addEventListener("scroll",h),t.appendChild(this._sensor),window.requestAnimationFrame((function(){return d()}))}return e.prototype.stop=function(){this._sensor.remove()},e}(),de=ce,he=function(){function e(t,n,r){this.type=o.vpaid,this.viewTypeResolver=t,this.sizeResolver=n,this.muteStateResolver=r,this.creative=null,this.isStarted=!1,this.isPaused=!0,this.isEnded=!1,this.cachedDuration=-1,this.cachedTime=-1,this.stateEmitter=new d({state:s.created}),this.timingEmitter=new d({time:0,duration:0}),this.mutedEmitter=new d({isMuted:!1}),this.container=e.createContainer(),this.videoContainer=new Y,this.container.appendChild(this.videoContainer.container),this.iframeContainer=new z,this.container.appendChild(this.iframeContainer.container),this.listeners=this.createVPAIDListeners(),this.timeouts={}}return e.prototype.dispose=function(){var e;if(null!==this.creative)for(var t in this.listeners)null===(e=this.creative)||void 0===e||e.unsubscribe(this.listeners[V(t)],V(t));for(var n in this.timeouts)this.removeErrorTimeout(n)},Object.defineProperty(e.prototype,"ended",{get:function(){return this.isEnded},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var e,t,n=null!==(t=null===(e=this.creative)||void 0===e?void 0:e.getAdDuration())&&void 0!==t?t:-1;return-1===(n=w.isValidTime(n)?n:-1)&&this.cachedDuration>0||(this.cachedDuration=-1!==n?n:0),this.cachedDuration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){var e,t,n=this.duration,r=null!==(t=null===(e=this.creative)||void 0===e?void 0:e.getAdRemainingTime())&&void 0!==t?t:-1;return-1===(r=w.isValidTime(r)?r:-1)&&this.cachedTime>0||(r=-1!==r?r:0,this.cachedTime=n-r),this.cachedTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){var e,t,n=null!==(t=null===(e=this.creative)||void 0===e?void 0:e.getAdVolume())&&void 0!==t?t:0;return n<=0?0:n},set:function(e){var t,n,r,i,a=null!==(n=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==n?n:0,s=parseFloat(e);null===(r=this.creative)||void 0===r||r.setAdVolume(100*s),void 0!==(null===(i=this.creative)||void 0===i?void 0:i.getAdVolume())&&a!==s&&(a>0&&0===s||0===a&&s>0)&&this.mutedEmitter.emit({isMuted:0===s})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){var e,t;return 0===(null!==(t=null===(e=this.creative)||void 0===e?void 0:e.getAdVolume())&&void 0!==t?t:0)},enumerable:!1,configurable:!0}),e.prototype.load=function(e,n,r,a){var o=this;return this.iframeContainer.addStyles(),this.iframeContainer.load(e,r).then((function(e){return o.onIFrameLoaded(e,a)})).catch((function(n){var r=n;return"timeout"===n.message&&(r=new f(t.Timeout,i.Creative,{url:e,code:c.LinearMediaFileTimeout,description:"Timeout of MediaFile URI"})),o.stateEmitter.emit({state:s.error}),r}))},e.prototype.play=function(){var e,t,n=this;return this.isPaused=!1,this.isStarted?null===(e=this.creative)||void 0===e||e.resumeAd():(this.setErrorTimeout(O.AdStarted,(function(){n.stop()})),null===(t=this.creative)||void 0===t||t.startAd()),new Promise((function(e){e(n)}))},e.prototype.pause=function(){var e;null===(e=this.creative)||void 0===e||e.pauseAd(),this.isPaused=!0},Object.defineProperty(e.prototype,"paused",{get:function(){return this.isPaused},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.stop(),this.videoContainer.reset(),this.iframeContainer.reset(),this.container.innerHTML=""},e.prototype.destroy=function(){this.container.parentElement.removeChild(this.container)},e.prototype.stop=function(){var e;[s.error,s.completed].includes(this.stateEmitter.current.state)||(this.setErrorTimeout(O.AdStopped),null===(e=this.creative)||void 0===e||e.stopAd())},e.prototype.getNode=function(){return this.container},e.prototype.onIFrameLoaded=function(t,n){var r=this,i=t.container.contentWindow;if(!i)return Promise.reject(new Error("no contentWindow"));var a=i.getVPAIDAd;if(!a||"function"!=typeof a)return this.stateEmitter.emit({state:s.error}),Promise.reject(new Error("getVpaidAd"));var o=e.validateCreative(a());if(!o)return this.stateEmitter.emit({state:s.error}),Promise.reject(new Error("invalid creative"));this.creative=o,e.subscribeListeners(o,this.listeners),this.stateEmitter.emit({state:s.initialized});var l,u=this.sizeResolver();switch(this.viewTypeResolver()){case H.normal:l=F.Normal;break;case H.pip:l=F.Thumbnail;break;case H.fullscreen:l=F.Fullscreen}new de({element:this.container,onResize:function(){var e=r.sizeResolver();o.resizeAd(e.width,e.height,l)}});var c=this;return new Promise((function(e,t){o.subscribe((function(){c.removeErrorTimeout(O.AdLoaded),o.setAdVolume(parseFloat(c.muteStateResolver())),r.stateEmitter.emit({state:s.ready}),e(c)}),O.AdLoaded),r.setErrorTimeout(O.AdLoaded,(function(){t(new Error("Load timeout"))})),o.initAd(u.width,u.height,l,0,{AdParameters:null!=n?n:""},{slot:i.document.body,videoSlot:c.videoContainer.container,videoSlotCanAutoPlay:!1})}))},e.prototype.createVPAIDListeners=function(){var e={};return e.AdStarted=this.listenerVPAIDAdStarted.bind(this),e.AdPlaying=this.listenerVPAIDAPlaying.bind(this),e.AdPaused=this.listenerVPAIDAPause.bind(this),e.AdStopped=this.listenerVPAIDEnded.bind(this),e.AdError=this.listenerVPAIDError.bind(this),e.AdDurationChange=this.listenerVPAIDTimeChange.bind(this),e.AdRemainingTimeChange=this.listenerVPAIDTimeChange.bind(this),e.AdImpression=this.listenerVPAIDTimeChange.bind(this),e.AdVideoStart=this.listenerVPAIDTimeChange.bind(this),e.AdVideoFirstQuartile=this.listenerVPAIDTimeChange.bind(this),e.AdVideoMidpoint=this.listenerVPAIDTimeChange.bind(this),e.AdVideoThirdQuartile=this.listenerVPAIDTimeChange.bind(this),e.AdVideoComplete=this.listenerVPAIDTimeChange.bind(this),e.AdVolumeChange=this.listenerVPAIDVolumeChange.bind(this),e.AdClickThru=this.listenerVPAIDClickThru.bind(this),e},e.prototype.setErrorTimeout=function(t,n,r){var i=null!=n?n:this.listenerVPAIDError.bind(this);this.timeouts[t]=window.setTimeout(i,null!=r?r:e.TimeoutConstant)},e.prototype.removeErrorTimeout=function(e){this.timeouts[e]&&(window.clearTimeout(this.timeouts[e]),delete this.timeouts[e])},e.prototype.listenerVPAIDAdStarted=function(){this.removeErrorTimeout(O.AdStarted),this.isStarted=!0,this.stateEmitter.emit({state:s.playing})},e.prototype.listenerVPAIDAPlaying=function(){this.stateEmitter.emit({state:s.playing})},e.prototype.listenerVPAIDAPause=function(){this.isStarted&&this.stateEmitter.emit({state:s.paused})},e.prototype.listenerVPAIDTimeChange=function(e){var t=e?e.data:null;if(t&&"number"==typeof t.currentTime&&"number"==typeof t.totalTime)return this.cachedTime=t.currentTime,this.cachedDuration=t.totalTime,void this.timingEmitter.emit({time:this.cachedTime,duration:this.cachedDuration});this.timingEmitter.emit({time:this.currentTime,duration:this.duration})},e.prototype.listenerVPAIDEnded=function(){this.isEnded=!0,this.stateEmitter.emit({state:s.completed}),this.dispose()},e.prototype.listenerVPAIDError=function(){this.stateEmitter.emit({state:s.error}),this.dispose()},e.prototype.listenerVPAIDVolumeChange=function(e){var t,n,r,i=null!==(r=null!==(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.volume)&&void 0!==n?n:this.volume)&&void 0!==r?r:null;(i||0===i)&&this.mutedEmitter.emit({volume:i})},e.prototype.listenerVPAIDClickThru=function(e,t,n){},e.createContainer=function(){var e=document.createElement("div");return e.style.width="100%",e.style.height="100%",e.style.position="relative",e},e.validateCreative=function(e){return t=e,["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","skipAd","subscribe","unsubscribe","getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","setAdVolume"].every((function(e){return"function"==typeof t[e]}))&&"2.0"===e.handshakeVersion()?e:null;var t},e.subscribeListeners=function(e,t){for(var n in t)e.subscribe(t[V(n)],V(n))},e.TimeoutConstant=3e3,e}(),fe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(e){function t(n,r){void 0===r&&(r={code:c.XMLParsing});var i=e.call(this)||this;switch(i.type=n,i.meta=r,i.meta.code){case c.XMLParsing:i.meta.description="XML parsing error";break;case c.VastSchemaValidating:i.meta.description="VAST schema validation error";break;case c.VastVersionNotSupported:i.meta.description="VAST version of response not supported";break;case c.WrapperGeneral:i.meta.description="General Wrapper error";break;case c.WrapperTimeout:i.meta.description="Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)";break;case c.WrapperLimitReached:i.meta.description="Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response";break;case c.NoAdResponse:i.meta.description="No VAST response after one or more Wrappers.";break;case c.NonLinearAds:i.meta.description="General NonLinearAds error";break;case c.CompanionAds:i.meta.description="General CompanionAds error"}return Object.setPrototypeOf(i,t.prototype),i}return fe(t,e),t}(Error);!function(e){e.invalid="invalid",e.notVast="notVast",e.noBanner="nobanner",e.notExists="notExists",e.invalidVersion="invalidVersion"}(le||(le={}));var Ae,ge=function(){function e(e,t,n,r){var i=this;this.observer=null,this.isPaused=!1,this.isStarted=!1,this.isVisibilityChangeEvent=!1,this.viewableTracker=null,this.hiddenDocumentPropertyName="hidden",this.visibilityChangeEventName="visibilitychange",this.isViewableTrackerDone=!1,this.player=e,this.timeoutDuration=t,this.impression=n,this.tracker=r,void 0!==document.mozHidden?(this.hiddenDocumentPropertyName="mozHidden",this.visibilityChangeEventName="mozvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenDocumentPropertyName="webkitHidden",this.visibilityChangeEventName="webkitvisibilitychange"),this.player.stateEmitter.on((function(e){e.state===s.playing&&(i.isStarted=!0)}))}return e.prototype.intersectionHandler=function(e){var t=this;e.forEach((function(e){0===e.intersectionRatio&&(t.player.paused||(t.player.pause(),t.isPaused=!0)),e.intersectionRatio>0&&t.player.paused&&t.isPaused&&t.player.play(),t.handleViewable(100*e.intersectionRatio)}))},e.prototype.handleViewable=function(e){var t=this;e<50?this.viewableTracker&&(clearTimeout(this.viewableTracker),this.viewableTracker=null,this.isViewableTrackerDone=!0,this.impression.notViewable.length>0&&this.tracker.trackImpression(this.impression.notViewable)):!this.isStarted||this.isViewableTrackerDone||this.viewableTracker||(this.viewableTracker=setTimeout((function(){t.viewableTracker=null,t.isViewableTrackerDone=!0,t.impression.viewable.length>0&&t.tracker.trackImpression(t.impression.viewable)}),1e3*this.timeoutDuration))},e.prototype.start=function(){this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:null,rootMargin:"0px",threshold:[0,.5]}),this.observer.observe(this.player.getNode()),document.addEventListener("visibilitychange",this.activeTabHandler.bind(this),!1)},e.prototype.activeTabHandler=function(){document[this.hiddenDocumentPropertyName]?this.player.paused||(this.isVisibilityChangeEvent=!0,this.player.pause()):(this.isVisibilityChangeEvent&&this.player.play(),this.isVisibilityChangeEvent=!1)},e.prototype.stop=function(){this.observer&&this.observer.disconnect(),this.intersectionHandler=null,document.removeEventListener("visibilitychange",this.activeTabHandler.bind(this),!1)},e}(),me=function(){function e(e){var t=w.value(e.viewableimpression,"viewable","");this.viewable=[t.trimStart().trimEnd()];var n=w.value(e.viewableimpression,"notviewable","");this.notViewable=[n.trimStart().trimEnd()];var r=w.value(e.viewableimpression,"viewundetermined","");this.viewUndetermined=[r.trimStart().trimEnd()]}return e.prototype.merge=function(e){var t=this;e.viewable.forEach((function(e){return t.viewable.push(e)})),e.notViewable.forEach((function(e){return t.notViewable.push(e)})),e.viewUndetermined.forEach((function(e){return t.viewUndetermined.push(e)}))},e}();!function(e){e.Inline="inline",e.Wrapper="wrapper",e.Undefined="Undefined"}(Ae||(Ae={}));var ve,ye,Ee=function(){function e(e,t,n,r){this.adId=w.value(t,"@id",0),this.sequence=w.value(t,"@sequence",0),this.type=e,this.vastError=n;var i=t[this.type];this.adSystem=w.value(i,"adsystem",""),this.adError=w.stringToArray(i.error),this.impression=w.transformToStringArray(i.impression,(function(e){return"string"==typeof e?e:"object"==typeof e&&"keyValue"in e?e.keyValue:""})).filter((function(e){return e.length>0})).map((function(e){return e.trim()})),this.creatives=we.creatives(i.creatives,e,r,this.adError),this.viewableImpression=new me(i),this.extensions=new v(i.extensions)}return Object.defineProperty(e.prototype,"skipAtSecond",{get:function(){var e,t,n,r;return"string"==typeof(r=(null===(e=this.extensions)||void 0===e?void 0:e.values[p.SkipTime2])?(null===(t=this.extensions)||void 0===t?void 0:t.values[p.SkipTime2][0])||null:(null===(n=this.creatives[0])||void 0===n?void 0:n.skipoffset)||null)&&r.includes(":")&&(r=w.convertHHMMSStoSeconds(r)),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkTxt",{get:function(){var e,t,n,r;return(null===(e=this.extensions)||void 0===e?void 0:e.values[p.LinkTxt])&&(null===(t=this.extensions)||void 0===t?void 0:t.values[p.LinkTxt][0])&&(r=decodeURI(null===(n=this.extensions)||void 0===n?void 0:n.values[p.LinkTxt][0])),r||"Подробнее"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClickable",{get:function(){var e,t,n,r;return(null===(e=this.extensions)||void 0===e?void 0:e.values[p.IsClickable])?0!==parseInt(null===(t=this.extensions)||void 0===t?void 0:t.values[p.IsClickable][0],10):!!(null===(r=null===(n=this.creatives[0])||void 0===n?void 0:n.videoClicks)||void 0===r?void 0:r.clickThroughURI)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkUrl",{get:function(){var e,t;return(null===(t=null===(e=this.creatives[0])||void 0===e?void 0:e.videoClicks)||void 0===t?void 0:t.clickThroughURI)||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var e,t=null===(e=this.creatives[0])||void 0===e?void 0:e.duration;return"string"==typeof t&&t.includes(":")&&(t=w.convertHHMMSStoSeconds(t)),Number(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasControls",{get:function(){var e,t,n=1;return(null===(e=this.extensions)||void 0===e?void 0:e.values[p.Controls])&&(n=null===(t=this.extensions)||void 0===t?void 0:t.values[p.Controls][0]),0!==n},enumerable:!1,configurable:!0}),e}();!function(e){e.Streaming="streaming",e.Progressive="progressive"}(ve||(ve={})),function(e){e.MP4="video/mp4",e.JS="application/javascript"}(ye||(ye={}));var _e,Te,be=function(){function e(e){this.id=w.value(e,"@id",0),this.delivery=w.value(e,"@delivery",""),this.mediaType=w.value(e,"@type",""),this.url=w.value(e,"keyValue",""),this.bitrate=w.value(e,"@bitrate",0),this.width=w.value(e,"@width",0),this.height=w.value(e,"@height",0),this.scalable=w.value(e,"@scalable",!1),this.maintainAspectRatio=w.value(e,"@maintainaspectratio",!1),this.apiFramework=w.value(e,"@apiframework","")}return e.prototype.isValid=function(){var e=Object.keys(ve).map((function(e){return ve[e]})).indexOf(this.delivery)>-1,t=this.mediaType===ye.MP4,n="VPAID"===this.apiFramework&&this.mediaType===ye.JS,r="string"==typeof this.url&&this.url.length>0,i=this.width>=0,a=this.height>=0;return e&&(t||n)&&i&&a&&r},e.files=function(t,n,r,i){if(!t)return[];var a=[];if(t.mediafile&&(Array.isArray(t.mediafile)?a=a.concat(t.mediafile):a.push(t.mediafile)),n===Ae.Inline&&!a.length)throw r.trackError(i,c.VastSchemaValidating),new pe(le.invalid,{code:c.VastSchemaValidating});var s=a.map((function(t){return new e(t)})).filter((function(e){return e.isValid()}));if(n===Ae.Inline&&(!s.length||s.length!==a.length))throw r.trackError(i,c.LinearMediaFileNotFoundSupported),new pe(le.invalid,{code:c.LinearMediaFileNotFoundSupported});return s},e}();!function(e){e[e._144p=144]="_144p",e[e._360p=360]="_360p",e[e._480p=480]="_480p",e[e._720p=720]="_720p",e[e._1080p=1080]="_1080p"}(_e||(_e={})),function(e){e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED"}(Te||(Te={}));var Se,we=function(){function e(e,t,n,r){this.id=w.value(e,"@id",0);var i=w.value(e,"@sequence",0);this.sequence=i<0?0:i,this.adId=w.value(e,"@adid",0),this.apiFramework=w.value(e,"@apiframework",""),this.universalAdId=w.value(e,"@universalAdId",0);var a=e.linear;if(this.skipoffset=w.value(a,"@skipoffset",""),this.adparameters=w.value(a,"adparameters",""),this.xmlEncoded=!!a.adparameters&&w.value(a.adparameters,"@xmlencoded",!1),this.duration=w.value(a,"duration",""),t===Ae.Inline&&!this.duration)throw n.trackError(r,c.VastSchemaValidating),new pe(le.invalid,{code:c.VastSchemaValidating});this.trackEvents=k.events(a.trackingevents),this.videoClicks=new D(a.videoclicks),this.mediaFiles=be.files(a.mediafiles,t,n,r)}return e.prototype.merge=function(e){!this.adId&&e.adId&&(this.adId=e.adId),!this.apiFramework&&e.apiFramework&&(this.apiFramework=e.apiFramework),!this.universalAdId&&e.universalAdId&&(this.universalAdId=e.universalAdId),!this.skipoffset&&e.skipoffset&&(this.skipoffset=e.skipoffset),!this.adparameters&&e.adparameters&&(this.adparameters=e.adparameters),!this.duration&&e.duration&&(this.duration=e.duration),this.trackEvents=this.trackEvents.concat(e.trackEvents),this.videoClicks?this.videoClicks.merge(e.videoClicks):e.videoClicks&&(this.videoClicks=e.videoClicks),this.mediaFiles=this.mediaFiles.concat(e.mediaFiles)},e.prototype.availableQualities=function(){return this.mediaFiles.map((function(e){return e.height})).sort((function(e,t){return e-t}))},e.prototype.mediaFileByQuality=function(e){var t=this.mediaFiles.find((function(t){return t.height===e}));if(!t){if(1===this.mediaFiles.length)return this.mediaFiles[0];var n=this.mediaFiles.filter((function(t){return t.height<e})).sort((function(e,t){return t.height-e.height}));return n.length||(n=this.mediaFiles.filter((function(t){return t.height>e})).sort((function(e,t){return e.height-t.height}))),n[0]}return t},e.prototype.detectQuality=function(e,t){var n=this.availableQualities(),r=null;if(n&&e.qualityHandler&&(r=e.qualityHandler(n,t)),!r){var i=e.height;r=Object.values(_e).filter((function(e){return"number"==typeof e})).reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}))}return r},e.prototype.totalTime=function(){return null==this.duration||"string"!=typeof this.duration?null:this.duration.split(":").reverse().map((function(e){return parseInt(e,10)})).map((function(e){return isNaN(e)?0:e})).reduce((function(e,t,n){return e+t*Math.pow(60,n)}))},e.prototype.events=function(e){return this.trackEvents.filter((function(t){return t.type===e}))},e.creatives=function(t,n,r,i){if(!t)return[];var a=[];Array.isArray(t.creative)?a=t.creative:a.push(t.creative),n!==Ae.Inline||a.length||r.trackError(i,c.VastSchemaValidating);var s=a.filter((function(e){if(null!=(null==e?void 0:e.linear))return!0;if(n===Ae.Inline){if(r.trackError(i,c.UnexpectedLinearity),null==e?void 0:e.companionads)throw r.trackError(i,c.CompanionAds),new pe(le.invalid,{code:c.CompanionAds});if(null==e?void 0:e.nonlinearads)throw r.trackError(i,c.NonLinearAds),new pe(le.invalid,{code:c.NonLinearAds})}return!1})).map((function(t){return new e(t,n,r,i)}));return n!==Ae.Inline||s.length||r.trackError(i,c.LinearGeneral),s},e.generateCreativeError=function(e,n){var r=new f(t.Http,i.Creative,{url:n.url,code:c.LinearGeneral,description:"General Linear error. Video player is unable to display the Linear Ad."});if(null===e)return r;switch(e){case Te.MEDIA_ERR_NETWORK:r=new f(t.Http,i.Creative,{url:n.url,code:c.LinearMediaFileNotFound,description:"File not found. Unable to find Linear/MediaFile from URI."});break;case Te.MEDIA_ERR_DECODE:r=new f(t.Http,i.Creative,{url:n.url,code:c.LinearMediaFileDisplayingProblem,description:"Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn’t display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc"});break;case Te.MEDIA_ERR_SRC_NOT_SUPPORTED:r=new f(t.Http,i.Creative,{url:n.url,code:c.LinearMediaFileNotFoundSupported,description:"Couldn’t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."})}return r},e}(),Ce=function(){function e(e){var t=this;this._player=e,this.stateEmitter=new d({state:s.created}),this.timingEmitter=new d({time:0,duration:0}),this.mutedEmitter=new d({isMuted:0===this._player.volume}),e.stateCallback=function(e){t.stateEmitter.emit({state:e.state})},e.timingCallback=function(e){t.timingEmitter.emit({time:e.time,duration:e.duration})},e.mutedCallback=function(e){t.mutedEmitter.emit({isMuted:e.isMuted})}}return Object.defineProperty(e.prototype,"externalPlayer",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._player.currentTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._player.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._player.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return o.external},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._player.muted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._player.ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._player.volume},set:function(e){this._player.volume=e},enumerable:!1,configurable:!0}),e.prototype.load=function(e,t){var n=this;return this._player.load(e,t).then((function(){return n}))},e.prototype.pause=function(){return this._player.pause()},e.prototype.play=function(){var e=this;return this._player.play().then((function(){return e}))},e.prototype.reset=function(){return this._player.reset()},e.prototype.destroy=function(){return this._player.destroy()},Object.defineProperty(e.prototype,"lastError",{get:function(){return this._player.lastError},enumerable:!1,configurable:!0}),e}(),Ie=function(e,t,n,r,i,a,s,o,l){this.totalDuration=e,this.remainingTime=t,this.skipAtSecond=n,this.linkText=r,this.isLoading=i,this.isMuted=a,this.showControls=s,this.isPaused=o,this.image=l,this.linkText=r;var u=Math.ceil(t);this.remainingSkipSecond=this.skipAtSecond>=0?Math.ceil((u||0)+(this.skipAtSecond||0)-(this.totalDuration||0)):void 0,this.remainingSkipSecondFormatted=this.remainingSkipSecond>=0?w.convertSecondsToMinSec(this.remainingSkipSecond):void 0,this.remainingTime=s?u:void 0,this.remainingTimeFormatted=s&&u>=0?w.convertSecondsToMinSec(u):void 0,this.totalDuration=s?e:void 0,this.isMuted=a,this.isPaused=o};!function(e){e[e.click=0]="click",e[e.skip=1]="skip"}(Se||(Se={}));var ke,Re=function(){},De=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,_instanceof(t,n)?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Me=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};!function(e){e.initialized="initialized",e.loading="loading",e.loaded="loaded",e.started="started",e.finished="finished"}(ke||(ke={}));var Le,Ne=function(){function e(e,t,n,r){this.allowedDuration=e,this.plan=t,this.invitationHandler=n,this.volumeHandler=r,this.accumulatedDuration=0,this.isResetted=!1,this.isLoading=!1,this.adPlayer=null,this.adStatistics=null,this.results=[],this.currentItem=null,this.nextItem=null,this.stateEmitter=new d(ke.initialized),this.viewStateEmitter=new d(new Ie),this.externalActionHandler=new Re}return Object.defineProperty(e.prototype,"currentState",{get:function(){return this.stateEmitter.current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player",{get:function(){return this.adPlayer},enumerable:!1,configurable:!0}),e.prototype.reset=function(){var e;Q.getInstance().debug("Ad resetting"),this.isResetted=!0,null===(e=this.adStatistics)||void 0===e||e.trackCloseEvent(),this.adPlayer&&(Q.getInstance().debug("Ad player resetting"),this.adPlayer.reset()),this.stateEmitter.emit(ke.finished)},e.prototype.preload=function(){return De(this,void 0,void 0,(function(){var e=this;return Me(this,(function(t){return[2,this.preloadItem().then((function(){return Promise.resolve(e)}))]}))}))},e.prototype.start=function(n,r,a){var l,u,d,h;return De(this,void 0,void 0,(function(){var A,g,m,v=this;return Me(this,(function(y){switch(y.label){case 0:A=function(){var A,m,y,E,_,T,b,S,w,C,I,k,R;return Me(this,(function(D){switch(D.label){case 0:if(g.isLoading=!1,g.isResetted)return Q.getInstance().debug("No more ad, cuz resetting"),[2,{value:Promise.reject("reset")}];A=!0,m=null,D.label=1;case 1:return D.trys.push([1,4,,5]),g.externalActionHandler.clickButtonHandler=void 0,g.externalActionHandler.skipButtonHandler=void 0,[4,g.preload().catch((function(){}))];case 2:if(D.sent(),g.isResetted)return Q.getInstance().debug("No more ad, cuz resetting"),[2,{value:Promise.reject("reset")}];if(!g.nextItem)return[2,"continue"];if(g.currentItem=g.nextItem,g.nextItem=null,!(y=null===(l=null===(D=g.currentItem.record)||void 0===D?void 0:D.vast)||void 0===l?void 0:l.ad))throw new Error("no ad");if(!(E=y[0]))throw new Error("no ad");if(!(_=E.creatives[0]))throw new Error("no creative");if(T=_.detectQuality(n,g.currentItem.type),!(b=_.mediaFileByQuality(T)))throw new Error("no media");return S=a?o.external:"VPAID"===b.apiFramework?o.vpaid:o.vast,w=e.createPlayer(S,n,a),g.adStatistics=new M(E.impression,_,w,G),m=new ge(w,2.2,E.viewableImpression,G),w.mutedEmitter.on((function(e){void 0!==e.volume&&(Q.getInstance().debug("VPAID volume update: "+e.volume),v.volumeHandler&&v.volumeHandler(e.volume),n.volume=w.volume)})),g.adPlayer?(g.adPlayer.reset(),(null===(u=w.getNode)||void 0===u?void 0:u.call(w))&&(null===(h=(d=g.adPlayer).getNode)||void 0===h?void 0:h.call(d))&&(C=g.adPlayer.getNode().parentNode)&&C.replaceChild(w.getNode(),g.adPlayer.getNode()),g.adPlayer=w):(g.adPlayer=w,g.stateEmitter.emit(ke.started)),E.hasControls||(A=!1),A&&E.isClickable&&E.linkUrl&&(g.externalActionHandler.clickButtonHandler=function(){var e,t;Q.getInstance().debug("Ad link was clicked"),null===(e=v.adStatistics)||void 0===e||e.trackVideoClickEvent(),null===(t=v.adStatistics)||void 0===t||t.trackExtraEvent(p.AddClick,E),v.invitationHandler(E.linkUrl)}),I=E.duration,g.accumulatedDuration+=I,k=A&&E.isClickable&&E.linkUrl?E.linkTxt:void 0,w.stateEmitter.on((function(e){var t=e.state;t===s.buffering&&v.viewStateEmitter.emit({isLoading:!0}),t===s.playing&&v.viewStateEmitter.emit({isLoading:!1,isPaused:!1}),t===s.loadStart&&v.viewStateEmitter.emit({isLoading:!0,image:r}),t===s.paused&&(w.ended||v.viewStateEmitter.emit({isPaused:!0}))})),w.timingEmitter.on((function(e){S!==o.vpaid||A||E.skipAtSecond?v.viewStateEmitter.emit(new Ie(I,I-e.time,E.skipAtSecond&&E.duration>E.skipAtSecond?E.skipAtSecond:void 0,k,void 0,w.muted,A)):v.viewStateEmitter.emit(null),!v.isLoading&&e.duration>0&&e.duration-e.time<=2.5&&v.accumulatedDuration<v.allowedDuration&&(v.isLoading=!0,Q.getInstance().debug("Try to load next ad"),v.preloadItem().catch((function(){})))})),[4,new Promise((function(e,n){w.load(b.url,!0,v.plan.timeout.creativeTimeout,_.adparameters).then((function(e){if(v.isResetted&&e)return Q.getInstance().debug("Ad player resetting"),e.reset(),Promise.reject("reset");Q.getInstance().debug("Ad start"),e.play().catch((function(e){n(e)}))})).catch((function(e){var t;_instanceof(e,f)&&e.meta&&e.meta.code&&(null===(t=v.adStatistics)||void 0===t||t.trackErrorEvent(E.adError,e.meta.code)),n(e)})),v.stateEmitter.on((function(t){t===ke.finished&&e(!1)})),w.stateEmitter.on((function(r){var a,l,u,d,h,p;switch(r.state){case s.ready:null!=m&&m.start();break;case s.completed:case s.skipped:if(v.isResetted)return;v.viewStateEmitter.emit(null),e(!0);break;case s.error:switch(v.viewStateEmitter.emit(null),w.type){case o.vpaid:null===(a=v.adStatistics)||void 0===a||a.trackErrorEvent(E.adError,c.GeneralVPAID),n(new f(t.Http,i.Creative,{url:b.url,code:c.GeneralVPAID,description:"General VPAID error."}));break;case o.vast:if(null===(l=w.getNode)||void 0===l?void 0:l.call(w)){var A=we.generateCreativeError(null===(d=null===(u=w.getNode())||void 0===u?void 0:u.error)||void 0===d?void 0:d.code,b);null===(h=v.adStatistics)||void 0===h||h.trackErrorEvent(E.adError,A.meta.code),n(A)}break;case o.external:var g=we.generateCreativeError(w.lastError,b);null===(p=v.adStatistics)||void 0===p||p.trackErrorEvent(E.adError,g.meta.code),n(g)}n(new Error)}})),E.skipAtSecond&&E.duration>E.skipAtSecond&&(v.externalActionHandler.skipButtonHandler=function(){return De(v,void 0,void 0,(function(){var e,t;return Me(this,(function(n){switch(n.label){case 0:return this.accumulatedDuration-=I,this.accumulatedDuration+=w.currentTime,this.accumulatedDuration<this.allowedDuration?[4,this.preloadItem().catch((function(){}))]:[3,2];case 1:n.sent(),n.label=2;case 2:return null===(e=this.adStatistics)||void 0===e||e.trackCloseEvent(),null===(t=this.adStatistics)||void 0===t||t.trackExtraEvent(p.SkipAd,E),Q.getInstance().debug("Skip Ad"),w.stateEmitter.emit({state:s.skipped}),[2]}}))}))})}))];case 3:return D.sent()?(Q.getInstance().debug("Ad has been finished"),g.results.push({position:g.currentItem.position,isSuccess:!0}),null!==m&&(m.stop(),m=null),[3,5]):[2,"break"];case 4:return R=D.sent(),null!==g.currentItem?g.errorHandling(R,g.currentItem.position):null!==g.nextItem&&g.errorHandling(R,g.nextItem.position),[3,5];case 5:return[2]}}))},g=this,y.label=1;case 1:return(this.plan.hasNextItems||this.nextItem)&&this.accumulatedDuration<this.allowedDuration?[5,A()]:[3,3];case 2:return"object"==typeof(m=y.sent())?[2,m.value]:"break"===m?[3,3]:[3,1];case 3:return this.viewStateEmitter.emit(null),this.stateEmitter.emit(ke.finished),this.results=this.results.filter((function(e){return e})),[2,Promise.resolve(this)]}}))}))},e.prototype.acceptInvitation=function(e){var t,n,r,i;switch(e){case Se.click:null===(n=(t=this.externalActionHandler).clickButtonHandler)||void 0===n||n.call(t);break;case Se.skip:null===(i=(r=this.externalActionHandler).skipButtonHandler)||void 0===i||i.call(r)}},e.prototype.preloadItem=function(){return De(this,void 0,void 0,(function(){var e,t=this;return Me(this,(function(n){switch(n.label){case 0:e=this.nextItem,n.label=1;case 1:return this.plan.hasNextItems&&null===e?this.isResetted?[2,Promise.reject("reset")]:(Q.getInstance().debug("Start ad loading"),[4,this.preloadNextItem().catch((function(e){var n=0;null!==t.nextItem&&(n=t.nextItem.position),t.nextItem=null,t.errorHandling(e,n)}))]):[3,3];case 2:return n.sent(),this.isResetted?[2,Promise.reject("reset")]:null!=this.nextItem&&null!==this.nextItem.record?[2,Promise.resolve(this.nextItem)]:(e=this.nextItem,[3,1]);case 3:return null!==this.nextItem?[2,Promise.resolve(this.nextItem)]:[2,Promise.reject(new b(b.emptyBuffet))]}}))}))},e.prototype.preloadNextItem=function(){return null===this.nextItem&&(this.nextItem=this.plan.nextItem()),null===this.nextItem?Promise.reject(new b(b.notExists)):this.nextItem.isLoaded?Promise.resolve(this.nextItem):this.nextItem.preload()},e.prototype.errorHandling=function(e,n){var r=t.Exception,a=i.Module,s={description:e.message};switch(!0){case _instanceof(e,f):r=e.type,a=e.component,s=e.meta;break;case _instanceof(e,pe):if([le.noBanner].includes(e.type))return void this.results.push({position:n,isSuccess:!1,isNoBanner:!0});r=t.Parsing,a=e.meta&&[c.LinearMediaFileNotFoundSupported].includes(e.meta.code)?i.Creative:i.Xml,s=e.meta}var o={position:n,isSuccess:!1,type:r,component:a,meta:s};Q.getInstance().error(JSON.stringify(o),e.stack),this.results.push(o)},e.createPlayer=function(e,t,n){return n?(Q.getInstance().debug("Using EXTERNAL ad player"),new Ce(n)):e===o.vpaid?(Q.getInstance().debug("Using VPAID ad player"),new he((function(){return t.adViewType}),(function(){return{width:t.width,height:t.height}}),(function(){return t.volume}))):(Q.getInstance().debug("Using VAST ad player"),new g(t.volume))},e.prototype.fullscreen=function(e){var t;null===(t=this.adStatistics)||void 0===t||t.trackFullscreenEvent(e)},e}(),Be=function(e,t,n,r,i){this.xmlTimeout=e,this.wrapperCount=t,this.blocksCount=n,this.blocksDuration=r,this.creativeTimeout=i},xe=function(){function e(e,t){this.value=e,this.error=t}return e.right=function(t){return new e(t,null)},e.left=function(t){return new e(null,t)},e.prototype.isRight=function(){return null==this.error&&null!=this.value},e.prototype.isLeft=function(){return null!=this.error&&null==this.value},e.prototype.get=function(e){return null===this.value?e(this.error):this.value},e.prototype.resolve=function(e){var t=this.value;return this.isRight()&&null!==t&&e(t),this},e.prototype.map=function(t){return null===this.value?e.left(this.error):e.right(t(this.value))},e.prototype.flatMap=function(t){return null===this.value?e.left(this.error):t(this.value)},e.prototype.catch=function(e){this.isLeft()&&e(this.error)},e}();!function(e){e.CPM="cpm",e.CPC="cpc",e.CPE="cpe",e.CPV="cpv"}(Le||(Le={}));var Pe,Oe=function(e){this.model=w.value(e,"@model",""),this.currency=w.value(e,"@currency",""),this.value=w.value(e,"keyValue","")},Fe=function(){function e(e){this.authority=w.value(e,"@authority",""),this.value=w.value(e,"keyValue","")}return e.categories=function(t){return _instanceof(t,Array)?t.map((function(t){return new e(t)})):_instanceof(t,Object)?[new e(t)]:[]},e}(),Ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),je=function(e){function t(t,n,r){var i=e.call(this,Ae.Inline,t,n,r)||this;return i.adTitle=w.value(t.inline,"adtitle",""),i.description=w.value(t.inline,"description",""),i.category=Fe.categories(t.inline.category),i.advertiser=w.value(t.inline,"advertiser",""),i.survey=w.value(t.inline,"survey",""),i.pricing=t.inline.pricing?new Oe(t.inline.pricing):null,i.survey=w.value(t.inline,"survey",""),i}return Ue(t,e),t}(Ee),Qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge=function(e){function t(t,n,r){var i=e.call(this,Ae.Wrapper,t,n,r)||this;if(i.vastAdTagURI=w.value(t.wrapper,"vastadtaguri",""),!i.vastAdTagURI)throw r.trackError(n,c.VastSchemaValidating),new pe(le.invalid,{code:c.WrapperGeneral});return i.followWrappers=!0,i.allowMultipleAd=!1,i.fallbackOnNoAd=!0,i}return Qe(t,e),t.merge=function(e,t){if(![Ae.Inline,Ae.Wrapper].includes(t.type))return t;["adId","adTitle","description","sequence"].forEach((function(n){!t[n]&&e[n]&&(t[n]=e[n])})),["vastError","error","impression"].forEach((function(n){t[n]=w.concatUnique(t[n]||[],e[n]||[])})),t.extensions.merge(e.extensions),t.viewableImpression.merge(e.viewableImpression);var n=t.creatives.concat(e.creatives);if(n.length){var r=n.reduce((function(e,t){return e?(e.merge(t),e):t}));t.creatives=[r]}return t},t}(Ee),Ve=function(){function e(t,n){this.version=w.value(t,"@version",""),this.error=w.stringToArray(t.error),this.ad=e.isValidVersion(this.version)?e.createAds(t.ad,this.error,n):[]}return e.create=function(t,n){var r;if(!t||"object"!=typeof t)throw new pe(le.invalid);if("nobanner"in t)throw new pe(le.noBanner);if(!("vast"in t))throw new pe(le.notVast);if(0===Object.keys(t.vast).filter((function(e){return-1===e.indexOf("@")})).length)throw new pe(le.noBanner);var i=new e(t.vast,n);if(!i.version)throw n.trackError(i.error,c.VastSchemaValidating),new pe(le.invalidVersion,{code:c.VastSchemaValidating});if(!e.isValidVersion(i.version))throw n.trackError(i.error,c.VastVersionNotSupported),new pe(le.invalidVersion,{code:c.VastVersionNotSupported});if(!(null===(r=i.ad)||void 0===r?void 0:r.length))throw new pe(le.notExists);return xe.right(i)},e.createAds=function(e,t,n){var r=[];return(_instanceof(e,Array)?e:e&&"object"==typeof e?[e]:[]).forEach((function(i){if(i&&"object"==typeof e)if(i.inline)r.push(new je(i,t,n));else{if(!i.wrapper)throw n.trackError(t,c.VastSchemaValidating),new pe(le.invalid,{code:c.VastSchemaValidating});r.push(new Ge(i,t,n))}})),r},e.isValidVersion=function(t){return e.SUPPORTED_VERSIONS.includes(t)},e.SUPPORTED_VERSIONS=["2.0","3.0","4.0"],e}(),He=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(){function e(e,t){this.value=e||null,this.error=t||null}return Object.defineProperty(e.prototype,"isError",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSuccess",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.flatMap=function(t){var n=this.value,r=this.error||Error("");return this.isSuccess&&null!==n?e.success(t(n)):e.error(r)},e.success=function(e){return new ze(e)},e.error=function(e){return new qe(void 0,e)},e}(),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return He(t,e),Object.defineProperty(t.prototype,"isError",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(Ye),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return He(t,e),Object.defineProperty(t.prototype,"isSuccess",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(Ye),We=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(e){function t(n,r,i,a){var s=e.call(this,n,r,i)||this;return s.type=n,s.component=r,s.meta=i,s.error=a,Object.setPrototypeOf(s,t.prototype),s}return We(t,e),t}(f);!function(e){e[e.Element=1]="Element",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection"}(Pe||(Pe={}));var Xe,Je=function(){function e(){}return e.receiveXMLFromUrl=function(n,r){return a=this,o=function(){var a;return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,(function(s){if(Q.getInstance().debug("Start XML receiving: "+n),0===n.length)throw new Ke(t.Http,i.Xml,{url:n,code:c.XMLParsing});return a={url:n,method:N.get,timeout:r},[2,j.request(a).then((function(r){var a=r.text;if(!a)throw new Ke(t.Parsing,i.Xml,{url:n,code:c.XMLParsing});Q.getInstance().debug("XML has been received: "+n),Q.getInstance().debug("Start XML to JSON parsing: "+n);var s=(new DOMParser).parseFromString(a,"text/xml");if(e.isXMLValid(s)){var o=e.getJXON(s);return Promise.resolve(Ye.success(o))}throw new Ke(t.Parsing,i.Xml,{url:n,code:c.XMLParsing})})).catch((function(e){if(_instanceof(e,U)&&e.type===B.Timeout)throw new Ke(t.Timeout,i.Xml,{url:n});if(e.code>=400)throw new Ke(t.Http,i.Xml,{url:n,code:e.code});if(0===e.code)throw new f(t.Http,i.Module,{url:n,description:"Network error (CORS or some another)"});throw e}))]}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{i(o.next(e))}catch(e){t(e)}}function r(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,_instanceof(i,s)?i:new s((function(e){e(i)}))).then(n,r)}i((o=o.apply(a,[])).next())}));var a,s,o},e.isXMLValid=function(e){return!!e&&0===e.getElementsByTagName("parsererror").length},e.parseText=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)&&!/[\.]/.test(e)?parseInt(e,10):isFinite(e)&&/[\.]/.test(e)?parseFloat(e).toFixed(1):e},e.getJXON=function(e){var t=0,n="",r={};if("hasAttributes"in e&&e.hasAttributes())for(;t<e.attributes.length;t++){var i=e.attributes.item(t);r["@"+i.name.toLowerCase()]=this.parseText(i.value.trim())}if(e.hasChildNodes())for(var a=void 0,s=void 0,o=void 0,l=0;l<e.childNodes.length;l++)(a=e.childNodes.item(l)).nodeType===Pe.CDATASection?n+=a.nodeValue:a.nodeType===Pe.Text?n+=a.nodeValue.trim():a.nodeType!==Pe.Element||a.prefix||(0===t&&(r={}),s=a.nodeName.toLowerCase(),o=this.getJXON(a),r.hasOwnProperty(s)?(r[s].constructor!==Array&&(r[s]=[r[s]]),r[s].push(o)):(r[s]=o,t++));return n&&(t>0?r.keyValue=this.parseText(n):r=this.parseText(n)),r},e}(),Ze=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,_instanceof(t,n)?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},$e=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};!function(e){e.General="general",e.Absence="absence",e.Timeout="timeout",e.OverStack="overstack",e.Parsing="parsing",e.WrapperTimeout="wrapperTimeout",e.WrapperGeneral="wrapperGeneral"}(Xe||(Xe={}));var et,tt,nt=function(e,t){void 0===t&&(t={}),this.type=e,this.data=t},rt=function(){function e(e,t,n){this.urlPath=e,this.timeout=t,this.stackLength=n}return e.prototype.receive=function(){var e=this;return Je.receiveXMLFromUrl(this.urlPath,this.timeout).then((function(t){var n;return Q.getInstance().debug("XML to JSON has been parsed: "+e.urlPath),Q.getInstance().debug("Start VAST model building"),Ve.create(t.value,G).resolve((function(e){Q.getInstance().debug("VAST model has been built");var t=e.error;n=0===e.ad.length?Promise.reject(new nt(Xe.Absence,t)):Promise.resolve(e)})).catch((function(e){n=Promise.reject(new nt(Xe.Absence))})),n}))},e.load=function(t,n,r){return void 0===r&&(r=5),Ze(this,void 0,void 0,(function(){return $e(this,(function(i){return[2,new e(/^\/\/\w/.test(t)?"https:"+t:t,n,r).receive()]}))}))},e.loadWrapper=function(t,n,r,i){return Ze(this,void 0,void 0,(function(){return $e(this,(function(a){return[2,new Promise((function(a,s){i<=0?s(new pe(le.invalid,{code:c.WrapperLimitReached,url:t.vastAdTagURI})):(r<=0&&s(new pe(le.invalid,{code:c.WrapperTimeout,url:t.vastAdTagURI})),e.load(t.vastAdTagURI,r,i).then((function(e){var r=e.ad[0];a(n(t,r))})).catch((function(e){_instanceof(e,pe)&&(e.meta.url=t.vastAdTagURI,e.type===le.notVast&&(e.meta.code=c.NoAdResponse)),s(e)})))}))]}))}))},e}(),it=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return it(t,e),t}(Error),st=function(e,t){this.xml=e,this.wrapper=t},ot=function(){function e(e,t){void 0===t&&(t=5),this.timeout=e,this.maxXMLCount=t}return e.prototype.load=function(e){var t=this.timeout.xml;return rt.load(e,t)},e.prototype.loadWrappers=function(e,n){return r=this,a=function(){var r,i,a,s,o,l,u,d;return function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,(function(h){switch(h.label){case 0:if(e.type===Ae.Inline)return[2,Promise.resolve(e)];if(e.type!==Ae.Wrapper)return[2,Promise.reject(new at)];r=n,i=performance.now(),a=Ge.merge,s=this.maxXMLCount,o=e,h.label=1;case 1:return s-=1,l=performance.now(),u=Math.floor(r-(l-i)),d=Math.min(r,u),[4,rt.loadWrapper(o,a,d,s).catch((function(n){if(_instanceof(n,pe)&&[c.WrapperLimitReached,c.NoAdResponse].includes(n.meta.code)&&G.trackError(e.vastError,n.meta.code),_instanceof(n,Ke)&&n.type===t.Timeout)throw G.trackError(e.vastError,n.meta.code),new pe(le.invalid,{code:c.WrapperTimeout,url:o.vastAdTagURI});throw n}))];case 2:if((o=h.sent()).type===Ae.Inline)return[2,Promise.resolve(o)];if(o.type!==Ae.Wrapper)return[2,Promise.reject(new at)];h.label=3;case 3:return[3,1];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{o(a.next(e))}catch(e){t(e)}}function s(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,_instanceof(r,i)?r:new i((function(e){e(r)}))).then(n,s)}o((a=a.apply(r,[])).next())}));var r,i,a},e}(),lt=function(){function e(e,t,n,r){this.url=t,this.position=n,this.record=null,this.type=e,this.rawMaterial=r,this.isRecordLoaded=!1,this.preloadPromise=null}return Object.defineProperty(e.prototype,"isLoaded",{get:function(){return this.isRecordLoaded},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return null!==this.preloadPromise},enumerable:!1,configurable:!0}),e.prototype.preload=function(){var e=this;return null!==this.preloadPromise?this.preloadPromise:this.isLoaded?Promise.resolve(this):(this.preloadPromise=this.rawMaterial.load(!0).then((function(t){e.record=t.record})).then((function(){return Promise.resolve(e)})).finally((function(){e.isRecordLoaded=!0,e.preloadPromise=null})),this.preloadPromise)},e}(),ut=function(){function e(e,t,n){this.items=e.slice(0,Math.min(t.blocksCount,e.length)).reverse().map((function(e){var r=new st(t.xmlTimeout,t.wrapperCount);return new lt(e.type,e.url,e.position,new S(n.resolve(e.url),new ot(r),G))})),this.timeout=t,this.initialItemsCount=this.items.length}return Object.defineProperty(e.prototype,"hasNextItems",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),e.prototype.nextItem=function(){var e=this.items.pop();return void 0!==e?e:null},e.createPlan=function(t,n,r){var i,a,s,o,l;return new e(t.map((function(e){return{url:e.url,position:e.position,type:e.type}})),new Be(null!==(i=n.xmlTimeout)&&void 0!==i?i:w.convertSecondsToMs(2.5),null!==(a=n.wrapperCount)&&void 0!==a?a:5,null!==(s=n.blocksCount)&&void 0!==s?s:3,null!==(o=n.blocksDuration)&&void 0!==o?o:w.convertSecondsToMs(300),null!==(l=n.creativeTimeout)&&void 0!==l?l:w.convertSecondsToMs(3)),r)},e}();!function(e){e.WebDesktop="1",e.TabletIOS="2",e.TabletAndroid="3",e.TabletAnother="4",e.MobileIOS="5",e.MobileAndroidOS="6",e.MobileAnotherOS="7",e.SmartTv="8"}(et||(et={})),function(e){e.w400h225_w639_h359="0",e.w640h360_w959_h539="1",e.w960h540_w1279_h719="2",e.w1280h720_more="3",e.unknown="4",e.w400h225_less="5"}(tt||(tt={}));var ct,dt=function(){function e(){}return e.resolve=function(e,t){if("string"!=typeof e)return e;for(var n,r=e,i=/(%7B|{)(.*?)(%7D|})/g;null!=(n=i.exec(e));){var a=n[0],s=n[2],o=this.getParam(s,t);r=r.replace(a,o)}return r},e.getParam=function(t,n){switch(t){case"sound":return 0===parseFloat(n.volume)?"2":"1";case"player_mode":switch(n.adViewType){case H.normal:return"1";case H.fullscreen:return"0";case H.pip:return"3";default:return""}case"creative_type":return"1";case"referrer":return window.parent.location.href;case"player_size":return e.detectPlayerDimensions(n.width,n.height);default:return""}},e.detectPlayerDimensions=function(e,t){return e<400&&t<225?tt.w400h225_less:e>=400&&e<=639&&t>=225&&t<=359?tt.w400h225_w639_h359:e>=640&&e<=959&&t>=360&&t<=539?tt.w640h360_w959_h539:e>=960&&e<=1279&&t>=540&&t<=719?tt.w960h540_w1279_h719:e>=1280&&t>=720?tt.w1280h720_more:tt.unknown},e}(),ht=function(){function e(e){this.externalDataObserver=e}return e.prototype.resolve=function(e){var t=this;return function(){return dt.resolve(e,t.externalDataObserver)}},e}(),ft=function(){function e(e){this._adViewType=H.normal,this.container=e.container,this._volume=e.volume,this.qualityHandler=e.qualityHandler}return Object.defineProperty(e.prototype,"width",{get:function(){return this.container.clientWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.container.clientHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"adViewType",{get:function(){return this._adViewType},set:function(e){this._adViewType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(e){this._volume=e},enumerable:!1,configurable:!0}),e.prototype.fullscreen=function(e){this.adViewType=e?H.fullscreen:H.normal},e}(),pt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),At=function(e){function t(t){var n=e.call(this)||this;return n.result=t,n}return pt(t,e),t}(Error),gt=function(){function e(){}return e.prepareImage=function(t,n){if(n)return n;try{return e.screenshot(t,1)}catch(e){return""}},e.screenshot=function(e,t){var n;t=t||1;var r=document.createElement("canvas");return r.width=e.clientWidth*t,r.height=e.clientHeight*t,null===(n=r.getContext("2d"))||void 0===n||n.drawImage(e,0,0,r.width,r.height),r.toDataURL()},e}(),mt=function(){function e(e,t,n){this.slot=e,this.config=t,this.completion=n,this.externalDataObserver=new ft(t);var r=new ht(this.externalDataObserver),i=ut.createPlan(t.records,t.recordConfig,r),a=i.timeout.blocksDuration/1e3*i.initialItemsCount;this.manufacturer=new Ne(a,i,t.invitationHandler,t.volumeHandler),this.viewStateEmitter=this.manufacturer.viewStateEmitter}return e.prototype.preload=function(){var e=this;return this.manufacturer.preload().then((function(){return Promise.resolve(e)})).catch((function(){return e.completion(e),Promise.reject(new At(e.manufacturer.results))}))},e.prototype.pause=function(){var e;null===(e=this.manufacturer.player)||void 0===e||e.pause()},e.prototype.resume=function(){var e;null===(e=this.manufacturer.player)||void 0===e||e.play()},e.prototype.start=function(e){var t=this;this.manufacturer.stateEmitter.on((function(e){var n=t.manufacturer.player;switch(e){case ke.finished:null!==n&&n.reset();break;case ke.started:t.config.container&&n&&!t.config.player&&(t.config.container.hasChildNodes()?t.config.container.insertBefore(n.getNode(),t.config.container.firstChild):t.config.container.appendChild(n.getNode()))}}));var n=gt.prepareImage(null,e);return this.manufacturer.start(this.externalDataObserver,n,this.config.player).then((function(e){var n=new l(t.slot,e.results);return e.results.filter((function(e){return"isSuccess"in e&&!0===e.isSuccess})).length?Promise.resolve(n):Promise.reject(n)})).finally((function(){t.destroy(),t.completion(t)}))},e.prototype.acceptInvitation=function(e){this.manufacturer.acceptInvitation(e)},e.prototype.reset=function(){this.manufacturer.reset(),this.completion(this)},Object.defineProperty(e.prototype,"volume",{get:function(){var e,t;return null===(t=null===(e=this.manufacturer)||void 0===e?void 0:e.player)||void 0===t?void 0:t.volume},set:function(e){var t=this.manufacturer.player;this.externalDataObserver.volume=e,t&&(t.volume=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){var e,t;return null===(t=null===(e=this.manufacturer)||void 0===e?void 0:e.player)||void 0===t?void 0:t.muted},enumerable:!1,configurable:!0}),e.prototype.fullscreen=function(e){this.manufacturer.fullscreen(e),this.externalDataObserver.fullscreen(e)},e.prototype.destroy=function(){var e,t;null===(t=null===(e=this.manufacturer)||void 0===e?void 0:e.player)||void 0===t||t.destroy()},e}(),vt=function(e,t,n,r,i,a,s,o,l,u){this.player=e,this.container=t,this.records=n,this.recordConfig=r,this.view=i,this.volume=a,this.referer=s,this.qualityHandler=o,this.invitationHandler=l,this.volumeHandler=u},yt=function(){function t(e,n){var r,i,a;this.slot=e,this.type=n?n.type:t.type(e),this.xmlTimeout=w.convertSecondsToMs(null!==(r=null==n?void 0:n.xmlTimeout)&&void 0!==r?r:2.5),this.creativeTimeout=w.convertSecondsToMs(null!==(i=null==n?void 0:n.creativeTimeout)&&void 0!==i?i:3),this.wrapperCount=w.convertSecondsToMs((null==n?void 0:n.wrapperCount)||5),this.blocksCount=null!==(a=null==n?void 0:n.blocksCount)&&void 0!==a?a:3,this.blocksDuration=w.convertSecondsToMs((null==n?void 0:n.blocksDuration)||300)}return t.common=function(e){return new t(e)},t.config=function(e,n){var r=null==n?void 0:n.find((function(n){return n.type===t.type(e)}));return new t(e,r)},t.type=function(t){switch(t){case e.preroll:return"preroll";case e.midroll:return"midroll";default:return"postroll"}},t}(),Et=function(){function t(e,t,n,r){this.type=e,this.url=t,this.position=n,this.point=r}return t.records=function(n,r,i){return r.filter((function(r){return n===e.midroll&&r.type===t.type(n)?r.point===i:r.type===t.type(n)})).sort((function(e,t){return e.position-t.position}))},t.type=function(t){switch(t){case e.preroll:return"preroll";case e.midroll:return"midroll";default:return"postroll"}},t}(),_t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _t(t,e),t.emptyRecords="emptyRecords",t}(Error),bt=function(){function t(e,t){this.config=null,this.qualityHandler=null,this.invitationHandler=null,this.volumeHandler=null,this.units=[],this.midrollPoints_=[],this.container=e,t&&Q.getInstance().setHandler(t)}return t.prototype.configure=function(t,n,r,i){this.reset(),Q.getInstance().debug("Module configuration"),this.config=t,this.qualityHandler=void 0!==n?n:null,this.volumeHandler=void 0!==i?i:null,this.invitationHandler=void 0!==r?r:function(e){var t;null===(t=window.open(e,"_blank"))||void 0===t||t.focus()},this.config.records.length&&(this.midrollPoints_=this.config.records.filter((function(t){return t.type===e.midroll})).map((function(e){return e.point})))},t.prototype.preloadUnit=function(e,t,n,r){Q.getInstance().debug("Ad unit preloading");var i=this.createAdUnit(e,t,n,r);return null!==i?i.preload():Promise.reject(new Tt(Tt.emptyRecords))},t.prototype.createUnit=function(e,t,n,r){Q.getInstance().debug("Ad unit creation");var i=this.createAdUnit(e,t,n,r);return null!==i?Ye.success(i):Ye.error(new Tt(Tt.emptyRecords))},t.prototype.reset=function(){this.units.concat().forEach((function(e){return e.reset()}))},t.prototype.configuration=function(e,t,n,r){var i;Q.getInstance().debug("Ad unit configuration");var a=this.config,s=[],o=[],l="";return a&&(s=a.config,o=Et.records(e,a.records,r),l=null!==(i=a.referer)&&void 0!==i?i:l),n=null!=n?n:1,0===o.length?null:new vt(a?a.player:void 0,this.container,o,yt.config(e,s),t,n,l,this.qualityHandler,this.invitationHandler,this.volumeHandler)},t.prototype.createAdUnit=function(e,t,n,r){var i=this,a=this.configuration(e,t,n,r);if(null===a)return null;var s=new mt(e,a,(function(e){var t=i.units.indexOf(e);t>-1&&i.units.splice(t,1)}));return this.units.push(s),s},Object.defineProperty(t.prototype,"midrollPoints",{get:function(){return this.midrollPoints_},enumerable:!1,configurable:!0}),t}(),St=function(){var e=function(t,n){return(e=Object.setPrototypeOf||_instanceof({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return St(t,e),t.incorrectJson="incorrectJson",t.emptyRawRecords="emptyRawRecords",t.emptyRecords="emptyRecords",t}(Error),Ct=function(){function t(){}return t.create=function(t){var n;try{n=JSON.parse(t)}catch(e){return Ye.error(new wt(wt.incorrectJson))}if(!n)return Ye.error(new wt(wt.incorrectJson));var r=n.avod;if(!r)return Ye.error(new wt(wt.incorrectJson));var i=r.records;if(!i||!Array.isArray(i)||0===i.length)return Ye.error(new wt(wt.emptyRawRecords));var a=[];if(i.forEach((function(t){if("string"==typeof t.type&&"string"==typeof t.url&&("number"==typeof t.position||void 0===t.position)){var n={type:t.type,url:t.url,position:void 0!==t.position?t.position:0,point:t.type===e.midroll&&"number"==typeof t.point?t.point:void 0};a.push(n)}})),0===a.length)return Ye.error(new wt(wt.emptyRecords));var s=r.config,o=[];Array.isArray(s)&&s.forEach((function(e){if("string"==typeof e.type){var t={};t.type=e.type,t.xmlTimeout=e.xml_timeout,t.creativeTimeout=e.creative_timeout,t.blocksCount=e.max_blocks,t.blocksDuration=e.max_block_duration,t.preload=e.preload,t.preloadTime=e.preload_time,o.push(t)}}));var l={};return l.referer="string"==typeof r.referer?r.referer:"",l.records=a,l.config=o,Ye.success(l)},t}();!function(e){e[e.MediaFileDisplayingProblem=3]="MediaFileDisplayingProblem",e[e.MediaFileNotFoundSupported=4]="MediaFileNotFoundSupported"}(ct||(ct={}))}(),r}()},"object"==typeof e&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof e?e.Advertisement=r():n.Advertisement=r()}});var Qe=d({"#style-inject:#style-inject":function(){}}),Ge=d({"src/plugins/advertisement/assets/styles.css":function(){Qe(),function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".ad-container--fullscreen {\n  object-fit: contain;\n  position: fixed !important;\n  top: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  box-sizing: border-box !important;\n  min-width: 0 !important;\n  max-width: none !important;\n  min-height: 0 !important;\n  max-height: none !important;\n  width: 100% !important;\n  height: 100% !important;\n  transform: none !important;\n  margin: 0 !important;\n}\n.ad-player-wrapper {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n  z-index: 1;\n  font-size: 12px;\n  line-height: 14px;\n}\n.ad-player-wrapper--clickable {\n  cursor: pointer;\n}\n.ad-player-controls {\n  position: absolute;\n  box-sizing: border-box;\n  color: #fff;\n  z-index: 2;\n  display: none;\n}\n.ad-player--started .ad-player-controls {\n  display: block;\n}\n.ad-player-controls-wrapper {\n  display: flex;\n  position: relative;\n}\n.ad-player__caption {\n  position: relative;\n}\n.ad-player__duration {\n  line-height: 15px;\n  vertical-align: top;\n  text-align: left;\n  position: relative;\n  left: 4px;\n}\n.ad-player__link {\n  padding: 4px 9px;\n  position: absolute;\n  right: 8px;\n  bottom: 16px;\n  background: rgba(0, 0, 0, 0.8);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  border-radius: 4px;\n  font-size: 12px;\n  line-height: 12px;\n  text-align: center;\n  color: #FFFFFF;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.ad-player__link:hover {\n  color: rgba(255, 255, 255, 0.8);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n}\n.ad-skip-button {\n  display: none;\n}\n.ad-skip-button--active {\n  display: block;\n}\n.ad-play-button {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: none;\n  z-index: 3;\n  cursor: pointer;\n}\n.ad-play-button .icon {\n  height: 24px;\n  width: 24px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 21px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTIgNTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOC4xNTE4IDUuODI2ODVDNy4xNzk2IDUuMjU5NzMgNS45NTg2NiA1Ljk2MDk5IDUuOTU4NjYgNy4wODY1M1Y1MC45MTEyQzUuOTU4NjYgNTIuMDM2NyA3LjE3OTYgNTIuNzM4IDguMTUxOCA1Mi4xNzA5TDQ1LjcxNTggMzAuMjU4NUM0Ni42ODA1IDI5LjY5NTggNDYuNjgwNSAyOC4zMDE5IDQ1LjcxNTggMjcuNzM5Mkw4LjE1MTggNS44MjY4NVpNMC41NDE5OTIgNy4wODY1M0MwLjU0MTk5MiAxLjc4MDQ3IDYuMjk3ODMgLTEuNTI1NTMgMTAuODgxMSAxLjE0ODA1TDQ4LjQ0NTEgMjMuMDYwNEM1Mi45OTMgMjUuNzEzMyA1Mi45OTMgMzIuMjg0NCA0OC40NDUxIDM0LjkzNzNMMTAuODgxMSA1Ni44NDk3QzYuMjk3ODQgNTkuNTIzMyAwLjU0MTk5MiA1Ni4yMTczIDAuNTQxOTkyIDUwLjkxMTJWNy4wODY1M1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=);\n}\n.ad-play-button .icon:hover {\n  opacity: 0.8;\n}\n.ad-player--not-clickable {\n  cursor: default;\n}\n.ad-player-wrapper .ad-player-controls {\n  top: 14px;\n  left: 11px;\n}\n.ad-skip-button {\n  position: absolute;\n  right: 12px;\n  top: 13px;\n  z-index: 2;\n}\n.ad-skip-button {\n  height: 16px;\n  width: 16px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTYgMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xLjUzMDMzIDAuNDY5NjdDMS4yMzc0NCAwLjE3Njc3NyAwLjc2MjU2MyAwLjE3Njc3NyAwLjQ2OTY3IDAuNDY5NjdDMC4xNzY3NzcgMC43NjI1NjMgMC4xNzY3NzcgMS4yMzc0NCAwLjQ2OTY3IDEuNTMwMzNMNi45MzkzNCA4TDAuNDY5NjcgMTQuNDY5N0MwLjE3Njc3NyAxNC43NjI2IDAuMTc2Nzc3IDE1LjIzNzQgMC40Njk2NyAxNS41MzAzQzAuNzYyNTYzIDE1LjgyMzIgMS4yMzc0NCAxNS44MjMyIDEuNTMwMzMgMTUuNTMwM0w4IDkuMDYwNjZMMTQuNDY5NyAxNS41MzAzQzE0Ljc2MjYgMTUuODIzMiAxNS4yMzc0IDE1LjgyMzIgMTUuNTMwMyAxNS41MzAzQzE1LjgyMzIgMTUuMjM3NCAxNS44MjMyIDE0Ljc2MjYgMTUuNTMwMyAxNC40Njk3TDkuMDYwNjYgOEwxNS41MzAzIDEuNTMwMzNDMTUuODIzMiAxLjIzNzQ0IDE1LjgyMzIgMC43NjI1NjMgMTUuNTMwMyAwLjQ2OTY3QzE1LjIzNzQgMC4xNzY3NzcgMTQuNzYyNiAwLjE3Njc3NyAxNC40Njk3IDAuNDY5NjdMOCA2LjkzOTM0TDEuNTMwMzMgMC40Njk2N1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=);\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.ad-skip-button:hover {\n  opacity: 0.8;\n}\n.ad-player__sound {\n  margin-right: 11px;\n  height: 18px;\n  width: 18px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzEgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNS4yMDQ1IDAuODA5MzdDMjUuNjExMyAwLjQwMjU3MyAyNi4yNzA5IDAuNDAyNTczIDI2LjY3NzcgMC44MDkzN0MzMi4yNzIyIDYuNDAzOTEgMzIuMjcyMiAxNS40NzQ0IDI2LjY3NzcgMjEuMDY5QzI2LjI3MDkgMjEuNDc1OCAyNS42MTEzIDIxLjQ3NTggMjUuMjA0NSAyMS4wNjlDMjQuNzk3NyAyMC42NjIyIDI0Ljc5NzcgMjAuMDAyNiAyNS4yMDQ1IDE5LjU5NThDMjkuOTg1NSAxNC44MTQ5IDI5Ljk4NTUgNy4wNjM0NSAyNS4yMDQ1IDIuMjgyNTFDMjQuNzk3NyAxLjg3NTcxIDI0Ljc5NzcgMS4yMTYxNyAyNS4yMDQ1IDAuODA5MzdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjEuMDI5NyA0Ljk4NThDMjEuNDM2NSA0LjU3OTAxIDIyLjA5NjEgNC41NzkwMSAyMi41MDI4IDQuOTg1OEMyNS43OTE3IDguMjc0NjggMjUuNzkxNyAxMy42MDcgMjIuNTAyOCAxNi44OTU5QzIyLjA5NjEgMTcuMzAyNyAyMS40MzY1IDE3LjMwMjcgMjEuMDI5NyAxNi44OTU5QzIwLjYyMjkgMTYuNDg5MSAyMC42MjI5IDE1LjgyOTUgMjEuMDI5NyAxNS40MjI3QzIzLjUwNSAxMi45NDc0IDIzLjUwNSA4LjkzNDIyIDIxLjAyOTcgNi40NTg5NEMyMC42MjI5IDYuMDUyMTUgMjAuNjIyOSA1LjM5MjYgMjEuMDI5NyA0Ljk4NThaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2LjM3NTcgMy4yOTEwOEMxNi4zNzU3IDAuNzU0MTk0IDEzLjIwMDQgLTAuMzkwMzQzIDExLjU4MTggMS41NjMxMkw4LjEyNyA1LjczMjc2QzguMDA4MjYgNS44NzYwNiA3LjgzMTg0IDUuOTU5IDcuNjQ1NzMgNS45NTlIMy42NjczMkMyLjE3MTU1IDUuOTU5IDAuOTU4OTg0IDcuMTcxNTYgMC45NTg5ODQgOC42NjczM1YxNS4zMzRDMC45NTg5ODQgMTYuODI5OCAyLjE3MTU1IDE4LjA0MjMgMy42NjczMiAxOC4wNDIzSDcuNjQ1NzNDNy44MzE4NCAxOC4wNDIzIDguMDA4MjYgMTguMTI1MyA4LjEyNyAxOC4yNjg2TDExLjU4MTggMjIuNDM4MkMxMy4yMDA0IDI0LjM5MTcgMTYuMzc1NyAyMy4yNDcxIDE2LjM3NTcgMjAuNzEwMlYzLjI5MTA4Wk0xMy4xODYxIDIuODkyMzJDMTMuNTU5NiAyLjQ0MTUyIDE0LjI5MjMgMi43MDU2NSAxNC4yOTIzIDMuMjkxMDhWMjAuNzEwMkMxNC4yOTIzIDIxLjI5NTcgMTMuNTU5NiAyMS41NTk4IDEzLjE4NjEgMjEuMTA5TDkuNzMxMjEgMTYuOTM5NEM5LjIxNjY4IDE2LjMxODQgOC40NTIxOCAxNS45NTkgNy42NDU3MyAxNS45NTlIMy42NjczMkMzLjMyMjE0IDE1Ljk1OSAzLjA0MjMyIDE1LjY3OTIgMy4wNDIzMiAxNS4zMzRWOC42NjczM0MzLjA0MjMyIDguMzIyMTYgMy4zMjIxNCA4LjA0MjMzIDMuNjY3MzIgOC4wNDIzM0g3LjY0NTczQzguNDUyMTggOC4wNDIzMyA5LjIxNjY4IDcuNjgyOTUgOS43MzEyMSA3LjA2MTk3TDEzLjE4NjEgMi44OTIzMloiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=);\n  background-repeat: no-repeat;\n  background-position: center;\n  position: relative;\n  bottom: 2px;\n  z-index: 2;\n}\n.ad-player__sound:hover {\n  opacity: 0.8;\n}\n.ad-player__sound--muted {\n  height: 14px;\n  width: 18px;\n  bottom: 0px;\n  right: 4px;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yLjM4MzUzIDEuMTY2NzFDMi4wNTgwOSAwLjg0MTI3MSAxLjUzMDQ1IDAuODQxMjcxIDEuMjA1MDIgMS4xNjY3MUMwLjg3OTU3OCAxLjQ5MjE1IDAuODc5NTc4IDIuMDE5NzggMS4yMDUwMiAyLjM0NTIyTDIxLjY5NjMgMjIuODMzNEMyMi4wMjE3IDIzLjE1ODggMjIuNTQ5NCAyMy4xNTg4IDIyLjg3NDggMjIuODMzNEMyMy4yMDAyIDIyLjUwNzkgMjMuMjAwMiAyMS45ODAzIDIyLjg3NDggMjEuNjU0OEwyLjM4MzUzIDEuMTY2NzFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTkuMzY3NyAzLjI5MDAyVjE1Ljc5MDdMMTcuMjg0NCAxMy43MDc0VjMuMjkwMDJDMTcuMjg0NCAyLjcwNDU4IDE2LjU1MTYgMi40NDA0NiAxNi4xNzgxIDIuODkxMjZMMTIuNzIzMyA3LjA2MDkxQzEyLjM5NCA3LjQ1ODI3IDExLjk2MjQgNy43NDg1MiAxMS40ODMgNy45MDYwM0w5LjUzNDkgNS45NTc5NEgxMC42Mzc4QzEwLjgyMzkgNS45NTc5NCAxMS4wMDAzIDUuODc1IDExLjExOTEgNS43MzE3TDE0LjU3MzkgMS41NjIwNkMxNi4xOTI1IC0wLjM5MTQwNiAxOS4zNjc3IDAuNzUzMTMgMTkuMzY3NyAzLjI5MDAyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYuMDM0NCAxNS4zMzI5VjkuNTI4NUw0LjE1MDQyIDcuNjQ0NTJDNC4wMjE4OSA3Ljk1OTgyIDMuOTUxMDcgOC4zMDQ3NyAzLjk1MTA3IDguNjY2MjdWMTUuMzMyOUMzLjk1MTA3IDE2LjgyODcgNS4xNjM2MyAxOC4wNDEzIDYuNjU5NCAxOC4wNDEzSDEwLjYzNzhDMTAuODIzOSAxOC4wNDEzIDExLjAwMDMgMTguMTI0MiAxMS4xMTkxIDE4LjI2NzVMMTQuNTczOSAyMi40MzcxQzE1Ljc4NDkgMjMuODk4NyAxNy44Njc0IDIzLjYyNiAxOC44MzkzIDIyLjMzMzRMMTcuMjgxMiAyMC43NzUzQzE3LjIyODUgMjEuMzEzOSAxNi41MzczIDIxLjU0MTQgMTYuMTc4MSAyMS4xMDc5TDEyLjcyMzMgMTYuOTM4M0MxMi4yMDg4IDE2LjMxNzMgMTEuNDQ0MyAxNS45NTc5IDEwLjYzNzggMTUuOTU3OUg2LjY1OTRDNi4zMTQyMiAxNS45NTc5IDYuMDM0NCAxNS42NzgxIDYuMDM0NCAxNS4zMzI5WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==);\n}\n.ad-player-wrapper--small .ad-player__duration {\n  left: 5px;\n}\n.ad-top-bg {\n  position: absolute;\n  height: 150px;\n  left: 0;\n  right: 0;\n  top: 0;\n  background:\n    linear-gradient(\n      180deg,\n      rgba(0, 0, 0, 0.72) 0%,\n      rgba(0, 0, 0, 0) 100%);\n  display: block;\n}\n.clickable-area {\n  position: absolute;\n  display: none;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n.ad-player-wrapper--medium .clickable-area,\n.ad-player-wrapper--large .clickable-area {\n  display: block;\n  z-index: 1;\n}\n.ad-player-wrapper--medium .ad-skip-button {\n  right: 16px;\n  top: 16px;\n  height: 22px;\n  width: 22px;\n}\n.ad-player-wrapper--medium .ad-player__link {\n  padding: 4px 13px;\n  font-size: 15px;\n  line-height: 17px;\n  width: auto;\n  height: auto;\n  right: 16px;\n}\n.ad-player-wrapper--medium .ad-player__sound {\n  height: 24px;\n  width: 24px;\n  margin-right: 25px;\n  bottom: 5px;\n}\n.ad-player-wrapper--medium .ad-player__sound--muted {\n  height: 19px;\n  width: 24px;\n  bottom: 3px;\n  right: 5px;\n}\n.ad-player-wrapper--medium .ad-player-controls {\n  top: 19px;\n  left: 19px;\n}\n.ad-player-wrapper--medium .ad-player-controls-wrapper {\n  font-size: 16px;\n}\n.ad-player-wrapper--medium .ad-player__caption {\n  padding-right: 0px;\n}\n.ad-player-wrapper--medium .ad-play-button {\n  background: rgba(0, 0, 0, 0.4);\n  border-radius: 64px;\n  width: 80px;\n  height: 80px;\n}\n.ad-player-wrapper--medium .ad-play-button .icon {\n  position: absolute;\n  top: 50%;\n  left: 53%;\n  transform: translate(-50%, -50%);\n  height: 36px;\n  width: 36px;\n  background-size: 33px;\n}\n.ad-player-wrapper.ad-player-wrapper--medium,\n.ad-player-wrapper.ad-player-wrapper--large {\n  background: none;\n}\n.ad-player-wrapper--large .ad-skip-button {\n  right: 26px;\n  top: 25px;\n  height: 28px;\n  width: 28px;\n}\n.ad-player-wrapper--large .ad-player__link {\n  padding: 4px 20px;\n  font-size: 20px;\n  line-height: 29px;\n  right: 20px;\n  bottom: 20px;\n}\n.ad-player-wrapper--large .ad-player__sound {\n  height: 31px;\n  width: 31px;\n  margin-right: 25px;\n  bottom: 9px;\n}\n.ad-player-wrapper--large .ad-player__sound--muted {\n  height: 25px;\n  width: 31px;\n  bottom: 6px;\n  right: 6px;\n}\n.ad-player-wrapper--large .ad-player-controls {\n  top: 33px;\n  left: 23px;\n}\n.ad-player-wrapper--large .ad-player-controls-wrapper {\n  font-size: 20px;\n}\n.ad-player-wrapper--large .ad-player__caption {\n  padding-right: 6px;\n}\n.ad-player-wrapper--large .ad-play-button {\n  background: rgba(0, 0, 0, 0.4);\n  border-radius: 64px;\n  width: 124px;\n  height: 124px;\n}\n.ad-player-wrapper--large .ad-play-button .icon {\n  position: absolute;\n  top: 53%;\n  left: 54%;\n  transform: translate(-50%, -50%);\n  height: 58px;\n  width: 58px;\n  background-size: 52px;\n}\n.ad-player-wrapper.ad-player-wrapper--large {\n  background: none;\n}\n.ad-player-wrapper--hide-controls .ad-player--control-element {\n  display: none;\n}\n.vjs-loading .ad-player--control-element {\n  display: none;\n}\n.vjs-loading.ad-player--started {\n  background-color: transparent;\n}\n.vjs-loading .ad-player__link,\n.vjs-loading .ad-skip-button,\n.vjs-loading .ad-play-button,\n.vjs-loading .ad-player-controls {\n  display: none;\n}\n.vjs-loading .ad-player--started #ad-link-text,\n.vjs-loading .ad-player--started #ad-player-close-button.ad-skip-button--active,\n.vjs-loading .ad-player--started #ad-duration {\n  display: block;\n}\n.vjs-loading .ad-player-wrapper--hide-controls.ad-player--started #ad-link-text,\n.vjs-loading .ad-player-wrapper--hide-controls.ad-player--started #ad-player-close-button.ad-skip-button--active,\n.vjs-loading .ad-player-wrapper--hide-controls.ad-player--started #ad-duration {\n  display: none;\n}\n.vjs-loading .ad-player-wrapper.ad-type--preroll:not(.ad-player--started) ~ .vjs-poster {\n  display: block;\n}\n.vjs-loading.vjs-advertising--playing .ad-player-wrapper.ad-type--preroll:not(.ad-player--started) ~ .vjs-poster {\n  display: none;\n}\n.ad-player--paused #ad-play-button {\n  display: block;\n}\n.vjs-loading .ad-player--paused #ad-play-button {\n  display: none;\n}\n.ad-player__link {\n  display: none;\n}\n.ad-player__link--active {\n  display: block;\n}\n.ad-player-element--hide {\n  display: none !important;\n}\n")}}),Ve=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"isAutoplaySupported",value:function(t){if("function"==typeof t){var n=e.sessionStorageRead();if(null!=n)return n;var r=null;try{"function"==typeof(r=e.addVideoElement()).load&&r.load();var i=r.play();e.tryPromise(i,r,t)||e.tryOnplay(r,t)}catch(n){e.removeVideoElement(r),e.sessionStoreSave("false"),t(!1)}}else console.warn("isAutoplaySupported: Callback must be a function.")}},{key:"sessionStorageRead",value:function(){if(!e.USE_SESSION_STORAGE)return null;try{if(window.sessionStorage){var t=window.sessionStorage.getItem(e.IS_SUPPORTED_KEY),n=window.sessionStorage.getItem(e.VALID_DATE_KEY);if(null==t||!n)return null;if(t){var r=(new Date).getTime();if(Number(n)>r)return!0}return!1}return null}catch(e){return null}}},{key:"sessionStoreSave",value:function(t){if(e.USE_SESSION_STORAGE)try{window.sessionStorage&&(window.sessionStorage.setItem(e.VALID_DATE_KEY,""+(new Date).getTime()+864e5),window.sessionStorage.setItem(e.IS_SUPPORTED_KEY,t))}catch(e){}}},{key:"addVideoElement",value:function(){var e=document.createElement("video");return e.muted=!1,e.setAttribute("playsInline","true"),e.setAttribute("webkit-playsinline","true"),e.preload="none",e.autoplay=!1,e.src="data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==",e.playing=!1,e.style.width="1px",e.style.height="1px",document.body.appendChild(e),e}},{key:"removeVideoElement",value:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"tryPromise",value:function(t,n,r){return!!t&&(t.then((function(){e.sessionStoreSave("true"),e.removeVideoElement(n),r(!0)})).catch((function(){e.sessionStoreSave("false"),e.removeVideoElement(n),r(!1)})),!0)}},{key:"tryOnplay",value:function(t,n){t.onplay=function(){t.playing=!0},t.oncanplay=function(){e.removeVideoElement(t),t.playing?(e.sessionStoreSave("true"),n(!0)):(e.sessionStoreSave("false"),n(!1))}}}]),e}();Ve.USE_SESSION_STORAGE=!1,Ve.IS_SUPPORTED_KEY="NutIsSupported",Ve.VALID_DATE_KEY="NutValidDate";var He=Ve,Ye=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"getObjectFromUrl",value:function(e){var t="",n=e.indexOf("?");-1!==n&&(t=e.substr(n+1));var r={};return t.split("&").forEach((function(e){if(e){var t=(e=e.split("+").join(" ")).indexOf("="),n=t>-1?e.substr(0,t):e,i=t>-1?decodeURIComponent(e.substr(t+1)):"",a=n.indexOf("[");if(-1===a)r[decodeURIComponent(n)]=i;else{var s=n.indexOf("]",a),o=decodeURIComponent(n.substring(a+1,s));n=decodeURIComponent(n.substring(0,a)),r[n]||(r[n]=[]),o?r[n][o]=i:r[n].push(i)}}})),r}}]),e}(),qe=f(A()),ze=f(k()),We=f(R()),Ke=f(D()),Xe=f(M()),Je=f(N()),Ze=f(B()),$e=f(O()),et=f(Q()),tt=f(V()),nt=f(H()),rt=f(Y()),it=f(A()),at="http://example.com",st=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=it.default.location&&it.default.location.href||"");var n="function"==typeof it.default.URL,r=/^\/\//.test(e),i=!it.default.location&&!/\/\//i.test(e);if(n?e=new it.default.URL(e,it.default.location||at):/\/\//i.test(e)||(e=rt.default.buildAbsoluteURL(it.default.location&&it.default.location.href||"",e)),n){var a=new URL(t,e);return i?a.href.slice(18):r?a.href.slice(a.protocol.length):a.href}return rt.default.buildAbsoluteURL(e,t)},ot=f(N()),lt=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),ut=f(R()),ct=f(M()),dt=f(A());function ht(e){for(var t,n=(t=e,dt.default.atob?dt.default.atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var ft,pt,At=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return(0,ot.default)(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(lt),gt=String.fromCharCode(9),mt=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},vt=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},yt=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}(0,ot.default)(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return n=(0,ut.default)(mt(t[1]),{type:"tag",tagType:"byterange"}),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var a=vt(t[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=mt(a.BYTERANGE))}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=vt(t[1]),n.attributes.RESOLUTION){var s=n.attributes.RESOLUTION.split("x"),o={};s[0]&&(o.width=parseInt(s[0],10)),s[1]&&(o.height=parseInt(s[1],10)),n.attributes.RESOLUTION=o}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=vt(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=vt(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=vt(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"skip"}).attributes=vt(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(gt)),void r.trigger("data",n);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part"}).attributes=vt(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=mt(n.attributes.BYTERANGE)),void r.trigger("data",n);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"server-control"}).attributes=vt(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part-inf"}).attributes=vt(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"preload-hint"}).attributes=vt(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void r.trigger("data",n);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"rendition-report"}).attributes=vt(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,a=e.segment;"function"!=typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:a}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(lt),Et=function(e){var t={};return Object.keys(e).forEach((function(n){var r;t[(r=n,r.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[n]})),t},_t=function(e){var t=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(t){var i="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",o=n&&3*n,l=r&&2*r;n&&!t.hasOwnProperty(a)&&(t[a]=o,this.trigger("info",{message:i+" defaulting HOLD-BACK to targetDuration * 3 ("+o+")."})),o&&t[a]<o&&(this.trigger("warn",{message:i+" clamping HOLD-BACK ("+t[a]+") to targetDuration * 3 ("+o+")"}),t[a]=o),r&&!t.hasOwnProperty(s)&&(t[s]=3*r,this.trigger("info",{message:i+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[s]+")."})),r&&t[s]<l&&(this.trigger("warn",{message:i+" clamping PART-HOLD-BACK ("+t[s]+") to partTargetDuration * 2 ("+l+")."}),t[s]=l)}},Tt=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new At,t.parseStream=new yt,t.lineStream.pipe(t.parseStream);var n,r,i=(0,ct.default)(t),a=[],s={},o=!1,l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0,h=0;return t.on("end",(function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&n&&(s.map=n),!s.key&&r&&(s.key=r),s.timeline||"number"!=typeof c||(s.timeline=c),t.manifest.preloadSegment=s)})),t.parseStream.on("data",(function(e){var t,f;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(e.offset=d)),"offset"in e&&(s.byterange=t,t.offset=e.offset),d=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:ht(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange),r&&(n.key=r)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(s.attributes||(s.attributes={}),(0,ut.default)(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(f={default:/yes/i.test(e.attributes.DEFAULT)}).default?f.autoselect=!0:f.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(f.language=e.attributes.LANGUAGE),e.attributes.URI&&(f.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(f.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(f.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(f.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=f}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,_t.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){s.cueOut=e.data},"cue-out-cont":function(){s.cueOutCont=e.data},"cue-in":function(){s.cueIn=e.data},skip:function(){this.manifest.skip=Et(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;o=!0;var n=this.manifest.segments.length,r=Et(e.attributes);s.parts=s.parts||[],s.parts.push(r),r.byterange&&(r.byterange.hasOwnProperty("offset")||(r.byterange.offset=h),h=r.byterange.offset+r.byterange.length);var i=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+i+" for segment #"+n,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,n){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+n+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var t=this.manifest.serverControl=Et(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),_t.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,n=Et(e.attributes),r=n.type&&"PART"===n.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=r?h:0,r&&(h=n.byterange.offset+n.byterange.length)));var i=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t,e.attributes,["TYPE","URI"]),n.type)for(var a=0;a<s.preloadHints.length-1;a++){var o=s.preloadHints[a];o.type&&(o.type===n.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t+" has the same TYPE "+n.type+" as preload hint #"+a}))}},"rendition-report":function(){var t=Et(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var n=this.manifest.renditionReports.length-1,r=["LAST-MSN","URI"];o&&r.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+n,e.attributes,r)},"part-inf":function(){this.manifest.partInf=Et(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),_t.call(this,this.manifest)}}[e.tagType]||l).call(i)},uri:function(){s.uri=e.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),r&&(s.key=r),s.timeline=c,n&&(s.map=n),h=0,s={}},comment:function(){},custom:function(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}(0,ot.default)(t,e);var n=t.prototype;return n.warnOnMissingAttributes_=function(e,t,n){var r=[];n.forEach((function(e){t.hasOwnProperty(e)||r.push(e)})),r.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+r.join(", ")})},n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n"),this.trigger("end")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(lt),bt=f(A()),St={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},wt=["video","audio","text"],Ct=["Video","Audio","Text"],It=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},kt=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),wt.forEach((function(r){var i=St[r].exec(e.toLowerCase());if(i&&!(i.length<=1)){t=r;var a=e.substring(0,i[1].length),s=e.replace(a,"");n.push({type:a,details:s,mediaType:r})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},Rt=function(e){return void 0===e&&(e=""),St.audio.test(e.trim().toLowerCase())},Dt=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return It(e.trim())})),r="video";1===n.length&&Rt(n[0])?r="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),St.text.test(t.trim().toLowerCase()))&&(r="application");var i="mp4";return n.every((function(e){return St.mp4.test(e)}))?i="mp4":n.every((function(e){return St.webm.test(e)}))?i="webm":n.every((function(e){return St.ogg.test(e)}))&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},Mt=function(e){return void 0===e&&(e=""),bt.default.MediaSource&&bt.default.MediaSource.isTypeSupported&&bt.default.MediaSource.isTypeSupported(Dt(e))||!1},Lt=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<Ct.length;t++){if(St["muxer"+Ct[t]].test(e))return!0}return!1}))},Nt="mp4a.40.2",Bt=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,xt=/^application\/dash\+xml/i,Pt=function(e){return Bt.test(e)?"hls":xt.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},Ot=f(A()),Ft=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&_instanceof(e.buffer,ArrayBuffer)},Ut=function(e){return _instanceof(e,Uint8Array)?e:(Array.isArray(e)||Ft(e)||_instanceof(e,ArrayBuffer)||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},jt=Ot.default.BigInt||Number,Qt=[jt("0x1"),jt("0x100"),jt("0x10000"),jt("0x1000000"),jt("0x100000000"),jt("0x10000000000"),jt("0x1000000000000"),jt("0x100000000000000"),jt("0x10000000000000000")];ft=new Uint16Array([65484]),255===(pt=new Uint8Array(ft.buffer,ft.byteOffset,ft.byteLength))[0]||pt[0];var Gt=function(e,t){var n=void 0===t?{}:t,r=n.signed,i=void 0!==r&&r,a=n.le,s=void 0!==a&&a;e=Ut(e);var o=s?"reduce":"reduceRight",l=(e[o]?e[o]:Array.prototype[o]).call(e,(function(t,n,r){var i=s?r:Math.abs(r+1-e.length);return t+jt(n)*Qt[i]}),jt(0));if(i){var u=Qt[e.length]/jt(2)-jt(1);(l=jt(l))>u&&(l-=u,l-=u,l-=jt(2))}return Number(l)},Vt=function(e,t){var n=(void 0===t?{}:t).le,r=void 0!==n&&n;("bigint"!==(void 0===e?"undefined":_type_of(e))&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var i=function(e){return Math.ceil(function(e){return e.toString(2).length}(e)/8)}(e=jt(e)),a=new Uint8Array(new ArrayBuffer(i)),s=0;s<i;s++){var o=r?s:Math.abs(s+1-a.length);a[o]=Number(e/Qt[s]&jt(255)),e<0&&(a[o]=Math.abs(~a[o]),a[o]-=0===s?1:2)}return a},Ht=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Yt=function(e,t,n){var r=void 0===n?{}:n,i=r.offset,a=void 0===i?0:i,s=r.mask,o=void 0===s?[]:s;e=Ut(e);var l=(t=Ut(t)).every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&l.call(t,(function(t,n){return t===(o[n]?o[n]&e[a+n]:e[a+n])}))},qt=f(A()),zt=f(J()),Wt=function(e){return!!e&&"object"==typeof e},Kt=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return"object"!=typeof n||Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):Wt(t[r])&&Wt(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},Xt=function(e){return Object.keys(e).map((function(t){return e[t]}))},Jt=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},Zt=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},$t=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},en="INVALID_NUMBER_OF_PERIOD",tn="DASH_EMPTY_MANIFEST",nn="DASH_INVALID_XML",rn="NO_BASE_URL",an="SEGMENT_TIME_UNSPECIFIED",sn="UNSUPPORTED_UTC_TIMING_SCHEME",on=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,a=e.range,s=void 0===a?"":a,o=e.indexRange,l=void 0===o?"":o,u={uri:i,resolvedUri:st(n||"",i)};if(s||l){var c,d=(s||l).split("-"),h=qt.default.BigInt?qt.default.BigInt(d[0]):parseInt(d[0],10),f=qt.default.BigInt?qt.default.BigInt(d[1]):parseInt(d[1],10);h<Number.MAX_SAFE_INTEGER&&"bigint"===(void 0===h?"undefined":_type_of(h))&&(h=Number(h)),f<Number.MAX_SAFE_INTEGER&&"bigint"===(void 0===f?"undefined":_type_of(f))&&(f=Number(f)),"bigint"===(void 0===(c="bigint"===(void 0===f?"undefined":_type_of(f))||"bigint"===(void 0===h?"undefined":_type_of(h))?qt.default.BigInt(f)-qt.default.BigInt(h)+qt.default.BigInt(1):f-h+1)?"undefined":_type_of(c))&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),u.byterange={length:c,offset:h}}return u},ln=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},un={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration,a=e.periodDuration,s=ln(e.endNumber),o=t/r;return"number"==typeof s?{start:0,end:s}:"number"==typeof a?{start:0,end:a/o}:{start:0,end:i/o}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,a=void 0===i?1:i,s=e.duration,o=e.periodStart,l=void 0===o?0:o,u=e.minimumUpdatePeriod,c=void 0===u?0:u,d=e.timeShiftBufferDepth,h=void 0===d?1/0:d,f=ln(e.endNumber),p=(t+n)/1e3,A=r+l,g=p+c-A,m=Math.ceil(g*a/s),v=Math.floor((p-A-h)*a/s),y=Math.floor((p-A)*a/s);return{start:Math.max(0,v),end:"number"==typeof f?f:Math.min(m,y)}}},cn=function(e){var t=e.type,n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.periodDuration,s=e.sourceDuration,o=un[t](e),l=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(o.start,o.end).map(function(e){return function(t){var n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.periodStart,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:n/i,timeline:a,time:t*n}}}(e));if("static"===t){var u=l.length-1,c="number"==typeof a?a:s;l[u].duration=c-n/i*u}return l},dn=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,a=e.indexRange,s=void 0===a?"":a,o=e.periodStart,l=e.presentationTime,u=e.number,c=void 0===u?0:u,d=e.duration;if(!t)throw new Error(rn);var h=on({baseUrl:t,source:r.sourceURL,range:r.range}),f=on({baseUrl:t,source:t,indexRange:s});if(f.map=h,d){var p=cn(e);p.length&&(f.duration=p[0].duration,f.timeline=p[0].timeline)}else i&&(f.duration=i,f.timeline=o);return f.presentationTime=l||o,f.number=c,[f]},hn=function(e,t,n){var r,i=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=t.timescale,c=t.references.filter((function(e){return 1!==e.referenceType})),d=[],h=e.endList?"static":"dynamic",f=e.sidx.timeline,p=f,A=e.mediaSequence||0;r="bigint"===_type_of(t.firstOffset)?qt.default.BigInt(l)+t.firstOffset:l+t.firstOffset;for(var g=0;g<c.length;g++){var m=t.references[g],v=m.referencedSize,y=m.subsegmentDuration,E=void 0;E="bigint"===(void 0===r?"undefined":_type_of(r))?r+qt.default.BigInt(v)-qt.default.BigInt(1):r+v-1;var _=dn({baseUrl:n,timescale:u,timeline:s,periodStart:f,presentationTime:p,number:A,duration:y,sourceDuration:a,indexRange:r+"-"+E,type:h})[0];i&&(_.map=i),d.push(_),"bigint"===(void 0===r?"undefined":_type_of(r))?r+=qt.default.BigInt(v):r+=v,p+=y/u,A++}return e.segments=d,e},fn=["AUDIO","SUBTITLES"],pn=1/60,An=function(e){return(t=e,n=function(e){return e.timeline},Xt(t.reduce((function(e,t){return t.forEach((function(t){e[n(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,n},gn=function(e){var t,n,r=[];return t=e,n=function(e,t,n,i){r=r.concat(e.playlists||[])},fn.forEach((function(e){for(var r in t.mediaGroups[e])for(var i in t.mediaGroups[e][r]){var a=t.mediaGroups[e][r][i];n(a,e,r,i)}})),r},mn=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach((function(e,n){e.number=t.mediaSequence+n}))},vn=function(e){var t=e.oldManifest,n=e.newManifest,r=t.playlists.concat(gn(t)),i=n.playlists.concat(gn(n));return n.timelineStarts=An([t.timelineStarts,n.timelineStarts]),function(e){var t=e.oldPlaylists,n=e.newPlaylists,r=e.timelineStarts;n.forEach((function(e){e.discontinuitySequence=$t(r,(function(t){return t.timeline===e.timeline}));var n=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}(t,e.attributes.NAME);if(n&&!e.sidx){var i=e.segments[0],a=$t(n.segments,(function(e){return Math.abs(e.presentationTime-i.presentationTime)<pn}));if(-1===a)return mn({playlist:e,mediaSequence:n.mediaSequence+n.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!n.segments.length&&e.timeline>n.timeline||n.segments.length&&e.timeline>n.segments[n.segments.length-1].timeline)&&e.discontinuitySequence--);n.segments[a].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),mn({playlist:e,mediaSequence:n.segments[a].number})}}))}({oldPlaylists:r,newPlaylists:i,timelineStarts:n.timelineStarts}),n},yn=function(e){return e&&e.uri+"-"+(t=e.byterange,n="bigint"===_type_of(t.offset)||"bigint"===_type_of(t.length)?qt.default.BigInt(t.offset)+qt.default.BigInt(t.length)-qt.default.BigInt(1):t.offset+t.length-1,t.offset+"-"+n);var t,n},En=function(e){return Xt(e.reduce((function(e,t){var n=t.attributes.id+(t.attributes.lang||"");if(e[n]){var r;if(t.segments)t.segments[0]&&(t.segments[0].discontinuity=!0),(r=e[n].segments).push.apply(r,t.segments);t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)}else e[n]=t,e[n].attributes.timelineStarts=[];return e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments||[],n="discontinuity",t.reduce((function(e,t,r){return t[n]&&e.push(r),e}),[])),e}))},_n=function(e,t){var n=yn(e.sidx),r=n&&t[n]&&t[n].sidx;return r&&hn(e,r,e.sidx.resolvedUri),e},Tn=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=_n(e[n],t);return e},bn=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,a=e.discontinuityStarts,s={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:a,timelineStarts:n.timelineStarts,segments:r};return n.frameRate&&(s.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(s.contentProtection=n.contentProtection),i&&(s.sidx=i),s},Sn=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},wn=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},Cn=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},In=function(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(r.playlists)}),[]):[]},kn=function(e){var t,n=e.dashPlaylists,r=e.locations,i=e.sidxMapping,a=void 0===i?{}:i,s=e.previousManifest;if(!n.length)return{};var o=n[0].attributes,l=o.sourceDuration,u=o.type,c=o.suggestedPresentationDelay,d=o.minimumUpdatePeriod,h=En(n.filter(Sn)).map(bn),f=En(n.filter(wn)),p=En(n.filter(Cn)),A=n.map((function(e){return e.attributes.captionServices})).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:l,playlists:Tn(h,a)};d>=0&&(g.minimumUpdatePeriod=1e3*d),r&&(g.locations=r),"dynamic"===u&&(g.suggestedPresentationDelay=c);var m,v,y=0===g.playlists.length,E=f.length?function(e,t,n){var r;void 0===t&&(t={}),void 0===n&&(n=!1);var i=e.reduce((function(e,i){var a=i.attributes.role&&i.attributes.role.value||"",s=i.attributes.lang||"",o=i.attributes.label||"main";if(s&&!i.attributes.label){var l=a?" ("+a+")":"";o=""+i.attributes.lang+l}e[o]||(e[o]={language:s,autoselect:!0,default:"main"===a,playlists:[],uri:""});var u=_n(function(e,t){var n,r=e.attributes,i=e.segments,a=e.sidx,s=e.mediaSequence,o=e.discontinuitySequence,l=e.discontinuityStarts,u={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:o,discontinuityStarts:l,timelineStarts:r.timelineStarts,mediaSequence:s,segments:i};return r.contentProtection&&(u.contentProtection=r.contentProtection),a&&(u.sidx=a),t&&(u.attributes.AUDIO="audio",u.attributes.SUBTITLES="subs"),u}(i,n),t);return e[o].playlists.push(u),void 0===r&&"main"===a&&((r=i).default=!0),e}),{});return r||(i[Object.keys(i)[0]].default=!0),i}(f,a,y):null,_=p.length?function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r=n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[r].playlists.push(_n(function(e){var t,n=e.attributes,r=e.segments,i=e.mediaSequence,a=e.discontinuityStarts,s=e.discontinuitySequence;void 0===r&&(r=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var o=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(o.CODECS=n.codecs),{attributes:o,uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:a,discontinuitySequence:s,mediaSequence:i,segments:r}}(n),t)),e}),{})}(p,a):null,T=h.concat(In(E),In(_)),b=T.map((function(e){return e.timelineStarts}));return g.timelineStarts=An(b),m=T,v=g.timelineStarts,m.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=$t(v,(function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),E&&(g.mediaGroups.AUDIO.audio=E),_&&(g.mediaGroups.SUBTITLES.subs=_),A.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=A.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,r=t.language;e[r]={autoselect:!1,default:!1,instreamId:n,language:r},t.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[r].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[r]["3D"]=t["3D"])})),e):e}),{})),s?vn({oldManifest:s,newManifest:g}):g},Rn=function(e,t,n){var r=e.NOW,i=e.clientOffset,a=e.availabilityStartTime,s=e.timescale,o=void 0===s?1:s,l=e.periodStart,u=void 0===l?0:l,c=e.minimumUpdatePeriod,d=(r+i)/1e3+(void 0===c?0:c)-(a+u);return Math.ceil((d*o-t)/n)},Dn=function(e,t){for(var n=e.type,r=e.minimumUpdatePeriod,i=void 0===r?0:r,a=e.media,s=void 0===a?"":a,o=e.sourceDuration,l=e.timescale,u=void 0===l?1:l,c=e.startNumber,d=void 0===c?1:c,h=e.periodStart,f=[],p=-1,A=0;A<t.length;A++){var g=t[A],m=g.d,v=g.r||0,y=g.t||0;p<0&&(p=y),y&&y>p&&(p=y);var E=void 0;if(v<0){var _=A+1;E=_===t.length?"dynamic"===n&&i>0&&s.indexOf("$Number$")>0?Rn(e,p,m):(o*u-p)/m:(t[_].t-p)/m}else E=v+1;for(var T=d+f.length+E,b=d+f.length;b<T;)f.push({number:b,duration:m/u,time:p,timeline:h}),p+=m,b++}return f},Mn=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ln=function(e,t){return e.replace(Mn,function(e){return function(t,n,r,i){if("$$"===t)return"$";if(void 0===e[n])return t;var a=""+e[n];return"RepresentationID"===n?a:(i=r?parseInt(i,10):1,a.length>=i?a:""+new Array(i-a.length+1).join("0")+a)}}(t))},Nn=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,a=on({baseUrl:e.baseUrl,source:Ln(i.sourceURL,n),range:i.range}),s=function(e,t){return e.duration||t?e.duration?cn(e):Dn(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return s.map((function(t){n.Number=t.number,n.Time=t.time;var r=Ln(e.media||"",n),i=e.timescale||1,s=e.presentationTimeOffset||0,o=e.periodStart+(t.time-s)/i;return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:st(e.baseUrl||"",r),map:a,number:t.number,presentationTime:o}}))},Bn=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r,a=e.periodStart;if(!n&&!t||n&&t)throw new Error(an);var s,o=i.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,a=on({baseUrl:n,source:i.sourceURL,range:i.range}),s=on({baseUrl:n,source:t.media,range:t.mediaRange});return s.map=a,s}(e,t)}));return n&&(s=cn(e)),t&&(s=Dn(e,t)),s.map((function(t,n){if(o[n]){var r=o[n],i=e.timescale||1,s=e.presentationTimeOffset||0;return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r.presentationTime=a+(t.time-s)/i,r}})).filter((function(e){return e}))},xn=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=Nn,t=Kt(r,i.template)):i.base?(n=dn,t=Kt(r,i.base)):i.list&&(n=Bn,t=Kt(r,i.list));var a={attributes:r};if(!n)return a;var s=n(t,i.segmentTimeline);if(t.duration){var o=t,l=o.duration,u=o.timescale,c=void 0===u?1:u;t.duration=l/c}else s.length?t.duration=s.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return a.attributes=t,a.segments=s,i.base&&t.indexRange&&(a.sidx=s[0],a.segments=[]),a},Pn=function(e,t){return Zt(e.childNodes).filter((function(e){return e.tagName===t}))},On=function(e){return e.textContent.trim()},Fn=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(a||0)+3600*parseFloat(s||0)+60*parseFloat(o||0)+parseFloat(l||0)},Un={mediaPresentationDuration:function(e){return Fn(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return Fn(e)},suggestedPresentationDelay:function(e){return Fn(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Fn(e)},start:function(e){return Fn(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return function(e){return parseFloat(e.split("/").reduce((function(e,t){return e/t})))}(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Fn(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},jn=function(e){return e&&e.attributes?Zt(e.attributes).reduce((function(e,t){var n=Un[t.name]||Un.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},Qn={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Gn=function(e,t){return t.length?Jt(e.map((function(e){return t.map((function(t){return st(e,On(t))}))}))):e},Vn=function(e){var t=Pn(e,"SegmentTemplate")[0],n=Pn(e,"SegmentList")[0],r=n&&Pn(n,"SegmentURL").map((function(e){return Kt({tag:"SegmentURL"},jn(e))})),i=Pn(e,"SegmentBase")[0],a=n||t,s=a&&Pn(a,"SegmentTimeline")[0],o=n||i||t,l=o&&Pn(o,"Initialization")[0],u=t&&jn(t);u&&l?u.initialization=l&&jn(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,segmentTimeline:s&&Pn(s,"S").map((function(e){return jn(e)})),list:n&&Kt(jn(n),{segmentUrls:r,initialization:jn(l)}),base:i&&Kt(jn(i),{initialization:jn(l)})};return Object.keys(c).forEach((function(e){c[e]||delete c[e]})),c},Hn=function(e,t,n){return function(r){var i,a=jn(r),s=Gn(t,Pn(r,"BaseURL")),o=Pn(r,"Role")[0],l={role:jn(o)},u=Kt(e,a,l),c=Pn(r,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(i=jn(c)).schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map((function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var r=e.split("=");t=r[0],n=r[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===i.schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=e.split("="),r=n[0],i=n[1],a=void 0===i?"":i;t.channel=r,t.language=e,a.split(",").forEach((function(e){var n=e.split(":"),r=n[0],i=n[1];"lang"===r?t.language=i:"er"===r?t.easyReader=Number(i):"war"===r?t.aspectRatio=Number(i):"3D"===r&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;d&&(u=Kt(u,{captionServices:d}));var h=Pn(r,"Label")[0];if(h&&h.childNodes.length){var f=h.childNodes[0].nodeValue.trim();u=Kt(u,{label:f})}var p=Pn(r,"ContentProtection").reduce((function(e,t){var n=jn(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var r=Qn[n.schemeIdUri];if(r){e[r]={attributes:n};var i=Pn(t,"cenc:pssh")[0];if(i){var a=On(i);e[r].pssh=a&&ht(a)}}return e}),{});Object.keys(p).length&&(u=Kt(u,{contentProtection:p}));var A=Vn(r),g=Pn(r,"Representation"),m=Kt(n,A);return Jt(g.map(function(e,t,n){return function(r){var i=Pn(r,"BaseURL"),a=Gn(t,i),s=Kt(e,jn(r)),o=Vn(r);return a.map((function(e){return{segmentInfo:Kt(n,o),attributes:Kt(s,{baseUrl:e})}}))}}(u,s,m)))}},Yn=function(e,t){return function(n,r){var i=Gn(t,Pn(n.node,"BaseURL")),a=Kt(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(a.periodDuration=n.attributes.duration);var s=Pn(n.node,"AdaptationSet"),o=Vn(n.node);return Jt(s.map(Hn(a,i,o)))}},qn=function(e){if(""===e)throw new Error(tn);var t,n,r=new zt.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(nn);return n},zn=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,a=n.NOW,s=void 0===a?Date.now():a,o=n.clientOffset,l=void 0===o?0:o,u=Pn(e,"Period");if(!u.length)throw new Error(en);var c=Pn(e,"Location"),d=jn(e),h=Gn([i],Pn(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=s,d.clientOffset=l,c.length&&(d.locations=c.map(On));var f=[];return u.forEach((function(e,t){var n=jn(e),r=f[t-1];n.start=function(e){var t=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==r?null:0}({attributes:n,priorPeriodAttributes:r?r.attributes:null,mpdType:d.type}),f.push({node:e,attributes:n})})),{locations:d.locations,representationInfo:Jt(f.map(Yn(d,h)))}}(qn(e),t),r=n.representationInfo.map(xn);return kn({dashPlaylists:r,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})},Wn=function(e){return function(e){var t=Pn(e,"UTCTiming")[0];if(!t)return null;var n=jn(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(sn)}return n}(qn(e))},Kn=f($()),Xn=Ut([73,68,51]),Jn=function e(t,n){return void 0===n&&(n=0),(t=Ut(t)).length-n<10||!Yt(t,Xn,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=Ut(e))[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?r+20:r+10}(t,n),e(t,n))},Zn=function(e){return"string"==typeof e?Ht(e):e},$n=function e(t,n,r){void 0===r&&(r=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return Zn(e)})):[Zn(e)]}(n),t=Ut(t);var i=[];if(!n.length)return i;for(var a=0;a<t.length;){var s=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,o=t.subarray(a+4,a+8);if(0===s)break;var l=a+s;if(l>t.length){if(r)break;l=t.length}var u=t.subarray(a+8,l);Yt(o,n[0])&&(1===n.length?i.push(u):i.push.apply(i,e(u,n.slice(1),r))),a=l}return i},er={EBML:Ut([26,69,223,163]),DocType:Ut([66,130]),Segment:Ut([24,83,128,103]),SegmentInfo:Ut([21,73,169,102]),Tracks:Ut([22,84,174,107]),Track:Ut([174]),TrackNumber:Ut([215]),DefaultDuration:Ut([35,227,131]),TrackEntry:Ut([174]),TrackType:Ut([131]),FlagDefault:Ut([136]),CodecID:Ut([134]),CodecPrivate:Ut([99,162]),VideoTrack:Ut([224]),AudioTrack:Ut([225]),Cluster:Ut([31,67,182,117]),Timestamp:Ut([231]),TimestampScale:Ut([42,215,177]),BlockGroup:Ut([160]),BlockDuration:Ut([155]),Block:Ut([161]),SimpleBlock:Ut([163])},tr=[128,64,32,16,8,4,2,1],nr=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var i=function(e){for(var t=1,n=0;n<tr.length&&!(e&tr[n]);n++)t++;return t}(e[t]),a=e.subarray(t,t+i);return n&&((a=Array.prototype.slice.call(e,t,t+i))[0]^=tr[i-1]),{length:i,value:Gt(a,{signed:r}),bytes:a}},rr=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?Vt(t):t},ir=function e(t,n,r){if(r>=n.length)return n.length;var i=nr(n,r,!1);if(Yt(t.bytes,i.bytes))return r;var a=nr(n,r+i.length);return e(t,n,r+a.length+a.value+i.length)},ar=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return rr(e)})):[rr(e)]}(n),t=Ut(t);var r=[];if(!n.length)return r;for(var i=0;i<t.length;){var a=nr(t,i,!1),s=nr(t,i+a.length),o=i+a.length+s.length;127===s.value&&(s.value=ir(a,t,o),s.value!==t.length&&(s.value-=o));var l=o+s.value>t.length?t.length:o+s.value,u=t.subarray(o,l);Yt(n[0],a.bytes)&&(1===n.length?r.push(u):r=r.concat(e(u,n.slice(1)))),i+=a.length+s.length+u.length}return r},sr=Ut([0,0,0,1]),or=Ut([0,0,1]),lr=Ut([0,0,3]),ur=function(e){for(var t=[],n=1;n<e.length-2;)Yt(e.subarray(n,n+3),lr)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var r=e.length-t.length,i=new Uint8Array(r),a=0;for(n=0;n<r;a++,n++)a===t[0]&&(a++,t.shift()),i[n]=e[a];return i},cr=function(e,t,n,r){void 0===r&&(r=1/0),e=Ut(e),n=[].concat(n);for(var i,a=0,s=0;a<e.length&&(s<r||i);){var o=void 0;if(Yt(e.subarray(a),sr)?o=4:Yt(e.subarray(a),or)&&(o=3),o){if(s++,i)return ur(e.subarray(i,a));var l=void 0;"h264"===t?l=31&e[a+o]:"h265"===t&&(l=e[a+o]>>1&63),-1!==n.indexOf(l)&&(i=a+o),a+=o+("h264"===t?1:2)}else a++}return e.subarray(0,0)},dr={webm:Ut([119,101,98,109]),matroska:Ut([109,97,116,114,111,115,107,97]),flac:Ut([102,76,97,67]),ogg:Ut([79,103,103,83]),ac3:Ut([11,119]),riff:Ut([82,73,70,70]),avi:Ut([65,86,73]),wav:Ut([87,65,86,69]),"3gp":Ut([102,116,121,112,51,103]),mp4:Ut([102,116,121,112]),fmp4:Ut([115,116,121,112]),mov:Ut([102,116,121,112,113,116]),moov:Ut([109,111,111,118]),moof:Ut([109,111,111,102])},hr={aac:function(e){var t=Jn(e);return Yt(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Jn(e);return Yt(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=ar(e,[er.EBML,er.DocType])[0];return Yt(t,dr.webm)},mkv:function(e){var t=ar(e,[er.EBML,er.DocType])[0];return Yt(t,dr.matroska)},mp4:function(e){return!hr["3gp"](e)&&!hr.mov(e)&&(!(!Yt(e,dr.mp4,{offset:4})&&!Yt(e,dr.fmp4,{offset:4}))||(!(!Yt(e,dr.moof,{offset:4})&&!Yt(e,dr.moov,{offset:4}))||void 0))},mov:function(e){return Yt(e,dr.mov,{offset:4})},"3gp":function(e){return Yt(e,dr["3gp"],{offset:4})},ac3:function(e){var t=Jn(e);return Yt(e,dr.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=Jn(e);return Yt(e,dr.flac,{offset:t})},ogg:function(e){return Yt(e,dr.ogg)},avi:function(e){return Yt(e,dr.riff)&&Yt(e,dr.avi,{offset:8})},wav:function(e){return Yt(e,dr.riff)&&Yt(e,dr.wav,{offset:8})},h264:function(e){return function(e,t,n){return cr(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return cr(e,"h265",t,n)}(e,[32,33],3).length}},fr=Object.keys(hr).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);fr.forEach((function(e){var t=hr[e];hr[e]=function(e){return t(Ut(e))}}));var pr,Ar,gr,mr=hr,vr=function(e){e=Ut(e);for(var t=0;t<fr.length;t++){var n=fr[t];if(mr[n](e))return n}return""},yr=f(ee()),Er=f(re()),_r="7.21.5",Tr={},br=function(e,t){return Tr[e]=Tr[e]||[],t&&(Tr[e]=Tr[e].concat(t)),Tr[e]},Sr=function(e,t){var n=br(e).indexOf(t);return!(n<=-1)&&(Tr[e]=Tr[e].slice(),Tr[e].splice(n,1),!0)},wr={prefixed:!0},Cr=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ir=Cr[0];for(Ar=0;Ar<Cr.length;Ar++)if(Cr[Ar][1]in ze.default){pr=Cr[Ar];break}if(pr){for(gr=0;gr<pr.length;gr++)wr[Ir[gr]]=pr[gr];wr.prefixed=pr[0]!==Ir[0]}var kr=[];var Rr=function e(t){var n,r="info",i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=function(e,t){return function(n,r,i){var a=t.levels[r],s=new RegExp("^("+a+")$");if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(e+":"),kr){kr.push([].concat(i));var o=kr.length-1e3;kr.splice(0,o>0?o:0)}if(qe.default.console){var l=qe.default.console[n];l||"debug"!==n||(l=qe.default.console.info||qe.default.console.log),l&&a&&s.test(n)&&l[Array.isArray(i)?"apply":"call"](qe.default.console,i)}}}(t,i),i.createLogger=function(n){return e(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(i.history=function(){return kr?[].concat(kr):[]}).filter=function(e){return(kr||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},i.history.clear=function(){kr&&(kr.length=0)},i.history.disable=function(){null!==kr&&(kr.length=0,kr=null)},i.history.enable=function(){null===kr&&(kr=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},i}("VIDEOJS"),Dr=Rr.createLogger,Mr=Object.prototype.toString,Lr=function(e){return xr(e)?Object.keys(e):[]};function Nr(e,t){Lr(e).forEach((function(n){return t(e[n],n)}))}function Br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?We.default.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Nr(t,(function(t,n){e[n]=t}))})),e)}function xr(e){return!!e&&"object"==typeof e}function Pr(e){return xr(e)&&"[object Object]"===Mr.call(e)&&e.constructor===Object}function Or(e,t){if(!e||!t)return"";if("function"==typeof qe.default.getComputedStyle){var n;try{n=qe.default.getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}var Fr,Ur,jr,Qr=qe.default.navigator&&qe.default.navigator.userAgent||"",Gr=/AppleWebKit\/([\d.]+)/i.exec(Qr),Vr=Gr?parseFloat(Gr.pop()):null,Hr=/iPod/i.test(Qr),Yr=(Fr=Qr.match(/OS (\d+)_/i))&&Fr[1]?Fr[1]:null,qr=/Android/i.test(Qr),zr=function(){var e=Qr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),Wr=qr&&zr<5&&Vr<537,Kr=/Firefox/i.test(Qr),Xr=/Edg/i.test(Qr),Jr=!Xr&&(/Chrome/i.test(Qr)||/CriOS/i.test(Qr)),Zr=function(){var e=Qr.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),$r=(Ur=/MSIE\s(\d+)\.\d/.exec(Qr),!(jr=Ur&&parseFloat(Ur[1]))&&/Trident\/7.0/i.test(Qr)&&/rv:11.0/.test(Qr)&&(jr=11),jr),ei=/Safari/i.test(Qr)&&!Jr&&!qr&&!Xr,ti=/Windows/i.test(Qr),ni=Boolean(ci()&&("ontouchstart"in qe.default||qe.default.navigator.maxTouchPoints||qe.default.DocumentTouch&&_instanceof(qe.default.document,qe.default.DocumentTouch))),ri=/iPad/i.test(Qr)||ei&&ni&&!/iPhone/i.test(Qr),ii=/iPhone/i.test(Qr)&&!ri,ai=ii||ri||Hr,si=(ei||ai)&&!Jr,oi=Object.freeze({__proto__:null,IS_IPOD:Hr,IOS_VERSION:Yr,IS_ANDROID:qr,ANDROID_VERSION:zr,IS_NATIVE_ANDROID:Wr,IS_FIREFOX:Kr,IS_EDGE:Xr,IS_CHROME:Jr,CHROME_VERSION:Zr,IE_VERSION:$r,IS_SAFARI:ei,IS_WINDOWS:ti,TOUCH_ENABLED:ni,IS_IPAD:ri,IS_IPHONE:ii,IS_IOS:ai,IS_ANY_SAFARI:si});function li(e){return"string"==typeof e&&Boolean(e.trim())}function ui(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function ci(){return ze.default===qe.default.document}function di(e){return xr(e)&&1===e.nodeType}function hi(){try{return qe.default.parent!==qe.default.self}catch(e){return!0}}function fi(e){return function(t,n){if(!li(t))return ze.default[e](null);li(n)&&(n=ze.default.querySelector(n));var r=di(n)?n:ze.default;return r[e]&&r[e](t)}}function pi(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var i=ze.default.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Rr.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),i.setAttribute(e,n)):"textContent"===e?Ai(i,n):i[e]===n&&"tabIndex"!==e||(i[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){i.setAttribute(e,n[e])})),r&&Bi(i,r),i}function Ai(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function gi(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function mi(e,t){return ui(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function vi(e,t){return e.classList?e.classList.add(t):mi(e,t)||(e.className=(e.className+" "+t).trim()),e}function yi(e,t){return e?(e.classList?e.classList.remove(t):(ui(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(Rr.warn("removeClass was called with an element that doesn't exist"),null)}function Ei(e,t,n){var r=mi(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?vi(e,t):yi(e,t),e}function _i(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function Ti(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,a=n[r].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(a=null!==a),t[i]=a}return t}function bi(e,t){return e.getAttribute(t)}function Si(e,t,n){e.setAttribute(t,n)}function wi(e,t){e.removeAttribute(t)}function Ci(){ze.default.body.focus(),ze.default.onselectstart=function(){return!1}}function Ii(){ze.default.onselectstart=function(){return!0}}function ki(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Or(e,"height"))),n.width||(n.width=parseFloat(Or(e,"width"))),n}}function Ri(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,r=0,i=0;e.offsetParent&&e!==ze.default[wr.fullscreenElement];)r+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:r,top:i,width:t,height:n}}function Di(e,t){var n={x:0,y:0};if(ai)for(var r=e;r&&"html"!==r.nodeName.toLowerCase();){var i=Or(r,"transform");if(/^matrix/.test(i)){var a=i.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(i)){var s=i.slice(9,-1).split(/,\s/).map(Number);n.x+=s[12],n.y+=s[13]}r=r.parentNode}var o={},l=Ri(t.target),u=Ri(e),c=u.width,d=u.height,h=t.offsetY-(u.top-l.top),f=t.offsetX-(u.left-l.left);return t.changedTouches&&(f=t.changedTouches[0].pageX-u.left,h=t.changedTouches[0].pageY+u.top,ai&&(f-=n.x,h-=n.y)),o.y=1-Math.max(0,Math.min(1,h/d)),o.x=Math.max(0,Math.min(1,f/c)),o}function Mi(e){return xr(e)&&3===e.nodeType}function Li(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Ni(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),di(e)||Mi(e)?e:"string"==typeof e&&/\S/.test(e)?ze.default.createTextNode(e):void 0})).filter((function(e){return e}))}function Bi(e,t){return Ni(t).forEach((function(t){return e.appendChild(t)})),e}function xi(e,t){return Bi(Li(e),t)}function Pi(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var Oi,Fi=fi("querySelector"),Ui=fi("querySelectorAll"),ji=Object.freeze({__proto__:null,isReal:ci,isEl:di,isInFrame:hi,createEl:pi,textContent:Ai,prependTo:gi,hasClass:mi,addClass:vi,removeClass:yi,toggleClass:Ei,setAttributes:_i,getAttributes:Ti,getAttribute:bi,setAttribute:Si,removeAttribute:wi,blockTextSelection:Ci,unblockTextSelection:Ii,getBoundingClientRect:ki,findPosition:Ri,getPointerPosition:Di,isTextNode:Mi,emptyEl:Li,normalizeContent:Ni,appendContent:Bi,insertContent:xi,isSingleLeftClick:Pi,$:Fi,$$:Ui}),Qi=!1,Gi=function(){if(!1!==Oi.options.autoSetup){var e=Array.prototype.slice.call(ze.default.getElementsByTagName("video")),t=Array.prototype.slice.call(ze.default.getElementsByTagName("audio")),n=Array.prototype.slice.call(ze.default.getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,a=r.length;i<a;i++){var s=r[i];if(!s||!s.getAttribute){Vi(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&Oi(s)}else Qi||Vi(1)}};function Vi(e,t){ci()&&(t&&(Oi=t),qe.default.setTimeout(Gi,e))}function Hi(){Qi=!0,qe.default.removeEventListener("load",Hi)}ci()&&("complete"===ze.default.readyState?Hi():qe.default.addEventListener("load",Hi));var Yi,qi=function(e){var t=ze.default.createElement("style");return t.className=e,t},zi=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Wi=3;function Ki(){return Wi++}qe.default.WeakMap||(Yi=function(){function e(){this.vdata="vdata"+Math.floor(qe.default.performance&&qe.default.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||Ki();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];Rr("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var Xi,Ji=qe.default.WeakMap?new WeakMap:new Yi;function Zi(e,t){if(Ji.has(e)){var n=Ji.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Ji.delete(e)}}function $i(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function ea(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var r=e||qe.default.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&"path"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||ze.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var a=ze.default.documentElement,s=ze.default.body;e.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var ta=function(){if("boolean"!=typeof Xi){Xi=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Xi=!0}});qe.default.addEventListener("test",null,e),qe.default.removeEventListener("test",null,e)}catch(e){}}return Xi},na=["touchstart","touchmove"];function ra(e,t,n){if(Array.isArray(t))return $i(ra,e,t,n);Ji.has(e)||Ji.set(e,{});var r=Ji.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=Ki()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=ea(t);var i=r.handlers[t.type];if(i)for(var a=i.slice(0),s=0,o=a.length;s<o&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,n)}catch(e){Rr.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;ta()&&na.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function ia(e,t,n){if(Ji.has(e)){var r=Ji.get(e);if(r.handlers){if(Array.isArray(t))return $i(ia,e,t,n);var i=function(e,t){r.handlers[t]=[],Zi(e,t)};if(void 0!==t){var a=r.handlers[t];if(a)if(n){if(n.guid)for(var s=0;s<a.length;s++)a[s].guid===n.guid&&a.splice(s--,1);Zi(e,t)}else i(e,t)}else for(var o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&i(e,o)}}}function aa(e,t,n){var r=Ji.has(e)?Ji.get(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ea(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)aa.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){Ji.has(t.target)||Ji.set(t.target,{});var a=Ji.get(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function sa(e,t,n){if(Array.isArray(t))return $i(sa,e,t,n);var r=function r(){ia(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Ki(),ra(e,t,r)}function oa(e,t,n){var r=function r(){ia(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Ki(),ra(e,t,r)}var la,ua=Object.freeze({__proto__:null,fixEvent:ea,on:ra,off:ia,trigger:aa,one:sa,any:oa}),ca=30,da=function(e,t,n){t.guid||(t.guid=Ki());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},ha=function(e,t){var n=qe.default.performance.now();return function(){var r=qe.default.performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},fa=function(){};fa.prototype.allowedEvents_={},fa.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},ra(this,e,t),this.addEventListener=n},fa.prototype.addEventListener=fa.prototype.on,fa.prototype.off=function(e,t){ia(this,e,t)},fa.prototype.removeEventListener=fa.prototype.off,fa.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},sa(this,e,t),this.addEventListener=n},fa.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},oa(this,e,t),this.addEventListener=n},fa.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ea(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),aa(this,e)},fa.prototype.dispatchEvent=fa.prototype.trigger,fa.prototype.queueTrigger=function(e){var t=this;la||(la=new Map);var n=e.type||e,r=la.get(this);r||(r=new Map,la.set(this,r));var i=r.get(n);r.delete(n),qe.default.clearTimeout(i);var a=qe.default.setTimeout((function(){r.delete(n),0===r.size&&(r=null,la.delete(t)),t.trigger(e)}),0);r.set(n,a)};var pa=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:void 0===e?"undefined":_type_of(e)},Aa=function(e){return _instanceof(e,fa)||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},ga=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ma=function(e,t,n){if(!e||!e.nodeName&&!Aa(e))throw new Error("Invalid target for "+pa(t)+"#"+n+"; must be a DOM node or evented object.")},va=function(e,t,n){if(!ga(e))throw new Error("Invalid event type for "+pa(t)+"#"+n+"; must be a non-empty string or array.")},ya=function(e,t,n){if("function"!=typeof e)throw new Error("Invalid listener for "+pa(t)+"#"+n+"; must be a function.")},Ea=function(e,t,n){var r,i,a,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return s?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],a=t[1]):(r=t[0],i=t[1],a=t[2]),ma(r,e,n),va(i,e,n),ya(a,e,n),{isTargetingSelf:s,target:r,type:i,listener:a=da(e,a)}},_a=function(e,t,n,r){ma(e,e,t),e.nodeName?ua[t](e,n,r):e[t](n,r)},Ta={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ea(this,n,"on"),a=i.isTargetingSelf,s=i.target,o=i.type,l=i.listener;if(_a(s,"on",o,l),!a){var u=function(){return e.off(s,o,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,_a(this,"on","dispose",u),_a(s,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ea(this,n,"one"),a=i.isTargetingSelf,s=i.target,o=i.type,l=i.listener;if(a)_a(s,"one",o,l);else{var u=function t(){e.off(s,o,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,_a(s,"one",o,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ea(this,n,"any"),a=i.isTargetingSelf,s=i.target,o=i.type,l=i.listener;if(a)_a(s,"any",o,l);else{var u=function t(){e.off(s,o,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,_a(s,"any",o,u)}},off:function(e,t,n){if(!e||ga(e))ia(this.eventBusEl_,e,t);else{var r=e,i=t;ma(r,this,"off"),va(i,this,"off"),ya(n,this,"off"),n=da(this,n),this.off("dispose",n),r.nodeName?(ia(r,i,n),ia(r,"dispose",n)):Aa(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){ma(this.eventBusEl_,this,"trigger");var n=e&&"string"!=typeof e?e.type:e;if(!ga(n)){var r="Invalid event type for "+pa(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(r);(this.log||Rr).error(r)}return aa(this.eventBusEl_,e,t)}};function ba(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=pi("span",{className:"vjs-event-bus"});return Br(e,Ta),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&Ji.has(e)&&Ji.delete(e)})),qe.default.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Sa={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),Nr(e,(function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e})),t&&Aa(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function wa(e,t){return Br(e,Sa),e.state=Br({},e.state,t),"function"==typeof e.handleStateChanged&&Aa(e)&&e.on("statechanged",e.handleStateChanged),e}var Ca=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},Ia=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function ka(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Nr(t,(function(t,n){Pr(t)?(Pr(e[n])||(e[n]={}),e[n]=ka(e[n],t)):e[n]=t}))})),e}var Ra,Da=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),Ma=qe.default.Map?qe.default.Map:Da,La=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),Na=qe.default.Set?qe.default.Set:La,Ba=function(){function e(e,t,n){var r=this;if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ka({},this.options_),t=this.options_=ka(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+Ki()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((function(e){return r.addClass(e)})),!1!==t.evented&&(ba(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),wa(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Na,this.setIntervalIds_=new Na,this.rafIds_=new Na,this.namedRafs_=new Ma,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=ka(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return pi(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[r],s=r&&r.split("-")[0],o=i&&i[s],l=n;return a&&a[e]?l=a[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i}))),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var r=this,i=0;i<t.length;i++)if(!(r=r.getChild(t[i]))||!r.getChild)return;return r},t.addChild=function(t,n,r){var i,a;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"==typeof t){a=Ia(t);var s=n.componentClass||a;n.name=a;var o=e.getComponent(s);if(!o)throw new Error("Component "+s+" does not exist");if("function"!=typeof o)return null;i=new o(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(a=a||i.name&&Ia(i.name()))&&(this.childNameIndex_[a]=i,this.childNameIndex_[Ca(a)]=i),"function"==typeof i.el&&i.el()){var l=null;this.children_[r+1]&&(this.children_[r+1].el_?l=this.children_[r+1].el_:di(this.children_[r+1])&&(l=this.children_[r+1])),this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ia(e.name())]=null,this.childNameIndex_[Ca(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,a=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!r.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var r,i;return"string"==typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||Ia(t.name));return n&&!a.isTech(n)})).forEach((function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var a=t.addChild(n,r);a&&(t[n]=a)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return Fi(e,t||this.contentEl())},t.$$=function(e,t){return Ui(e,t||this.contentEl())},t.hasClass=function(e){return mi(this.el_,e)},t.addClass=function(e){vi(this.el_,e)},t.removeClass=function(e){yi(this.el_,e)},t.toggleClass=function(e,t){Ei(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return bi(this.el_,e)},t.setAttribute=function(e,t){Si(this.el_,e,t)},t.removeAttribute=function(e){wi(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+Ia(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Or(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+Ia(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(Ke.default.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=qe.default.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,i=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+i*i)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(n=null,!0===e)&&(qe.default.performance.now()-t<200&&(r.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=da(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r=this;return e=da(this,e),this.clearTimersOnDispose_(),n=qe.default.setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),qe.default.clearTimeout(e)),e},t.setInterval=function(e,t){e=da(this,e),this.clearTimersOnDispose_();var n=qe.default.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),qe.default.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=da(this,e),t=qe.default.requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=da(this,t);var r=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,r),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),qe.default.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],r=t[1];e[n].forEach((function(t,n){return e[r](n)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,i=e.getComponent("Tech"),a=i&&i.isTech(n),s=e===n||e.prototype.isPrototypeOf(n.prototype);if(a||!s)throw r=a?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=Ia(t),e.components_||(e.components_={});var o=e.getComponent("Player");if("Player"===t&&o&&o.players){var l=o.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Ca(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function xa(e,t,n,r){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function Pa(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:xa.bind(null,"start",0,e),end:xa.bind(null,"end",1,e)},qe.default.Symbol&&qe.default.Symbol.iterator&&(t[qe.default.Symbol.iterator]=function(){return(e||[]).values()}),t}function Oa(e,t){return Array.isArray(e)?Pa(e):void 0===e||void 0===t?Pa():Pa([[e,t]])}function Fa(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=Oa(0,0));for(var a=0;a<e.length;a++)n=e.start(a),(r=e.end(a))>t&&(r=t),i+=r-n;return i/t}function Ua(e){if(_instanceof(e,Ua))return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:xr(e)&&("number"==typeof e.code&&(this.code=e.code),Br(this,e)),this.message||(this.message=Ua.defaultMessages[this.code]||"")}for(Ba.prototype.supportsRaf_="function"==typeof qe.default.requestAnimationFrame&&"function"==typeof qe.default.cancelAnimationFrame,Ba.registerComponent("Component",Ba),Ua.prototype.code=0,Ua.prototype.message="",Ua.prototype.status=null,Ua.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ua.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},Ra=0;Ra<Ua.errorTypes.length;Ra++)Ua[Ua.errorTypes[Ra]]=Ra,Ua.prototype[Ua.errorTypes[Ra]]=Ra;function ja(e){return null!=e&&"function"==typeof e.then}function Qa(e){ja(e)&&e.then(null,(function(e){}))}var Ga=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},Va=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=Ga(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(Ga))},Ha=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},Ya="vjs-modal-dialog",qa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleKeyDown_=function(e){return r.handleKeyDown(e)},r.close_=function(e){return r.close(e)},r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=pi("div",{className:Ya+"-content"},{role:"document"}),r.descEl_=pi("p",{className:Ya+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),Ai(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return Ya+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),xi(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),Li(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=ze.default.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),Ke.default.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(Ke.default.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}ze.default.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(_instanceof(e,qe.default.HTMLAnchorElement)||_instanceof(e,qe.default.HTMLAreaElement))&&e.hasAttribute("href")||(_instanceof(e,qe.default.HTMLInputElement)||_instanceof(e,qe.default.HTMLSelectElement)||_instanceof(e,qe.default.HTMLTextAreaElement)||_instanceof(e,qe.default.HTMLButtonElement))&&!e.hasAttribute("disabled")||_instanceof(e,qe.default.HTMLIFrameElement)||_instanceof(e,qe.default.HTMLObjectElement)||_instanceof(e,qe.default.HTMLEmbedElement)||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(Ba);qa.prototype.options_={pauseOnOpen:!0,temporary:!0},Ba.registerComponent("ModalDialog",qa);var za,Wa=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty((0,Xe.default)(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}(0,Je.default)(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},Aa(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(fa);for(za in Wa.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Wa.prototype.allowedEvents_)Wa.prototype["on"+za]=null;var Ka=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Xa=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){Ka(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,n}(0,Je.default)(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&Ka(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,Ka(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(Wa),Ja=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Za=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){Ja(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty((0,Xe.default)(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}(0,Je.default)(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&Ja(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,Ja(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(Wa),$a=function(e){function t(){return e.apply(this,arguments)||this}(0,Je.default)(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Wa),es=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),ts=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),ns={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},rs={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},is={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},as={disabled:"disabled",hidden:"hidden",showing:"showing"},ss=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+Ki(),kind:t.kind||"",language:t.language||""},i=t.label||"",a=function(e){Object.defineProperty((0,Xe.default)(n),e,{get:function(){return r[e]},set:function(){}})};for(var s in r)a(s);return Object.defineProperty((0,Xe.default)(n),"label",{get:function(){return i},set:function(e){e!==i&&(i=e,this.trigger("labelchange"))}}),n}return(0,Je.default)(t,e),t}(fa),os=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=ze.default.createElement("a");n.href=e;for(var r={},i=0;i<t.length;i++)r[t[i]]=n[t[i]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=qe.default.location.protocol),r.host||(r.host=qe.default.location.host),r},ls=function(e){if(!e.match(/^https?:\/\//)){var t=ze.default.createElement("a");t.href=e,e=t.href}return e},us=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},cs=function(e,t){void 0===t&&(t=qe.default.location);var n=os(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},ds=Object.freeze({__proto__:null,parseUrl:os,getAbsoluteURL:ls,getFileExtension:us,isCrossOrigin:cs}),hs=function(e,t){var n=new qe.default.WebVTT.Parser(qe.default,qe.default.vttjs,qe.default.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(qe.default.console&&qe.default.console.groupCollapsed&&qe.default.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach((function(e){return Rr.error(e)})),qe.default.console&&qe.default.console.groupEnd&&qe.default.console.groupEnd()),n.flush()},fs=function(e,t){var n={uri:e},r=cs(e);r&&(n.cors=r);var i="use-credentials"===t.tech_.crossOrigin();i&&(n.withCredentials=i),(0,$e.default)(n,da(this,(function(e,n,r){if(e)return Rr.error(e,n);t.loaded_=!0,"function"!=typeof qe.default.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return hs(r,t);Rr.error("vttjs failed to load, stopping trying to process "+t.src)})):hs(r,t)})))},ps=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=ka(t,{kind:is[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=as[r.mode]||"disabled",a=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=e.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var s=new ts(n.cues_),o=new ts(n.activeCues_),l=!1;n.timeupdateHandler=da((0,Xe.default)(n),(function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}));return n.tech_.one("dispose",(function(){n.stopTracking()})),"disabled"!==i&&n.startTracking(),Object.defineProperties((0,Xe.default)(n),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return i},set:function(e){as[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||fs(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(l=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&fs(n.src,(0,Xe.default)(n))):n.loaded_=!0,n}(0,Je.default)(t,e);var n=t.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},n.addCue=function(e){var t=e;if(t.constructor&&"VTTCue"!==t.constructor.name){for(var n in t=new qe.default.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(ss);ps.prototype.allowedEvents_={cuechange:"cuechange"};var As=function(e){function t(t){var n;void 0===t&&(t={});var r=ka(t,{kind:rs[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty((0,Xe.default)(n),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return(0,Je.default)(t,e),t}(ss),gs=function(e){function t(t){var n;void 0===t&&(t={});var r=ka(t,{kind:ns[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty((0,Xe.default)(n),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return(0,Je.default)(t,e),t}(ss),ms=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var i=new ps(t);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties((0,Xe.default)(n),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=0,i.addEventListener("loadeddata",(function(){r=2,n.trigger({type:"load",target:(0,Xe.default)(n)})})),n}return(0,Je.default)(t,e),t}(fa);ms.prototype.allowedEvents_={load:"load"},ms.NONE=0,ms.LOADING=1,ms.LOADED=2,ms.ERROR=3;var vs={audio:{ListClass:Xa,TrackClass:As,capitalName:"Audio"},video:{ListClass:Za,TrackClass:gs,capitalName:"Video"},text:{ListClass:$a,TrackClass:ps,capitalName:"Text"}};Object.keys(vs).forEach((function(e){vs[e].getterName=e+"Tracks",vs[e].privateName=e+"Tracks_"}));var ys={remoteText:{ListClass:$a,TrackClass:ps,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:es,TrackClass:ms,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Es=(0,We.default)({},vs,ys);ys.names=Object.keys(ys),vs.names=Object.keys(vs),Es.names=[].concat(ys.names).concat(vs.names);var _s=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,n)||this).onDurationChange_=function(e){return r.onDurationChange(e)},r.trackProgress_=function(e){return r.trackProgress(e)},r.trackCurrentTime_=function(e){return r.trackCurrentTime(e)},r.stopTrackingCurrentTime_=function(e){return r.stopTrackingCurrentTime(e)},r.disposeSourceHandler_=function(e){return r.disposeSourceHandler(e)},r.queuedHanders_=new Set,r.hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),Es.names.forEach((function(e){var n=Es[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==t.preloadTextTracks,r.autoRemoteTextTracks_=new Es.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}(0,Je.default)(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(da(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return Oa(0,0)},n.bufferedPercent=function(){return Fa(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(vs.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Ua(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Oa(0,0):Oa()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;vs.names.forEach((function(t){var n=vs[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",(function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}))}))},n.addWebVttScript_=function(){var e=this;if(!qe.default.WebVTT)if(ze.default.body.contains(this.el())){if(!this.options_["vtt.js"]&&Pr(et.default)&&Object.keys(et.default).length>0)return void this.trigger("vttjsloaded");var t=ze.default.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),qe.default.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var a=function(){return e.trigger("texttrackchange")},s=function(){a();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};s(),t.addEventListener("change",s),t.addEventListener("addtrack",s),t.addEventListener("removetrack",s),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",s),t.removeEventListener("addtrack",s),t.removeEventListener("removetrack",s);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",a)}}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r,i){void 0===i&&(i={});var a=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var s=new Es.text.TrackClass(i);return a.addTrack(s),s}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=ka(e,{tech:this});return new ys.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Rr.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(r.track)})),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||qe.default.Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(e){var t=this,n=Ki();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())}))):this.requestNamedAnimationFrame(n,e),n},n.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return _instanceof(e.prototype,t)||_instanceof(e,t)||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ia(e),t.techs_[e]=n,t.techs_[Ca(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=Ia(e),qe.default&&qe.default.videojs&&qe.default.videojs[e]?(Rr.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),qe.default.videojs[e]):void 0)},t}(Ba);Es.names.forEach((function(e){var t=Es[e];_s.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),_s.prototype.featuresVolumeControl=!0,_s.prototype.featuresMuteControl=!0,_s.prototype.featuresFullscreenResize=!1,_s.prototype.featuresPlaybackRate=!1,_s.prototype.featuresProgressEvents=!1,_s.prototype.featuresSourceset=!1,_s.prototype.featuresTimeupdateEvents=!1,_s.prototype.featuresNativeTextTracks=!1,_s.prototype.featuresVideoFrameCallback=!1,_s.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Rr.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ba.registerComponent("Tech",_s),_s.registerTech("Tech",_s),_s.defaultTechOrder_=[];var Ts={},bs={},Ss={};function ws(e,t,n){e.setTimeout((function(){return Ms(t,Ts[t.type],n,e)}),1)}function Cs(e,t,n,r){void 0===r&&(r=null);var i="call"+Ia(n),a=e.reduce(Ds(i),r),s=a===Ss,o=s?null:t[n](a);return function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var a=e[i];a[t]&&a[t](r,n)}}(e,n,o,s),o}var Is={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},ks={setCurrentTime:1,setMuted:1,setVolume:1},Rs={play:1,pause:1};function Ds(e){return function(t,n){return t===Ss?Ss:n[e]?n[e](t):t}}function Ms(e,t,n,r,i,a){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===a&&(a=!1);var s=t,o=s[0],l=s.slice(1);if("string"==typeof o)Ms(e,Ts[o],n,r,i,a);else if(o){var u=function(e,t){var n=bs[e.id()],r=null;if(null==n)return r=t(e),bs[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var a=n[i],s=a[0],o=a[1];s===t&&(r=o)}return null===r&&(r=t(e),n.push([t,r])),r}(r,o);if(!u.setSource)return i.push(u),Ms(e,l,n,r,i,a);u.setSource(Br({},e),(function(t,s){if(t)return Ms(e,l,n,r,i,a);i.push(u),Ms(s,e.type===s.type?l:Ts[s.type],n,r,i,a)}))}else l.length?Ms(e,l,n,r,i,a):a?n(e,i):Ms(e,Ts["*"],n,r,i,!0)}var Ls={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ns=function(e){void 0===e&&(e="");var t=us(e);return Ls[t.toLowerCase()]||""},Bs=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):xr(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[xs({src:t})]:xr(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[xs(t)]:[];return t};function xs(e){if(!e.type){var t=Ns(e.src);t&&(e.type=t)}return e}var Ps=function(e){function t(t,n,r){var i,a=ka({createEl:!1},n);if(i=e.call(this,t,a,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var s=0,o=n.playerOptions.techOrder;s<o.length;s++){var l=Ia(o[s]),u=_s.getTech(l);if(l||(u=Ba.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return i}return(0,Je.default)(t,e),t}(Ba);Ba.registerComponent("MediaLoader",Ps);var Os=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).options_.controlText&&r.controlText(r.options_.controlText),r.handleMouseOver_=function(e){return r.handleMouseOver(e)},r.handleMouseOut_=function(e){return r.handleMouseOut(e)},r.handleClick_=function(e){return r.handleClick(e)},r.handleKeyDown_=function(e){return r.handleKeyDown(e)},r.emitTapEvents(),r.enable(),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={}),t=Br({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Rr.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=Br({role:"button"},n),this.tabIndex_=t.tabIndex;var r=pi(e,t,n);return r.appendChild(pi("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=pi("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,Ai(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){Ke.default.isEventKey(t,"Space")||Ke.default.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Ba);Ba.registerComponent("ClickableComponent",Os);var Fs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update(),r.update_=function(e){return r.update(e)},t.on("posterchange",r.update_),r}(0,Je.default)(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},n.createEl=function(){return pi("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||($r||Xr)&&t||this.player_.tech(!0).focus(),this.player_.paused()?Qa(this.player_.play()):this.player_.pause()}},t}(Os);Ba.registerComponent("PosterImage",Fs);var Us="#222",js={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Qs(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Gs(e,t,n){try{e.style[t]=n}catch(e){return}}var Vs=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=function(e){return i.updateDisplay(e)};return t.on("loadstart",(function(e){return i.toggleDisplay(e)})),t.on("texttrackchange",a),t.on("loadedmetadata",(function(e){return i.preselectTrack(e)})),t.ready(da((0,Xe.default)(i),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",a),t.on("playerresize",a),qe.default.addEventListener("orientationchange",a),t.on("dispose",(function(){return qe.default.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),i}(0,Je.default)(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,s=0;s<i.length;s++){var o=i[s];a&&a.enabled&&a.language&&a.language===o.language&&o.kind in r?o.kind===a.kind?n=o:n||(n=o):a&&!a.enabled?(n=null,e=null,t=null):o.default&&("descriptions"!==o.kind||e?o.kind in r&&!t&&(t=o):e=o)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof qe.default.WebVTT&&qe.default.WebVTT.processCues(qe.default,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var i=e[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var a=null,s=null,o=e.length;o--;){var l=e[o];"showing"===l.mode&&("descriptions"===l.kind?a=l:s=l)}s?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):a&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(a))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var i=n[r];if(i){var a=i.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Gs(a.firstChild,"color",Qs(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Gs(a.firstChild,"backgroundColor",Qs(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Gs(a,"backgroundColor",Qs(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Us:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Us:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Us:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Us)),t.fontPercent&&1!==t.fontPercent){var s=qe.default.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=js[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof qe.default.WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=0;i<r.activeCues.length;++i)t.push(r.activeCues[i]);qe.default.WebVTT.processCues(qe.default,t,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],o=0;o<s.activeCues.length;++o){var l=s.activeCues[o].displayState;vi(l,"vjs-text-track-cue"),vi(l,"vjs-text-track-cue-"+(s.language?s.language:a)),s.language&&Si(l,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(Ba);Ba.registerComponent("TextTrackDisplay",Vs);var Hs=function(e){function t(){return e.apply(this,arguments)||this}return(0,Je.default)(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=pi("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(Ba);Ba.registerComponent("LoadingSpinner",Hs);var Ys=function(e){function t(){return e.apply(this,arguments)||this}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=pi("button",t=Br({className:this.buildCSSClass()},t),n=Br({type:"button"},n));return r.appendChild(pi("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return Rr.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Ba.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){Ke.default.isEventKey(t,"Space")||Ke.default.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Os);Ba.registerComponent("Button",Ys);var qs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mouseused_=!1,r.on("mousedown",(function(e){return r.handleMouseDown(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Qa(t),void(!this.player_.tech(!0)||($r||Xr)&&n||this.player_.tech(!0).focus())}var r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(i){var a=function(){return i.focus()};ja(t)?t.then(a,(function(){})):this.setTimeout(a,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(Ys);qs.prototype.controlText_="Play Video",Ba.registerComponent("BigPlayButton",qs);var zs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){Ke.default.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Ys);Ba.registerComponent("CloseButton",zs);var Ws=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",(function(e){return r.handlePlay(e)})),r.on(t,"pause",(function(e){return r.handlePause(e)})),n.replay&&r.on(t,"ended",(function(e){return r.handleEnded(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?Qa(this.player_.play()):this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(Ys);Ws.prototype.controlText_="Play",Ba.registerComponent("PlayToggle",Ws);var Ks=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||s>0?i+":":"")+(r=((i||a>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},Xs=Ks;function Js(e,t){return void 0===t&&(t=e),Xs(e,t)}var Zs=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["timeupdate","ended"],(function(e){return r.updateContent(e)})),r.updateTextNode_(),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),r=pi("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return n.appendChild(r),this.contentEl_=pi("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=Js(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,Rr.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=ze.default.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(Ba);Zs.prototype.labelText_="Time",Zs.prototype.controlText_="Time",Ba.registerComponent("TimeDisplay",Zs);var $s=function(e){function t(){return e.apply(this,arguments)||this}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(Zs);$s.prototype.labelText_="Current Time",$s.prototype.controlText_="Current Time",Ba.registerComponent("CurrentTimeDisplay",$s);var eo=function(e){function t(t,n){var r,i=function(e){return r.updateContent(e)};return(r=e.call(this,t,n)||this).on(t,"durationchange",i),r.on(t,"loadstart",i),r.on(t,"loadedmetadata",i),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(Zs);eo.prototype.labelText_="Duration",eo.prototype.controlText_="Duration",Ba.registerComponent("DurationDisplay",eo);var to=function(e){function t(){return e.apply(this,arguments)||this}return(0,Je.default)(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=e.prototype.createEl.call(this,"div"),r=e.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(r),t.appendChild(n),t},t}(Ba);Ba.registerComponent("TimeDivider",to);var no=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",(function(e){return r.updateContent(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(pi("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(Zs);no.prototype.labelText_="Remaining Time",no.prototype.controlText_="Remaining Time",Ba.registerComponent("RemainingTimeDisplay",no);var ro=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateShowing(),r.on(r.player(),"durationchange",(function(e){return r.updateShowing(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=pi("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(pi("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(ze.default.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Ba);Ba.registerComponent("LiveDisplay",ro);var io=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&(r.updateLiveEdgeStatusHandler_=function(e){return r.updateLiveEdgeStatus(e)},r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=pi("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(Ys);io.prototype.controlText_="Seek to live, currently playing live",Ba.registerComponent("SeekToLive",io);var ao=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},so=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseDown_=function(e){return r.handleMouseDown(e)},r.handleMouseUp_=function(e){return r.handleMouseUp(e)},r.handleKeyDown_=function(e){return r.handleKeyDown(e)},r.handleClick_=function(e){return r.handleClick(e)},r.handleMouseMove_=function(e){return r.handleMouseMove(e)},r.update_=function(e){return r.update(e)},r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}(0,Je.default)(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=Br({tabIndex:0},n),r=Br({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Jr||e.preventDefault(),Ci(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Ii(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(ao(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=Di(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){Ke.default.isEventKey(t,"Left")||Ke.default.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):Ke.default.isEventKey(t,"Right")||Ke.default.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Ba);Ba.registerComponent("Slider",so);var oo=function(e,t){return ao(e/t*100,0,100).toFixed(2)+"%"},lo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).partEls_=[],r.on(t,"progress",(function(e){return r.update(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=pi("span",{className:"vjs-control-text"}),r=pi("span",{textContent:this.localize("Loaded")}),i=ze.default.createTextNode(": ");return this.percentageEl_=pi("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),a=t.partEls_,s=oo(i,r);t.percent_!==s&&(t.el_.style.width=s,Ai(t.percentageEl_,s),t.percent_=s);for(var o=0;o<n.length;o++){var l=n.start(o),u=n.end(o),c=a[o];c||(c=t.el_.appendChild(pi()),a[o]=c),c.dataset.start===l&&c.dataset.end===u||(c.dataset.start=l,c.dataset.end=u,c.style.left=oo(l,i),c.style.width=oo(u-l,i))}for(var d=a.length;d>n.length;d--)t.el_.removeChild(a[d-1]);a.length=n.length}))},t}(Ba);Ba.registerComponent("LoadProgressBar",lo);var uo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=ha(da((0,Xe.default)(r),r.update),ca),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=Ri(this.el_),i=ki(this.player_.el()),a=e.width*t;if(i&&r){var s=e.left-i.left+a,o=e.width-a+(i.right-e.right),l=r.width/2;s<l?l+=l-s:o<l&&(l=o),l<0?l=0:l>r.width&&(l=r.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){Ai(this.el_,e)},n.updateTime=function(e,t,n,r){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var a,s=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var o=i.player_.liveTracker.liveWindow(),l=o-t*o;a=(l<1?"":"-")+Js(l,o)}else a=Js(n,s);i.update(e,t,a),r&&r()}))},t}(Ba);Ba.registerComponent("TimeTooltip",uo);var co=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=ha(da((0,Xe.default)(r),r.update),ca),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(Ba);co.prototype.options_={children:[]},ai||qr||co.prototype.options_.children.push("timeTooltip"),Ba.registerComponent("PlayProgressBar",co);var ho=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=ha(da((0,Xe.default)(r),r.update),ca),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,(function(){n.el_.style.left=e.width*t+"px"}))},t}(Ba);ho.prototype.options_={children:["timeTooltip"]},Ba.registerComponent("MouseTimeDisplay",ho);var fo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setEventHandlers_(),r}(0,Je.default)(t,e);var n=t.prototype;return n.setEventHandlers_=function(){var e=this;this.update_=da(this,this.update),this.update=ha(this.update_,ca),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ze.default&&"visibilityState"in ze.default&&this.on(ze.default,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){"hidden"===ze.default.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,ca))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!==ze.default.visibilityState){var r=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&&t.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===e&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[Js(e,i),Js(i,i)],"{1} of {2}")),n.currentTime_=e,n.duration_=i),n.bar&&n.bar.update(ki(n.el()),n.getProgress())})),r}},n.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){Pi(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),Pi(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(r>=.99)return void i.seekToLiveEdge();var a=i.seekableStart(),s=i.liveCurrentTime();if((n=a+r*i.liveWindow())>=s&&(n=s),n<=a&&(n=a+.1),n===1/0)return}else(n=r*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Qa(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var n=this.player_.liveTracker;if(Ke.default.isEventKey(t,"Space")||Ke.default.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(Ke.default.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(Ke.default.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test((0,Ke.default)(t))){t.preventDefault(),t.stopPropagation();var r=10*(Ke.default.codes[(0,Ke.default)(t)]-Ke.default.codes[0])/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else Ke.default.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):Ke.default.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ze.default&&"visibilityState"in ze.default&&this.off(ze.default,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(so);fo.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ai||qr||fo.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ba.registerComponent("SeekBar",fo);var po=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseMove=ha(da((0,Xe.default)(r),r.handleMouseMove),ca),r.throttledHandleMouseSeek=ha(da((0,Xe.default)(r),r.handleMouseSeek),ca),r.handleMouseUpHandler_=function(e){return r.handleMouseUp(e)},r.handleMouseDownHandler_=function(e){return r.handleMouseDown(e)},r.enable(),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay");if(n||r){var i=t.el(),a=Ri(i),s=Di(i,e).x;s=ao(s,0,1),r&&r.update(a,s),n&&n.update(a,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Qa(this.player_.play())}},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(Ba);po.prototype.options_={children:["seekBar"]},Ba.registerComponent("ProgressControl",po);var Ao=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return r.handlePictureInPictureChange(e)})),r.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return r.handlePictureInPictureEnabledChange(e)})),r.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),r.hide()):r.show()})),r.disable(),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){ze.default.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Ys);Ao.prototype.controlText_="Picture-in-Picture",Ba.registerComponent("PictureInPictureToggle",Ao);var go=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"fullscreenchange",(function(e){return r.handleFullscreenChange(e)})),!1===ze.default[t.fsApi_.fullscreenEnabled]&&r.disable(),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Ys);go.prototype.controlText_="Fullscreen",Ba.registerComponent("FullscreenToggle",go);var mo=function(e){function t(){return e.apply(this,arguments)||this}return(0,Je.default)(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(Ba);Ba.registerComponent("VolumeLevel",mo);var vo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=ha(da((0,Xe.default)(r),r.update),ca),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n,r){if(!n){var i=ki(this.el_),a=ki(this.player_.el()),s=e.width*t;if(!a||!i)return;var o=e.left-a.left+s,l=e.width-s+(a.right-e.right),u=i.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px"}this.write(r+"%")},n.write=function(e){Ai(this.el_,e)},n.updateVolume=function(e,t,n,r,i){var a=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){a.update(e,t,n,r.toFixed(0)),i&&i()}))},t}(Ba);Ba.registerComponent("VolumeLevelTooltip",vo);var yo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=ha(da((0,Xe.default)(r),r.update),ca),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,n){var r=this,i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,(function(){n?r.el_.style.bottom=e.height*t+"px":r.el_.style.left=e.width*t+"px"}))},t}(Ba);yo.prototype.options_={children:["volumeLevelTooltip"]},Ba.registerComponent("MouseVolumeLevelDisplay",yo);var Eo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on("slideractive",(function(e){return r.updateLastVolume_(e)})),r.on(t,"volumechange",(function(e){return r.updateARIAAttributes(e)})),t.ready((function(){return r.updateARIAAttributes()})),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Pi(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var n=this.el(),r=ki(n),i=this.vertical(),a=Di(n,e);a=i?a.y:a.x,a=ao(a,0,1),t.update(r,a,i)}Pi(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(so);Eo.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},ai||qr||Eo.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Eo.prototype.playerEvent="volumechange",Ba.registerComponent("VolumeBar",Eo);var _o=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||Pr(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}((0,Xe.default)(r),t),r.throttledHandleMouseMove=ha(da((0,Xe.default)(r),r.handleMouseMove),ca),r.handleMouseUpHandler_=function(e){return r.handleMouseUp(e)},r.on("mousedown",(function(e){return r.handleMouseDown(e)})),r.on("touchstart",(function(e){return r.handleMouseDown(e)})),r.on("mousemove",(function(e){return r.handleMouseMove(e)})),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Ba);_o.prototype.options_={children:["volumeBar"]},Ba.registerComponent("VolumeControl",_o);var To=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}((0,Xe.default)(r),t),r.on(t,["loadstart","volumechange"],(function(e){return r.update(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;ai&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)yi(this.el_,"vjs-vol-"+n);vi(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Ys);To.prototype.controlText_="Mute",Ba.registerComponent("MuteToggle",To);var bo=function(e){function t(t,n){var r;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||Pr(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=e.call(this,t,n)||this).handleKeyPressHandler_=function(e){return r.handleKeyPress(e)},r.on(t,["loadstart"],(function(e){return r.volumePanelState_(e)})),r.on(r.muteToggle,"keyup",(function(e){return r.handleKeyPress(e)})),r.on(r.volumeControl,"keyup",(function(e){return r.handleVolumeControlKeyUp(e)})),r.on("keydown",(function(e){return r.handleKeyPress(e)})),r.on("mouseover",(function(e){return r.handleMouseOver(e)})),r.on("mouseout",(function(e){return r.handleMouseOut(e)})),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}(0,Je.default)(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){Ke.default.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),ra(ze.default,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),ia(ze.default,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(e){Ke.default.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(Ba);bo.prototype.options_={children:["muteToggle","volumeControl"]},Ba.registerComponent("VolumePanel",bo);var So=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",(function(e){return r.handleKeyDown(e)})),r.boundHandleBlur_=function(e){return r.handleBlur(e)},r.boundHandleTapClick_=function(e){return r.handleTapClick(e)},r}(0,Je.default)(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){_instanceof(e,Ba)&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){_instanceof(e,Ba)&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=pi(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ra(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||ze.default.activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){Ke.default.isEventKey(e,"Left")||Ke.default.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Ke.default.isEventKey(e,"Right")||Ke.default.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Ba);Ba.registerComponent("Menu",So);var wo=function(e){function t(t,n){var r;void 0===n&&(n={}),(r=e.call(this,t,n)||this).menuButton_=new Ys(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Ys.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0;var a=function(e){return r.handleClick(e)};return r.handleMenuKeyUp_=function(e){return r.handleMenuKeyUp(e)},r.on(r.menuButton_,"tap",a),r.on(r.menuButton_,"click",a),r.on(r.menuButton_,"keydown",(function(e){return r.handleKeyDown(e)})),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),ra(ze.default,"keyup",r.handleMenuKeyUp_)})),r.on("mouseleave",(function(e){return r.handleMouseLeave(e)})),r.on("keydown",(function(e){return r.handleSubmenuKeyDown(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var e=new So(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=pi("li",{className:"vjs-menu-title",textContent:Ia(this.options_.title),tabIndex:-1}),n=new Ba(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Ys.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),ia(ze.default,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){Ke.default.isEventKey(e,"Esc")||Ke.default.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ke.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Ke.default.isEventKey(e,"Up")||Ke.default.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(Ke.default.isEventKey(e,"Esc")||Ke.default.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(Ke.default.isEventKey(e,"Esc")||Ke.default.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ke.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ai&&hi())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Ba);Ba.registerComponent("MenuButton",wo);var Co=function(e){function t(t,n){var r,i=n.tracks;if((r=e.call(this,t,n)||this).items.length<=1&&r.hide(),!i)return(0,Xe.default)(r);var a=da((0,Xe.default)(r),r.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),i.addEventListener("labelchange",a),r.player_.on("ready",a),r.player_.on("dispose",(function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a),i.removeEventListener("labelchange",a)})),r}return(0,Je.default)(t,e),t}(wo);Ba.registerComponent("TrackButton",Co);var Io=["Tab","Esc","Up","Down","Right","Left"],ko=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(t,n,r){this.nonIconControl=!0;var i=e.prototype.createEl.call(this,"li",Br({className:"vjs-menu-item",tabIndex:-1},n),r);return i.replaceChild(pi("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},n.handleKeyDown=function(t){Io.some((function(e){return Ke.default.isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Os);Ba.registerComponent("MenuItem",ko);var Ro=function(e){function t(t,n){var r,i=n.track,a=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode,(r=e.call(this,t,n)||this).track=i,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var s,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply((0,Xe.default)(r),t)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply((0,Xe.default)(r),t)};(t.on(["loadstart","texttrackchange"],o),a.addEventListener("change",o),a.addEventListener("selectedlanguagechange",l),r.on("dispose",(function(){t.off(["loadstart","texttrackchange"],o),a.removeEventListener("change",o),a.removeEventListener("selectedlanguagechange",l)})),void 0===a.onchange)&&r.on(["tap","click"],(function(){if("object"!=typeof qe.default.Event)try{s=new qe.default.Event("change")}catch(e){}s||(s=ze.default.createEvent("Event")).initEvent("change",!0,!0),a.dispatchEvent(s)}));return r.handleTracksChange(),r}(0,Je.default)(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var a=r[i];-1!==this.kinds.indexOf(a.kind)&&(a===n?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(ko);Ba.registerComponent("TextTrackMenuItem",Ro);var Do=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}(0,Je.default)(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Ro);Ba.registerComponent("OffTextTrackMenuItem",Do);var Mo=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return(0,Je.default)(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=Ro),this.label_&&(n=this.label_+" off"),e.push(new Do(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var a=r[i];if(this.kinds_.indexOf(a.kind)>-1){var s=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+a.kind+"-menu-item"),e.push(s)}}return e},t}(Co);Ba.registerComponent("TextTrackButton",Mo);var Lo=function(e){function t(t,n){var r,i=n.track,a=n.cue,s=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=a.text,n.selected=a.startTime<=s&&s<a.endTime,(r=e.call(this,t,n)||this).track=i,r.cue=a,r}return(0,Je.default)(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(ko);Ba.registerComponent("ChaptersTrackMenuItem",Lo);var No=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r)||this).selectCurrentItem_=function(){i.items.forEach((function(e){e.selected(i.track_.activeCues[0]===e.cue)}))},i}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!t||!t.track||"chapters"===t.track.kind){var n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),e.prototype.update.call(this)):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&e.prototype.update.call(this)}},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ia(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],a=new Lo(this.player_,{track:this.track_,cue:i});e.push(a)}return e},t}(Mo);No.prototype.kind_="chapters",No.prototype.controlText_="Chapters",Ba.registerComponent("ChaptersButton",No);var Bo=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=t.textTracks(),s=da((0,Xe.default)(i),i.handleTracksChange);return a.addEventListener("change",s),i.on("dispose",(function(){a.removeEventListener("change",s)})),i}(0,Je.default)(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var a=t[r];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Mo);Bo.prototype.kind_="descriptions",Bo.prototype.controlText_="Descriptions",Ba.registerComponent("DescriptionsButton",Bo);var xo=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Mo);xo.prototype.kind_="subtitles",xo.prototype.controlText_="Subtitles",Ba.registerComponent("SubtitlesButton",xo);var Po=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return(0,Je.default)(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Ro);Ba.registerComponent("CaptionSettingsMenuItem",Po);var Oo=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Po(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Mo);Oo.prototype.kind_="captions",Oo.prototype.controlText_="Captions",Ba.registerComponent("CaptionsButton",Oo);var Fo=function(e){function t(){return e.apply(this,arguments)||this}return(0,Je.default)(t,e),t.prototype.createEl=function(t,n,r){var i=e.prototype.createEl.call(this,t,n,r),a=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(a.appendChild(pi("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(pi("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),i},t}(Ro);Ba.registerComponent("SubsCapsMenuItem",Fo);var Uo=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(Ia(r.label_)),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Po(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Fo)},t}(Mo);Uo.prototype.kinds_=["captions","subtitles"],Uo.prototype.controlText_="Subtitles",Ba.registerComponent("SubsCapsButton",Uo);var jo=function(e){function t(t,n){var r,i=n.track,a=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(r=e.call(this,t,n)||this).track=i,r.addClass("vjs-"+i.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply((0,Xe.default)(r),t)};return a.addEventListener("change",s),r.on("dispose",(function(){a.removeEventListener("change",s)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i=e.prototype.createEl.call(this,t,n,r),a=i.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(a.appendChild(pi("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(pi("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i},n.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var i=n[r];i!==this.track&&(i.enabled=i===this.track)}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(ko);Ba.registerComponent("AudioTrackMenuItem",jo);var Qo=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new jo(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(Co);Qo.prototype.controlText_="Audio Track",Ba.registerComponent("AudioTrackButton",Qo);var Go=function(e){function t(t,n){var r,i=n.rate,a=parseFloat(i,10);return n.label=i,n.selected=a===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(r=e.call(this,t,n)||this).label=i,r.rate=a,r.on(t,"ratechange",(function(e){return r.update(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(ko);Go.prototype.contentElType="button",Ba.registerComponent("PlaybackRateMenuItem",Go);var Vo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).menuButton_.el_.setAttribute("aria-describedby",r.labelElId_),r.updateVisibility(),r.updateLabel(),r.on(t,"loadstart",(function(e){return r.updateVisibility(e)})),r.on(t,"ratechange",(function(e){return r.updateLabel(e)})),r.on(t,"playbackrateschange",(function(e){return r.handlePlaybackRateschange(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=pi("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new Go(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),n=this.playbackRates(),r=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[r])},n.handlePlaybackRateschange=function(e){this.update()},n.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(wo);Vo.prototype.controlText_="Playback Rate",Ba.registerComponent("PlaybackRateMenuButton",Vo);var Ho=function(e){function t(){return e.apply(this,arguments)||this}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(t,n,r){return void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n.className||(n.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,n,r)},t}(Ba);Ba.registerComponent("Spacer",Ho);var Yo=function(e){function t(){return e.apply(this,arguments)||this}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},t}(Ho);Ba.registerComponent("CustomControlSpacer",Yo);var qo=function(e){function t(){return e.apply(this,arguments)||this}return(0,Je.default)(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Ba);qo.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in ze.default&&qo.prototype.options_.children.splice(qo.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ba.registerComponent("ControlBar",qo);var zo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"error",(function(e){return r.open(e)})),r}(0,Je.default)(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(qa);zo.prototype.options_=(0,We.default)({},qa.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ba.registerComponent("ErrorDisplay",zo);var Wo="vjs-text-track-settings",Ko=["#000","Black"],Xo=["#00F","Blue"],Jo=["#0FF","Cyan"],Zo=["#0F0","Green"],$o=["#F0F","Magenta"],el=["#F00","Red"],tl=["#FFF","White"],nl=["#FF0","Yellow"],rl=["1","Opaque"],il=["0.5","Semi-Transparent"],al=["0","Transparent"],sl={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ko,tl,el,Zo,Xo,nl,$o,Jo]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[rl,il,al]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[tl,Ko,el,Zo,Xo,nl,$o,Jo]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[rl,il]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[al,il,rl]}};function ol(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}sl.windowColor.options=sl.backgroundColor.options;var ll=function(e){function t(t,n){var r;return n.temporary=!1,(r=e.call(this,t,n)||this).updateDisplay=r.updateDisplay.bind((0,Xe.default)(r)),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=pi("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),Nr(sl,(function(e){r.on(r.$(e.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}(0,Je.default)(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var i=sl[e],a=i.id.replace("%s",this.id_),s=[t,a].join(" ").trim();return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+s+'">'].concat(i.options.map((function(e){var t=a+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+s+" "+t+'">',r.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return pi("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return pi("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return pi("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,r=this;return t=function(e,t,n){var i,a,s=(i=r.$(t.selector),a=t.parser,ol(i.options[i.options.selectedIndex].value,a));return void 0!==s&&(e[n]=s),e},void 0===(n={})&&(n=0),Lr(e=sl).reduce((function(n,r){return t(n,e[r],r)}),n)},n.setValues=function(e){var t=this;Nr(sl,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(ol(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))},n.setDefaults=function(){var e=this;Nr(sl,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(qe.default.localStorage.getItem(Wo))}catch(e){Rr.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?qe.default.localStorage.setItem(Wo,JSON.stringify(e)):qe.default.localStorage.removeItem(Wo)}catch(e){Rr.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(qa);Ba.registerComponent("TextTrackSettings",ll);var ul=function(e){function t(t,n){var r,i=n.ResizeObserver||qe.default.ResizeObserver;null===n.ResizeObserver&&(i=!1);var a=ka({createEl:!i,reportTouchActivity:!1},n);return(r=e.call(this,t,a)||this).ResizeObserver=n.ResizeObserver||qe.default.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,t,n,r){var i;void 0===r&&(r=qe.default);var a=function(){var a=this,s=arguments,o=function(){i=null,o=null,n||e.apply(a,s)};!i&&n&&e.apply(a,s),r.clearTimeout(i),i=r.setTimeout(o,t)};return a.cancel=function(){r.clearTimeout(i),i=null},a}((function(){r.resizeHandler()}),100,!1,(0,Xe.default)(r)),i?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){ia(this,"resize",e),ia(this,"unload",t),t=null};ra(r.el_.contentWindow,"unload",t),ra(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}(0,Je.default)(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Ba);Ba.registerComponent("ResizeManager",ul);var cl={trackingThreshold:20,liveTolerance:15},dl=function(e){function t(t,n){var r,i=ka(cl,n,{createEl:!1});return(r=e.call(this,t,i)||this).handleVisibilityChange_=function(e){return r.handleVisibilityChange(e)},r.trackLiveHandler_=function(){return r.trackLive_()},r.handlePlay_=function(e){return r.handlePlay(e)},r.handleFirstTimeupdate_=function(e){return r.handleFirstTimeupdate(e)},r.handleSeeked_=function(e){return r.handleSeeked(e)},r.seekToLiveEdge_=function(e){return r.seekToLiveEdge(e)},r.reset_(),r.on(r.player_,"durationchange",(function(e){return r.handleDurationchange(e)})),r.on(r.player_,"canplay",(function(){return r.toggleTracking()})),$r&&"hidden"in ze.default&&"visibilityState"in ze.default&&r.on(ze.default,"visibilitychange",r.handleVisibilityChange_),r}(0,Je.default)(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ze.default.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(qe.default.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),i=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-i)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,ca),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(ze.default,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(Ba);Ba.registerComponent("LiveTracker",dl);var hl,fl=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var s=n[a].src;s&&-1===r.indexOf(s)&&r.push(s)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},pl=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=ze.default.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=ze.default.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",qe.default.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Al=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},gl=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return Al([e.el(),qe.default.HTMLMediaElement.prototype,qe.default.Element.prototype,pl],"innerHTML")}(e),i=function(n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=n.apply(t,i);return fl(e),s}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=i(n[e]))})),Object.defineProperty(t,"innerHTML",ka(r,{set:i(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},ml=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ls(qe.default.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return qe.default.Element.prototype.setAttribute.call(this,"src",e),e}}),vl=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Al([e.el(),qe.default.HTMLMediaElement.prototype,ml],"src")}(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",ka(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var a=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),a},t.load=function(){var n=i.call(t);return fl(e)||(e.triggerSourceset(""),gl(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):fl(e)||gl(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},yl=function(e,t,n,r){void 0===r&&(r=!0);var i=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var e=n();return i(e),e}};return r&&(a.set=i),Object.defineProperty(e,t,a)},El=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.source,a=!1;if(r.featuresVideoFrameCallback=r.featuresVideoFrameCallback&&"VIDEO"===r.el_.tagName,i&&(r.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var s=r.el_.childNodes,o=s.length,l=[];o--;){var u=s[o];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),a||r.el_.hasAttribute("crossorigin")||!cs(u.src)||(a=!0)):l.push(u))}for(var c=0;c<l.length;c++)r.el_.removeChild(l[c])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&a&&Rr.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(ni||ii||Wr)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}(0,Je.default)(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){vl(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach((function(e){n.el()[r+"Tracks"].removeEventListener(e,n[r+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=vs[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var a={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===e&&t[ys.remoteText.getterName]().trigger(r)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},s=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,a=0;a<r.length;a++)if(r[a]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach((function(e){var n=a[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",s),this.on("dispose",(function(e){return t.off("loadstart",s)}))}},n.proxyNativeTracks_=function(){var e=this;vs.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=ze.default.createElement("video");var r=ka({},this.options_.tag&&Ti(this.options_.tag));ni&&!0===this.options_.nativeControlsForTouch||delete r.controls,_i(e,Br(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&Si(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],a=0;a<i.length;a++){var s=i[a],o=this.options_[s];void 0!==o&&(o?Si(e,s,s):wi(e,s),e[s]=o)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&si?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){Rr(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&qr&&Jr&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=qe.default.navigator&&qe.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Qa(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=ze.default.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),qe.default.performance&&"function"==typeof qe.default.performance.now?e.creationTime=qe.default.performance.now():qe.default.performance&&qe.default.performance.timing&&"number"==typeof qe.default.performance.timing.navigationStart&&(e.creationTime=qe.default.Date.now()-qe.default.performance.timing.navigationStart),e},t}(_s);yl(El,"TEST_VID",(function(){if(ci()){var e=ze.default.createElement("video"),t=ze.default.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),El.isSupported=function(){try{El.TEST_VID.volume=.5}catch(e){return!1}return!(!El.TEST_VID||!El.TEST_VID.canPlayType)},El.canPlayType=function(e){return El.TEST_VID.canPlayType(e)},El.canPlaySource=function(e,t){return El.canPlayType(e.type)},El.canControlVolume=function(){try{var e=El.TEST_VID.volume;El.TEST_VID.volume=e/2+.1;var t=e!==El.TEST_VID.volume;return t&&ai?(qe.default.setTimeout((function(){El&&El.prototype&&(El.prototype.featuresVolumeControl=e!==El.TEST_VID.volume)})),!1):t}catch(e){return!1}},El.canMuteVolume=function(){try{var e=El.TEST_VID.muted;return El.TEST_VID.muted=!e,El.TEST_VID.muted?Si(El.TEST_VID,"muted","muted"):wi(El.TEST_VID,"muted"),e!==El.TEST_VID.muted}catch(e){return!1}},El.canControlPlaybackRate=function(){if(qr&&Jr&&Zr<58)return!1;try{var e=El.TEST_VID.playbackRate;return El.TEST_VID.playbackRate=e/2+.1,e!==El.TEST_VID.playbackRate}catch(e){return!1}},El.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(ze.default.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(ze.default.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(ze.default.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(ze.default.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},El.supportsNativeTextTracks=function(){return si||ai&&Jr},El.supportsNativeVideoTracks=function(){return!(!El.TEST_VID||!El.TEST_VID.videoTracks)},El.supportsNativeAudioTracks=function(){return!(!El.TEST_VID||!El.TEST_VID.audioTracks)},El.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];yl(El.prototype,t,(function(){return El[n]()}),!0)})),El.prototype.featuresVolumeControl=El.canControlVolume(),El.prototype.movingMediaElementInDOM=!ai,El.prototype.featuresFullscreenResize=!0,El.prototype.featuresProgressEvents=!0,El.prototype.featuresTimeupdateEvents=!0,El.prototype.featuresVideoFrameCallback=!(!El.TEST_VID||!El.TEST_VID.requestVideoFrameCallback),El.patchCanPlayType=function(){zr>=4&&!Kr&&!Jr&&(hl=El.TEST_VID&&El.TEST_VID.constructor.prototype.canPlayType,El.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":hl.call(this,e)})},El.unpatchCanPlayType=function(){var e=El.TEST_VID.constructor.prototype.canPlayType;return hl&&(El.TEST_VID.constructor.prototype.canPlayType=hl),e},El.patchCanPlayType(),El.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},El.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){El.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){El.prototype["set"+Ia(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){El.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){El.prototype["set"+Ia(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){El.prototype[e]=function(){return this.el_[e]()}})),_s.withSourceHandlers(El),El.nativeSourceHandler={},El.nativeSourceHandler.canPlayType=function(e){try{return El.TEST_VID.canPlayType(e)}catch(e){return""}},El.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return El.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=us(e.src);return El.nativeSourceHandler.canPlayType("video/"+n)}return""},El.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},El.nativeSourceHandler.dispose=function(){},El.registerSourceHandler(El.nativeSourceHandler),_s.registerTech("Html5",El);var _l=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Tl={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},bl=["tiny","xsmall","small","medium","large","xlarge","huge"],Sl={};bl.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Sl[e]="vjs-layout-"+t}));var wl={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Cl=function(e){function t(n,r,i){var a;if(n.id=n.id||r.id||"vjs_video_"+Ki(),(r=Br(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&s.getAttribute&&(r.language=s.getAttribute("lang"))}else for(var o=n;o&&1===o.nodeType;){if(Ti(o).hasOwnProperty("lang")){r.language=o.getAttribute("lang");break}o=o.parentNode}if((a=e.call(this,null,r,i)||this).boundDocumentFullscreenChange_=function(e){return a.documentFullscreenChange_(e)},a.boundFullWindowOnEscKey_=function(e){return a.fullWindowOnEscKey(e)},a.boundUpdateStyleEl_=function(e){return a.updateStyleEl_(e)},a.boundApplyInitTime_=function(e){return a.applyInitTime_(e)},a.boundUpdateCurrentBreakpoint_=function(e){return a.updateCurrentBreakpoint_(e)},a.boundHandleTechClick_=function(e){return a.handleTechClick_(e)},a.boundHandleTechDoubleClick_=function(e){return a.handleTechDoubleClick_(e)},a.boundHandleTechTouchStart_=function(e){return a.handleTechTouchStart_(e)},a.boundHandleTechTouchMove_=function(e){return a.handleTechTouchMove_(e)},a.boundHandleTechTouchEnd_=function(e){return a.handleTechTouchEnd_(e)},a.boundHandleTechTap_=function(e){return a.handleTechTap_(e)},a.isFullscreen_=!1,a.log=Dr(a.id_),a.fsApi_=wr,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&Ti(n),a.language(a.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach((function(e){l[e.toLowerCase()]=r.languages[e]})),a.languages_=l}else a.languages_=t.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(e){if("function"!=typeof a[e])throw new Error('plugin "'+e+'" does not exist')})),a.scrubbing_=!1,a.el_=a.createEl(),ba((0,Xe.default)(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(ra(ze.default,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var u=ka(a.options_);r.plugins&&Object.keys(r.plugins).forEach((function(e){a[e](r.plugins[e])})),r.debug&&a.debug(!0),a.options_.playerOptions=u,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),ni&&a.addClass("vjs-touch-enabled"),ai||a.addClass("vjs-workinghover"),t.players[a.id_]=(0,Xe.default)(a);var c=_r.split(".")[0];return a.addClass("vjs-v"+c),a.userActive(!0),a.reportUserActivity(),a.one("play",(function(e){return a.listenForUserActivity_(e)})),a.on("stageclick",(function(e){return a.handleStageClick_(e)})),a.on("keydown",(function(e){return a.handleKeyDown(e)})),a.on("languagechange",(function(e){return a.handleLanguagechange(e)})),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",(function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)})),a}(0,Je.default)(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),ia(ze.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ia(ze.default,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),bs[this.id()]=null,Es.names.forEach((function(e){var t=Es[e],r=n[t.getterName]();r&&r.off&&r.off()})),e.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:i||(t=this.el_=e.prototype.createEl.call(this,"div"));var a=Ti(n);if(i){for(t=this.el_=n,n=this.tag=ze.default.createElement("video");t.children.length;)n.appendChild(t.firstChild);mi(t,"video-js")||vi(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(e){}}))}if(n.setAttribute("tabindex","-1"),a.tabindex="-1",($r||Jr&&ti)&&(n.setAttribute("role","application"),a.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(e){i&&"class"===e||t.setAttribute(e,a[e]),i&&n.setAttribute(e,a[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==qe.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=qi("vjs-styles-dimensions");var s=Fi(".vjs-styles-defaults"),o=Fi("head");o.insertBefore(this.styleEl_,s?s.nextSibling:o.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var l=n.getElementsByTagName("a"),u=0;u<l.length;u++){var c=l.item(u);vi(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),gi(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):Rr.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?Rr.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){var t,n,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Aa(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){r.on(["playerreset","resize"],r.boundUpdateStyleEl_)},Aa(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==qe.default.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),zi(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();o&&(a>=0&&(o.width=a),s>=0&&(o.height=s))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=Ia(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(_s.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var a=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(a=!1);var s={source:t,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Es.names.forEach((function(e){var t=Es[e];s[t.getterName]=n[t.privateName]})),Br(s,this.options_[r]),Br(s,this.options_[i]),Br(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var o=_s.getTech(e);if(!o)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new o(s),this.tech_.ready(da(this,this.handleTechReady_),!0),Ha(this.textTracksJson_||[],this.tech_),_l.forEach((function(e){n.on(n.tech_,e,(function(t){return n["handleTech"+Ia(e)+"_"](t)}))})),Object.keys(Tl).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Tl[e]+"_"].bind(n),event:t}):n["handleTech"+Tl[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return n.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return n.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return n.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return n.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return n.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return n.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return n.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return n.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return n.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return n.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return n.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return n.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return n.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return n.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return n.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return n.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return n.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||gi(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Es.names.forEach((function(t){var n=Es[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=Va(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&Rr.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(ja(r))return r.catch((function(e){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():r():ja(n=this.play())&&(n=n.catch(r)),ja(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var a=r[i];if(a.type&&a.src&&a.src===t)return a.type}return Ns(t)}(this,t)),this.cache_.source=ka({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],a=this.$$("source"),s=[],o=0;o<a.length;o++){var l=Ti(a[o]);i.push(l),l.src&&l.src===t&&s.push(l.src)}s.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Rr.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Qa(this.play()):this.pause()))},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),r=ze.default[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},n.handleTechFullscreenChange_=function(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in ks)return function(e,t,n,r){return t[n](e.reduce(Ds(n),r))}(this.middleware_,this.tech_,e,t);if(e in Rs)return Cs(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Rr(e),e}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Is)return function(e,t,n){return e.reduceRight(Ds(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Rs)return Cs(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Rr("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Rr("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Rr(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||qe.default.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=Qa),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),r=Boolean(si||ai);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!n&&r&&this.load());var i=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Oa(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Oa(0,0)),e},n.bufferedPercent=function(){return Fa(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||qe.default.Promise;if(t){var n=this;return new t((function(t,r){function i(){n.off("fullscreenerror",s),n.off("fullscreenchange",a)}function a(){i(),t()}function s(e,t){i(),r(t)}n.one("fullscreenchange",a),n.one("fullscreenerror",s);var o=n.requestFullscreenHelper_(e);o&&(o.then(i,i),o.then(t,r))}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||qe.default.Promise;if(e){var t=this;return new e((function(e,n){function r(){t.off("fullscreenerror",a),t.off("fullscreenchange",i)}function i(){r(),e()}function a(e,t){r(),n(t)}t.one("fullscreenchange",i),t.one("fullscreenerror",a);var s=t.exitFullscreenHelper_();s&&(s.then(r,r),s.then(e,n))}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=ze.default[this.fsApi_.exitFullscreen]();return t&&Qa(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ze.default.documentElement.style.overflow,ra(ze.default,"keydown",this.boundFullWindowOnEscKey_),ze.default.documentElement.style.overflow="hidden",vi(ze.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){Ke.default.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,ia(ze.default,"keydown",this.boundFullWindowOnEscKey_),ze.default.documentElement.style.overflow=this.docOrigOverflow,yi(ze.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ze.default&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ze.default)return ze.default.exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return Ke.default.isEventKey(e,"f")}:n,i=t.muteKey,a=void 0===i?function(e){return Ke.default.isEventKey(e,"m")}:i,s=t.playPauseKey,o=void 0===s?function(e){return Ke.default.isEventKey(e,"k")||Ke.default.isEventKey(e,"Space")}:s;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var l=Ba.getComponent("FullscreenToggle");!1!==ze.default[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,e)}else if(a.call(this,e)){e.preventDefault(),e.stopPropagation(),Ba.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),Ba.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],a=_s.getTech(i);if(a||(a=Ba.getComponent(i)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else Rr.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n,r=this,i=this.options_.techOrder.map((function(e){return[e,_s.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(Rr.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),a=function(e,t,n){var r;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},s=function(e,t){var n=e[0];if(e[1].canPlaySource(t,r.options_[n.toLowerCase()]))return{source:t,tech:n}};return t=this.options_.sourceOrder?a(e,i,(n=s,function(e,t){return n(t,e)})):a(i,e,s),t||!1},n.handleSrc_=function(e,t){var n=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var r=Bs(e);if(r.length){if(this.changingSrc_=!0,t||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),ws(this,r[0],(function(e,i){var a,s;if(n.middleware_=i,t||(n.cache_.sources=r),n.updateSourceCaches_(e),n.src_(e))return r.length>1?n.handleSrc_(r.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void n.triggerReady());a=i,s=n.tech_,a.forEach((function(e){return e.setTech&&e.setTech(s)}))})),this.options_.retryOnError&&r.length>1){var i=function(){n.error(null),n.handleSrc_(r.slice(1),!0)},a=function(){n.off("error",i)};this.one("error",i),this.one("playing",a),this.resetRetryOnError_=function(){n.off("error",i),n.off("playing",a)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)},n.src=function(e){return this.handleSrc_(e,!1)},n.src_=function(e){var t,n,r=this,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,Ia(t)!==Ia(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){r.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||qe.default.Promise;this.paused()||!t?this.doReset_():Qa(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Aa(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(br("beforeerror").forEach((function(n){var r=n(t,e);xr(r)&&!Array.isArray(r)||"string"==typeof r||"number"==typeof r||null===r?e=r:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var n=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Ua(e),this.addClass("vjs-error"),Rr.error("(CODE:"+this.error_.code+" "+Ua.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),br("error").forEach((function(e){return e(t,t.error_)}))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=da(this,this.reportUserActivity),i=function(t){r(),this.clearInterval(e)};this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",i),this.on("mouseleave",i);var a,s=this.getChild("controlBar");!s||ai||qr||(s.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),s.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var e=this.options_.inactivityTimeout;e<=0||(a=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();t.forEach((function(t){t!==n&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(r),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var n=this.options_.Promise||qe.default.Promise;if(n){if(e){var r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),n.all(r).then((function(){return t.enableAudioOnlyUI_()}))}return n.resolve().then((function(){return t.disableAudioOnlyUI_()}))}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var n=this.options_.Promise||qe.default.Promise;return n?e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.disablePosterModeUI_()})):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Aa(this)&&this.trigger("languagechange"))},n.languages=function(){return ka(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=ka(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=ka(r)).player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new qa(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<bl.length;n++){var r=bl[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(Sl[e]),this.addClass(Sl[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Br({},wl,e),this.updateCurrentBreakpoint_()),Br(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Sl[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=ka(e);var r=this.cache_.media,i=r.artwork,a=r.poster,s=r.src,o=r.textTracks;!i&&a&&(this.cache_.media.artwork=[{src:a,type:Ns(a)}]),s&&this.src(s),a&&this.poster(a),Array.isArray(o)&&o.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Ns(t.poster)}]),t}return ka(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=Ti(e),r=n["data-setup"];if(mi(e,"vjs-fill")&&(n.fill=!0),mi(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=(0,Ze.default)(r||"{}"),a=i[0],s=i[1];a&&Rr.error(a),Br(n,s)}if(Br(t,n),e.hasChildNodes())for(var o=e.childNodes,l=0,u=o.length;l<u;l++){var c=o[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(Ti(c)):"track"===d&&t.tracks.push(Ti(c))}return t},n.flexNotSupported_=function(){var e=ze.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(Ba);Es.names.forEach((function(e){var t=Es[e];Cl.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Cl.prototype.crossorigin=Cl.prototype.crossOrigin,Cl.players={};var Il=qe.default.navigator;Cl.prototype.options_={techOrder:_s.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Il&&(Il.languages&&Il.languages[0]||Il.userLanguage||Il.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Cl.prototype[e]=function(){return this.techGet_(e)}})),_l.forEach((function(e){Cl.prototype["handleTech"+Ia(e)+"_"]=function(){return this.trigger(e)}})),Ba.registerComponent("Player",Cl);var kl="plugin",Rl="activePlugins_",Dl={},Ml=function(e){return Dl.hasOwnProperty(e)},Ll=function(e){return Ml(e)?Dl[e]:void 0},Nl=function(e,t){e[Rl]=e[Rl]||{},e[Rl][t]=!0},Bl=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},xl=function(e,t){return t.prototype.name=e,function(){Bl(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(0,tt.default)(t,[this].concat(r));return this[e]=function(){return a},Bl(this,a.getEventHash()),a}},Pl=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),ba(this),delete this.trigger,wa(this,this.constructor.defaultState),Nl(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),aa(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Rl][e]=!1,this.player=this.state=null,t[e]=xl(e,Dl[e])},e.isBasic=function(t){var n="string"==typeof t?Ll(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":_type_of(t))+".");if(Ml(t))Rr.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Cl.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===n?"undefined":_type_of(n))+".");return Dl[t]=n,t!==kl&&(e.isBasic(n)?Cl.prototype[t]=function(e,t){var n=function(){Bl(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Nl(this,e),Bl(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Cl.prototype[t]=xl(t,n)),n},e.deregisterPlugin=function(e){if(e===kl)throw new Error("Cannot de-register base plugin.");Ml(e)&&(delete Dl[e],delete Cl.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Dl)),e.forEach((function(e){var n=Ll(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=Ll(e);return t&&t.VERSION||""},e}();Pl.getPlugin=Ll,Pl.BASE_PLUGIN_NAME=kl,Pl.registerPlugin(kl,Pl),Cl.prototype.usingPlugin=function(e){return!!this[Rl]&&!0===this[Rl][e]},Cl.prototype.hasPlugin=function(e){return!!Ml(e)};var Ol,Fl,Ul=!1,jl=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Ql(e,t,n){var r=Ql.getPlayer(e);if(r)return t&&Rr.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof e?Fi("#"+jl(e)):e;if(!di(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||Rr.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),br("beforesetup").forEach((function(e){var n=e(i,ka(t));xr(n)&&!Array.isArray(n)?t=ka(t,n):Rr.error("please return an object in beforesetup hooks")}));var a=Ba.getComponent("Player");return r=new a(i,t,n),br("setup").forEach((function(e){return e(r)})),r}Ql.hooks_=Tr,Ql.hooks=br,Ql.hook=function(e,t){br(e,t)},Ql.hookOnce=function(e,t){br(e,[].concat(t).map((function(t){return function n(){return Sr(e,n),t.apply(void 0,arguments)}})))},Ql.removeHook=Sr,!0!==qe.default.VIDEOJS_NO_DYNAMIC_STYLE&&ci()&&((Ol=Fi(".vjs-styles-defaults"))||(Ol=qi("vjs-styles-defaults"),(Fl=Fi("head"))&&Fl.insertBefore(Ol,Fl.firstChild),zi(Ol,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "))),Vi(1,Ql),Ql.VERSION=_r,Ql.options=Cl.prototype.options_,Ql.getPlayers=function(){return Cl.players},Ql.getPlayer=function(e){var t,n=Cl.players;if("string"==typeof e){var r=jl(e),i=n[r];if(i)return i;t=Fi("#"+r)}else t=e;if(di(t)){var a=t,s=a.player,o=a.playerId;if(s||n[o])return s||n[o]}},Ql.getAllPlayers=function(){return Object.keys(Cl.players).map((function(e){return Cl.players[e]})).filter(Boolean)},Ql.players=Cl.players,Ql.getComponent=Ba.getComponent,Ql.registerComponent=function(e,t){_s.isTech(t)&&Rr.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ba.registerComponent.call(Ba,e,t)},Ql.getTech=_s.getTech,Ql.registerTech=_s.registerTech,Ql.use=function(e,t){Ts[e]=Ts[e]||[],Ts[e].push(t)},Object.defineProperty(Ql,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ql.middleware,"TERMINATOR",{value:Ss,writeable:!1,enumerable:!0}),Ql.browser=oi,Ql.TOUCH_ENABLED=ni,Ql.extend=function(e,t){void 0===t&&(t={}),Ul||(Rr.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Ul=!0);var n=function(){e.apply(this,arguments)},r={};for(var i in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),(0,nt.default)(n,e),e&&(n.super_=e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},Ql.mergeOptions=ka,Ql.bind=da,Ql.registerPlugin=Pl.registerPlugin,Ql.deregisterPlugin=Pl.deregisterPlugin,Ql.plugin=function(e,t){return Rr.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Pl.registerPlugin(e,t)},Ql.getPlugins=Pl.getPlugins,Ql.getPlugin=Pl.getPlugin,Ql.getPluginVersion=Pl.getPluginVersion,Ql.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Ql.options.languages=ka(Ql.options.languages,((n={})[e]=t,n)),Ql.options.languages[e]},Ql.log=Rr,Ql.createLogger=Dr,Ql.createTimeRange=Ql.createTimeRanges=Oa,Ql.formatTime=Js,Ql.setFormatTime=function(e){Xs=e},Ql.resetFormatTime=function(){Xs=Ks},Ql.parseUrl=os,Ql.isCrossOrigin=cs,Ql.EventTarget=fa,Ql.on=ra,Ql.one=sa,Ql.off=ia,Ql.trigger=aa,Ql.xhr=$e.default,Ql.TextTrack=ps,Ql.AudioTrack=As,Ql.VideoTrack=gs,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Ql[e]=function(){return Rr.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),ji[e].apply(null,arguments)}})),Ql.computedStyle=Or,Ql.dom=ji,Ql.url=ds,Ql.defineLazyProperty=yl,Ql.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Gl=st,Vl=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Hl=function(e){return Ql.log.debug?Ql.log.debug.bind(Ql,"VHS:",e+" >"):function(){}},Yl=1/30,ql=.1,zl=function(e,t){var n,r=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return Ql.createTimeRanges(r)},Wl=function(e,t){return zl(e,(function(e,n){return e-ql<=t&&n+ql>=t}))},Kl=function(e,t){return zl(e,(function(e){return e-Yl>=t}))},Xl=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},Jl=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},Zl=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},$l=function(e,t){var n=0;if(!e||!e.length)return n;for(var r=0;r<e.length;r++){var i=e.start(r),a=e.end(r);t>a||(n+=t>i&&t<=a?a-t:a-i)}return n},eu=Ql.createTimeRange,tu=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},nu=function(e){return(e.segments||[]).reduce((function(e,t,n){return t.parts?t.parts.forEach((function(r,i){e.push({duration:r.duration,segmentIndex:n,partIndex:i,part:r,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e}),[])},ru=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},iu=function(e){var t=e.preloadSegment;if(t){var n=t.parts,r=(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0);return r+=n&&n.length?n.length:0}},au=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=ru(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},su=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(void 0!==(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=tu(e,i),void 0!==i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(r.precise)return r.result;var i=function(e,t){for(var n,r=0,i=t-e.mediaSequence;i<e.segments.length;i++){if(void 0!==(n=e.segments[i]).start)return{result:n.start-r,precise:!0};if(r+=tu(e,n),void 0!==n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t);return i.precise?i.result:r.result+n},ou=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return qe.default.Infinity}return su(e,t,n)},lu=function(e){var t=e.defaultDuration,n=e.durationList,r=e.startIndex,i=e.endIndex,a=0;if(r>i){var s=[i,r];r=s[0],i=s[1]}if(r<0){for(var o=r;o<Math.min(0,i);o++)a+=t;r=0}for(var l=r;l<i;l++)a+=n[l].duration;return a},uu=function(e,t,n,r){if(!e||!e.segments)return null;if(e.endList)return ou(e);if(null===t)return null;t=t||0;var i=su(e,e.mediaSequence+e.segments.length,t);return n&&(i-=r="number"==typeof r?r:au(null,e)),Math.max(0,i)},cu=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},du=function(e){return e.excludeUntil&&e.excludeUntil===1/0},hu=function(e){var t=cu(e);return!e.disabled&&!t},fu=function(e,t){return t.attributes&&t.attributes[e]},pu=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!hu(e)&&(e.attributes.BANDWIDTH||0)<n})).length},Au=function(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))},gu=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var i in n){for(var a in n[i])if(r=t(n[i][a]))break;if(r)break}return!!r},mu=function(e){if(!e||!e.playlists||!e.playlists.length)return gu(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var n=e.playlists[t],r=n.attributes&&n.attributes.CODECS;return r&&r.split(",").every((function(e){return Rt(e)}))||gu(e,(function(e){return Au(n,e)}))?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var r=t(n);if("continue"!==r&&"object"==typeof r)return r.v}return!0},vu={liveEdgeDelay:au,duration:ou,seekable:function(e,t,n){var r=t||0,i=uu(e,t,!0,n);return null===i?eu():eu(r,i)},getMediaInfoForTime:function(e){for(var t=e.playlist,n=e.currentTime,r=e.startingSegmentIndex,i=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,o=n-a,l=nu(t),u=0,c=0;c<l.length;c++){var d=l[c];if(r===d.segmentIndex&&("number"!=typeof i||"number"!=typeof d.partIndex||i===d.partIndex)){u=c;break}}if(o<0){if(u>0)for(var h=u-1;h>=0;h--){var f=l[h];if(o+=f.duration,s){if(o<0)continue}else if(o+Yl<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:a-lu({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:h})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n}}if(u<0){for(var p=u;p<0;p++)if((o-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n};u=0}for(var A=u;A<l.length;A++){var g=l[A];if(o-=g.duration,s){if(o>0)continue}else if(o-Yl>=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:a+lu({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:A})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:n}},isEnabled:hu,isDisabled:function(e){return e.disabled},isBlacklisted:cu,isIncompatible:du,playlistEnd:uu,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:fu,estimateSegmentRequestTime:function(e,t,n,r){return void 0===r&&(r=0),fu("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:pu,isAudioOnly:mu,playlistMatch:Au,segmentDurationWithParts:tu},yu=Ql.log,Eu=function(e,t){return e+"-"+t},_u=function(e,t,n){return"placeholder-uri-"+e+"-"+t+"-"+n},Tu=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(n){if(e.mediaGroups[n])for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r]){var a=e.mediaGroups[n][r][i];t(a,n,r,i)}}))},bu=function(e){var t=e.playlist,n=e.uri,r=e.id;t.id=r,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},Su=function(e,t,n){void 0===n&&(n=_u),e.uri=t;for(var r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){var i="placeholder-uri-"+r;e.playlists[r].uri=i}var a=mu(e);Tu(e,(function(t,r,i,s){if(!t.playlists||!t.playlists.length){if(a&&"AUDIO"===r&&!t.uri)for(var o=0;o<e.playlists.length;o++){var l=e.playlists[o];if(l.attributes&&l.attributes.AUDIO&&l.attributes.AUDIO===i)return}t.playlists=[(0,We.default)({},t)]}t.playlists.forEach((function(t,a){var o=n(r,i,s,t),l=Eu(a,o);t.uri?t.resolvedUri=t.resolvedUri||Gl(e.uri,t.uri):(t.uri=0===a?o:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];bu({playlist:n,id:Eu(t,n.uri)}),n.resolvedUri=Gl(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||yu.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){Tu(e,(function(t){t.uri&&(t.resolvedUri=Gl(e.uri,t.uri))}))}(e)},wu=Ql.mergeOptions,Cu=Ql.EventTarget,Iu=function(e,t){if(!e)return t;var n=wu(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var r=0;r<t.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=wu(e.parts[r],t.parts[r]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},ku=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=Gl(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Gl(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Gl(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Gl(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=Gl(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=Gl(t,e.uri))}))},Ru=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var r=0;r<n.preloadHints.length;r++)if("MAP"===n.preloadHints[r].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},Du=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},Mu=function(e,t,n){void 0===n&&(n=Du);var r=wu(e,{}),i=r.playlists[t.id];if(!i)return null;if(n(i,t))return null;t.segments=Ru(t);var a=wu(i,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,i.segments){if(t.skip){t.segments=t.segments||[];for(var s=0;s<t.skip.skippedSegments;s++)t.segments.unshift({skipped:!0})}a.segments=function(e,t,n){var r=e.slice(),i=t.slice();n=n||0;for(var a,s=[],o=0;o<i.length;o++){var l=r[o+n],u=i[o];l?(a=l.map||a,s.push(Iu(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)}a.segments.forEach((function(e){ku(e,a.resolvedUri)}));for(var o=0;o<r.playlists.length;o++)r.playlists[o].id===t.id&&(r.playlists[o]=a);return r.playlists[t.id]=a,r.playlists[t.uri]=a,Tu(e,(function(e,n,r,i){if(e.playlists)for(var s=0;s<e.playlists.length;s++)t.id===e.playlists[s].id&&(e.playlists[s]=a)})),r},Lu=function(e,t){var n=e.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],a=i&&i.duration||r&&r.duration;return t&&a?1e3*a:500*(e.partTargetDuration||e.targetDuration||10)},Nu=function(e){function t(t,n,r){var i;if(void 0===r&&(r={}),i=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");i.logger_=Hl("PlaylistLoader");var a=r,s=a.withCredentials,o=void 0!==s&&s,l=a.handleManifestRedirects,u=void 0!==l&&l;i.src=t,i.vhs_=n,i.withCredentials=o,i.handleManifestRedirects=u;var c=n.options_;return i.customTagParsers=c&&c.customTagParsers||[],i.customTagMappers=c&&c.customTagMappers||[],i.experimentalLLHLS=c&&c.experimentalLLHLS||!1,Ql.browser.IE_VERSION&&(i.experimentalLLHLS=!1),i.state="HAVE_NOTHING",i.handleMediaupdatetimeout_=i.handleMediaupdatetimeout_.bind((0,Xe.default)(i)),i.on("mediaupdatetimeout",i.handleMediaupdatetimeout_),i}(0,Je.default)(t,e);var n=t.prototype;return n.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),n=Gl(this.master.uri,t.uri);this.experimentalLLHLS&&(n=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var r=t.preloadSegment,i=t.mediaSequence+t.segments.length;if(r){var a=r.parts||[],s=iu(t)-1;s>-1&&s!==a.length-1&&(n._HLS_part=s),(s>-1||a.length)&&i--}n._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var o=new qe.default.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&o.searchParams.set(e,n[e])})),e=o.toString()}return e}(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(function(t,n){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}},n.playlistRequestError=function(e,t,n){var r=t.uri,i=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[i],status:e.status,message:"HLS playlist request error at URL: "+r+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(e){var t=this,n=e.url;return function(e){var t=e.onwarn,n=e.oninfo,r=e.manifestString,i=e.customTagParsers,a=void 0===i?[]:i,s=e.customTagMappers,o=void 0===s?[]:s,l=e.experimentalLLHLS,u=new Tt;t&&u.on("warn",t),n&&u.on("info",n),a.forEach((function(e){return u.addParser(e)})),o.forEach((function(e){return u.addTagMapper(e)})),u.push(r),u.end();var c=u.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){c.hasOwnProperty(e)&&delete c[e]})),c.segments&&c.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!c.targetDuration){var d=10;c.segments&&c.segments.length&&(d=c.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to "+d),c.targetDuration=d}var h=ru(c);if(h.length&&!c.partTargetDuration){var f=h.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to "+f),yu.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),c.partTargetDuration=f}return c}({onwarn:function(e){var r=e.message;return t.logger_("m3u8-parser warn for "+n+": "+r)},oninfo:function(e){var r=e.message;return t.logger_("m3u8-parser info for "+n+": "+r)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(e){var t=e.playlistString,n=e.playlistObject,r=e.url,i=e.id;this.request=null,this.state="HAVE_METADATA";var a=n||this.parseManifest_({url:r,manifestString:t});a.lastRequest=Date.now(),bu({playlist:a,uri:r,id:i});var s=Mu(this.master,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,s?(this.master=s,this.media_=this.master.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Lu(this.media(),!!s)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),qe.default.clearTimeout(this.mediaUpdateTimeout),qe.default.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(qe.default.clearTimeout(this.finalRenditionTimeout),t){var r=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=qe.default.setTimeout(this.media.bind(this,e,!1),r)}else{var i=this.state,a=!this.media_||e.id!==this.media_.id,s=this.master.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Lu(e,!0)),a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=Vl(n.handleManifestRedirects,e.resolvedUri,r),t)return n.playlistRequestError(n.request,e,i);n.haveMetadata({playlistString:r.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===i?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.mediaUpdateTimeout&&(qe.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;this.mediaUpdateTimeout&&(qe.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=qe.default.setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(qe.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=qe.default.setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=qe.default.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Vl(e.handleManifestRedirects,e.src,n);var r=e.parseManifest_({manifestString:n.responseText,url:e.src});e.setupInitialPlaylist(r)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Su(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments=Ru(e),e.segments.forEach((function(t){ku(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||qe.default.location.href;this.master=function(e,t){var n=Eu(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:qe.default.location.href,resolvedUri:qe.default.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[t]=r.playlists[0],r}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(Cu),Bu=Ql.xhr,xu=Ql.mergeOptions,Pu=function(e,t,n,r){var i="arraybuffer"===e.responseType?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),r(t,e)},Ou=function(){var e=function e(t,n){t=xu({timeout:45e3},t);var r=e.beforeRequest||Ql.Vhs.xhr.beforeRequest;if(r&&"function"==typeof r){var i=r(t);i&&(t=i)}var a=(!0===Ql.Vhs.xhr.original?Bu:Ql.Vhs.xhr)(t,(function(e,t){return Pu(a,e,t,n)})),s=a.abort;return a.abort=function(){return a.aborted=!0,s.apply(a,arguments)},a.uri=t.uri,a.requestTime=Date.now(),a};return e.original=!0,e},Fu=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"===_type_of(t.offset)||"bigint"===_type_of(t.length)?qe.default.BigInt(t.offset)+qe.default.BigInt(t.length)-qe.default.BigInt(1):t.offset+t.length-1)),n},Uu=function(e,t){return e.start(t)+"-"+e.end(t)},ju=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Qu=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Gu=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];Ft(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t},Vu=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Hu=function(e){return e.resolvedUri},Yu=function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",i=0;i<t.length/n;i++)r+=t.slice(i*n,i*n+n).map(ju).join("")+" "+t.slice(i*n,i*n+n).map(Qu).join("")+"\n";return r},qu=Object.freeze({__proto__:null,createTransferableMessage:Gu,initSegmentId:Vu,segmentKeyId:Hu,hexDump:Yu,tagDump:function(e){var t=e.bytes;return Yu(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=Uu(e,t)+" ";return n}}),zu=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var a=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,r=0,i=0;i<t.segments.length&&!(e<=(r=(n=t.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration));i++);var a=t.segments[t.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+.25*a.duration)return null;n=a}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!a)return i({message:"valid programTime was not found"});if("estimate"===a.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var s={mediaSeconds:r},o=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,a.segment);return o&&(s.programDateTime=o.toISOString()),i(null,s)},Wu=function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,a=void 0===i?2:i,s=t.seekTo,o=t.pauseAfterSeek,l=void 0===o||o,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!r||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var d=function(e,t){var n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(r=t.segments[i],!(n<t.segments[i+1].dateTimeObject));i++);var a,s=t.segments[t.segments.length-1],o=s.dateTimeObject,l=s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+.25*s.duration;return n>new Date(o.getTime()+1e3*l)?null:(n>o&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:vu.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(n,r);if(!d)return c({message:n+" was not found in the stream"});var h=d.segment,f=function(e,t){var n,r;try{n=new Date(e),r=new Date(t)}catch(e){}var i=n.getTime();return(r.getTime()-i)/1e3}(h.dateTimeObject,n);if("estimate"===d.type)return 0===a?c({message:n+" is not buffered yet. Try again"}):(s(d.estimatedStart+f),void u.one("seeked",(function(){e({programTime:n,playlist:r,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:c})})));var p=h.start+f;u.one("seeked",(function(){return c(null,u.currentTime())})),l&&u.pause(),s(p)},Ku=function(e,t){if(4===e.readyState)return t()},Xu=function(e,t,n){var r,i=[],a=!1,s=function(e,t,r,i){return t.abort(),a=!0,n(e,t,r,i)},o=function(e,t){if(!a){if(e)return s(e,t,"",i);var n=t.responseText.substring(i&&i.byteLength||0,t.responseText.length);if(i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return Ut(t[0]);var r=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),i=new Uint8Array(r),a=0;return t.forEach((function(e){e=Ut(e),i.set(e,a),a+=e.byteLength})),i}(i,Ht(n,!0)),r=r||Jn(i),i.length<10||r&&i.length<r+2)return Ku(t,(function(){return s(e,t,"",i)}));var o=vr(i);return"ts"===o&&i.length<188||!o&&i.length<376?Ku(t,(function(){return s(e,t,"",i)})):s(null,t,o,i)}},l=t({uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,Pu(e,null,{statusCode:e.status},o)}))}},(function(e,t){return Pu(l,e,t,o)}));return l},Ju=Ql.EventTarget,Zu=Ql.mergeOptions,$u=function(e,t){if(!Du(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],i=t.segments[n];if(r.uri!==i.uri)return!1;if(r.byterange||i.byterange){var a=r.byterange,s=i.byterange;if(a&&!s||!a&&s)return!1;if(a.offset!==s.offset||a.length!==s.length)return!1}}return!0},ec=function(e,t,n,r){return"placeholder-uri-"+e+"-"+t+"-"+(r.attributes.NAME||n)},tc=function(e,t,n){for(var r=!0,i=Zu(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),a=0;a<t.playlists.length;a++){var s=t.playlists[a];if(s.sidx){var o=yn(s.sidx);n&&n[o]&&n[o].sidx&&hn(s,n[o].sidx,s.sidx.resolvedUri)}var l=Mu(i,s,$u);l&&(i=l,r=!1)}return Tu(t,(function(e,t,n,a){if(e.playlists&&e.playlists.length){var s=e.playlists[0].id,o=Mu(i,e.playlists[0],$u);o&&(a in(i=o).mediaGroups[t][n]||(i.mediaGroups[t][n][a]=e),i.mediaGroups[t][n][a].playlists[0]=i.playlists[s],r=!1)}})),function(e,t){Tu(e,(function(n,r,i,a){a in t.mediaGroups[r][i]||delete e.mediaGroups[r][i][a]}))}(i,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:i},nc=function(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},rc=function(e,t){var n={};for(var r in e){var i=e[r].sidx;if(i){var a=yn(i);if(!t[a])break;var s=t[a].sidxInfo;nc(s,i)&&(n[a]=t[a])}}return n},ic=function(e){function t(t,n,r,i){var a;void 0===r&&(r={}),(a=e.call(this)||this).masterPlaylistLoader_=i||(0,Xe.default)(a),i||(a.isMaster_=!0);var s=r,o=s.withCredentials,l=void 0!==o&&o,u=s.handleManifestRedirects,c=void 0!==u&&u;if(a.vhs_=n,a.withCredentials=l,a.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return a.on("minimumUpdatePeriod",(function(){a.refreshXml_()})),a.on("mediaupdatetimeout",(function(){a.refreshMedia_(a.media().id)})),a.state="HAVE_NOTHING",a.loadedPlaylists_={},a.logger_=Hl("DashPlaylistLoader"),a.isMaster_?(a.masterPlaylistLoader_.srcUrl=t,a.masterPlaylistLoader_.sidxMapping_={}):a.childPlaylist_=t,a}(0,Je.default)(t,e);var n=t.prototype;return n.requestErrored_=function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||_instanceof(e,Error)?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},n.addSidxSegments_=function(e,t,n){var r=this,i=e.sidx&&yn(e.sidx);if(e.sidx&&i&&!this.masterPlaylistLoader_.sidxMapping_[i]){var a=Vl(this.handleManifestRedirects,e.sidx.resolvedUri),s=function(a,s){if(!r.requestErrored_(a,s,t)){var o,l=r.masterPlaylistLoader_.sidxMapping_;try{o=(0,Kn.default)(Ut(s.response).subarray(8))}catch(e){return void r.requestErrored_(e,s,t)}return l[i]={sidxInfo:e.sidx,sidx:o},hn(e,o,e.sidx.resolvedUri),n(!0)}};this.request=Xu(a,this.vhs_.xhr,(function(t,n,i,o){if(t)return s(t,n);if(!i||"mp4"!==i)return s({status:n.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+a,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},n);var l=e.sidx.byterange,u=l.offset,c=l.length;if(o.length>=c+u)return s(t,{response:o.subarray(u,u+c),status:n.status,uri:n.uri});r.request=r.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:Fu({byterange:e.sidx.byterange})},s)}))}else this.mediaRequest_=qe.default.setTimeout((function(){return n(!1)}),0)},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},qe.default.clearTimeout(this.minimumUpdatePeriodTimeout_),qe.default.clearTimeout(this.mediaRequest_),qe.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(r){t.haveMetadata({startingState:n,playlist:e})})))},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),qe.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(qe.default.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;qe.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=qe.default.setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,n){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=qe.default.setTimeout((function(){return e.haveMaster_()}),0)},n.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,r){if(!t.requestErrored_(n,r)){var i=r.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?t.masterLoaded_=Date.parse(r.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=Vl(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,r),i?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(r,i)}))):e(r,i)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},n.syncClientServerClock_=function(e){var t=this,n=Wn(this.masterPlaylistLoader_.masterXml_);return null===n?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.masterPlaylistLoader_.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Gl(this.masterPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(r,i){if(t.request){if(r)return t.masterPlaylistLoader_.clientOffset_=t.masterLoaded_-Date.now(),e();var a;a="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.masterPlaylistLoader_.clientOffset_=a-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,r,i,a,s,o=this.masterPlaylistLoader_.master,l=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:o},t=e.masterXml,n=e.srcUrl,r=e.clientOffset,i=e.sidxMapping,a=e.previousManifest,s=zn(t,{manifestUri:n,clientOffset:r,sidxMapping:i,previousManifest:a}),Su(s,n,ec),s);o&&(l=tc(o,l,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=l||o;var u=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return u&&u!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=u),(!o||l&&l.minimumUpdatePeriod!==o.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(l)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(qe.default.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},n.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=qe.default.setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},n.refreshXml_=function(){var e=this;this.requestMaster_((function(t,n){var r,i,a;n&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(r=e.masterPlaylistLoader_.master,i=e.masterPlaylistLoader_.sidxMapping_,a=rc(r.playlists,i),Tu(r,(function(e,t,n,r){if(e.playlists&&e.playlists.length){var s=e.playlists;a=Zu(a,rc(s,i))}})),a),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},n.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){!function e(){t.media().endList||(t.mediaUpdateTimeout=qe.default.setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),Lu(t.media(),Boolean(r))))}()}this.trigger("loadedplaylist")},t}(Ju),ac={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},sc=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},oc=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(n){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=sc(new Worker(t));n.objURL=t;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),r.call(this)},n}},lc=function(e){return"var browserWorkerPolyFill = "+sc.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},uc=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},cc=lc(uc((function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,a;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y,E,_,T,b,S,w,C,I,k,R,D,M,L,N,B,x,P,O,F,U,j,Q=e,G=Math.pow(2,32),V={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*G+n.getUint32(4)},MAX_UINT32:G},H=V.MAX_UINT32;!function(){var e;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);b=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),w=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k={video:C,audio:I},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),N=L,B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),x=L,R=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},n=function(){return t(T.dinf,t(T.dref,M))},r=function(e){return t(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},A=function(e){return t(T.hdlr,k[e])},p=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(T.mdhd,n)},f=function(e){return t(T.mdia,p(e),A(e.type),s(e))},a=function(e){return t(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(e){return t(T.minf,"video"===e.type?t(T.vmhd,R):t(T.smhd,D),n(),m(e))},o=function(e,n){for(var r=[],i=n.length;i--;)r[i]=y(n[i]);return t.apply(null,[T.moof,a(e)].concat(r))},l=function(e){for(var n=e.length,r=[];n--;)r[n]=d(e[n]);return t.apply(null,[T.moov,c(4294967295)].concat(r).concat(u(e)))},u=function(e){for(var n=e.length,r=[];n--;)r[n]=E(e[n]);return t.apply(null,[T.mvex].concat(r))},c=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(T.mvhd,n)},g=function(e){var n,r,i=e.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(T.sdtp,a)},m=function(e){return t(T.stbl,v(e),t(T.stts,x),t(T.stsc,N),t(T.stsz,B),t(T.stco,L))},v=function(e){return t(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?P(e):O(e))},P=function(e){var n,r,i=e.sps||[],a=e.pps||[],s=[],o=[];for(n=0;n<i.length;n++)s.push((65280&i[n].byteLength)>>>8),s.push(255&i[n].byteLength),s=s.concat(Array.prototype.slice.call(i[n]));for(n=0;n<a.length;n++)o.push((65280&a[n].byteLength)>>>8),o.push(255&a[n].byteLength),o=o.concat(Array.prototype.slice.call(a[n]));if(r=[T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],s,[a.length],o))),t(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];r.push(t(T.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,r)},O=function(e){return t(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},h=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(T.tkhd,n)},y=function(e){var n,r,i,a,s,o;return n=t(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/H),o=Math.floor(e.baseMediaDecodeTime%H),r=t(T.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===e.type?(i=_(e,92),t(T.traf,n,r,i)):(a=g(e),i=_(e,a.length+92),t(T.traf,n,r,i,a))},d=function(e){return e.duration=e.duration||4294967295,t(T.trak,h(e),f(e))},E=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(T.trex,n)},j=function(e,t){var n=0,r=0,i=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|r|i|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,n){var r,i,a,s,o,l;for(n+=20+16*(s=e.samples||[]).length,a=j(s,n),(i=new Uint8Array(a.length+16*s.length)).set(a),r=a.length,l=0;l<s.length;l++)o=s[l],i[r++]=(4278190080&o.duration)>>>24,i[r++]=(16711680&o.duration)>>>16,i[r++]=(65280&o.duration)>>>8,i[r++]=255&o.duration,i[r++]=(4278190080&o.size)>>>24,i[r++]=(16711680&o.size)>>>16,i[r++]=(65280&o.size)>>>8,i[r++]=255&o.size,i[r++]=o.flags.isLeading<<2|o.flags.dependsOn,i[r++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,i[r++]=61440&o.flags.degradationPriority,i[r++]=15&o.flags.degradationPriority,i[r++]=(4278190080&o.compositionTimeOffset)>>>24,i[r++]=(16711680&o.compositionTimeOffset)>>>16,i[r++]=(65280&o.compositionTimeOffset)>>>8,i[r++]=255&o.compositionTimeOffset;return t(T.trun,i)},F=function(e,n){var r,i,a,s,o,l;for(n+=20+8*(s=e.samples||[]).length,a=j(s,n),(r=new Uint8Array(a.length+8*s.length)).set(a),i=a.length,l=0;l<s.length;l++)o=s[l],r[i++]=(4278190080&o.duration)>>>24,r[i++]=(16711680&o.duration)>>>16,r[i++]=(65280&o.duration)>>>8,r[i++]=255&o.duration,r[i++]=(4278190080&o.size)>>>24,r[i++]=(16711680&o.size)>>>16,r[i++]=(65280&o.size)>>>8,r[i++]=255&o.size;return t(T.trun,r)},_=function(e,t){return"audio"===e.type?F(e,t):U(e,t)};i=function(){return t(T.ftyp,b,S,b,w)};var Y,q,z,W,K,X,J,Z,$=function(e){return t(T.mdat,e)},ee=o,te=function(e){var t,n=i(),r=l(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t},ne=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},re=function(e){var t,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},ie=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},ae=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},se=function(e,t){var n,r,i,a,s,o=t||0,l=[];for(n=0;n<e.length;n++)for(a=e[n],r=0;r<a.length;r++)s=a[r],o+=(i=ne(s,o)).size,l.push(i);return l},oe=function(e){var t,n,r,i,a,s,o=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(a=i[n],r=0;r<a.length;r++)s=a[r],d.setUint32(o,s.data.byteLength),o+=4,c.set(s.data,o),o+=s.data.byteLength;return c},le=[33,16,5,32,164,27],ue=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ce=function(e){for(var t=[];e--;)t.push(0);return t},de=function(){if(!Y){var e={96e3:[le,[227,64],ce(154),[56]],88200:[le,[231],ce(170),[56]],64e3:[le,[248,192],ce(240),[56]],48e3:[le,[255,192],ce(268),[55,148,128],ce(54),[112]],44100:[le,[255,192],ce(268),[55,163,128],ce(84),[112]],32e3:[le,[255,192],ce(268),[55,234],ce(226),[112]],24e3:[le,[255,192],ce(268),[55,255,128],ce(268),[111,112],ce(126),[224]],16e3:[le,[255,192],ce(268),[55,255,128],ce(268),[111,255],ce(269),[223,108],ce(195),[1,192]],12e3:[ue,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,253,128],ce(259),[56]],11025:[ue,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,255,192],ce(268),[55,175,128],ce(108),[112]],8e3:[ue,ce(268),[3,121,16],ce(47),[7]]};t=e,Y=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return Y},he=9e4;X=function(e,t){return q(K(e,t))},J=function(e,t){return z(W(e),t)},Z=function(e,t,n){return W(n?e:e-t)};var fe=he,pe=q=function(e){return e*he},Ae=(z=function(e,t){return e*t},W=function(e){return e/he}),ge=(K=function(e,t){return e/t},X),me=J,ve=Z,ye=function(e,t,n,r){var i,a,s,o,l,u=0,c=0,d=0;if(t.length&&(i=ge(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(fe/(e.samplerate/1024)),n&&r&&(u=i-Math.max(n,r),d=(c=Math.floor(u/a))*a),!(c<1||d>fe/2))){for((s=de()[e.samplerate])||(s=t[0].data),o=0;o<c;o++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-a,pts:l.pts-a});return e.baseMediaDecodeTime-=Math.floor(me(d,e.samplerate)),d}},Ee=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},_e=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},Te=function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i},be=fe,Se=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},we=function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/be,n=Math.floor(n)),n},Ce=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Ie=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}n.payload=void 0}t+=i,r=0,i=0}return n},ke=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Re=function(e,t){var n,r,i,a,s=[];if(!(64&t[0]))return s;for(r=31&t[0],n=0;n<r;n++)a={type:3&t[(i=3*n)+2],pts:e},4&t[i+2]&&(a.ccData=t[i+3]<<8|t[i+4],s.push(a));return s},De=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===i[0]&&(s++,i.shift()),n[a]=e[s];return n},Me=4,Le=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ge(0,0),new Ge(0,1),new Ge(1,0),new Ge(1,1)],this.parse708captions_&&(this.cc708Stream_=new Oe({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(Le.prototype=new Q).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=Ie(e.escapedRBSP)).payload&&t.payloadType===Me&&(n=ke(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=Re(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Le.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},Le.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Le.prototype.flush=function(){return this.flushStream("flush")},Le.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Le.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},Le.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Le.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Le.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Le.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},Le.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Ne={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Be=function(e){return 32<=e&&e<=127||160<=e&&e<=255},xe=function(e){this.windowNum=e,this.reset()};xe.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},xe.prototype.getText=function(){return this.rows.join("\n")},xe.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},xe.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},xe.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},xe.prototype.addText=function(e){this.rows[this.rowIdx]+=e},xe.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var Pe=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new xe(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};Pe.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new xe(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},Pe.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},Pe.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Oe=function e(t){t=t||{},e.prototype.init.call(this);var n,r=this,i=t.captionServices||{},a={};Object.keys(i).forEach((function(e){n=i[e],/^SERVICE/.test(e)&&(a[e]=n.encoding)})),this.serviceEncodings=a,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(r.new708Packet(),r.add708Bytes(e)):(null===r.current708Packet&&r.new708Packet(),r.add708Bytes(e))}};Oe.prototype=new Q,Oe.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Oe.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,r=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(r)},Oe.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,r=null,i=0,a=t[i++];for(e.seq=a>>6,e.sizeCode=63&a;i<t.length;i++)r=31&(a=t[i++]),7===(n=a>>5)&&r>0&&(n=a=t[i++]),this.pushServiceBlock(n,i,r),r>0&&(i+=r-1)},Oe.prototype.pushServiceBlock=function(e,t,n){var r,i=t,a=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,i));i<t+n&&i<a.length;i++)r=a[i],Be(r)?i=this.handleText(i,s):24===r?i=this.multiByteCharacter(i,s):16===r?i=this.extendedCommands(i,s):128<=r&&r<=135?i=this.setCurrentWindow(i,s):152<=r&&r<=159?i=this.defineWindow(i,s):136===r?i=this.clearWindows(i,s):140===r?i=this.deleteWindows(i,s):137===r?i=this.displayWindows(i,s):138===r?i=this.hideWindows(i,s):139===r?i=this.toggleWindows(i,s):151===r?i=this.setWindowAttributes(i,s):144===r?i=this.setPenAttributes(i,s):145===r?i=this.setPenColor(i,s):146===r?i=this.setPenLocation(i,s):143===r?s=this.reset(i,s):8===r?s.currentWindow.backspace():12===r?s.currentWindow.clearText():13===r?s.currentWindow.pendingNewLine=!0:14===r?s.currentWindow.clearText():141===r&&i++},Oe.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return Be(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},Oe.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Oe.prototype.initService=function(e,t){var n,r,i=this;return(n="SERVICE"+e)in this.serviceEncodings&&(r=this.serviceEncodings[n]),this.services[e]=new Pe(e,r,i),this.services[e].init(this.getPts(t),(function(t){i.flushDisplayed(t,i.services[e])})),this.services[e]},Oe.prototype.handleText=function(e,t,n){var r,i,a,s,o=n&&n.isExtended,l=n&&n.isMultiByte,u=this.current708Packet.data,c=o?4096:0,d=u[e],h=u[e+1],f=t.currentWindow;return t.textDecoder_&&!o?(l?(i=[d,h],e++):i=[d],r=t.textDecoder_.decode(new Uint8Array(i))):(s=Ne[a=c|d]||a,r=4096&a&&a===s?"":String.fromCharCode(s)),f.pendingNewLine&&!f.isEmpty()&&f.newLine(this.getPts(e)),f.pendingNewLine=!1,f.addText(r),e},Oe.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,r=n[e+1],i=n[e+2];return Be(r)&&Be(i)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Oe.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Oe.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,r=n[e],i=7&r;t.setCurrentWindow(i);var a=t.currentWindow;return r=n[++e],a.visible=(32&r)>>5,a.rowLock=(16&r)>>4,a.columnLock=(8&r)>>3,a.priority=7&r,r=n[++e],a.relativePositioning=(128&r)>>7,a.anchorVertical=127&r,r=n[++e],a.anchorHorizontal=r,r=n[++e],a.anchorPoint=(240&r)>>4,a.rowCount=15&r,r=n[++e],a.columnCount=63&r,r=n[++e],a.windowStyle=(56&r)>>3,a.penStyle=7&r,a.virtualRowCount=a.rowCount+1,e},Oe.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.winAttr;return r=n[++e],i.fillOpacity=(192&r)>>6,i.fillRed=(48&r)>>4,i.fillGreen=(12&r)>>2,i.fillBlue=3&r,r=n[++e],i.borderType=(192&r)>>6,i.borderRed=(48&r)>>4,i.borderGreen=(12&r)>>2,i.borderBlue=3&r,r=n[++e],i.borderType+=(128&r)>>5,i.wordWrap=(64&r)>>6,i.printDirection=(48&r)>>4,i.scrollDirection=(12&r)>>2,i.justify=3&r,r=n[++e],i.effectSpeed=(240&r)>>4,i.effectDirection=(12&r)>>2,i.displayEffect=3&r,e},Oe.prototype.flushDisplayed=function(e,t){for(var n=[],r=0;r<8;r++)t.windows[r].visible&&!t.windows[r].isEmpty()&&n.push(t.windows[r].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Oe.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Oe.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=1);return e},Oe.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=0);return e},Oe.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible^=1);return e},Oe.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].clearText();return e},Oe.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].reset();return e},Oe.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penAttr;return r=n[++e],i.textTag=(240&r)>>4,i.offset=(12&r)>>2,i.penSize=3&r,r=n[++e],i.italics=(128&r)>>7,i.underline=(64&r)>>6,i.edgeType=(56&r)>>3,i.fontStyle=7&r,e},Oe.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penColor;return r=n[++e],i.fgOpacity=(192&r)>>6,i.fgRed=(48&r)>>4,i.fgGreen=(12&r)>>2,i.fgBlue=3&r,r=n[++e],i.bgOpacity=(192&r)>>6,i.bgRed=(48&r)>>4,i.bgGreen=(12&r)>>2,i.bgBlue=3&r,r=n[++e],i.edgeRed=(48&r)>>4,i.edgeGreen=(12&r)>>2,i.edgeBlue=3&r,e},Oe.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,r=n[++e],i.row=15&r,r=n[++e],i.column=63&r,e},Oe.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var Fe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ue=function(e){return null===e?"":(e=Fe[e]||e,String.fromCharCode(e))},je=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Qe=function(){for(var e=[],t=15;t--;)e.push("");return e},Ge=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Qe();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Qe();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Qe()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))a=Ue((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Ue((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14&~i||this.addFormatting(e.pts,["i"]),1&~i||this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var s=je.indexOf(7968&t);"rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16&~t||(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&(14&~i||this.addFormatting(e.pts,["i"]))}else this.isNormalChar(r)&&(0===i&&(i=null),a=Ue(r),a+=Ue(i),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Ge.prototype=new Q,Ge.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ge.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Qe(),this.nonDisplayed_=Qe(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ge.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ge.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ge.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ge.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ge.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ge.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ge.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ge.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ge.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Qe(),this.displayed_=Qe()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ge.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Ge.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ge.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Ge.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Ge.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ge.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Ve={CaptionStream:Le,Cea608Stream:Ge,Cea708Stream:Oe},He={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ye="shared",qe=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},ze=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||Ye,this.push=function(e){this.type_!==Ye&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=qe(e.dts,r),e.pts=qe(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ze.prototype=new Q;var We,Ke=ze,Xe=qe,Je=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},Ze=function(e,t,n){return decodeURIComponent(Je(e,t,n))},$e=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},et={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ze(e.data,1,t),e.value=Ze(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ze(e.data,1,t),e.url=Ze(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(Je(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};We=function(e){var t,n={descriptor:e&&e.descriptor},r=0,i=[],a=0;if(We.prototype.init.call(this),this.dispatchType=He.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,s,o,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(a=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(i.push(e),a+=e.data.byteLength,1===i.length&&(r=$e(e.data.subarray(6,10)),r+=10),!(a<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},l=0;l<r;)t.data.set(i[0].data.subarray(0,r-l),l),l+=i[0].data.byteLength,a-=i[0].data.byteLength,i.shift();n=10,64&t.data[5]&&(n+=4,n+=$e(t.data.subarray(10,14)),r-=$e(t.data.subarray(16,20)));do{if((s=$e(t.data.subarray(n+4,n+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((o={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+s+10)}).key=o.id,et[o.id]&&(et[o.id](o),"com.apple.streaming.transportStreamTimestamp"===o.owner)){var u=o.data,c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;c*=4,c+=3&u[7],o.timeStamp=c,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger("timestamp",o)}t.frames.push(o),n+=10,n+=s}while(n<r);this.trigger("data",t)}}},We.prototype=new Q;var tt,nt,rt,it=We,at=Ke,st=188;(tt=function(){var e=new Uint8Array(st),t=0;tt.prototype.init.call(this),this.push=function(n){var r,i=0,a=st;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;a<r.byteLength;)71!==r[i]||71!==r[a]?(i++,a++):(this.trigger("data",r.subarray(i,a)),i+=st,a+=st);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){t===st&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new Q,nt=function(){var e,t,n,r;nt.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var a=e[i],s=(31&e[i+1])<<8|e[i+2];a===He.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=s:a===He.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=s:a===He.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][s]=a),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=He.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=He.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},nt.prototype=new Q,nt.STREAM_TYPES={h264:27,adts:15},rt=function(){var e,t=this,n=!1,r={data:[],size:0},i={data:[],size:0},a={data:[],size:0},s=function(e,n,r){var i,a,s=new Uint8Array(e.size),o={type:n},l=0,u=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],s.set(a.data,u),u+=a.data.byteLength;var c,d,h,f;d=o,f=(c=s)[0]<<16|c[1]<<8|c[2],d.data=new Uint8Array,1===f&&(d.packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=!!(4&c[6]),192&(h=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&h&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8])),i="video"===n||o.packetLength<=e.size,(r||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",o)}};rt.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case He.H264_STREAM_TYPE:e=r,t="video";break;case He.ADTS_STREAM_TYPE:e=i,t="audio";break;case He.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var r={type:"metadata",tracks:[]};null!==(e=o.programMapTable).video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",r)}})[o.type]()},this.reset=function(){r.size=0,r.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(r,"video"),s(i,"audio"),s(a,"timed-metadata")},this.flush=function(){if(!n&&e){var r={type:"metadata",tracks:[]};null!==e.video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",r)}n=!1,this.flushStreams_(),this.trigger("done")}},rt.prototype=new Q;var ot={PAT_PID:0,MP2T_PACKET_LENGTH:st,TransportPacketStream:tt,TransportParseStream:nt,ElementaryStream:rt,TimestampRolloverStream:at,CaptionStream:Ve.CaptionStream,Cea608Stream:Ve.Cea608Stream,Cea708Stream:Ve.Cea708Stream,MetadataStream:it};for(var lt in He)He.hasOwnProperty(lt)&&(ot[lt]=He[lt]);var ut,ct=ot,dt=fe,ht=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ut=function(e){var t,n=0;ut.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+n+" outside syncword"})},this.push=function(r){var i,a,s,o,l,u=0;if(e||(n=0),"audio"===r.type){var c;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+r.data.byteLength)).set(s),t.set(r.data,s.byteLength)):t=r.data;u+7<t.length;)if(255===t[u]&&240==(246&t[u+1])){if("number"==typeof c&&(this.skipWarn_(c,u),c=null),a=2*(1&~t[u+1]),i=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,l=(o=1024*(1+(3&t[u+6])))*dt/ht[(60&t[u+2])>>>2],t.byteLength-u<i)break;this.trigger("data",{pts:r.pts+n*l,dts:r.dts+n*l,sampleCount:o,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:ht[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+a,u+i)}),n++,u+=i}else"number"!=typeof c&&(c=u),u++;"number"==typeof c&&(this.skipWarn_(c,u),c=null),t=t.subarray(u)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},ut.prototype=new Q;var ft,pt,At,gt=ut,mt=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,a=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");a.set(e.subarray(i,i+s)),n=new DataView(a.buffer).getUint32(0),r=8*s,t-=s},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),a=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(n&2147483648>>>e)return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};pt=function(){var e,t,n=0;pt.prototype.init.call(this),this.push=function(r){var i;t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;for(var a=t.byteLength;n<a-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<a);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},pt.prototype=new Q,At={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ft=function(){var e,t,n,r,i,a,s,o=new pt;ft.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,o.push(e))},o.on("data",(function(s){var o={trackId:t,pts:n,dts:r,data:s,nalUnitTypeCode:31&s[0]};switch(o.nalUnitTypeCode){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=i(s.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=i(s.subarray(1)),o.config=a(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",o)})),o.on("done",(function(){e.trigger("done")})),o.on("partialdone",(function(){e.trigger("partialdone")})),o.on("reset",(function(){e.trigger("reset")})),o.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},s=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},i=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===i[0]&&(s++,i.shift()),n[a]=e[s];return n},a=function(e){var t,n,r,i,a,o,l,u,c,d,h,f,p=0,A=0,g=0,m=0,v=[1,1];if(n=(t=new mt(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),At[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==a?8:12,f=0;f<h;f++)t.readBoolean()&&s(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),f=0;f<l;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),A=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:16*(u+1)-2*p-2*A,height:(2-d)*(c+1)*16-2*g-2*m,sarRatio:v}}},ft.prototype=new Q;var vt,yt={H264Stream:ft,NalByteStream:pt},Et=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],_t=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},Tt=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=_t(t,n))},bt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},St={isLikelyAacData:function(e){var t=Tt(e,0);return e.length>=t+2&&!(255&~e[t])&&!(240&~e[t+1])&&16==(22&e[t+1])},parseId3TagSize:_t,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&!(240&~e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return Et[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=bt(e.subarray(10,14)));do{if((n=bt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){var a=unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(r,0,i));if("com.apple.streaming.transportStreamTimestamp"===a){var s=r.subarray(i+1),o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return o*=4,o+=3&s[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}};(vt=function(){var e=new Uint8Array,t=0;vt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,a,s,o=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255&~e[l]||240&~e[l+1])l++;else{if(e.length-l<7)break;if(l+(o=St.parseAdtsSize(e,l))>e.length)break;a={type:"audio",data:e.subarray(l,l+o),pts:t,dts:t},this.trigger("data",a),l+=o}else{if(e.length-l<10)break;if(l+(o=St.parseId3TagSize(e,l))>e.length)break;i={type:"timed-metadata",data:e.subarray(l,l+o)},this.trigger("data",i),l+=o}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new Q;var wt,Ct,It,kt,Rt=vt,Dt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Mt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Lt=yt.H264Stream,Nt=St.isLikelyAacData,Bt=fe,xt=function(e,t){t.stream=e,this.trigger("log",t)},Pt=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];"headOfPipeline"!==i&&t[i].on&&t[i].on("log",xt.bind(e,i))}},Ot=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ft=function(e,t,n,r,i,a){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:a,baseMediaDecodeTime:e}};(Ct=function(e,t){var n,r=[],i=0,a=0,s=1/0;n=(t=t||{}).firstSequenceNumber||0,Ct.prototype.init.call(this),this.push=function(t){Ce(e,t),e&&Dt.forEach((function(n){e[n]=t[n]})),r.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var o,l,u,c,d,h,f;0!==r.length?(o=Ee(r,e,i),e.baseMediaDecodeTime=we(e,t.keepOriginalTimestamps),f=ye(e,o,a,s),e.samples=_e(o),u=$(Te(o)),r=[],l=ee(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),Se(e),d=Math.ceil(1024*Bt/e.samplerate),o.length&&(h=o.length*d,this.trigger("segmentTimingInfo",Ft(ge(e.baseMediaDecodeTime,e.samplerate),o[0].dts,o[0].pts,o[0].dts+h,o[0].pts+h,f||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+h})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Se(e),r=[],this.trigger("reset")}}).prototype=new Q,wt=function(e,t){var n,r,i,a=[],s=[];n=(t=t||{}).firstSequenceNumber||0,wt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ce(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],Mt.forEach((function(t){e[t]=r[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var r,i,o,l,u,c,d,h,f=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=re(a),(o=ie(r))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],e))?(f=i.duration,o.unshift(i),o.byteLength+=i.byteLength,o.nalCount+=i.nalCount,o.pts=i.pts,o.dts=i.dts,o.duration+=i.duration):o=ae(o)),s.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Se(e),o=p}Ce(e,o),e.samples=se(o),u=$(oe(o)),e.baseMediaDecodeTime=we(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=o[0],h=o[o.length-1],this.trigger("segmentTimingInfo",Ft(e.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=ee(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){Se(e),r=void 0,i=void 0},this.getGopForFusion_=function(t){var n,r,i,a,s,o=1/0;for(s=0;s<this.gopCache_.length;s++)i=(a=this.gopCache_[s]).gop,e.pps&&Ot(e.pps[0],a.pps[0])&&e.sps&&Ot(e.sps[0],a.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||o>n)&&(r=a,o=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,a,o,l,u;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(r=s[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,a-=i.byteLength,o-=i.nalCount,l-=i.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=a,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,a,o,l;for(t=s.length-1,n=e.length-1,a=null,o=!1;t>=0&&n>=0;){if(r=s[t],i=e[n],r.pts===i.pts){o=!0;break}r.pts>i.pts?t--:(t===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(0===(l=o?n:a))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){s=e}},wt.prototype=new Q,(kt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,kt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new Q,kt.prototype.flush=function(e){var t,n,r,i,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Mt.forEach((function(e){s.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Dt.forEach((function(e){s.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,r=te(this.pendingTracks),s.initSegment=new Uint8Array(r.byteLength),s.initSegment.set(r),s.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)s.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=ve(t.startPts,o,this.keepOriginalTimestamps),t.endTime=ve(t.endPts,o,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=ve(n.pts,o,this.keepOriginalTimestamps),s.metadata.push(n);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),i=0;i<s.captions.length;i++)t=s.captions[i],this.trigger("caption",t);for(i=0;i<s.metadata.length;i++)n=s.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},kt.prototype.setRemux=function(e){this.remuxTracks=e},It=function(e){var t,n,r=this,i=!0;It.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new ct.MetadataStream,i.aacStream=new Rt,i.audioTimestampRolloverStream=new ct.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new ct.TimestampRolloverStream("timed-metadata"),i.adtsStream=new gt,i.coalesceStream=new kt(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Ct(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),Pt(this,i)},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new ct.MetadataStream,i.packetStream=new ct.TransportPacketStream,i.parseStream=new ct.TransportParseStream,i.elementaryStream=new ct.ElementaryStream,i.timestampRolloverStream=new ct.TimestampRolloverStream,i.adtsStream=new gt,i.h264Stream=new Lt,i.captionStream=new ct.CaptionStream(e),i.coalesceStream=new kt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(a){var s;if("metadata"===a.type){for(s=a.tracks.length;s--;)t||"video"!==a.tracks[s].type?n||"audio"!==a.tracks[s].type||((n=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new wt(t,e),i.videoSegmentStream.on("log",r.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-r.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Ct(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,r.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),Pt(this,i)},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Se(n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Se(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(i){var t=Nt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},It.prototype=new Q;var Ut,jt,Qt,Gt={Transmuxer:It,VideoSegmentStream:wt,AudioSegmentStream:Ct,AUDIO_PROPERTIES:Dt,VIDEO_PROPERTIES:Mt,generateSegmentTimingInfo:Ft},Vt=function(e){return e>>>0},Ht=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},Yt=Vt,qt=function e(t,n){var r,i,a,s,o,l=[];if(!n.length)return null;for(r=0;r<t.byteLength;)i=Yt(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),a=Ht(t.subarray(r+4,r+8)),s=i>1?r+i:t.byteLength,a===n[0]&&(1===n.length?l.push(t.subarray(r+8,s)):(o=e(t.subarray(r+8,s),n.slice(1))).length&&(l=l.concat(o))),r=s;return l},zt=Vt,Wt=V.getUint64,Kt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=Wt(e.subarray(4)):t.baseMediaDecodeTime=zt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},Xt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Jt=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],o=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=r.getUint32(4),d=8;for(i&&(n.dataOffset=r.getInt32(d),d+=4),a&&c&&(t={flags:Xt(e.subarray(d,d+4))},d+=4,s&&(t.duration=r.getUint32(d),d+=4),o&&(t.size=r.getUint32(d),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},s&&(t.duration=r.getUint32(d),d+=4),o&&(t.size=r.getUint32(d),d+=4),l&&(t.flags=Xt(e.subarray(d,d+4)),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t);return n},Zt=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],a=2&r.flags[2],s=8&r.flags[2],o=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),a&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),s&&(r.defaultSampleDuration=n.getUint32(t),t+=4),o&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},$t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},en="undefined"!=typeof window?window:void 0!==$t?$t:"undefined"!=typeof self?self:{},tn=De,nn=Ve.CaptionStream,rn=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},an=function(e,t){var n=qt(e,["moof","traf"]),r=qt(e,["mdat"]),i={},a=[];return r.forEach((function(e,t){var r=n[t];a.push({mdat:e,traf:r})})),a.forEach((function(e){var n,r,a=e.mdat,s=e.traf,o=qt(s,["tfhd"]),l=Zt(o[0]),u=l.trackId,c=qt(s,["tfdt"]),d=c.length>0?Kt(c[0]).baseMediaDecodeTime:0,h=qt(s,["trun"]);t===u&&h.length>0&&(n=function(e,t,n){var r=t,i=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,o=[];return e.forEach((function(e){var t=Jt(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=a),e.trackId=s,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"===(void 0===r?"undefined":_type_of(r))?(e.pts=r+en.BigInt(e.compositionTimeOffset),r+=en.BigInt(e.duration)):(e.pts=r+e.compositionTimeOffset,r+=e.duration)})),o=o.concat(t)})),o}(h,d,l),r=function(e,t,n){var r,i,a,s,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(i=0;i+4<e.length;i+=a)if(a=o.getUint32(i),i+=4,!(a<=0))switch(31&e[i]){case 6:var u=e.subarray(i+1,i+1+a),c=rn(i,t);if(r={nalUnitType:"sei_rbsp",size:a,data:u,escapedRBSP:tn(u),trackId:n},c)r.pts=c.pts,r.dts=c.dts,s=c;else{if(!s){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+i+" for trackId "+n+". See mux.js#223."});break}r.pts=s.pts,r.dts=s.dts}l.seiNals.push(r)}return l}(a,n,u),i[u]||(i[u]={seiNals:[],logs:[]}),i[u].seiNals=i[u].seiNals.concat(r.seiNals),i[u].logs=i[u].logs.concat(r.logs))})),i},sn=function(){var e,t,n,r,i,a,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new nn,s=!0,a=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0})),e.on("log",(function(e){i.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||r!==t[n])},this.parse=function(e,a,s){var o;if(!this.isInitialized())return null;if(!a||!s)return null;if(this.isNewInit(a,s))n=a[0],r=s[n];else if(null===n||!r)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,a,s)}return o=function(e,t,n){if(null===t)return null;var r=an(e,t)[t]||{};return{seiNals:r.seiNals,logs:r.logs,timescale:n}}(e,n,r),o&&o.logs&&(i.logs=i.logs.concat(o.logs)),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),i):i.logs.length?{logs:i.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={},i.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},on=Vt,ln=function(e){return("00"+e.toString(16)).slice(-2)},un=V.getUint64;Ut=function(e,t){var n=qt(t,["moof","traf"]).reduce((function(t,n){var r,i,a=qt(n,["tfhd"])[0],s=on(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),o=e[s]||9e4,l=qt(n,["tfdt"])[0],u=new DataView(l.buffer,l.byteOffset,l.byteLength);return"bigint"===(void 0===(r=1===l[0]?un(l.subarray(4,12)):u.getUint32(4))?"undefined":_type_of(r))?i=r/en.BigInt(o):"number"!=typeof r||isNaN(r)||(i=r/o),i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i<t&&(t=i),t}),1/0);return"bigint"===(void 0===n?"undefined":_type_of(n))||isFinite(n)?n:0},jt=function(e){var t=qt(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,i={},a=qt(e,["tkhd"])[0];a&&(r=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),i.id=0===r?t.getUint32(12):t.getUint32(20));var s=qt(e,["mdia","hdlr"])[0];if(s){var o=Ht(s.subarray(8,12));i.type="vide"===o?"video":"soun"===o?"audio":o}var l=qt(e,["mdia","minf","stbl","stsd"])[0];if(l){var u=l.subarray(8);i.codec=Ht(u.subarray(4,8));var c,d=qt(u,[i.codec])[0];d&&(/^[asm]vc[1-9]$/i.test(i.codec)?(c=d.subarray(78),"avcC"===Ht(c.subarray(4,8))&&c.length>11?(i.codec+=".",i.codec+=ln(c[9]),i.codec+=ln(c[10]),i.codec+=ln(c[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(c=d.subarray(28),"esds"===Ht(c.subarray(4,8))&&c.length>20&&0!==c[19]?(i.codec+="."+ln(c[19]),i.codec+="."+ln(c[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var h=qt(e,["mdia","mdhd"])[0];h&&(i.timescale=Qt(h)),n.push(i)})),n};var cn=Ut,dn=jt,hn=(Qt=function(e){var t=0===e[0]?12:20;return on(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},function(e){var t=31&e[1];return t<<=8,t|=e[2]}),fn=function(e){return!!(64&e[1])},pn=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},An=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},gn={parseType:function(e,t){var n=hn(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=fn(e),n=4+pn(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=fn(e),r=4+pn(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var a=12+((15&e[r+10])<<8|e[r+11]);a<i;){var s=r+a;t[(31&e[s+1])<<8|e[s+2]]=e[s],a+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:fn,parsePesType:function(e,t){switch(t[hn(e)]){case He.H264_STREAM_TYPE:return"video";case He.ADTS_STREAM_TYPE:return"audio";case He.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!fn(e))return null;var t=4+pn(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+pn(e),n=e.subarray(t),r=0,i=0,a=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===An(31&n[i+3])&&(a=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===An(31&n[i+3])&&(a=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===An(31&n[i+3])&&(a=!0),a}},mn=Xe,vn={};vn.ts=gn,vn.aac=St;var yn=fe,En=188,_n=71,Tn=function(e,t,n){for(var r,i,a,s,o=0,l=En,u=!1;l<=e.byteLength;)if(e[o]!==_n||e[l]!==_n&&l!==e.byteLength)o++,l++;else{if(r=e.subarray(o,l),"pes"===vn.ts.parseType(r,t.pid))i=vn.ts.parsePesType(r,t.table),a=vn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=vn.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),u=!0);if(u)break;o+=En,l+=En}for(o=(l=e.byteLength)-En,u=!1;o>=0;)if(e[o]!==_n||e[l]!==_n&&l!==e.byteLength)o--,l--;else{if(r=e.subarray(o,l),"pes"===vn.ts.parseType(r,t.pid))i=vn.ts.parsePesType(r,t.table),a=vn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=vn.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),u=!0);if(u)break;o-=En,l-=En}},bn=function(e,t,n){for(var r,i,a,s,o,l,u,c=0,d=En,h=!1,f={data:[],size:0};d<e.byteLength;)if(e[c]!==_n||e[d]!==_n)c++,d++;else{if(r=e.subarray(c,d),"pes"===vn.ts.parseType(r,t.pid))if(i=vn.ts.parsePesType(r,t.table),a=vn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!h&&(s=vn.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(o=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),o.set(u,l),l+=u.byteLength;if(vn.ts.videoPacketContainsKeyFrame(o)){var p=vn.ts.parsePesTime(o);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(r),f.size+=r.byteLength}if(h&&n.firstKeyFrame)break;c+=En,d+=En}for(c=(d=e.byteLength)-En,h=!1;c>=0;)if(e[c]!==_n||e[d]!==_n)c--,d--;else{if(r=e.subarray(c,d),"pes"===vn.ts.parseType(r,t.pid))i=vn.ts.parsePesType(r,t.table),a=vn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(s=vn.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0);if(h)break;c-=En,d-=En}},Sn=function(e){var t={pid:null,table:null},n={};for(var r in function(e,t){for(var n,r=0,i=En;i<e.byteLength;)if(e[r]!==_n||e[i]!==_n)r++,i++;else{switch(n=e.subarray(r,i),vn.ts.parseType(n,t.pid)){case"pat":t.pid=vn.ts.parsePat(n);break;case"pmt":var a=vn.ts.parsePmt(n);t.table=t.table||{},Object.keys(a).forEach((function(e){t.table[e]=a[e]}))}r+=En,i+=En}}(e,t),t.table){if(t.table.hasOwnProperty(r))switch(t.table[r]){case He.H264_STREAM_TYPE:n.video=[],bn(e,t,n),0===n.video.length&&delete n.video;break;case He.ADTS_STREAM_TYPE:n.audio=[],Tn(e,t,n),0===n.audio.length&&delete n.audio}}return n},wn=function(e,t){var n;return n=vn.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,a=null,s=0,o=0;e.length-o>=3;){switch(vn.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){n=!0;break}if((s=vn.aac.parseId3TagSize(e,o))>e.length){n=!0;break}null===a&&(t=e.subarray(o,o+s),a=vn.aac.parseAacTimestamp(t)),o+=s;break;case"audio":if(e.length-o<7){n=!0;break}if((s=vn.aac.parseAdtsSize(e,o))>e.length){n=!0;break}null===i&&(t=e.subarray(o,o+s),i=vn.aac.parseSampleRate(t)),r++,o+=s;break;default:o++}if(n)return null}if(null===i||null===a)return null;var l=yn/i;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*l,pts:a+1024*r*l}]}}(e):Sn(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=mn(e.dts,n),e.pts=mn(e.pts,n),e.dtsTime=e.dts/yn,e.ptsTime=e.pts/yn}))}if(e.video&&e.video.length){var r=t;if((void 0===r||isNaN(r))&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=mn(e.dts,r),e.pts=mn(e.pts,r),e.dtsTime=e.dts/yn,e.ptsTime=e.pts/yn})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=mn(i.dts,r),i.pts=mn(i.pts,r),i.dtsTime=i.dts/yn,i.ptsTime=i.pts/yn}}}(n,t),n):null},Cn=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){var e,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Gt.Transmuxer(this.options),e=this.self,(t=this.transmuxer).on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:Ae(t.start.dts),presentation:Ae(t.start.pts)},end:{decode:Ae(t.end.dts),presentation:Ae(t.end.pts)},baseMediaDecodeTime:Ae(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=Ae(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:Ae(t.start.dts),presentation:Ae(t.start.pts)},end:{decode:Ae(t.end.dts),presentation:Ae(t.end.pts)},baseMediaDecodeTime:Ae(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=Ae(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ae(t.start),end:Ae(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ae(t.start),end:Ae(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new sn,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,n=e.data,r=cn(t,n);this.self.postMessage({action:"probeMp4StartTime",startTime:r,data:n},[n.buffer])},t.probeMp4Tracks=function(e){var t=e.data,n=dn(t);this.self.postMessage({action:"probeMp4Tracks",tracks:n,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,n=e.baseStartTime,r="number"!=typeof n||isNaN(n)?void 0:n*fe,i=wn(t,r),a=null;i&&((a={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1}).hasVideo&&(a.videoStart=i.video[0].ptsTime),a.hasAudio&&(a.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:a,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(pe(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(pe(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Cn(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new Cn(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),dc=oc(cc),hc=function(e){var t=e.transmuxer,n=e.bytes,r=e.audioAppendStart,i=e.gopsToAlignWith,a=e.remux,s=e.onData,o=e.onTrackInfo,l=e.onAudioTimingInfo,u=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,h=e.onId3,f=e.onCaptions,p=e.onDone,A=e.onEndedTimeline,g=e.onTransmuxerLog,m=e.isEndOfTimeline,v={buffer:[]},y=m;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var r=e.data.segment,i=r.type,a=r.initSegment,s=r.captions,o=r.captionStreams,l=r.metadata,u=r.videoFrameDtsTime,c=r.videoFramePtsTime;t.buffer.push({captions:s,captionStreams:o,metadata:l});var d=e.data.segment.boxes||{data:e.data.segment.data},h={type:i,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};void 0!==u&&(h.videoFrameDtsTime=u),void 0!==c&&(h.videoFramePtsTime=c),n(h)}(n,v,s),"trackinfo"===n.data.action&&o(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,v),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&u(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&c(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&d(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&h([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&f(n.data.caption),"endedtimeline"===n.data.action&&(y=!1,A()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(y||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:v,callback:p}),fc(t))))},r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){var E=_instanceof(n,ArrayBuffer)?n:n.buffer,_=_instanceof(n,ArrayBuffer)?0:n.byteOffset;t.postMessage({action:"push",data:E,byteOffset:_,byteLength:n.byteLength},[E])}m&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},fc=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():hc(e.currentTransmux))},pc=function(e,t){e.postMessage({action:t}),fc(e)},Ac=function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void pc(t,e);t.transmuxQueue.push(pc.bind(null,t,e))},gc=function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void hc(e);e.transmuxer.transmuxQueue.push(e)},mc=function(e){Ac("reset",e)},vc=function(e){var t=new dc;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},yc=function(e){var t=e.transmuxer,n=e.endAction||e.action,r=e.callback,i=(0,We.default)({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function i(a){a.data.action===n&&(t.removeEventListener("message",i),a.data.data&&(a.data.data=new Uint8Array(a.data.data,e.byteOffset||0,e.byteLength||a.data.data.byteLength),e.data&&(e.data=a.data.data)),r(a.data))})),e.data){var a=_instanceof(e.data,ArrayBuffer);i.byteOffset=a?0:e.data.byteOffset,i.byteLength=e.data.byteLength;var s=[a?e.data:e.data.buffer];t.postMessage(i,s)}else t.postMessage(i)},Ec=2,_c=-101,Tc=-102,bc=function(e){e.forEach((function(e){e.abort()}))},Sc=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:_c,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Tc,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Ec,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:Ec,xhr:t}:null},wc=function(e,t,n){return function(r,i){var a=i.response,s=Sc(r,i);if(s)return n(s,e);if(16!==a.byteLength)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Ec,xhr:i},e);for(var o=new DataView(a),l=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),u=0;u<t.length;u++)t[u].bytes=l;return n(null,e)}},Cc=function(e,t){var n=vr(e.map.bytes);if("mp4"!==n){var r=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+r,code:Ec})}yc({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(n){var r=n.tracks,i=n.data;return e.map.bytes=i,r.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},Ic=function(e){var t=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(e,i){var a=Sc(e,i);if(a)return n(a,t);var s="arraybuffer"!==r&&i.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}(i.responseText.substring(t.lastReachedChar||0)):i.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),n(null,t)}},kc=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=t.map&&t.map.tracks||{},A=Boolean(p.audio&&p.video),g=i.bind(null,t,"audio","start"),m=i.bind(null,t,"audio","end"),v=i.bind(null,t,"video","start"),y=i.bind(null,t,"video","end");yc({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=n=e.data;var i=e.result;i&&(r(t,{hasAudio:i.hasAudio,hasVideo:i.hasVideo,isMuxed:A}),r=null,i.hasAudio&&!A&&g(i.audioStart),i.hasVideo&&v(i.videoStart),g=null,v=null),gc({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:A,onData:function(e){e.type="combined"===e.type?"video":e.type,d(t,e)},onTrackInfo:function(e){r&&(A&&(e.isMuxed=!0),r(t,e))},onAudioTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),m&&void 0!==e.end&&m(e.end)},onVideoTimingInfo:function(e){v&&void 0!==e.start&&(v(e.start),v=null),y&&void 0!==e.end&&y(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){s(e)},onId3:function(e,n){o(t,e,n)},onCaptions:function(e){l(t,[e])},isEndOfTimeline:u,onEndedTimeline:function(){c()},onTransmuxerLog:f,onDone:function(e){h&&(e.type="combined"===e.type?"video":e.type,h(null,t,e))}})}})},Rc=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=new Uint8Array(n);if(function(e){return $n(e,["moof"]).length>0}(p)){t.isFmp4=!0;var A=t.map.tracks,g={isFmp4:!0,hasVideo:!!A.video,hasAudio:!!A.audio};A.audio&&A.audio.codec&&"enca"!==A.audio.codec&&(g.audioCodec=A.audio.codec),A.video&&A.video.codec&&"encv"!==A.video.codec&&(g.videoCodec=A.video.codec),A.video&&A.audio&&(g.isMuxed=!0),r(t,g);var m=function(e){d(t,{data:p,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&l(t,e),h(null,t,{})};yc({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:function(e){var r=e.data,a=e.startTime;n=r.buffer,t.bytes=p=r,g.hasAudio&&!g.isMuxed&&i(t,"audio","start",a),g.hasVideo&&i(t,"video","start",a),A.video&&r.byteLength&&t.transmuxer?yc({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[A.video.id],callback:function(e){n=e.data.buffer,t.bytes=p=e.data,e.logs.forEach((function(e){f(Ql.mergeOptions(e,{stream:"mp4CaptionParser"}))})),m(e.captions)}}):m()}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=vr(p)),"ts"!==t.container&&"aac"!==t.container)return r(t,{hasAudio:!1,hasVideo:!1}),void h(null,t,{});kc({segment:t,bytes:n,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:f})}else h(null,t,{})},Dc=function(e,t){var n,r=e.id,i=e.key,a=e.encryptedBytes,s=e.decryptionWorker;s.addEventListener("message",(function e(n){if(n.data.source===r){s.removeEventListener("message",e);var i=n.data.decrypted;t(new Uint8Array(i.bytes,i.byteOffset,i.byteLength))}})),n=i.bytes.slice?i.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.bytes)),s.postMessage(Gu({source:r,encrypted:a,key:n,iv:i.iv}),[a.buffer,n.buffer])},Mc=function(e){var t=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog,p=0,A=!1;return function(e,g){if(!A){if(e)return A=!0,bc(t),h(e,g);if((p+=1)===t.length){var m=function(){if(g.encryptedBytes)return function(e){var t=e.decryptionWorker,n=e.segment,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,f=e.onTransmuxerLog;Dc({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},(function(e){n.bytes=e,Rc({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:f})}))}({decryptionWorker:n,segment:g,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:f});Rc({segment:g,bytes:g.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:h,onTransmuxerLog:f})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return Dc({decryptionWorker:n,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(function(e){g.map.bytes=e,Cc(g,(function(e){if(e)return bc(t),h(e,g);m()}))}));m()}}}},Lc=function(e){var t=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=Ql.mergeOptions(t.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}},Nc=function(e){var t=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,i=e.segment,a=e.abortFn,s=e.progressFn,o=e.trackInfoFn,l=e.timingInfoFn,u=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,h=e.captionsFn,f=e.isEndOfTimeline,p=e.endedTimelineFn,A=e.dataFn,g=e.doneFn,m=e.onTransmuxerLog,v=[],y=Mc({activeXhrs:v,decryptionWorker:r,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:p,dataFn:A,doneFn:g,onTransmuxerLog:m});if(i.key&&!i.key.bytes){var E=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&E.push(i.map.key);var _=t(Ql.mergeOptions(n,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),wc(i,E,y));v.push(_)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){var T=t(Ql.mergeOptions(n,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),wc(i,[i.map.key],y));v.push(T)}var b=Ql.mergeOptions(n,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Fu(i.map)}),S=function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,r){var i=Sc(e,r);if(i)return n(i,t);var a=new Uint8Array(r.response);if(t.map.key)return t.map.encryptedBytes=a,n(null,t);t.map.bytes=a,Cc(t,(function(e){if(e)return e.xhr=r,e.status=r.status,n(e,t);n(null,t)}))}}({segment:i,finishProcessingFn:y}),w=t(b,S);v.push(w)}var C=Ql.mergeOptions(n,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Fu(i)}),I=t(C,Ic({segment:i,finishProcessingFn:y,responseType:C.responseType}));I.addEventListener("progress",Lc({segment:i,progressFn:s,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:p,dataFn:A})),v.push(I);var k={};return v.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:k,abortFn:a}))})),function(){return bc(v)}},Bc=Hl("CodecUtils"),xc=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Pc=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,r=e.type,i=e.details;t[n]=t[n]||[],t[n].push(It(""+r+i))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return Bc("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},Oc=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},Fc=function(e,t){var n=t.attributes||{},r=Pc(function(e){var t=e.attributes||{};if(t.CODECS)return kt(t.CODECS)}(t)||[]);if(xc(e,t)&&!r.audio&&!function(e,t){if(!xc(e,t))return!0;var n=t.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1}(e,t)){var i=Pc(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return kt(i.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},Uc=Hl("PlaylistSelector"),jc=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Qc=function(e,t){if(!e)return"";var n=qe.default.getComputedStyle(e);return n?n[t]:""},Gc=function(e,t){var n=e.slice();e.sort((function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i}))},Vc=function(e,t){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||qe.default.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||qe.default.Number.MAX_VALUE)},Hc=function(e,t,n,r,i,a){if(e){var s={bandwidth:t,width:n,height:r,limitRenditionByPlayerDimensions:i},o=e.playlists;vu.isAudioOnly(e)&&(o=a.getAudioTrackPlaylists_(),s.audioOnly=!0);var l=o.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||qe.default.Number.MAX_VALUE,width:t,height:n,playlist:e}}));Gc(l,(function(e,t){return e.bandwidth-t.bandwidth}));var u=(l=l.filter((function(e){return!vu.isIncompatible(e.playlist)}))).filter((function(e){return vu.isEnabled(e.playlist)}));u.length||(u=l.filter((function(e){return!vu.isDisabled(e.playlist)})));var c=u.filter((function(e){return e.bandwidth*ac.BANDWIDTH_VARIANCE<t})),d=c[c.length-1],h=c.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(!1===i){var f=h||u[0]||l[0];if(f&&f.playlist){var p="sortedPlaylistReps";return h&&(p="bandwidthBestRep"),u[0]&&(p="enabledPlaylistReps"),Uc("choosing "+jc(f)+" using "+p+" with options",s),f.playlist}return Uc("could not choose a playlist with options",s),null}var A=c.filter((function(e){return e.width&&e.height}));Gc(A,(function(e,t){return e.width-t.width}));var g=A.filter((function(e){return e.width===n&&e.height===r}));d=g[g.length-1];var m,v,y,E,_=g.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(_||(v=(m=A.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===m[0].width&&e.height===m[0].height})),d=v[v.length-1],y=v.filter((function(e){return e.bandwidth===d.bandwidth}))[0]),a.experimentalLeastPixelDiffSelector){var T=A.map((function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-r),e}));Gc(T,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),E=T[0]}var b=E||y||_||h||u[0]||l[0];if(b&&b.playlist){var S="sortedPlaylistReps";return E?S="leastPixelDiffRep":y?S="resolutionPlusOneRep":_?S="resolutionBestRep":h?S="bandwidthBestRep":u[0]&&(S="enabledPlaylistReps"),Uc("choosing "+jc(b)+" using "+S+" with options",s),b.playlist}return Uc("could not choose a playlist with options",s),null}},Yc=function(){var e=this.useDevicePixelRatio&&qe.default.devicePixelRatio||1;return Hc(this.playlists.master,this.systemBandwidth,parseInt(Qc(this.tech_.el(),"width"),10)*e,parseInt(Qc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},qc=function(e){var t=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,i=e.videoDuration;if(n){var a=qe.default.WebKitDataCue||qe.default.VTTCue,s=t.metadataTrack_;if(s&&(n.forEach((function(e){var t=e.cueTime+r;!("number"!=typeof t||qe.default.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new a(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Ql.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Ql.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Ql.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),s.addCue(n)}))})),s.cues&&s.cues.length)){for(var o=s.cues,l=[],u=0;u<o.length;u++)o[u]&&l.push(o[u]);var c=l.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),d=Object.keys(c).sort((function(e,t){return Number(e)-Number(t)}));d.forEach((function(e,t){var n=c[e],r=Number(d[t+1])||i;n.forEach((function(e){e.endTime=r}))}))}}},zc=function(e,t,n){var r,i;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime>=e&&i.endTime<=t&&n.removeCue(i)},Wc=function(e){return"number"==typeof e&&isFinite(e)},Kc=1/60,Xc=function(e){var t=e.startOfSegment,n=e.duration,r=e.segment,i=e.part,a=e.playlist,s=a.mediaSequence,o=a.id,l=a.segments,u=void 0===l?[]:l,c=e.mediaIndex,d=e.partIndex,h=e.timeline,f=u.length-1,p="mediaIndex/partIndex increment";e.getMediaInfoForTime?p="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(p+=" with independent "+e.independent);var A="number"==typeof d,g=e.segment.uri?"segment":"pre-segment",m=A?iu({preloadSegment:r})-1:0;return g+" ["+(s+c)+"/"+(s+f)+"]"+(A?" part ["+d+"/"+m+"]":"")+" segment start/end ["+r.start+" => "+r.end+"]"+(A?" part start/end ["+i.start+" => "+i.end+"]":"")+" startOfSegment ["+t+"] duration ["+n+"] timeline ["+h+"] selected by ["+p+"] playlist ["+o+"]"},Jc=function(e){return e+"TimingInfo"},Zc=function(e){var t=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,i=e.loaderType,a=e.audioDisabled;if(n===r)return!1;if("audio"===i){var s=t.lastTimelineChange({type:"main"});return!s||s.to!==r}if("main"===i&&a){var o=t.pendingTimelineChange({type:"audio"});return!o||o.to!==r}return!1},$c=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+Yl},ed=function(e,t){if("hls"!==t)return null;var n,r,i=(n={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},r=0,["video","audio"].forEach((function(e){var t=n[e+"TimingInfo"];if(t){var i,a=t.start,s=t.end;"bigint"===(void 0===a?"undefined":_type_of(a))||"bigint"===(void 0===s?"undefined":_type_of(s))?i=qe.default.BigInt(s)-qe.default.BigInt(a):"number"==typeof a&&"number"==typeof s&&(i=s-a),void 0!==i&&i>r&&(r=i)}})),"bigint"===(void 0===r?"undefined":_type_of(r))&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r);if(!i)return null;var a=e.playlist.targetDuration,s=$c({segmentDuration:i,maxDuration:2*a}),o=$c({segmentDuration:i,maxDuration:a}),l="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+i+" when the reported duration is "+e.duration+" and the target duration is "+a+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||o?{severity:s?"warn":"info",message:l}:null},td=function(e){function t(t,n){var r;if(r=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=t.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.partIndex=null,r.hasPlayed_=t.hasPlayed,r.currentTime_=t.currentTime,r.seekable_=t.seekable,r.seeking_=t.seeking,r.duration_=t.duration,r.mediaSource_=t.mediaSource,r.vhs_=t.vhs,r.loaderType_=t.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=t.segmentMetadataTrack,r.goalBufferLength_=t.goalBufferLength,r.sourceType_=t.sourceType,r.sourceUpdater_=t.sourceUpdater,r.inbandTextTracks_=t.inbandTextTracks,r.state_="INIT",r.timelineChangeController_=t.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=t.parse708captions,r.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,r.captionServices_=t.captionServices,r.experimentalExactManifestTimings=t.experimentalExactManifestTimings,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Ql.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=t.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=t.decrypter,r.syncController_=t.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",(function(){r.isEndOfStream_()||(r.ended_=!1)})),r.fetchAtBuffer_=!1,r.logger_=Hl("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty((0,Xe.default)(r),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",(function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),r}(0,Je.default)(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return vc({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&qe.default.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,qe.default.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&mc(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ql.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,r=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Vu(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Hu(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(r||e).resolvedUri};return r&&(i.bytes=r.bytes),i},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var a=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var s=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!s.parts||!s.parts.length||!s.parts[this.partIndex])){var o=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=o}}r&&(r.mediaIndex-=a,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(qe.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&mc(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n,r){if(void 0===n&&(n=function(){}),void 0===r&&(r=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var i=1,a=function(){0===--i&&n()};for(var s in!r&&this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(e,t,a)),(r||"main"===this.loaderType_)&&(this.gopBuffer_=function(e,t,n,r){for(var i=Math.ceil((t-r)*yr.ONE_SECOND_IN_TS),a=Math.ceil((n-r)*yr.ONE_SECOND_IN_TS),s=e.slice(),o=e.length;o--&&!(e[o].pts<=a););if(-1===o)return s;for(var l=o+1;l--&&!(e[l].pts<=i););return l=Math.max(l,0),s.splice(l,o-l+1),s}(this.gopBuffer_,e,t,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(e,t,a)),this.inbandTextTracks_)zc(e,t,this.inbandTextTracks_[s]);zc(e,t,this.segmentMetadataTrack_),a()}else this.logger_("skipping remove because no source updater or starting media info")},n.monitorBuffer_=function(){this.checkBufferTimeout_&&qe.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=qe.default.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&qe.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=qe.default.setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},n.isEndOfStream_=function(e,t,n){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===n&&(n=this.partIndex),!t||!this.mediaSource_)return!1;var r="number"==typeof e&&t.segments[e],i=e+1===t.segments.length,a=!r||!r.parts||n+1===r.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&i&&a},n.chooseNextRequest_=function(){var e=this.buffered_(),t=Zl(e)||0,n=$l(e,this.currentTime_()),r=!this.hasPlayed_()&&n>=1,i=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||r||i)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=function(e,t,n){t=t||[];for(var r=[],i=0,a=0;a<t.length;a++){var s=t[a];if(e===s.timeline&&(r.push(a),(i+=s.duration)>n))return a}return 0===r.length?0:r[r.length-1]}(this.currentTimeline_,a,t);else if(null!==this.mediaIndex){var o=a[this.mediaIndex],l="number"==typeof this.partIndex?this.partIndex:-1;s.startOfSegment=o.end?o.end:t,o.parts&&o.parts[l+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=l+1):s.mediaIndex=this.mediaIndex+1}else{var u=vu.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),c=u.segmentIndex,d=u.startTime,h=u.partIndex;s.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),s.mediaIndex=c,s.startOfSegment=d,s.partIndex=h}var f=a[s.mediaIndex],p=f&&"number"==typeof s.partIndex&&f.parts&&f.parts[s.partIndex];if(!f||"number"==typeof s.partIndex&&!p)return null;if("number"!=typeof s.partIndex&&f.parts&&(s.partIndex=0,p=f.parts[0]),!n&&p&&!p.independent)if(0===s.partIndex){var A=a[s.mediaIndex-1],g=A.parts&&A.parts.length&&A.parts[A.parts.length-1];g&&g.independent&&(s.mediaIndex-=1,s.partIndex=A.parts.length-1,s.independent="previous segment")}else f.parts[s.partIndex-1].independent&&(s.partIndex-=1,s.independent="previous part");var m=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=a.length-1&&m&&!this.seeking_()?null:this.generateSegmentInfo_(s)},n.generateSegmentInfo_=function(e){var t=e.independent,n=e.playlist,r=e.mediaIndex,i=e.startOfSegment,a=e.isSyncRequest,s=e.partIndex,o=e.forceTimestampOffset,l=e.getMediaInfoForTime,u=n.segments[r],c="number"==typeof s&&u.parts[s],d={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||u.resolvedUri,mediaIndex:r,partIndex:c?s:null,isSyncRequest:a,startOfSegment:i,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:c&&c.duration||u.duration,segment:u,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},h=void 0!==o?o:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:i,buffered:this.buffered_(),overrideCheck:h});var f=Zl(this.sourceUpdater_.audioBuffered());return"number"==typeof f&&(d.audioAppendStart=f-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(e,t,n){if(null==t||!e.length)return[];var r,i=Math.ceil((t-n+3)*yr.ONE_SECOND_IN_TS);for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},n.timestampOffsetForSegment_=function(e){return n=(t=e).segmentTimeline,r=t.currentTimeline,i=t.startOfSegment,a=t.buffered,t.overrideCheck||n!==r?n<r?i:a.length?a.end(a.length-1):i:null;var t,n,r,i,a},n.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=vu.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),a=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(i<=a)){var s=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,i=e.duration,a=e.segmentDuration,s=e.timeUntilRebuffer,o=e.currentTimeline,l=e.syncController,u=t.playlists.filter((function(e){return!vu.isIncompatible(e)})),c=u.filter(vu.isEnabled);c.length||(c=u.filter((function(e){return!vu.isDisabled(e)})));var d=c.filter(vu.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=l.getSyncPoint(e,i,o,n)?1:2;return{playlist:e,rebufferingImpact:vu.estimateSegmentRequestTime(a,r,e)*t-s}})),h=d.filter((function(e){return e.rebufferingImpact<=0}));return Gc(h,(function(e,t){return Vc(t.playlist,e.playlist)})),h.length?h[0]:(Gc(d,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=i-a-s.rebufferingImpact,l=.5;a<=Yl&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||o<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*ac.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(e){this.logger_("Aborting "+Xc(e)),this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(a!==r[i])return!1;if(e[a]!==t[a])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var i=this.pendingSegment_,a=Jc(t);i[a]=i[a]||{},i[a][n]=r,this.logger_("timinginfo: "+t+" - "+n+" - "+r),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach((function(e){i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+r),t.endTime=Math.max(t.endTime,e.endTime+r),t.captions.push(e)})),Object.keys(i).forEach((function(e){var t=i[e],a=t.startTime,s=t.endTime,o=t.captions,l=n.inbandTextTracks_;n.logger_("adding cues from "+a+" -> "+s+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);var i=t.textTracks().getTrackById(r);if(i)e[n]=i;else{var a=n,s=n,o=!1,l=(t.options_.vhs&&t.options_.vhs.captionServices||{})[r];l&&(a=l.label,s=l.language,o=l.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:r,default:o,label:a,language:s},!1).track}}}(l,n.vhs_.tech_,e),zc(a,s,l[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var i=qe.default.WebKitDataCue||qe.default.VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new i(e.startTime+r,e.endTime+r,e.text))}))}}({captionArray:o,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),qc({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!Zc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},n.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed;return!(r&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!i&&!e.audioTimingInfo)&&!Zc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[Jc(t.type)].start;else{var r,i=this.getCurrentMediaInfo_(),a="main"===this.loaderType_&&i&&i.hasVideo;a&&(r=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:r,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var s=this.chooseNextRequest_();if(s.mediaIndex!==n.mediaIndex||s.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,r=e.map,i=e.playlist;if(r){var a=Vu(r);if(this.activeInitSegmentId_===a)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=a}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null},n.handleQuotaExceededError_=function(e,t){var n=this,r=e.segmentInfo,i=e.type,a=e.bytes,s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Jl(s).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Jl(o).join(", "));var l=s.length?s.start(0):0,u=s.length?s.end(s.length-1):0,c=o.length?o.start(0):0,d=o.length?o.end(o.length-1):0;if(u-l<=1&&d-c<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+a.byteLength+", audio buffer: "+Jl(s).join(", ")+", video buffer: "+Jl(o).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:r,type:i,bytes:a}));var h=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+h),this.remove(0,h,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=qe.default.setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}),!0)},n.handleAppendError_=function(e,t){var n=e.segmentInfo,r=e.type,i=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(r+" append of "+i.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:r,bytes:i}))},n.appendToSourceBuffer_=function(e){var t,n,r,i=e.segmentInfo,a=e.type,s=e.initSegment,o=e.data,l=e.bytes;if(!l){var u=[o],c=o.byteLength;s&&(u.unshift(s),c+=s.byteLength),r=0,(t={bytes:c,segments:u}).bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach((function(e){n.set(e,r),r+=e.byteLength}))),l=n}this.sourceUpdater_.appendBuffer({segmentInfo:i,type:a,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:i,type:a,bytes:l}))},n.handleSegmentTimingInfo_=function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment,i=e+"TimingInfo";r[i]||(r[i]={}),r[i].transmuxerPrependedSeconds=n.prependedContentDuration||0,r[i].transmuxedPresentationStart=n.start.presentation,r[i].transmuxedDecodeStart=n.start.decode,r[i].transmuxedPresentationEnd=n.end.presentation,r[i].transmuxedDecodeEnd=n.end.decode,r[i].baseMediaDecodeTime=n.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,r=t.data;if(r&&r.byteLength&&("audio"!==n||!this.audioDisabled_)){var i=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=(0,We.default)({},e,{forceTimestampOffset:!0});(0,We.default)(e,t.generateSegmentInfo_(n)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,a=e.timeline!==this.currentTimeline_&&e.timeline>0,s=r||i&&a;this.logger_("Requesting "+Xc(e)),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Nc({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(n){var r=n.message,i=n.level,a=n.stream;t.logger_(Xc(e)+" logged from transmuxer stream "+a+" as a "+i+": "+r)}})},n.trimBackBuffer_=function(e){var t=function(e,t,n){var r=t-ac.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var i=t-n;return Math.min(i,r)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n=e.part,r={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},i=e.playlist.segments[e.mediaIndex-1];if(i&&i.timeline===t.timeline&&(i.videoTimingInfo?r.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(r.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key){var a=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(t.key),r.key.iv=a}return t.map&&(r.map=this.initSegmentForMap(t.map)),r},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<Kc?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+Kc):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Tc)return;return this.pause(),e.code===_c?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),r.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.playlist,r=e.mediaIndex,i=e.firstVideoFrameTimeForData,a=e.currentVideoTimestampOffset,s=e.useVideoTimingInfo,o=e.videoTimingInfo,l=e.audioTimingInfo;if(void 0!==t)return t;if(!s)return l.start;var u=n.segments[r-1];return 0!==r&&u&&void 0!==u.start&&u.end===i+a?o.start:i},n.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed,a="main"===this.loaderType_&&r,s=!this.audioDisabled_&&n&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);a&&e.waitingOnAppends++,s&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,r=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:r.start:r.start},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=ed(e,this.sourceType_);if(t&&("warn"===t.severity?Ql.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+Xc(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,r=e.part,i=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,a=r&&r.end&&this.currentTime_()-r.end>3*e.playlist.partTargetDuration;if(i||a)return this.logger_("bad "+(i?"segment":"part")+" "+Xc(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Xc(e))},n.recordThroughput_=function(e){if(e.duration<Kc)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+Kc);else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(Wc(n)&&Wc(r)){zc(n,r,this.segmentMetadataTrack_);var i=qe.default.WebKitDataCue||qe.default.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},s=new i(n,r,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}},t}(Ql.EventTarget);function nd(){}var rd,id=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},ad=["video","audio"],sd=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},od=function e(t,n){if(0!==n.queue.length){var r=0,i=n.queue[r];if("mediaSource"!==i.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!sd(t,n)){if(i.type!==t){if(r=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("mediaSource"===r.type)return null;if(r.type===e)return n}return null}(t,n.queue),null===r)return;i=n.queue[r]}return n.queue.splice(r,1),n.queuePending[t]=i,i.action(t,n),i.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),i.action(n),i.doneFn&&i.doneFn(),e("audio",n),e("video",n))}},ld=function(e,t){var n=t[e+"Buffer"],r=id(e);n&&(n.removeEventListener("updateend",t["on"+r+"UpdateEnd_"]),n.removeEventListener("error",t["on"+r+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},ud=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},cd=function(e,t,n){return function(r,i){var a=i[r+"Buffer"];if(ud(i.mediaSource,a)){i.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{a.appendBuffer(e)}catch(e){i.logger_("Error with code "+e.code+" "+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+r+"Buffer"),i.queuePending[r]=null,n(e)}}}},dd=function(e,t){return function(n,r){var i=r[n+"Buffer"];if(ud(r.mediaSource,i)){r.logger_("Removing "+e+" to "+t+" from "+n+"Buffer");try{i.remove(e,t)}catch(i){r.logger_("Remove "+e+" to "+t+" from "+n+"Buffer failed")}}}},hd=function(e){return function(t,n){var r=n[t+"Buffer"];ud(n.mediaSource,r)&&(n.logger_("Setting "+t+"timestampOffset to "+e),r.timestampOffset=e)}},fd=function(e){return function(t,n){e()}},pd=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(e){Ql.log.warn("Failed to call media source endOfStream",e)}}}},Ad=function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(e){Ql.log.warn("Failed to set media source duration",e)}}},gd=function(){return function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(ud(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(t){Ql.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},md=function(e,t){return function(n){var r=id(e),i=Dt(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var a=n.mediaSource.addSourceBuffer(i);a.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),a.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=a}},vd=function(e){return function(t){var n=t[e+"Buffer"];if(ld(e,t),ud(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(t){Ql.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},yd=function(e){return function(t,n){var r=n[t+"Buffer"],i=Dt(e);ud(n.mediaSource,r)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),r.changeType(i),n.codecs[t]=e)}},Ed=function(e){var t=e.type,n=e.sourceUpdater,r=e.action,i=e.doneFn,a=e.name;n.queue.push({type:t,action:r,doneFn:i,name:a}),od(t,n)},_d=function(e,t){return function(n){if(t.queuePending[e]){var r=t.queuePending[e].doneFn;t.queuePending[e]=null,r&&r(t[e+"Error_"])}od(e,t)}},Td=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return od("mediaSource",(0,Xe.default)(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=Hl("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=_d("video",(0,Xe.default)(n)),n.onAudioUpdateEnd_=_d("audio",(0,Xe.default)(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}(0,Je.default)(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){Ed({type:"mediaSource",sourceUpdater:this,action:md(e,t),name:"addSourceBuffer"})},n.abort=function(e){Ed({type:e,sourceUpdater:this,action:gd(e),name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?Ed({type:"mediaSource",sourceUpdater:this,action:vd(e),name:"removeSourceBuffer"}):Ql.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!Ql.browser.IE_VERSION&&!Ql.browser.IS_FIREFOX&&qe.default.MediaSource&&qe.default.MediaSource.prototype&&"function"==typeof qe.default.MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return qe.default.SourceBuffer&&qe.default.SourceBuffer.prototype&&"function"==typeof qe.default.SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?Ed({type:e,sourceUpdater:this,action:yd(t),name:"changeType"}):Ql.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var r=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,r);t.canChangeType()&&t.changeType(n,r)}))},n.appendBuffer=function(e,t){var n=this,r=e.segmentInfo,i=e.type,a=e.bytes;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+a.length+" until video append");if(Ed({type:i,sourceUpdater:this,action:cd(a,r||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var s=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+s.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,s.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return ud(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ql.createTimeRange()},n.videoBuffered=function(){return ud(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ql.createTimeRange()},n.buffered=function(){var e=ud(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=ud(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,r=null,i=0,a=[],s=[];if(!(e&&e.length&&t&&t.length))return Ql.createTimeRange();for(var o=e.length;o--;)a.push({time:e.start(o),type:"start"}),a.push({time:e.end(o),type:"end"});for(o=t.length;o--;)a.push({time:t.start(o),type:"start"}),a.push({time:t.end(o),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),o=0;o<a.length;o++)"start"===a[o].type?2==++i&&(n=a[o].time):"end"===a[o].type&&1==--i&&(r=a[o].time),null!==n&&null!==r&&(s.push([n,r]),n=null,r=null);return Ql.createTimeRanges(s)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){void 0===t&&(t=nd),Ed({type:"mediaSource",sourceUpdater:this,action:Ad(e),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=nd),"string"!=typeof e&&(e=void 0),Ed({type:"mediaSource",sourceUpdater:this,action:pd(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=nd),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Ed({type:"audio",sourceUpdater:this,action:dd(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=nd),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Ed({type:"video",sourceUpdater:this,action:dd(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!sd("audio",this)&&!sd("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Ed({type:"audio",sourceUpdater:this,action:hd(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Ed({type:"video",sourceUpdater:this,action:hd(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&Ed({type:"audio",sourceUpdater:this,action:fd(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&Ed({type:"video",sourceUpdater:this,action:fd(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),ad.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return ld(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Ql.EventTarget),bd=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Sd=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),wd=function(e){function t(){return e.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return(0,Je.default)(t,e),t}((0,Er.default)(Error)),Cd=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=t.featuresNativeTextTracks,r.loadVttJs=t.loadVttJs,r.shouldSaveSegmentTimingInfo_=!1,r}(0,Je.default)(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ql.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Ql.createTimeRanges([[t,n]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Vu(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=Sd.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(Sd,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){zc(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===_c&&this.handleTimeout_(),e.code===Tc?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");var a=i.segment;if(a.map&&(a.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!=typeof qe.default.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((function(){return r.segmentRequestFinished_(e,t,n)}),(function(){return r.stopForError({message:"Error loading vtt.js"})}));a.requested=!0;try{this.parseVTTCues_(i)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,i.cues.forEach((function(e){r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new qe.default.VTTCue(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var r=[],i=0,a=0;a<t.length;a++)t[n].startTime===t[a].startTime&&t[n].endTime===t[a].endTime&&t[n].text===t[a].text&&++i>1&&r.push(t[a]);r.length&&r.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;if("function"!=typeof qe.default.WebVTT)throw new wd;"function"==typeof qe.default.TextDecoder?t=new qe.default.TextDecoder("utf8"):(t=qe.default.WebVTT.StringDecoder(),n=!0);var r=new qe.default.WebVTT.Parser(qe.default,qe.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(e){Ql.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=bd(i)),r.parse(i)}var a=e.bytes;n&&(a=bd(a)),r.parse(a),r.flush()},n.updateTimeMapping_=function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,a=i.MPEGTS/yr.ONE_SECOND_IN_TS-i.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=a,e.endTime+=a})),!n.syncInfo){var s=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(s,o-r.duration)}}}else r.empty=!0},t}(td),Id=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},kd=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,s=null,o=nu(t);i=i||0;for(var l=0;l<o.length;l++){var u=o[t.endList||0===i?l:o.length-(l+1)],c=u.segment,d=e.timelineToDatetimeMappings[c.timeline];if(d&&c.dateTimeObject){var h=c.dateTimeObject.getTime()/1e3+d;if(c.parts&&"number"==typeof u.partIndex)for(var f=0;f<u.partIndex;f++)h+=c.parts[f].duration;var p=Math.abs(i-h);if(null!==s&&(0===p||s<p))break;s=p,a={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}}return a}},{name:"Segment",run:function(e,t,n,r,i){var a=null,s=null;i=i||0;for(var o=nu(t),l=0;l<o.length;l++){var u=o[t.endList||0===i?l:o.length-(l+1)],c=u.segment,d=u.part&&u.part.start||c&&c.start;if(c.timeline===r&&void 0!==d){var h=Math.abs(i-d);if(null!==s&&s<h)break;(!a||null===s||s>=h)&&(s=h,a={time:d,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var a=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var s=null,o=0;o<t.discontinuityStarts.length;o++){var l=t.discontinuityStarts[o],u=t.discontinuitySequence+o+1,c=e.discontinuities[u];if(c){var d=Math.abs(i-c.time);if(null!==s&&s<d)break;(!a||null===s||s>=d)&&(s=d,a={time:c.time,segmentIndex:l,partIndex:null})}}return a}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],Rd=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=Hl("SyncController"),n}(0,Je.default)(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+lu({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))},n.runStrategies_=function(e,t,n,r){for(var i=[],a=0;a<kd.length;a++){var s=kd[a],o=s.run(this,e,t,n,r);o&&(o.strategy=s.name,i.push({strategy:s.name,syncPoint:o}))}return i},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,a=1;a<e.length;a++){var s=Math.abs(e[a].syncPoint[t.key]-t.value);s<r&&(r=s,n=e[a].syncPoint,i=e[a].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+("number"==typeof n.partIndex?",partIndex:"+n.partIndex:"")+"]"),n},n.saveExpiredSegmentInfo=function(e,t){var n=t.mediaSequence-e.mediaSequence;if(n>86400)Ql.log.warn("Not saving expired segment info. Media sequence gap "+n+" is too large.");else for(var r=n-1;r>=0;r--){var i=e.segments[r];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,r=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),i=t.segment;r&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:i.start}));var a=i.dateTimeObject;i.discontinuity&&n&&a&&(this.timelineToDatetimeMappings[i.timeline]=-a.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var r,i,a=e.segment,s=e.part,o=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)o={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+o.time+"] [mapping: "+o.mapping+"]")),r=e.startOfSegment,i=t.end+o.mapping;else{if(!o)return!1;r=t.start+o.mapping,i=t.end+o.mapping}return s&&(s.start=r,s.end=i),(!a.start||r<a.start)&&(a.start=r),a.end=i,!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],a=t.discontinuitySequence+r+1,s=i-e.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){var l=void 0;l=s<0?n.start-lu({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:i}):n.end+lu({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:i}),this.discontinuities[a]={time:l,accuracy:o}}}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(Ql.EventTarget),Dd=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}(0,Je.default)(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.lastTimelineChanges_[t]={type:t,from:n,to:r},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Ql.EventTarget),Md=lc(uc((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var n=t((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0})),r=t((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),i=t((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),a=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();var s,o=null,l=function(){function e(e){var t,n,r;o||(o=function(){var e,t,n,r,i,a,s,o,l=[[[],[],[],[],[]],[[],[],[],[],[]]],u=l[0],c=l[1],d=u[4],h=c[4],f=[],p=[];for(e=0;e<256;e++)p[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=r||1,n=p[n]||1)for(a=(a=n^n<<1^n<<2^n<<3^n<<4)>>8^255&a^99,d[t]=a,h[a]=t,o=16843009*f[i=f[r=f[t]]]^65537*i^257*r^16843008*t,s=257*f[a]^16843008*a,e=0;e<4;e++)u[e][t]=s=s<<24^s>>>8,c[e][a]=o=o<<24^o>>>8;for(e=0;e<5;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0);return l}()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var i=this._tables[0][4],a=this._tables[1],s=e.length,l=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var u=e.slice(0),c=[];for(this._key=[u,c],t=s;t<4*s+28;t++)r=u[t-1],(t%s==0||8===s&&t%s==4)&&(r=i[r>>>24]<<24^i[r>>16&255]<<16^i[r>>8&255]<<8^i[255&r],t%s==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),u[t]=u[t-s]^r;for(n=0;t;n++,t--)r=u[3&n?t:t-4],c[n]=t<=4||n<4?r:a[0][i[r>>>24]]^a[1][i[r>>16&255]]^a[2][i[r>>8&255]]^a[3][i[255&r]]}return e.prototype.decrypt=function(e,t,n,r,i,a){var s,o,l,u,c=this._key[1],d=e^c[0],h=r^c[1],f=n^c[2],p=t^c[3],A=c.length/4-2,g=4,m=this._tables[1],v=m[0],y=m[1],E=m[2],_=m[3],T=m[4];for(u=0;u<A;u++)s=v[d>>>24]^y[h>>16&255]^E[f>>8&255]^_[255&p]^c[g],o=v[h>>>24]^y[f>>16&255]^E[p>>8&255]^_[255&d]^c[g+1],l=v[f>>>24]^y[p>>16&255]^E[d>>8&255]^_[255&h]^c[g+2],p=v[p>>>24]^y[d>>16&255]^E[h>>8&255]^_[255&f]^c[g+3],g+=4,d=s,h=o,f=l;for(u=0;u<4;u++)i[(3&-u)+a]=T[d>>>24]<<24^T[h>>16&255]<<16^T[f>>8&255]<<8^T[255&p]^c[g++],s=d,d=h,h=f,f=p,p=s},e}(),u=function(e){function t(){var t;return(t=e.call(this,a)||this).jobs=[],t.delay=1,t.timeout_=null,t}i(t,e);var n=t.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(a),c=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},d=function(){function e(t,n,r,i){var a=e.STEP,s=new Int32Array(t.buffer),o=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+a),n,r,o)),l=a;l<s.length;l+=a)r=new Uint32Array([c(s[l-4]),c(s[l-3]),c(s[l-2]),c(s[l-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+a),n,r,o));this.asyncStream_.push((function(){var e;i(null,(e=o).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=function(e,t,n){var r,i,a,s,o,u,d,h,f,p=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),A=new l(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),m=new Int32Array(g.buffer);for(r=n[0],i=n[1],a=n[2],s=n[3],f=0;f<p.length;f+=4)o=c(p[f]),u=c(p[f+1]),d=c(p[f+2]),h=c(p[f+3]),A.decrypt(o,u,d,h,m,f),m[f]=c(m[f]^r),m[f+1]=c(m[f+1]^i),m[f+2]=c(m[f+2]^a),m[f+3]=c(m[f+3]^s),r=o,i=u,a=d,s=h;return g}(e,t,n);r.set(i,e.byteOffset)}},n(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();s="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var h=s.BigInt||Number;h("0x1"),h("0x100"),h("0x10000"),h("0x1000000"),h("0x100000000"),h("0x10000000000"),h("0x1000000000000"),h("0x100000000000000"),h("0x10000000000000000");var f=function(e){var t={};return Object.keys(e).forEach((function(n){var r,i=e[n];r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&_instanceof(r.buffer,ArrayBuffer))?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t};self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new d(n,r,i,(function(e,n){self.postMessage(f({source:t.source,decrypted:n}),[n.buffer])}))}}))),Ld=oc(Md),Nd=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Bd=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},xd=function(e,t){t.activePlaylistLoader=e,e.load()},Pd={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;Bd(n,r);var a=r.activeTrack(),s=r.activeGroup(),o=(s.filter((function(e){return e.default}))[0]||s[0]).id,l=r.tracks[o];if(a!==l){for(var u in Ql.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[u].enabled=r.tracks[u]===l;r.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];Ql.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Bd(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},Od={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",Pd[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e],s=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),a.track(s.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",Pd[e](e,n))}},Fd={AUDIO:function(e,t){var n=t.vhs,r=t.sourceType,i=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,o=t.mediaTypes[e],l=o.groups,u=o.tracks,c=o.logger_,d=t.masterPlaylistLoader,h=mu(d.master);for(var f in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},h&&(s[e].main.default.playlists=d.master.playlists)),s[e])for(var p in l[f]||(l[f]=[]),s[e][f]){var A=s[e][f][p],g=void 0;if(h?(c("AUDIO group '"+f+"' label '"+p+"' is a master playlist"),A.isMasterPlaylist=!0,g=null):g="vhs-json"===r&&A.playlists?new Nu(A.playlists[0],n,a):A.resolvedUri?new Nu(A.resolvedUri,n,a):A.playlists&&"dash"===r?new ic(A.playlists[0],n,a,d):null,A=Ql.mergeOptions({id:p,playlistLoader:g},A),Od[e](e,A.playlistLoader,t),l[f].push(A),void 0===u[p]){var m=new Ql.AudioTrack({id:p,kind:Nd(A),enabled:!1,language:A.language,default:A.default,label:p});u[p]=m}}i.on("error",Pd[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.vhs,i=t.sourceType,a=t.segmentLoaders[e],s=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=t.masterPlaylistLoader;for(var h in o[e])for(var f in u[h]||(u[h]=[]),o[e][h])if(!o[e][h][f].forced){var p=o[e][h][f],A=void 0;if("hls"===i)A=new Nu(p.resolvedUri,r,s);else if("dash"===i){if(!p.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;A=new ic(p.playlists[0],r,s,d)}else"vhs-json"===i&&(A=new Nu(p.playlists?p.playlists[0]:p.resolvedUri,r,s));if(p=Ql.mergeOptions({id:f,playlistLoader:A},p),Od[e](e,p.playlistLoader,t),u[h].push(p),void 0===c[f]){var g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=g}}a.on("error",Pd[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],a=i.groups,s=i.tracks;for(var o in r[e])for(var l in a[o]||(a[o]=[]),r[e][o]){var u=r[e][o][l];if(/^(?:CC|SERVICE)/.test(u.instreamId)){var c=n.options_.vhs&&n.options_.vhs.captionServices||{},d={label:l,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(c[d.instreamId]&&(d=Ql.mergeOptions(d,c[d.instreamId])),void 0===d.default&&delete d.default,a[o].push(Ql.mergeOptions({id:l},u)),void 0===s[l]){var h=n.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;s[l]=h}}}}},Ud=function e(t,n){for(var r=0;r<t.length;r++){if(Au(n,t[r]))return!0;if(t[r].playlists&&e(t[r].playlists,n))return!0}return!1},jd={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode||"hidden"===n[r].mode)return n[r];return null}}},Qd=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){Fd[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.vhs,a=e.segmentLoaders,s=a.AUDIO,o=a.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,a=r.media();if(!a)return null;var s=null;a.attributes[e]&&(s=i[a.attributes[e]]);var o=Object.keys(i);if(!s)if("AUDIO"===e&&o.length>1&&mu(t.master))for(var l=0;l<o.length;l++){var u=i[o[l]];if(Ud(u,a)){s=u;break}}else i.main?s=i.main:1===o.length&&(s=i[o[0]]);return void 0===n?s:null!==n&&s&&s.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=jd[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,a=t.mediaTypes[e],s=a.activeTrack(),o=a.getActiveGroup(),l=a.activePlaylistLoader,u=a.lastGroup_;o&&u&&o.id===u.id||(a.lastGroup_=o,a.lastTrack_=s,Bd(r,a),o&&!o.isMasterPlaylist&&(o.playlistLoader?(r.resyncLoader(),xd(o.playlistLoader,a)):l&&i.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.masterPlaylistLoader,r=t.segmentLoaders,i=r[e],a=r.main,s=t.mediaTypes[e],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,c=s.lastTrack_;if((!c||!o||c.id!==o.id)&&(s.lastGroup_=l,s.lastTrack_=o,Bd(i,s),l)){if(l.isMasterPlaylist){if(!o||!c||o.id===c.id)return;var d=t.vhs.masterPlaylistController_,h=d.selectPlaylist();if(d.media()===h)return;return s.logger_("track change. Switching master audio from "+c.id+" to "+o.id),n.pause(),a.resetEverything(),void d.fastQualityChange_(h)}if("AUDIO"===e){if(!l.playlistLoader)return a.setAudio(!0),void a.resetEverything();i.setAudio(!0),a.setAudio(!1)}u!==l.playlistLoader?(i.track&&i.track(o),i.resetEverything(),xd(l.playlistLoader,s)):xd(l.playlistLoader,s)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var l=t.AUDIO.activeGroup();if(l){var u=(l.filter((function(e){return e.default}))[0]||l[0]).id;t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var c=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};for(var d in r.audioTracks().addEventListener("change",c),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){r.audioTracks().removeEventListener("change",c),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[d])},Gd=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Vd=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Hd=function(e){function t(t){var n;n=e.call(this)||this;var r=t.src,i=t.handleManifestRedirects,a=t.withCredentials,s=t.tech,o=t.bandwidth,l=t.externVhs,u=t.useCueTags,c=t.blacklistDuration,d=t.enableLowInitialPlaylist,h=t.sourceType,f=t.cacheEncryptionKeys,p=t.experimentalBufferBasedABR,A=t.experimentalLeastPixelDiffSelector,g=t.captionServices;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");var m,v=t.maxPlaylistRetries;null==v&&(v=1/0),rd=l,n.experimentalBufferBasedABR=Boolean(p),n.experimentalLeastPixelDiffSelector=Boolean(A),n.withCredentials=a,n.tech_=s,n.vhs_=s.vhs,n.sourceType_=h,n.useCueTags_=u,n.blacklistDuration=c,n.maxPlaylistRetries=v,n.enableLowInitialPlaylist=d,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:a,handleManifestRedirects:i,maxPlaylistRetries:v,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=(m={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){m[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:nd,activeTrack:nd,getActiveGroup:nd,onGroupChanged:nd,onTrackChanged:nd,lastTrack_:null,logger_:Hl("MediaGroups["+e+"]")}})),m),n.mediaSource=new qe.default.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind((0,Xe.default)(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind((0,Xe.default)(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind((0,Xe.default)(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Ql.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Rd(t),n.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Ld,n.sourceUpdater_=new Td(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new Dd;var y={vhs:n.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:g,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:o,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new ic(r,n.vhs_,n.requestOptions_):new Nu(r,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new td(Ql.mergeOptions(y,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new td(Ql.mergeOptions(y,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Cd(Ql.mergeOptions(y,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise((function(e,t){function n(){s.off("vttjserror",r),e()}function r(){s.off("vttjsloaded",n),t()}s.one("vttjsloaded",n),s.one("vttjserror",r),s.addWebVttScript_()}))}}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),Gd.forEach((function(e){n[e+"_"]=Vd.bind((0,Xe.default)(n),e)})),n.logger_=Hl("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var E="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(E,(function(){var e=Date.now();n.tech_.one("loadeddata",(function(){n.timeToLoadedData__=Date.now()-e,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends}))})),n}(0,Je.default)(t,e);var n=t.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(e){void 0===e&&(e="abr");var t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)},n.switchMedia_=function(e,t,n){var r=this.media(),i=r&&(r.id||r.uri),a=e.id||e.uri;i&&i!==a&&(this.logger_("switch media "+i+" -> "+a+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,n)},n.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=qe.default.setInterval((function(){return e.checkABR_()}),250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(qe.default.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,r=e.mediaGroups.AUDIO,i=Object.keys(r);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var a=r.main||i.length&&r[i[0]];for(var s in a)if(a[s].default){n={label:s};break}}if(!n)return t;var o=[];for(var l in r)if(r[l][n.label]){var u=r[l][n.label];if(u.playlists&&u.playlists.length)o.push.apply(o,u.playlists);else if(u.uri)o.push(u);else if(e.playlists.length)for(var c=0;c<e.playlists.length;c++){var d=e.playlists[c];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===l&&o.push(d)}}return o.length?o:t},n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;pu(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),Qd({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;pu(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.masterPlaylistLoader_.load(),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&(e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck")))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var s in n.AUDIO[a]){n.AUDIO[a][s].uri||(r=!1)}r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),rd.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),r=this.bufferLowWaterLine(),i=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,n=e.buffered,r=e.currentTime,i=e.nextPlaylist,a=e.bufferLowWaterLine,s=e.bufferHighWaterLine,o=e.duration,l=e.experimentalBufferBasedABR,u=e.log;if(!i)return Ql.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch "+(t&&t.id||"null")+" -> "+i.id;if(!t)return u(c+" as current playlist is not set"),!0;if(i.id===t.id)return!1;var d=Boolean(Wl(n,r).length);if(!t.endList)return d||"number"!=typeof t.partTargetDuration?(u(c+" as current playlist is live"),!0):(u("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var h=$l(n,r),f=l?ac.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ac.MAX_BUFFER_LOW_WATER_LINE;if(o<f)return u(c+" as duration < max low water line ("+o+" < "+f+")"),!0;var p=i.attributes.BANDWIDTH,A=t.attributes.BANDWIDTH;if(p<A&&(!l||h<s)){var g=c+" as next bandwidth < current bandwidth ("+p+" < "+A+")";return l&&(g+=" and forwardBuffer < bufferHighWaterLine ("+h+" < "+s+")"),u(g),!0}if((!l||p>A)&&h>=a){var m=c+" as forwardBuffer >= bufferLowWaterLine ("+h+" >= "+a+")";return l&&(m+=" and next bandwidth > current bandwidth ("+p+" > "+A+")"),u(m),!0}return u("not "+c+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:i,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){e.checkABR_("bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(function(){e.experimentalBufferBasedABR&&e.mainSegmentLoader_.load()})),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Ql.browser.IE_VERSION||Ql.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Ql.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=rd.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=ql;var a=i.end(i.length-1);return a-r<=ql&&n-a<=ql},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var r,i=this.masterPlaylistLoader_.master.playlists,a=i.filter(hu),s=1===a.length&&a[0]===n;if(1===i.length&&t!==1/0)return Ql.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(s);if(s){var o=!1;i.forEach((function(e){if(e!==n){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(o=!0,delete e.excludeUntil)}})),o&&(Ql.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}r=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,n.excludeUntil=r,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var l=this.selectPlaylist();if(!l)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=e.internal?this.logger_:Ql.log.warn,c=e.message?" "+e.message:"";u((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+c+" Switching to playlist "+l.id+"."),l.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var d=l.targetDuration/2*1e3||5e3,h="number"==typeof l.lastRequest&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",s||h)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(e,t){var n=this,r=[],i="all"===e;(i||"main"===e)&&r.push(this.masterPlaylistLoader_);var a=[];(i||"audio"===e)&&a.push("AUDIO"),(i||"subtitle"===e)&&(a.push("CLOSED-CAPTIONS"),a.push("SUBTITLES")),a.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&r.push(t)})),["main","audio","subtitle"].forEach((function(t){var i=n[t+"SegmentLoader_"];!i||e!==t&&"all"!==e||r.push(i)})),r.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=Wl(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:rd.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var r=this.masterPlaylistLoader_.master,i=rd.Playlist.seekable(t,n,rd.Playlist.liveEdgeDelay(r,t));if(0!==i.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=rd.Playlist.seekable(t,n,rd.Playlist.liveEdgeDelay(r,t))).length)return}var a,s;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>i.end(0)||i.start(0)>e.end(0)?this.seekable_=i:this.seekable_=Ql.createTimeRanges([[e.start(0)>i.start(0)?e.start(0):i.start(0),e.end(0)<i.end(0)?e.end(0):i.end(0)]]):this.seekable_=i,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===s||(this.logger_("seekable updated ["+Xl(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),r=rd.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();t.video=t.main;var r=Fc(this.master(),n),i={},a=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(i.video=r.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(i.video+=","+(r.audio||t.main.audioCodec||Nt)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||a)&&(i.audio=r.audio||t.main.audioCodec||t.audio.audioCodec||Nt,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),i.audio||i.video){var s,o={};if(["video","audio"].forEach((function(e){if(i.hasOwnProperty(e)&&(r=t[e].isFmp4,a=i[e],!(r?Mt(a):Lt(a)))){var n=t[e].isFmp4?"browser":"muxer";o[n]=o[n]||[],o[n].push(i[e]),"audio"===e&&(s=n)}var r,a})),a&&s&&n.attributes.AUDIO){var l=n.attributes.AUDIO;this.master().playlists.forEach((function(e){(e.attributes&&e.attributes.AUDIO)===l&&e!==n&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+l+" as "+s+' does not support codec(s): "'+i.audio+'"')}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(t){var n=(kt(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(kt(i[t]||"")[0]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&u.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+i[t]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:n,message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return i}var c=Object.keys(o).reduce((function(e,t){return e&&(e+=", "),e+=t+' does not support codec(s): "'+o[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:n,internal:!0,message:c,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:n,message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,n=[];Object.keys(t).forEach((function(r){var i=t[r];if(-1===n.indexOf(i.id)){n.push(i.id);var a=Fc(e.master,i),s=[];!a.audio||Lt(a.audio)||Mt(a.audio)||s.push("audio codec "+a.audio),!a.video||Lt(a.video)||Mt(a.video)||s.push("video codec "+a.video),a.text&&"stpp.ttml.im1t"===a.text&&s.push("text codec "+a.text),s.length&&(i.excludeUntil=1/0,e.logger_("excluding "+i.id+" for unsupported: "+s.join(", ")))}}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=[],r=this.master().playlists,i=Pc(kt(e)),a=Oc(i),s=i.video&&kt(i.video)[0]||null,o=i.audio&&kt(i.audio)[0]||null;Object.keys(r).forEach((function(e){var i=r[e];if(-1===n.indexOf(i.id)&&i.excludeUntil!==1/0){n.push(i.id);var l=[],u=Fc(t.masterPlaylistLoader_.master,i),c=Oc(u);if(u.audio||u.video){if(c!==a&&l.push('codec count "'+c+'" !== "'+a+'"'),!t.sourceUpdater_.canChangeType()){var d=u.video&&kt(u.video)[0]||null,h=u.audio&&kt(u.audio)[0]||null;d&&s&&d.type.toLowerCase()!==s.type.toLowerCase()&&l.push('video codec "'+d.type+'" !== "'+s.type+'"'),h&&o&&h.type.toLowerCase()!==o.type.toLowerCase()&&l.push('audio codec "'+h.type+'" !== "'+o.type+'"')}l.length&&(i.excludeUntil=1/0,t.logger_("blacklisting "+i.id+": "+l.join(" && ")))}}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var r,i=n,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=Id(t,i+s.duration/2)),r){if("cueIn"in s){r.endTime=i,r.adEndTime=i,i+=s.duration,r=null;continue}if(i<r.endTime){i+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new qe.default.VTTCue(i,i+s.duration,s.cueOut)).adStartTime=i,r.adEndTime=i+parseFloat(s.cueOut),t.addCue(r)),"cueOutCont"in s){var o=s.cueOutCont.split("/").map(parseFloat),l=o[0],u=o[1];(r=new qe.default.VTTCue(i,i+s.duration,"")).adStartTime=i-l,r.adEndTime=r.adStartTime+u,t.addCue(r)}i+=s.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=ac.GOAL_BUFFER_LENGTH,n=ac.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,ac.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=ac.BUFFER_LOW_WATER_LINE,n=ac.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,ac.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(t,ac.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?i:r)},n.bufferHighWaterLine=function(){return ac.BUFFER_HIGH_WATER_LINE},t}(Ql.EventTarget),Yd=function(e,t,n){var r,i,a,s=e.masterPlaylistController_,o=s[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(t.attributes){var l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=Fc(s.master(),t),this.playlist=t,this.id=n,this.enabled=(r=e.playlists,i=t.id,a=o,function(e){var t=r.master.playlists[i],n=du(t),s=hu(t);return void 0===e?s:(e?delete t.disabled:t.disabled=!0,e===s||n||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})},qd=["seeking","seeked","pause","playing","error"],zd=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Hl("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},r=function(){return t.monitorCurrentTime_()},i=function(){return t.techWaiting_()},a=function(){return t.cancelTimer_()},s=this.masterPlaylistController_,o=["main","subtitle","audio"],l={};o.forEach((function(e){l[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},s[e+"SegmentLoader_"].on("appendsdone",l[e].updateend),s[e+"SegmentLoader_"].on("playlistupdate",l[e].reset),t.tech_.on(["seeked","seeking"],l[e].reset)}));var u=function(e){["main","audio"].forEach((function(n){s[n+"SegmentLoader_"][e]("appended",t.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){t.fixesBadSeeks_()&&(t.consecutiveUpdates=0,t.lastRecordedTime=t.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=function(){return u("off")},this.watchForBadSeeking_=function(){t.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(qd,a),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=function(){t.clearSeekingAppendCheck_(),t.logger_("dispose"),t.tech_.off("waiting",i),t.tech_.off(qd,a),t.tech_.off("canplay",r),t.tech_.off("play",n),t.tech_.off("seeking",t.watchForBadSeeking_),t.tech_.off("seeked",t.clearSeekingAppendCheck_),o.forEach((function(e){s[e+"SegmentLoader_"].off("appendsdone",l[e].updateend),s[e+"SegmentLoader_"].off("playlistupdate",l[e].reset),t.tech_.off(["seeked","seeking"],l[e].reset)})),t.checkCurrentTimeTimeout_&&qe.default.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&qe.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=qe.default.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],r=n.buffered_(),i=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],r);this[e+"Buffered_"]=r,i?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Jl(r)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+ql>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1));if(this.beforeSeekableWindow_(t,n)){var r=t.start(0);e=r+(r===t.end(0)?0:ql)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Xl(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var i=this.masterPlaylistController_.sourceUpdater_,a=this.tech_.buffered(),s=i.audioBuffer?i.audioBuffered():null,o=i.videoBuffer?i.videoBuffered():null,l=this.media(),u=l.partTargetDuration?l.partTargetDuration:2*(l.targetDuration-Yl),c=[s,o],d=0;d<c.length;d++){if(c[d])if($l(c[d],n)<u)return!1}var h=Kl(a,n);return 0!==h.length&&(e=h.start(0)+ql,this.logger_("Buffered region starts ("+h.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=Wl(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var a=Kl(i,t);if(a.length>0){var s=a.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+s+", seeking to "+a.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,r){if(void 0===r&&(r=!1),!e.length)return!1;var i=e.end(e.length-1)+ql;return!n.endList&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,r=e.currentTime;if(t){var i;if(t.length&&n.length){var a=Wl(t,r-3),s=Wl(t,r),o=Wl(n,r);o.length&&!s.length&&a.length&&(i={start:a.end(0),end:o.end(0)})}else{Kl(t,r).length||(i=this.gapFromVideoUnderflow_(t,r))}return!!i&&(this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+r),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=Kl(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+Yl),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return Ql.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return Ql.createTimeRanges(t)}(e),r=0;r<n.length;r++){var i=n.start(r),a=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:a}}return null},e}(),Wd={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Kd=function e(t,n){var r=0,i=0,a=Ql.mergeOptions(Wd,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var s=function(){i&&t.currentTime(i)},o=function(e){null!=e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-r<1e3*a.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):a.getSource&&"function"==typeof a.getSource?(r=Date.now(),a.getSource.call(t,o)):void Ql.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function e(){t.off("loadedmetadata",s),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=function(n){u(),e(t,n)}},Xd="2.16.2",Jd={PlaylistLoader:Nu,Playlist:vu,utils:qu,STANDARD_PLAYLIST_SELECTOR:Yc,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(vu.isEnabled);return Gc(t,(function(e,t){return Vc(e,t)})),t.filter((function(t){return!!Fc(e.playlists.master,t).video}))[0]||null},lastBandwidthSelector:Yc,movingAverageBandwidthSelector:function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&qe.default.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),Hc(this.playlists.master,t,parseInt(Qc(this.tech_.el(),"width"),10)*r,parseInt(Qc(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Vc,comparePlaylistResolution:function(e,t){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||qe.default.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||qe.default.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:Ou()};Object.keys(ac).forEach((function(e){Object.defineProperty(Jd,e,{get:function(){return Ql.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),ac[e]},set:function(t){Ql.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Ql.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):ac[e]=t}})}));var Zd="videojs-vhs",$d=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.id){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};Jd.canPlaySource=function(){return Ql.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var eh=function(e){var t=e.player,n=e.sourceKeySystems,r=e.audioMedia,i=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var a=function(e,t){return e.reduce((function(e,n){if(!n.contentProtection)return e;var r=t.reduce((function(e,t){var r=n.contentProtection[t];return r&&r.pssh&&(e[t]={pssh:r.pssh}),e}),{});return Object.keys(r).length&&e.push(r),e}),[])}(r?i.concat([r]):i,Object.keys(n)),s=[],o=[];return a.forEach((function(e){o.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),s.push(new Promise((function(n,r){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?r(e):n()}))})))})),Promise.race([Promise.all(s),Promise.race(o)])},th=function(e){var t=e.player,n=function(e,t,n){if(!e)return e;var r={};t&&t.attributes&&t.attributes.CODECS&&(r=Pc(kt(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var i=Dt(r.video),a=Dt(r.audio),s={};for(var o in e)s[o]={},a&&(s[o].audioContentType=a),i&&(s[o].videoContentType=i),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(s[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(s[o].url=e[o]);return Ql.mergeOptions(e,s)}(e.sourceKeySystems,e.media,e.audioMedia);return!!n&&(t.currentSource().keySystems=n,!(n&&!t.eme)||(Ql.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},nh=function(){if(!qe.default.localStorage)return null;var e=qe.default.localStorage.getItem(Zd);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};Jd.supportsNativeHls=function(){if(!ze.default||!ze.default.createElement)return!1;var e=ze.default.createElement("video");if(!Ql.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),Jd.supportsNativeDash=!!(ze.default&&ze.default.createElement&&Ql.getTech("Html5").isSupported())&&/maybe|probably/i.test(ze.default.createElement("video").canPlayType("application/dash+xml")),Jd.supportsTypeNatively=function(e){return"hls"===e?Jd.supportsNativeHls:"dash"===e&&Jd.supportsNativeDash},Jd.isSupported=function(){return Ql.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var rh=function(e){function t(t,n,r){var i;if(i=e.call(this,n,Ql.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Ql.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof r.initialBandwidth&&(i.options_.bandwidth=r.initialBandwidth),i.logger_=Hl("VhsHandler"),n.options_&&n.options_.playerId){var a=Ql(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Ql.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),(0,Xe.default)(i)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return Ql.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),(0,Xe.default)(i)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return Ql.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),(0,Xe.default)(i)},configurable:!0}),i.player_=a}if(i.tech_=n,i.source_=t,i.stats={},i.ignoreNextSeekingEvent_=!1,i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(ze.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=ze.default.fullscreenElement||ze.default.webkitFullscreenElement||ze.default.mozFullScreenElement||ze.default.msFullscreenElement;t&&t.contains(i.tech_.el())?i.masterPlaylistController_.fastQualityChange_():i.masterPlaylistController_.checkABR_()})),i.on(i.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),i.on(i.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),i.on(i.tech_,"play",i.play),i}(0,Je.default)(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=nh();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=ac.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ac.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var r;this.setOptions_(),this.options_.src=0===(r=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(r.substring(r.indexOf(",")+1)):r,this.options_.tech=this.tech_,this.options_.externVhs=Jd,this.options_.sourceType=Pt(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Ql.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Hd(this.options_);var i=Ql.mergeOptions({liveRangeSafeTimeDelta:ql},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new zd(i),this.masterPlaylistController_.on("error",(function(){var e=Ql.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var a=this.options_.experimentalBufferBasedABR?Jd.movingAverageBandwidthSelector(.55):Jd.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):a.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Jd.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=qe.default.navigator.connection||qe.default.navigator.mozConnection||qe.default.navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){var r=1e3*t.downlink*1e3;e=r>=n&&e>=n?Math.max(e,r):r}return e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Ql.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Jl(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Jl(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!qe.default.localStorage)return!1;var t=nh();t=t?Ql.mergeOptions(t,e):e;try{qe.default.localStorage.setItem(Zd,JSON.stringify(t))}catch(e){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e;(e=n).representations=function(){var t=e.masterPlaylistController_.master(),n=mu(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((function(e){return!du(e)})).map((function(t,n){return new Yd(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=qe.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),eh({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=th({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",(function(t){if("output-restricted"===t.status){var n=e.masterPlaylistController_.master();if(n&&n.playlists){var r,i=[];if(n.playlists.forEach((function(e){e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,i.push(e))})),i.length)(r=Ql.log).warn.apply(r,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(i)),e.masterPlaylistController_.fastQualityChange_()}}})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Ql.browser.IE_VERSION&&n?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},n.setupQualityLevels_=function(){var e=this,t=Ql.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),$d(t,n.playlists)})),this.playlists.on("mediachange",(function(){$d(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":Xd,"mux.js":"6.0.1","mpd-parser":"0.22.1","m3u8-parser":"4.8.0","aes-decrypter":"3.1.3"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return Td.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&qe.default.URL.revokeObjectURL&&(qe.default.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return zu({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=2),Wu({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(Ql.getComponent("Component")),ih={name:"videojs-http-streaming",VERSION:Xd,canHandleSource:function(e,t){void 0===t&&(t={});var n=Ql.mergeOptions(Ql.options,t);return ih.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var r=Ql.mergeOptions(Ql.options,n);return t.vhs=new rh(e,t,r),Ql.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Ql.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Ou(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){var n=Pt(e);if(!n)return"";var r=ih.getOverrideNative(t);return!Jd.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative:function(e){void 0===e&&(e={});var t=e,n=t.vhs,r=void 0===n?{}:n,i=t.hls,a=void 0===i?{}:i,s=!(Ql.browser.IS_ANY_SAFARI||Ql.browser.IS_IOS),o=r.overrideNative,l=void 0===o?s:o,u=a.overrideNative;return void 0!==u&&u||l}};Mt("avc1.4d400d,mp4a.40.2")&&Ql.getTech("Html5").registerSourceHandler(ih,0),Ql.VhsHandler=rh,Object.defineProperty(Ql,"HlsHandler",{get:function(){return Ql.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),rh},configurable:!0}),Ql.VhsSourceHandler=ih,Object.defineProperty(Ql,"HlsSourceHandler",{get:function(){return Ql.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),ih},configurable:!0}),Ql.Vhs=Jd,Object.defineProperty(Ql,"Hls",{get:function(){return Ql.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Jd},configurable:!0}),Ql.use||(Ql.registerComponent("Hls",Jd),Ql.registerComponent("Vhs",Jd)),Ql.options.vhs=Ql.options.vhs||{},Ql.options.hls=Ql.options.hls||{},Ql.getPlugin&&Ql.getPlugin("reloadSourceOnError")||(Ql.registerPlugin||Ql.plugin)("reloadSourceOnError",(function(e){Kd(this,e)}));var ah=Ql,sh=ah.browser,oh=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"getCookie",value:function(e){var t=null;try{document&&document.cookie&&(t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)")))}catch(e){t=null}return null!=t&&t.length>0?decodeURIComponent(t[1]):null}},{key:"GUID",get:function(){if(null!=e._GUID)return e._GUID;var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},n=t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t();return e._GUID=n,n}},{key:"IS_MOBILE",get:function(){return sh.IS_ANDROID||sh.IS_IOS}},{key:"uriSerialize",value:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"isValidNumber",value:function(e){return e==e&&"number"==typeof e}},{key:"getValue",value:function(e,t,n){if(null==e||null==t||"string"!=typeof t)return n;if(void 0===e[t]||null==e[t])return n;var r=e[t];return null==r&&null!=n?n:(void 0===r?"undefined":_type_of(r))===(void 0===n?"undefined":_type_of(n))?r:n}},{key:"strToColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FFF";if("string"!=typeof e)return t;var n=document.createElement("div").style;return n.color=e,""!==n.color?e:(0!==e.indexOf("#")&&(e="#"+e),n.color=e,""!==n.color?e:t)}},{key:"formatTime",value:function(e,t){if(isNaN(e)||e===1/0)return"";(isNaN(t)||t===1/0)&&(t=e),e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/3600);return(i=i>0||a>0?(a>=10?"0"+i:i)+":":"")+(r=(r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)}},{key:"clamp",value:function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}},{key:"replaceStringNewLines",value:function(e,t){return e.replace(/(\r\n|\n|\r)/gm,t)}},{key:"splitSentenceByNthCharacter",value:function(e,t){var n=t;return e.split(" ").reduce((function(e,r){var i=e?e+" ":e;return(n-=r.length+1)<0?(n=t,i+r+"\n"):i+r}),"").trim().replace(/\r\n$|\r$|\n$/,"")}},{key:"utf8ArrayToString",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r="",i=e.length,a=0;a<i&&r.length<n;a++)t=e[a],r+=String.fromCharCode(t>251&&t<254&&a+5<i?1073741824*(t-252)+(e[++a]-128<<24)+(e[++a]-128<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:t>247&&t<252&&a+4<i?(t-248<<24)+(e[++a]-128<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:t>239&&t<248&&a+3<i?(t-240<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:t>223&&t<240&&a+2<i?(t-224<<12)+(e[++a]-128<<6)+e[++a]-128:t>191&&t<224&&a+1<i?(t-192<<6)+e[++a]-128:t);return r}},{key:"hasAirPlayAPISupport",value:function(){return!!window.WebKitPlaybackTargetAvailabilityEvent}},{key:"requestFullscreen",value:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}},{key:"exitFullscreen",value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"isFullscreenEnabled",value:function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.documentElement.webkitRequestFullScreen}},{key:"roundNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round";t||(t=1);var r=1/t;return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(e*r)/r}}]),e}(),lh=oh,uh=function(){function e(t){_class_call_check(this,e),this.autoPlay=!1,this.color="fff",this.enableSettings=!0,this.enableFullscreen=!0,this.debug=!1,this.language="ru",this.ui={showErrorDetails:!1},this.timeout={manifest:5e3,track:5e3,chunk:5e3},this.autoplaySupported=t?0:1,this.identifier=lh.GUID;var n=Ye.getObjectFromUrl(window.location.href),r=window.nutEnvironment?_object_spread({},n,window.nutEnvironment):n;if(r.autoPlay&&("onlyWithSound"===r.autoPlay?this.autoPlay=0===this.autoplaySupported:this.autoPlay=!0===r.autoPlay||"true"===r.autoPlay),r.color&&(this.color=r.color),r.skin&&(this.skin=r.skin),r.logLevel&&(this.logLevel=r.logLevel),void 0===r.enableSettings||r.enableSettings&&"false"!==r.enableSettings||(this.enableSettings=!1),void 0===r.enableFullscreen||r.enableFullscreen&&"false"!==r.enableFullscreen||(this.enableFullscreen=!1),r.timeout)for(var i in this.timeout)r.timeout[i]&&"number"==typeof r.timeout[i]&&r.timeout[i]>0&&(this.timeout[i]=r.timeout[i]);r.poster&&(this.poster=r.poster),r.language&&(this.language=r.language),r.ui&&(this.ui=r.ui),r.debug&&(this.debug=!0)}return _create_class(e,null,[{key:"shared",value:function(t){if(e.instance)return e.instance;var n=new e(t);return e.instance=n,n}}]),e}(),ch=new(f(se(),1).EventBus),dh=f(se(),1),hh=(0,dh.createEventDefinition)()("quality.parsed"),fh=(0,dh.createEventDefinition)()("quality.update"),ph=(0,dh.createEventDefinition)()("quality.set"),Ah=(0,dh.createEventDefinition)()("quality.setUI"),gh=(0,dh.createEventDefinition)()("showQualityLoader"),mh=(0,dh.createEventDefinition)()("subtitles.parsed"),vh=(0,dh.createEventDefinition)()("subtitles.show"),yh=(0,dh.createEventDefinition)()("subtitles.set"),Eh=(0,dh.createEventDefinition)()("subtitles.set.ui"),_h=(0,dh.createEventDefinition)()("subtitles.setted"),Th=(0,dh.createEventDefinition)()("playerStateChange"),bh=(0,dh.createEventDefinition)()("loadedData"),Sh=(0,dh.createEventDefinition)()("playerReset"),wh=(0,dh.createEventDefinition)()("logPostMessage.write"),Ch=(0,dh.createEventDefinition)()("error"),Ih=(0,dh.createEventDefinition)()("contextOptions.update"),kh=(0,dh.createEventDefinition)()("content.loaded"),Rh=(0,dh.createEventDefinition)()("options.loaded"),Dh=(0,dh.createEventDefinition)()("playbackRateMenu.isActive"),Mh=function(){function e(){var t=this;_class_call_check(this,e),this.qualityLabelVariant="COMMON",this.isAutoQuality=!0,this.isLive=null,this.qualityFastSwitch=!0,this.enableCaptions=!0,this.availableOptions=["quality","volume","qualityLabelVariant","qualityFastSwitch","isAutoQuality","expectedQuality","loop","isLive","enableCaptions"],ch.subscribe(Ih,(function(e){t.update(e.payload)})),ch.subscribe(Sh,(function(){t.buildDefaultState()})),this.buildDefaultState()}return _create_class(e,[{key:"buildDefaultState",value:function(){this.update({quality:-1,volume:1,qualityFastSwitch:!0,expectedQuality:null,loop:!1,qualityLabelVariant:"COMMON",isAutoQuality:!0,isLive:null,enableCaptions:!0})}},{key:"update",value:function(e){var t=this;this.availableOptions.forEach((function(n){e&&void 0!==e[n]&&(t[n]=e[n])}))}},{key:"fillLoadOptions",value:function(e,t,n,r){var i;ch.publish(Ih(n)),n.startPosition&&t.subscribe("loadedData",(function(){e.currentTime(n.startPosition)})),n.loop&&(e.loop(!0),ch.publish(Ih({loop:n.loop}))),n.playbackRate&&t.subscribe("loadedData",(function(){e.isLive||e.playbackRate(n.playbackRate)})),n.autoplay&&e.on("loadeddata",(function(){1===r.autoplaySupported&&e.muted(!0),e.play()}));var a=null!==(i=n.volume)&&void 0!==i?i:null;(a||0===a)&&e.ready((function(){var t=e.volume();t!==a&&(0===a?e.muted(!0):0===t&&e.muted(!1)),e.volume(a)}))}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}().getInstance(),Lh=3;function Nh(){return Lh++}var Bh=f(A(),1),xh=30,Ph=function(e,t,n){t.guid||(t.guid=Nh());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},Oh=function(e,t){var n=Bh.default.performance.now();return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=Bh.default.performance.now();s-n>=t&&(e.apply(void 0,_to_consumable_array(i)),n=s)}},Fh=function(){function e(t){_class_call_check(this,e),this.pm=t,this.poll=200,this._last=null,this._regex=/^\#x\-postmessage\-id\=(\w{32})/,this._regex_len=50}return _create_class(e,[{key:"send",value:function(e,t){var n=e.target,r=e.url;if(r){r=this._url(r);var i="",a=this._url(window.location.href);if(window===n.parent)i="parent";else try{for(var s=0,o=parent.frames.length;s<o;s++){if(parent.frames[s]===window){i=s;break}}}catch(e){i=window.name}if(null!=i){var l={"x-requested-with":"postmessage",source:{name:i,url:a},postmessage:t},u="#x-postmessage-id="+jh.random();n.location=r+u+encodeURIComponent(JSON.stringify(l))}else console.warn("postmessage windows must be direct parent/child windows and the child must be available through the parent window.frames list")}else console.warn("postmessage target window url is required")}},{key:"_bind",value:function(){var e=this;this.pm.data("polling.postmessage")||(setInterval(Ph(this,(function(){var t=""+window.location.hash,n=e._regex.exec(t);if(n){var r=n[1];e._last!==r&&(e._last=r,e._dispatch(t.substring(e._regex_len)))}})),this.poll||200),this.pm.data("polling.postmessage",1))}},{key:"_dispatch",value:function(e){if(e){try{if(!("postmessage"===(e=JSON.parse(decodeURIComponent(e)))["x-requested-with"]&&e.source&&null!=e.source.name&&e.source.url&&e.postmessage))return}catch(e){return}var t=e.postmessage,n=(this.pm.data("callbacks.postmessage")||{})[t.type];if(n)n(t.data);else{var r;r="parent"===e.source.name?window.parent:window.frames[e.source.name];for(var i=(this.pm.data("listeners.postmessage")||{})[t.type]||[],a=0,s=i.length;a<s;a++){var o=i[a];if(o.origin){var l=/https?\:\/\/[^\/]*/.exec(e.source.url)[0];if("*"!==o.origin&&l!==o.origin){if(console.warn("postmessage message origin mismatch",l,o.origin),t.errback){var u={message:"postmessage origin mismatch",origin:[l,o.origin]};this.pm.send({target:r,data:u,type:t.errback,hash:!0,url:e.source.url})}continue}}try{o.callback?o.handler(t.data,Ph(this,this._sendReply)):this._sendReply(o.handler(t.data))}catch(n){if(!t.errback)throw n;this.pm.send({target:r,data:n,type:t.errback,hash:!0,url:e.source.url})}}}}}},{key:"_sendReply",value:function(e){msg.callback&&this.pm.send({target:source_window,data:e,type:msg.callback,hash:!0,url:hash.source.url})}},{key:"_url",value:function(e){return(""+e).replace(/#.*$/,"")}}]),e}(),Uh=function(){function e(){_class_call_check(this,e),this.options=e.defaultOptions,this._data={},this.hash=new Fh(this)}return _create_class(e,[{key:"data",value:function(e,t){return void 0===t?this._data[e]:(this._data[e]=t,t)}},{key:"send",value:function(t){var n=this.merge({},e.defaultOptions,t),r=n.target;if(r)if(n.type){var i={data:n.data,type:n.type};n.success&&(i.callback=this._callback(n.success)),n.error&&(i.errback=this._callback(n.error)),"postMessage"in r&&!n.hash?(this._bind(),r.postMessage(JSON.stringify(i),n.origin||"*")):(this.hash._bind(),this.hash.send(n,i))}else console.warn("postmessage type required");else console.warn("postmessage target window required")}},{key:"bind",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._replyBind(e,t,n,r,i)}},{key:"unbind",value:function(e,t){var n=this.data("listeners.postmessage");if(n)if(e)if(t){var r=n[e];if(r){for(var i=[],a=0,s=r.length;a<s;a++){var o=r[a];o.handler!==t&&i.push(o)}n[e]=i}}else delete n[e];else for(var l in n)delete n[l]}},{key:"_callback",value:function(t){var n=this.data("callbacks.postmessage");n||(n={},this.data("callbacks.postmessage",n));var r=e.random();return n[r]=t,r}},{key:"_replyBind",value:function(e,t,n,r,i){"postMessage"in window&&!r?this._bind():this.hash._bind();var a=this.data("listeners.postmessage");a||(a={},this.data("listeners.postmessage",a));var s=a[e];s||(s=[],a[e]=s),s.push({handler:t,callback:i,origin:n||this.options.origin})}},{key:"_bind",value:function(){this.data("listening.postmessage")||(window.addEventListener?window.addEventListener("message",Ph(this,this._dispatch),!1):window.attachEvent&&window.attachEvent("onmessage",Ph(this,this._dispatch)),this.data("listening.postmessage",1))}},{key:"_dispatch",value:function(e){var t=null;try{t=JSON.parse(e.data)}catch(e){return}if(t.type){var n=(this.data("callbacks.postmessage")||{})[t.type];if(n)n(t.data);else for(var r=(this.data("listeners.postmessage")||{})[t.type]||[],i=0,a=r.length;i<a;i++){var s=function(n){t.callback&&this.send({target:e.source,data:n,type:t.callback})},o=r[i];if(o.origin&&"*"!==o.origin&&e.origin!==o.origin){if(console.warn("postmessage message origin mismatch",e.origin,o.origin),t.errback){var l={message:"postmessage origin mismatch",origin:[e.origin,o.origin]};this.send({target:e.source,data:l,type:t.errback})}}else try{o.callback?o.handler(t.data,s,e):s.apply(this,[o.handler(t.data,e)])}catch(n){if(!t.errback)throw n;this.send({target:e.source,data:n,type:t.errback})}}}}},{key:"merge",value:function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}}],[{key:"create",value:function(){return new e}},{key:"shared",value:function(){return null==e._instance&&(e._instance=new e),e._instance}},{key:"defaultOptions",get:function(){return{target:null,url:null,type:null,data:null,success:null,error:null,origin:"*",hash:!1}}},{key:"random",value:function(){for(var t=[],n=0;n<32;n++)t[n]=e.CHARS[0|32*Math.random()];return t.join("")}}]),e}();p(Uh,"_instance",null),p(Uh,"CHARS","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""));var jh=Uh,Qh=jh,Gh=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e)).playerVersion="1.0.0",i.identifier=r.identifier,i.playerStateEmitter=r.stateEmiter,i.playerVersion=r.version,i.pm=Qh.create(),i.isPostMessageListenersAdded=!1,i.postMessageListenersList=null,i.addPlayerListeners(),i.addPostMessagesListeners(),i}return _create_class(n,[{key:"getPostMessageListenersList",value:function(){return this.postMessageListenersList||(this.postMessageListenersList=new Map([["player:status",this.externalPlayerStatus.bind(this)],["player:load",this.externalPlayerLoad.bind(this)],["player:pause",this.externalPlayerPause.bind(this)],["player:play",this.externalPlayerPlay.bind(this)],["player:setQuality",this.externalPlayerSetQuality.bind(this)],["player:setViewType",this.externalPlayerSetViewType.bind(this)],["player:stop",this.externalPlayerStop.bind(this)],["player:setPlaybackRate",this.externalPlayerPlaybackRate.bind(this)],["player:setVolume",this.externalPlayerSetVolume.bind(this)],["player:setCurrentTime",this.externalPlayerSeek.bind(this)]])),this.postMessageListenersList}},{key:"addPostMessagesListeners",value:function(){var e=this;this.isPostMessageListenersAdded||(this.getPostMessageListenersList().forEach((function(t,n){e.pm.bind(n,t)})),this.isPostMessageListenersAdded=!0)}},{key:"removePostMessagesListeners",value:function(){var e=this;this.isPostMessageListenersAdded&&(this.getPostMessageListenersList().forEach((function(t,n){e.pm.unbind(n,t)})),this.isPostMessageListenersAdded=!1)}},{key:"externalPlayerStatus",value:function(e){return e.hash?{type:"player:status",hash:e.hash,data:{version:this.playerVersion,identifier:this.identifier}}:null}},{key:"externalPlayerLoad",value:function(e){var t=e.params;if(!t)return null;var n=t.options,r=t.content;return r?(this.player.src()&&(this.player.reset(),ch.publish(Sh())),n&&ch.publish(Rh({options:n})),ch.publish(kh({content:r})),e.hash?{type:"player:load",hash:e.hash,data:null}:null):null}},{key:"externalPlayerPause",value:function(e){return this.player.pause(),(null==e?void 0:e.hash)?{type:"player:pause",hash:e.hash,data:null}:null}},{key:"externalPlayerPlay",value:function(e){return!this.player.src()&&(null==e?void 0:e.hash)?{type:"player:error",hash:e.hash,data:{error:"No src specified"}}:(this.player.play(),(null==e?void 0:e.hash)?{type:"player:play",hash:e.hash,data:null}:null)}},{key:"externalPlayerStop",value:function(e){return this.player.reset(),(null==e?void 0:e.hash)?{type:"player:stop",hash:e.hash,data:null}:null}},{key:"externalPlayerSetVolume",value:function(e){var t=e.params;return void 0!==t&&(!t.volume&&0!==t.volume||Number.isNaN(t.volume)||(this.player.volume(t.volume),t.volume>0?this.player.muted(!1):this.player.muted(!0))),e.hash?{type:"player:setVolume",hash:e.hash,data:null}:null}},{key:"externalPlayerPlaybackRate",value:function(e){var t=e.params;return void 0!==t&&t.rate&&!this.player.isLive&&this.player.playbackRate(t.rate),e.hash?{type:"player:setPlaybackRate",hash:e.hash,data:null}:null}},{key:"externalPlayerSetViewType",value:function(e){var t=e.params;if(void 0!==t)switch(t.type){case"normal":this.player.exitFullscreen();break;case"fullscreen":this.player.requestFullscreen()}return e.hash?{type:"player:setViewType",hash:e.hash,data:null}:null}},{key:"externalPlayerSeek",value:function(e){var t=e.params;return void 0!==t&&(!t.time&&0!==t.time||Number.isNaN(t.time)||this.player.currentTime(t.time)),e.hash?{type:"player:setCurrentTime",hash:e.hash,data:null}:null}},{key:"externalPlayerSetQuality",value:function(e){var t=e.params;if(void 0!==t&&void 0!==t.quality){var n=Mh.isAutoQuality,r=t.quality;ch.publish(ph({quality:r,withUIUpdate:n&&-1===r}))}return e.hash?{type:"player:setQuality",hash:e.hash,data:null}:null}},{key:"addPlayerListeners",value:function(){this.player.on("play",this.listenerPlay.bind(this)),this.player.on("pause",this.listenerPause.bind(this)),this.player.on("ended",this.listenerEnded.bind(this)),this.player.on("volumechange",this.listenerVolumeChange.bind(this)),this.player.on("ratechange",this.listenerRateChange.bind(this)),this.player.on("timeupdate",this.listenerTimeUpdate.bind(this)),this.player.on("waiting",this.listenerWaiting.bind(this)),this.player.on("canplay",this.listenerCanPlay.bind(this)),this.player.on("canplaythrough",this.listenerCanPlayThrough.bind(this)),this.player.on("seeking",this.listenerSeeking.bind(this)),this.player.on("seeked",this.listenerSeeked.bind(this)),this.player.on("durationchange",this.listenerDurationChange.bind(this)),this.player.on("loadstart",this.listenerLoadStart.bind(this)),this.player.on("loadeddata",this.listenerLoadedData.bind(this)),this.player.on("loadedmetadata",this.listenerLoadedMetaData.bind(this)),this.player.on("fullscreenchange",this.listenerFullscreenChange.bind(this)),ch.subscribe(hh,this.listenerQualitiesParsed.bind(this)),ch.subscribe(fh,this.listenerQualityChange.bind(this)),ch.subscribe(wh,this.listenerLog.bind(this)),ch.subscribe(Ch,this.listenerError.bind(this)),this.playerStateEmitter.subscribe(Th,this.listenerPlayerStateChange.bind(this))}},{key:"listenerVolumeChange",value:function(){var e=this.player.muted()?0:this.player.volume().toFixed(1);this.postMessage("player:volumeChange",{volume:e})}},{key:"listenerQualitiesParsed",value:function(e){this.postMessage("player:qualitiesParsed",{qualities:e.payload.qualities})}},{key:"listenerQualityChange",value:function(e){this.postMessage("player:qualityChange",{index:e.payload.index,bitrate:e.payload.bitrate,quality:e.payload.quality,isAuto:e.payload.isAuto})}},{key:"listenerRateChange",value:function(){var e=this.player.playbackRate();this.postMessage("player:rateChange",{rate:e})}},{key:"listenerTimeUpdate",value:function(){var e=this.player.currentTime();e>0&&!this.player.paused()&&this.postMessage("player:timeUpdate",{time:e.toFixed(2)})}},{key:"listenerDurationChange",value:function(){var e=this.player.duration();this.postMessage("player:durationChange",{duration:e})}},{key:"listenerLoadedMetaData",value:function(){this.postMessage("player:loadedMetaData")}},{key:"listenerFullscreenChange",value:function(){var e=this.player.isFullscreen();this.postMessage("player:fullscreenChange",{fullscreen:e})}},{key:"listenerPlay",value:function(){this.postMessage("player:play")}},{key:"listenerPause",value:function(){this.player.duration()-this.player.currentTime()>.1&&this.postMessage("player:pause")}},{key:"listenerEnded",value:function(){this.postMessage("player:ended")}},{key:"listenerLoadStart",value:function(){this.postMessage("player:loadStart")}},{key:"listenerLoadedData",value:function(){this.postMessage("player:loadedData")}},{key:"listenerError",value:function(e){this.postMessage("player:error",{component:e.payload.component,type:e.payload.type,error:e.payload.error})}},{key:"listenerLog",value:function(e){this.postMessage("player:log",e.payload)}},{key:"listenerWaiting",value:function(){this.postMessage("player:waiting")}},{key:"listenerSeeking",value:function(){var e=this.player.currentTime();this.postMessage("player:seeking",{position:e})}},{key:"listenerSeeked",value:function(){this.postMessage("player:seeked")}},{key:"listenerCanPlayThrough",value:function(){this.postMessage("player:canPlayThrough")}},{key:"listenerCanPlay",value:function(){this.postMessage("player:canPlay")}},{key:"listenerPlayerStateChange",value:function(e){var t=e.payload.value;this.postMessage("player:stateUpdated",{state:t})}},{key:"postMessage",value:function(e,t){var n={sender:"iframe",identifier:this.identifier};null!=t&&(n=_object_spread({},t,n)),this.pm.send({target:window.parent,origin:"*",type:e,data:n})}}]),n}(ah.getPlugin("plugin"));ah.registerPlugin("nutPostMessagesPlugin",Gh);var Vh=ah.getTech("tech"),Hh=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r,i){var a;return _class_call_check(this,n),(a=t.call(this,r,i)).name_=n.FORCED_NAME,a.triggerReady(),a}return _create_class(n,[{key:"setVideoTag",value:function(e){}},{key:"error",value:function(e){return null}},{key:"load",value:function(){}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"reset",value:function(){}},{key:"loop",value:function(){return!1}},{key:"setLoop",value:function(e){}},{key:"seeking",value:function(){return!1}},{key:"seekable",value:function(){return!1}},{key:"preload",value:function(){}},{key:"setPreload",value:function(e){}},{key:"poster",value:function(){return null}},{key:"setPoster",value:function(e){}},{key:"setSrc",value:function(e){}},{key:"currentSrc",value:function(){return""}},{key:"duration",value:function(){return 0}},{key:"setCurrentTime",value:function(e){}},{key:"currentTime",value:function(){return 0}},{key:"setControls",value:function(e){}},{key:"controls",value:function(){return!1}},{key:"setAutoplay",value:function(e){}},{key:"autoplay",value:function(){return!1}},{key:"supportsFullScreen",value:function(){return!1}},{key:"enterFullScreen",value:function(){}},{key:"exitFullScreen",value:function(){}},{key:"setVolume",value:function(e){}},{key:"volume",value:function(){}},{key:"setMuted",value:function(e){}},{key:"muted",value:function(){return!1}},{key:"paused",value:function(){return!1}},{key:"ended",value:function(){return!1}},{key:"played",value:function(){return[0,0]}},{key:"playbackRate",value:function(){return this.paused()?0:1}},{key:"setPlaybackRate",value:function(e){}},{key:"playsinline",value:function(){return!0}},{key:"setPlaysinline",value:function(e){}},{key:"networkState",value:function(){return 3}},{key:"featuresPlaybackRate",get:function(){return!1}},{key:"featuresProgressEvents",get:function(){return!0}},{key:"featuresTimeupdateEvents",get:function(){return!0}},{key:"featuresNativeTextTracks",get:function(){return!1}}],[{key:"isSupported",value:function(){return!0}},{key:"featuresVolumeControl",get:function(){return!1}},{key:"featuresMuteControl",get:function(){return!1}},{key:"featuresSourceset",get:function(){return!1}},{key:"featuresFullscreenResize",get:function(){return!1}},{key:"featuresNativeVideoTracks",get:function(){return!1}},{key:"featuresNativeAudioTracks",get:function(){return!1}}]),n}(Vh);Hh.FORCED_NAME="NutEmptyTech";var Yh=Hh;Vh.registerTech("NutEmptyTech",Yh);var qh=ah.dom;ah.getTech("Tech");var zh=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"VIDEO_TEST_TAG",value:function(){if(null!=e.VIDEO_TAG)return e.VIDEO_TAG;if(qh.isReal()){e.VIDEO_TAG=document.createElement("video");var t=document.createElement("track");t.kind="captions",t.srclang="en",t.label="English",e.VIDEO_TAG.appendChild(t)}return e.VIDEO_TAG}}]),e}();zh.VIDEO_TAG=null;var Wh=zh,Kh=f(k(),1);f(A(),1);var Xh=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""};ah.getTech("Tech");var Jh,Zh=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"canPlayType",value:function(e){if("video/mp4"!==e)return"";try{var t=Wh.VIDEO_TEST_TAG();return t?t.canPlayType(e):""}catch(e){return""}}},{key:"canHandleSource",value:function(e,t){if(e.type)return this.canPlayType(e.type);if(e.src){var n=Xh(e.src);return this.canPlayType("video/".concat(n))}return""}},{key:"handleSource",value:function(e,t,n){_instanceof(t,Of)&&t.setSrc(e)}},{key:"dispose",value:function(){}}]),n}(Wh),$h=((Jh=$h||{}).Visibility="nutChangeVisibility",Jh.LockScreen="nutLockScreen",Jh.Error="nutError",Jh.ShowLoader="nutShowLoader",Jh.HideLoader="nutHideLoader",Jh.Ready="nutReady",Jh.InternalStatistic="nutInternalStatistic",Jh.PlayerFullscreenRequire="playerFullscreenRequire",Jh.PlayerStateChange="playerStateChange",Jh.PlayerChangeCuepoint="nutPlayerChangeCuepoint",Jh.PlayerMetadataLoaded="nutPlayerMetadataLoaded",Jh.PlayerReset="nutPlayerReset",Jh.PlayerSwitchLevel="playerSwitchLevel",Jh.LoadContent="loadContent",Jh.ContextChanging="contextChanging",Jh.ContextChanged="contextChanged",Jh.ContextOptionsLoaded="contextOptionsLoaded",Jh.ReloadContent="reloadContent",Jh.Replay="replay",Jh.RestoringContent="restoringContent",Jh.FragmentInitMetadata="fragmentInitMetadata",Jh.FragmentLoaded="hlsFragmentLoaded",Jh.MasterHlsPlaylistLoad="masterHlsPlaylistLoad",Jh.MasterHlsManifestParsed="masterHlsManifestParsed",Jh.HlsLevelSwitched="hlsLevelSwitched",Jh.HlsPlaylistLoad="hlsPlaylistLoad",Jh.HlsLevelLoaded="hlsLevelLoaded",Jh.HlsReloadRequired="hlsReloadRequired",Jh.HlsPlayRequired="hlsPlayRequired",Jh.HlsError="hlsError",Jh.PlayerSaveContext="nutPlayerSaveContext",Jh.PlayerRestoreContext="nutPlayerRestoreContext",Jh.PlayerAllowState="nutAllowState",Jh.TechSettingsUpdate="nutTechSettingsUpdate",Jh.UpdateGetIntentU="nutUpdateGetIntentU",Jh.DashLevelSwitched="dashLevelSwitched",Jh.MasterDashManifestParsed="masterDashManifestParsed",Jh.MasterDashPlaylistLoad="MasterDashPlaylistLoad",Jh.ComponentVisibilityChange="nutComponentVisibilityChange",Jh.ConnectDVRLiveBroadcast="connectDVRLiveBroadcast",Jh.DisconnectDVRLiveBroadcast="disconnectDVRLiveBroadcast",Jh.PlayableSourceSet="playableSourceSet",Jh.TimeLineManualChange="timeLineManualChange",Jh.PlaybackStarted="playbackStarted",Jh.PlayerUILevelChanged="nutPlayerUILevelChanged",Jh.PosterClicked="nutPosterClicked",Jh.PosterShown="nutPosterShown",Jh.AdvertChosen="nutAdvertChosen",Jh.CaptionStateChanged="nutCaptionStateChanged",Jh.UserActivity="nutUserActivity",Jh.QualitiesParsed="qualitiesparsed",Jh.QualityChange="qualitychange",Jh.AirPlay="airPlayRequested",Jh),ef=$h,tf=f(A(),1),nf=f(A(),1),rf=f(k(),1),af=Object.prototype.toString,sf=function(e){return uf(e)?Object.keys(e):[]};function of(e,t){sf(e).forEach((function(n){return t(e[n],n)}))}function lf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return Object.assign?(i=Object).assign.apply(i,[e].concat(_to_consumable_array(n))):(n.forEach((function(t){t&&of(t,(function(t,n){e[n]=t}))})),e)}function uf(e){return!!e&&"object"==typeof e}function cf(e){return uf(e)&&"[object Object]"===af.call(e)&&e.constructor===Object}var df=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i={};return n.forEach((function(t){t&&of(t,(function(t,n){cf(t)?(cf(i[n])||(i[n]={}),i[n]=e(i[n],t)):i[n]=t}))})),i},hf=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var s=n[a].src;s&&-1===r.indexOf(s)&&r.push(s)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},ff=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=rf.default.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=rf.default.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",nf.default.Element.prototype.appendChild.call(this,n),this.innerHTML}}),pf=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},Af=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return pf([e.el(),nf.default.HTMLMediaElement.prototype,nf.default.Element.prototype,ff],"innerHTML")}(e),i=function(n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=n.apply(t,i);return hf(e),s}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=i(n[e]))})),Object.defineProperty(t,"innerHTML",df(r,{set:i(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},gf=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?function(e){if(!e.match(/^https?:\/\//)){var t=Kh.default.createElement("a");t.href=e,e=t.href}return e}(nf.default.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return nf.default.Element.prototype.setAttribute.call(this,"src",e),e}}),mf=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return pf([e.el(),nf.default.HTMLMediaElement.prototype,gf],"src")}(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",df(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var a=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),a},t.load=function(){var n=i.call(t);return hf(e)||(e.triggerSourceset(""),Af(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):hf(e)||Af(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}};function vf(e){(function(e){return null!=e&&"function"==typeof e.then})(e)&&e.then(null,(function(e){}))}var yf=ah.getTech("tech"),Ef=ah.browser,_f=ah.dom,Tf=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).lastCurrentTime=-1,i.isLive_=!1,i.rememberedVideoTag=null,i.parentNode=null,i.playPromise=null,i.restoreMetadataTracksInIOSNativePlayer_(),i.proxyWebkitFullscreen_(),mf(_assert_this_initialized(i)),i}return _create_class(n,[{key:"finishSetup",value:function(e){this.triggerReady()}},{key:"createEl",value:function(){var e=this.player_,t=e?e.tag:null,r=this.options_.playerId;if(!t||!this.options_.playerElIngest&&!n.movingMediaElementInDOM){if(t&&t.tagName===this.elementTagName){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=document.createElement(this.elementTagName),_f.setAttributes(t,{id:r,class:"vjs-tech","x-webkit-airplay":"allow",playsinline:"true","webkit-playsinline":"true",width:"100%",height:"100%",oncontextmenu:"return false"});var a=this.options_.tag&&_f.getAttributes(this.options_.tag),s=df({},a);Ef.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete s.controls}t.playerId=r}void 0!==this.options_.preload&&_f.setAttribute(t,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],l=0;l<o.length;l++){var u=o[l],c=this.options_[u];void 0!==c&&(c?_f.setAttribute(t,u,u):_f.removeAttribute(t,u),t[u]=c)}return this.el_=t,t}},{key:"dispose",value:function(){this.isLocked||(this.el()&&this.el().resetSourceset_&&this.el().resetSourceset_(),n.disposeMediaElement(this.el()),this.options_=null,_get(_get_prototype_of(n.prototype),"dispose",this).call(this))}},{key:"isLive",get:function(){return this.isLive_},set:function(e){this.isLive_=e}},{key:"handleError",value:function(e,t){this.playerError_=t}},{key:"switchLevel",value:function(e){}},{key:"elementTagName",get:function(){return"video"}},{key:"setVideoTag",value:function(e){var t=this.player_.el();if(e&&this.rememberedVideoTag)null!=t.parentNode&&t.parentNode.insertBefore(this.rememberedVideoTag,t),this.rememberedVideoTag=null,this.addSrcElement();else if(!e&&!this.rememberedVideoTag){var n=t.getElementsByTagName("video");(n=n.length>0?n[0]:null)&&(this.rememberedVideoTag=n,t.removeChild(this.rememberedVideoTag))}}},{key:"addSrcElement",value:function(){}},{key:"removeSrcElement",value:function(){}},{key:"updateTechSettings",value:function(e){this.hlsProcessor.updateSettings(e)}},{key:"overrideNative_",value:function(e,t){var n=this;if(t===this["featuresNative".concat(e,"Tracks")]){var r=e.toLowerCase();this["".concat(r,"TracksListeners_")]&&Object.keys(this["".concat(r,"TracksListeners_")]).forEach((function(e){n.el()["".concat(r,"Tracks")].removeEventListener(e,n["".concat(r,"TracksListeners_")][e])})),this["featuresNative".concat(e,"Tracks")]=!t,this["".concat(r,"TracksListeners_")]=null,this.proxyNativeTracksForType_(r)}}},{key:"proxyNativeTracksForType_",value:function(e){var t=this,n=TRACK_TYPES[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative".concat(n.capitalName,"Tracks")]&&r&&r.addEventListener){var a={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===e&&t[REMOTE.remoteText.getterName]().trigger(r)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},s=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,a=0;a<r.length;a++)if(r[a]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach((function(e){var n=a[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",s),this.on("dispose",(function(e){return t.off("loadstart",s)}))}}},{key:"allowAirplay",get:function(){return!0}},{key:"overrideNativeAudioTracks",value:function(e){this.overrideNative_("Audio",e)}},{key:"overrideNativeVideoTracks",value:function(e){this.overrideNative_("Video",e)}},{key:"proxyWebkitFullscreen_",value:function(){var e=this;if("webkitDisplayingFullscreen"in this.el()){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el()&&"picture-in-picture"!==this.el().webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}}},{key:"proxyNativeTracks_",value:function(){var e=this;TRACK_TYPES.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))}},{key:"restoreMetadataTracksInIOSNativePlayer_",value:function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function(){for(var n=0;n<e.length;n++){var i=e[n];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",r)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))}},{key:"pause",value:function(){var e=this;null!=this.playPromise?this.playPromise.then((function(t){e.el().pause()})):this.el().pause()}},{key:"load",value:function(){if(!Ef.IS_WINDOWS&&"function"==typeof this.el().load){var e=this.currentSrc();if(void 0!==e&&-1!==e.indexOf("blob"))return;return this.el().load()}}},{key:"play",value:function(e){var t=this;this.lastCurrentTime>0&&(this.setCurrentTime(this.lastCurrentTime),this.lastCurrentTime=-1),this.playPromise=null;var n=this.el().play();if(null!=n){var r=function(){t.playPromise=null,t.trigger(ef.PlaybackStarted)};this.playPromise=n.then(r,r)}else this.trigger(ef.PlaybackStarted);return this.playPromise}},{key:"reset",value:function(){n.resetMediaElement(this.el())}},{key:"setSrc",value:function(e){}},{key:"srcElement",get:function(){return this.el().tagSource?this.el().tagSource:this.el()}},{key:"switchType",value:function(e){void 0!==e&&e&&(e.toLowerCase().indexOf("m3u8")>0?this.type("application/x-mpegURL"):this.type("video/mp4"))}},{key:"type",value:function(e){if(!e)return this.srcElement.getAttribute("type");this.srcElement.setAttribute("type",e)}},{key:"currentSrc",value:function(){return this.currentSource_?this.currentSource_.src:this.el().currentSrc}},{key:"controls",value:function(){return this.el().controls||this.el().hasAttribute("controls")}},{key:"setControls",value:function(e){this.el().controls=!!e}},{key:"duration",value:function(){return NaN}},{key:"currentTime",value:function(){var e=this.el().currentTime,t=!this.isLive||this.isDVR;return this.cacheTime=t?e:Math.max(this.cacheTime,e),this.cacheTime}},{key:"setCurrentTime",value:function(e){if(!(Math.abs(this.currentTime()-e)<.5))try{this.el().currentTime=e}catch(e){ah.log(e,"Video is not ready. (Video.js)")}}},{key:"supportsFullScreen",value:function(){if("function"==typeof this.el().webkitEnterFullScreen){var e=tf.default.navigator&&tf.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1}},{key:"enterFullScreen",value:function(){var e=this.el();if(e.paused&&e.networkState<=e.HAVE_METADATA)vf(this.player_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}},{key:"exitFullScreen",value:function(){this.el()&&this.el().webkitExitFullScreen&&(this.el().webkitDisplayingFullscreen?this.el().webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen")))}},{key:"playbackRate",value:function(){return this.el().playbackRate}},{key:"setPlaybackRate",value:function(e){this.el().playbackRate=e}},{key:"defaultPlaybackRate",value:function(){return this.el().defaultPlaybackRate}},{key:"setDefaultPlaybackRate",value:function(e){this.el().defaultPlaybackRate=e}},{key:"setVolume",value:function(e){this.el().volume=e}},{key:"volume",value:function(){return this.el().volume}},{key:"buffered",value:function(){return this.el().buffered}},{key:"muted",value:function(){return this.el().muted||this.el().hasAttribute("muted")}},{key:"setMuted",value:function(e){this.el().muted=e,e?this.el().setAttribute("muted",e):this.el().removeAttribute("muted")}},{key:"loop",value:function(){return this.el().loop||this.el().hasAttribute("loop")}},{key:"setLoop",value:function(e){this.el().loop=e,e?this.el().setAttribute("loop",e):this.el().removeAttribute("loop")}},{key:"playsinline",value:function(){return this.el().playsinline||this.el().hasAttribute("playsinline")}},{key:"setPlaysinline",value:function(e){this.el().playsinline=e,e?this.el().setAttribute("playsinline",e):this.el().removeAttribute("playsinline")}},{key:"autoplay",value:function(){return this.el().autoplay||this.el().hasAttribute("autoplay")}},{key:"setAutoplay",value:function(e){this.el().autoplay=e,e?this.el().setAttribute("autoplay",e):this.el().removeAttribute("autoplay")}},{key:"defaultMuted",value:function(){return this.el().defaultMuted||this.el().hasAttribute("defaultMuted")}},{key:"setDefaultMuted",value:function(e){this.el().defaultMuted=e,e?this.el().setAttribute("defaultMuted",e):this.el().removeAttribute("defaultMuted")}},{key:"paused",value:function(){return this.el().paused}},{key:"width",value:function(){return this.el().offsetWidth}},{key:"height",value:function(){return this.el().offsetHeight}},{key:"addTextTrack",value:function(e,t,r){return this.featuresNativeTextTracks?this.el().addTextTrack(e,t,r):_get(_get_prototype_of(n.prototype),"addTextTrack",this).call(this,e,t,r)}},{key:"createRemoteTextTrack",value:function(e){if(!this.featuresNativeTextTracks)return _get(_get_prototype_of(n.prototype),"createRemoteTextTrack",this).call(this,e);var t=document.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}},{key:"addRemoteTextTrack",value:function(e,t){var r=_get(_get_prototype_of(n.prototype),"addRemoteTextTrack",this).call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}},{key:"removeRemoteTextTrack",value:function(e){if(_get(_get_prototype_of(n.prototype),"removeRemoteTextTrack",this).call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),r=t.length;r--;)e!==t[r]&&e!==t[r].track||this.el().removeChild(t[r])}},{key:"getVideoPlaybackQuality",value:function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),tf.default.performance&&"function"==typeof tf.default.performance.now?e.creationTime=tf.default.performance.now():tf.default.performance&&tf.default.performance.timing&&"number"==typeof tf.default.performance.timing.navigationStart&&(e.creationTime=tf.default.Date.now()-tf.default.performance.timing.navigationStart),e}},{key:"poster",value:function(){return null}},{key:"setPoster",value:function(e){}},{key:"preload",value:function(){return this.el().preload}},{key:"setPreload",value:function(e){this.el().preload=e}},{key:"error",value:function(e){return this.el().error||this.playerError_}},{key:"seeking",value:function(){return this.el().seeking}},{key:"seekable",value:function(){return this.isLive&&this.el().seekable}},{key:"ended",value:function(){return this.el().ended}},{key:"played",value:function(){return this.el().played}},{key:"networkState",value:function(){return this.el().networkState}},{key:"readyState",value:function(){return this.el().readyState}},{key:"videoWidth",value:function(){return this.el().videoWidth}},{key:"videoHeight",value:function(){return this.el().videoHeight}}],[{key:"movingMediaElementInDOM",get:function(){return!Ef.IS_IOS}},{key:"resetMediaElement",value:function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);if(e.removeAttribute("src"),"function"==typeof e.load){!function(){try{e.load()}catch(e){}}()}}}},{key:"disposeMediaElement",value:function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);if(e.removeAttribute("src"),"function"==typeof e.load){!function(){try{e.load()}catch(e){}}()}}}},{key:"canOverrideAttributes",value:function(){try{var e=function(){};Object.defineProperty(document.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0}},{key:"supportsNativeTextTracks",value:function(){return!0}}]),n}(yf);Tf.registerTech("NutTech",Tf);var bf=Tf,Sf=ah.dom,wf=ah.browser,Cf=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).name_=n.TECH_NAME,i}return _create_class(n,[{key:"finishSetup",value:function(e){var t=e.source;t&&this.currentSrc()!==t.src&&this.setSource(t),_get(_get_prototype_of(n.prototype),"finishSetup",this).call(this,e)}},{key:"setSrc",value:function(e){var t=void 0===e.src?"":e.src,n=void 0!==e.isACLCheck&&e.isACLCheck;void 0!==e.forceReload&&e.forceReload||this.trigger(ef.RestoringContent,n),n||(this.switchType(t),this.el_.src=t)}},{key:"duration",value:function(){var e=this;if(this.el_.duration===1/0&&wf.IS_ANDROID&&wf.IS_CHROME&&0===this.el_.currentTime){var t=function(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN}},{key:"canPlaySource",value:function(e,t){return Wh.VIDEO_TEST_TAG().canPlayType(e.type)}},{key:"canPlayType",value:function(e){return Wh.VIDEO_TEST_TAG().canPlayType(e)}},{key:"featuresPlaybackRate",get:function(){return n.canControlPlaybackRate()}},{key:"featuresProgressEvents",get:function(){return!1}},{key:"featuresTimeupdateEvents",get:function(){return!1}},{key:"featuresNativeTextTracks",get:function(){return n.supportsNativeTextTracks()}}],[{key:"isSupported",value:function(){var e;try{Wh.VIDEO_TEST_TAG().volume=.5}catch(e){return!1}return!(!Wh.VIDEO_TEST_TAG()||!(null===(e=Wh.VIDEO_TEST_TAG())||void 0===e?void 0:e.canPlayType))}},{key:"canControlVolume",value:function(){try{var e=Wh.VIDEO_TEST_TAG().volume;return Wh.VIDEO_TEST_TAG().volume=e/2+.1,e!==Wh.VIDEO_TEST_TAG().volume}catch(e){return!1}}},{key:"canMuteVolume",value:function(){try{var e=Wh.VIDEO_TEST_TAG().muted;return Wh.VIDEO_TEST_TAG().muted=!e,Wh.VIDEO_TEST_TAG().muted?Sf.setAttribute(Wh.VIDEO_TEST_TAG(),"muted","muted"):Sf.removeAttribute(Wh.VIDEO_TEST_TAG(),"muted","muted"),e!==Wh.VIDEO_TEST_TAG().muted}catch(e){return!1}}},{key:"canControlPlaybackRate",value:function(){if(wf.IS_ANDROID&&wf.IS_CHROME&&wf.CHROME_VERSION<58)return!1;try{var e=Wh.VIDEO_TEST_TAG();if(!e)return!1;var t=Math.round(10*e.playbackRate),n=[0,1,2,3,4,5,6,7,8,9,10].filter((function(e){return e!==t})),r=n[Math.floor(Math.random()*n.length)];return e.playbackRate=r/10,t!==e.playbackRate}catch(e){return!1}}},{key:"supportsNativeVideoTracks",value:function(){return!(!Wh.VIDEO_TEST_TAG()||!Wh.VIDEO_TEST_TAG().videoTracks)}},{key:"supportsNativeAudioTracks",value:function(){return!(!Wh.VIDEO_TEST_TAG()||!Wh.VIDEO_TEST_TAG().audioTracks)}},{key:"featuresVolumeControl",get:function(){return n.canControlVolume()}},{key:"featuresMuteControl",get:function(){return n.canMuteVolume()}},{key:"featuresSourceset",get:function(){return n.canOverrideAttributes()}},{key:"featuresFullscreenResize",get:function(){return!0}},{key:"featuresNativeVideoTracks",get:function(){return n.supportsNativeVideoTracks()}},{key:"featuresNativeAudioTracks",get:function(){return n.supportsNativeAudioTracks()}}]),n}(bf);Cf.TECH_NAME="NutFileTech";var If,kf,Rf,Df,Mf,Lf=Cf,Nf=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"getQualityTypeByResolution",value:function(t,n){var r=t*n,i=null;return e.qualityMap.forEach((function(e,t){i||r<=e.maxResolution&&(i=t)})),i}},{key:"getLabelByQualityType",value:function(t,n){return e.qualityByVariantMap[n][t]||null}},{key:"getLabelByValue",value:function(t,n){var r=e.qualityLabelByValue.get(t);return r&&e.qualityByVariantMap[n][r]||null}},{key:"getValueByQualityType",value:function(e){switch(e){case 144:return 144;case 240:return 240;case 360:return 360;case 480:return 480;case 720:return 720;case 1080:return 1080;case 1440:return 1440;case 2160:return 2160}return null}}]),e}();Nf.qualityMap=new Map([[144,{maxHeight:144,maxWidth:628,maxBitrate:400499,maxResolution:90499}],[240,{maxHeight:240,maxWidth:710,maxBitrate:800499,maxResolution:170499}],[360,{maxHeight:360,maxWidth:779,maxBitrate:1200499,maxResolution:280499}],[480,{maxHeight:480,maxWidth:1334,maxBitrate:1800499,maxResolution:640499}],[720,{maxHeight:720,maxWidth:2084,maxBitrate:3500499,maxResolution:1500499}],[1080,{maxHeight:1080,maxWidth:2222,maxBitrate:8000499,maxResolution:2400499}],[1440,{maxHeight:1440,maxWidth:4167,maxBitrate:12000499,maxResolution:6000499}],[2160,{maxHeight:Number.MAX_VALUE,maxWidth:Number.MAX_VALUE,maxBitrate:Number.MAX_VALUE,maxResolution:Number.MAX_VALUE}]]),Nf.qualityLabelByValue=new Map([[144,144],[240,240],[360,360],[480,480],[720,720],[1080,1080],[1440,1440],[2160,2160],[-1,-1]]),Nf.qualityByVariantMap=(_define_property(Mf={},"COMMON",(_define_property(If={},144,"144p"),_define_property(If,240,"240p"),_define_property(If,360,"360p"),_define_property(If,480,"480p"),_define_property(If,720,"720p HD"),_define_property(If,1080,"1080p FHD"),_define_property(If,1440,"1440р Ultra HD"),_define_property(If,2160,"4K"),_define_property(If,-1,"Авто"),If)),_define_property(Mf,"RUSSIAN",(_define_property(kf={},144,"Очень низкое"),_define_property(kf,240,"Низкое"),_define_property(kf,360,"Среднее"),_define_property(kf,480,"Высокое"),_define_property(kf,720,"HD"),_define_property(kf,1080,"Full HD"),_define_property(kf,1440,"Ultra HD"),_define_property(kf,2160,"4K"),_define_property(kf,-1,"Автонастройка"),kf)),_define_property(Mf,"ENGLISH",(_define_property(Rf={},144,"LD low"),_define_property(Rf,240,"LD"),_define_property(Rf,360,"SD low"),_define_property(Rf,480,"SD"),_define_property(Rf,720,"HD"),_define_property(Rf,1080,"Full HD"),_define_property(Rf,1440,"Ultra HD"),_define_property(Rf,2160,"4K"),_define_property(Rf,-1,"Auto"),Rf)),_define_property(Mf,"RESOLUTION",(_define_property(Df={},144,"LD 144"),_define_property(Df,240,"LD 240"),_define_property(Df,360,"SD 360"),_define_property(Df,480,"SD 480"),_define_property(Df,720,"HD 720"),_define_property(Df,1080,"FHD 1080"),_define_property(Df,1440,"Ultra HD 1440"),_define_property(Df,2160,"4K"),_define_property(Df,-1,"Auto"),Df)),Mf);var Bf=Nf,xf=function(){function e(t){_class_call_check(this,e),this.player=t,this.qualityHandle()}return _create_class(e,[{key:"qualityHandle",value:function(){var e=this;this.player.on("loadedmetadata",(function(){var t=e.player.el().videoHeight,n=e.player.el().videoWidth,r=Bf.getQualityTypeByResolution(n,t);if(!r)return null;var i=[{index:0,bitrate:0,quality:Bf.getValueByQualityType(r),label:Bf.getLabelByQualityType(r,Mh.qualityLabelVariant)}];ch.publish(hh({qualities:i})),ch.publish(Ih({isAutoQuality:!1,quality:i[0].quality})),ch.publish(Ah({quality:i[0].quality}))}))}}]),e}(),Pf=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).name_=n.TECH_NAME,new xf(i.player()),i.finishSetup(e),i}return _create_class(n,[{key:"switchType",value:function(e){this.type("video/mp4")}}]),n}(Lf);Pf.TECH_NAME="NutMp4Tech";var Of=Pf;Of.withSourceHandlers(Of),Of.registerSourceHandler(new Zh),Of.registerTech("NutMp4Tech",Of);var Ff,Uf,jf,Qf,Gf,Vf={exports:{}};Ff=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,Uf=/^(?=([^\/?#]*))\1([^]*)$/,jf=/(?:\/|^)\.(?=\/)/g,Qf=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,Vf.exports=Gf={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=Gf.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=Gf.normalizePath(r.path),Gf.buildURLFromParts(r)}var i=Gf.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=Gf.normalizePath(i.path),Gf.buildURLFromParts(i)):t;var a=Gf.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var s=Uf.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path="/");var o={scheme:a.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(o.netLoc=a.netLoc,"/"!==i.path[0]))if(i.path){var l=a.path,u=l.substring(0,l.lastIndexOf("/")+1)+i.path;o.path=Gf.normalizePath(u)}else o.path=a.path,i.params||(o.params=a.params,i.query||(o.query=a.query));return null===o.path&&(o.path=n.alwaysNormalize?Gf.normalizePath(i.path):i.path),Gf.buildURLFromParts(o)},parseURL:function(e){var t=Ff.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(jf,"");e.length!==(e=e.replace(Qf,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};var Hf=Vf.exports;function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(n),!0).forEach((function(t){Wf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zf(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":_type_of(t))?t:String(t)}function Wf(e,t,n){return(t=zf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(this,arguments)}var Xf,Jf,Zf,$f=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},ep=Number.isSafeInteger||function(e){return"number"==typeof e&&Math.abs(e)<=tp},tp=Number.MAX_SAFE_INTEGER||9007199254740991,np=((Xf={}).MEDIA_ATTACHING="hlsMediaAttaching",Xf.MEDIA_ATTACHED="hlsMediaAttached",Xf.MEDIA_DETACHING="hlsMediaDetaching",Xf.MEDIA_DETACHED="hlsMediaDetached",Xf.BUFFER_RESET="hlsBufferReset",Xf.BUFFER_CODECS="hlsBufferCodecs",Xf.BUFFER_CREATED="hlsBufferCreated",Xf.BUFFER_APPENDING="hlsBufferAppending",Xf.BUFFER_APPENDED="hlsBufferAppended",Xf.BUFFER_EOS="hlsBufferEos",Xf.BUFFER_FLUSHING="hlsBufferFlushing",Xf.BUFFER_FLUSHED="hlsBufferFlushed",Xf.MANIFEST_LOADING="hlsManifestLoading",Xf.MANIFEST_LOADED="hlsManifestLoaded",Xf.MANIFEST_PARSED="hlsManifestParsed",Xf.LEVEL_SWITCHING="hlsLevelSwitching",Xf.LEVEL_SWITCHED="hlsLevelSwitched",Xf.LEVEL_LOADING="hlsLevelLoading",Xf.LEVEL_LOADED="hlsLevelLoaded",Xf.LEVEL_UPDATED="hlsLevelUpdated",Xf.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",Xf.LEVELS_UPDATED="hlsLevelsUpdated",Xf.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",Xf.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",Xf.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",Xf.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",Xf.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",Xf.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",Xf.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",Xf.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",Xf.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",Xf.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",Xf.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",Xf.CUES_PARSED="hlsCuesParsed",Xf.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",Xf.INIT_PTS_FOUND="hlsInitPtsFound",Xf.FRAG_LOADING="hlsFragLoading",Xf.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",Xf.FRAG_LOADED="hlsFragLoaded",Xf.FRAG_DECRYPTED="hlsFragDecrypted",Xf.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",Xf.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",Xf.FRAG_PARSING_METADATA="hlsFragParsingMetadata",Xf.FRAG_PARSED="hlsFragParsed",Xf.FRAG_BUFFERED="hlsFragBuffered",Xf.FRAG_CHANGED="hlsFragChanged",Xf.FPS_DROP="hlsFpsDrop",Xf.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",Xf.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",Xf.ERROR="hlsError",Xf.DESTROYING="hlsDestroying",Xf.KEY_LOADING="hlsKeyLoading",Xf.KEY_LOADED="hlsKeyLoaded",Xf.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",Xf.BACK_BUFFER_REACHED="hlsBackBufferReached",Xf.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",Xf),rp=((Jf={}).NETWORK_ERROR="networkError",Jf.MEDIA_ERROR="mediaError",Jf.KEY_SYSTEM_ERROR="keySystemError",Jf.MUX_ERROR="muxError",Jf.OTHER_ERROR="otherError",Jf),ip=((Zf={}).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",Zf.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",Zf.KEY_SYSTEM_NO_SESSION="keySystemNoSession",Zf.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",Zf.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",Zf.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",Zf.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",Zf.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",Zf.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",Zf.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",Zf.MANIFEST_LOAD_ERROR="manifestLoadError",Zf.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",Zf.MANIFEST_PARSING_ERROR="manifestParsingError",Zf.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",Zf.LEVEL_EMPTY_ERROR="levelEmptyError",Zf.LEVEL_LOAD_ERROR="levelLoadError",Zf.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",Zf.LEVEL_PARSING_ERROR="levelParsingError",Zf.LEVEL_SWITCH_ERROR="levelSwitchError",Zf.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",Zf.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",Zf.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",Zf.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",Zf.FRAG_LOAD_ERROR="fragLoadError",Zf.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",Zf.FRAG_DECRYPT_ERROR="fragDecryptError",Zf.FRAG_PARSING_ERROR="fragParsingError",Zf.FRAG_GAP="fragGap",Zf.REMUX_ALLOC_ERROR="remuxAllocError",Zf.KEY_LOAD_ERROR="keyLoadError",Zf.KEY_LOAD_TIMEOUT="keyLoadTimeOut",Zf.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",Zf.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",Zf.BUFFER_APPEND_ERROR="bufferAppendError",Zf.BUFFER_APPENDING_ERROR="bufferAppendingError",Zf.BUFFER_STALLED_ERROR="bufferStalledError",Zf.BUFFER_FULL_ERROR="bufferFullError",Zf.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",Zf.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",Zf.INTERNAL_EXCEPTION="internalException",Zf.INTERNAL_ABORTED="aborted",Zf.UNKNOWN="unknown",Zf),ap=function(){},sp={trace:ap,debug:ap,log:ap,warn:ap,info:ap,error:ap},op=sp;function lp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){op[t]=e[t]?e[t].bind(e):function(e){var t=self.console[e];return t?t.bind(self.console,"[".concat(e,"] >")):ap}(t)}))}var up=op,cp=/^(\d+)x(\d+)$/,dp=/(.+?)=(".*?"|.*?)(?:,|$)/g,hp=function(){function e(t){_class_call_check(this,e),"string"==typeof t&&(t=e.parseAttrList(t)),Kf(this,t)}return _create_class(e,[{key:"clientAttrs",get:function(){return Object.keys(this).filter((function(e){return"X-"===e.substring(0,2)}))}},{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"optionalFloat",value:function(e,t){var n=this[e];return n?parseFloat(n):t}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"bool",value:function(e){return"YES"===this[e]}},{key:"decimalResolution",value:function(e){var t=cp.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,n={};for(dp.lastIndex=0;null!==(t=dp.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1].trim()]=r}return n}}]),e}();function fp(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}var pp=function(){function e(t,n){if(_class_call_check(this,e),this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){var r=n.attr;for(var i in r)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i]!==r[i]){up.warn('DATERANGE tag attribute: "'.concat(i,'" does not match for tags with ID: "').concat(t.ID,'"')),this._badValueForSameId=i;break}t=Kf(new hp({}),r,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){var a=new Date(this.attr["END-DATE"]);$f(a.getTime())&&(this._endDate=a)}}return _create_class(e,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var e=this.attr.decimalFloatingPoint("DURATION");if($f(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&$f(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),e}(),Ap=function e(){_class_call_check(this,e),this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},gp="audio",mp="video",vp="audiovideo",yp=function(){function e(t){var n;_class_call_check(this,e),this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(_define_property(n={},gp,null),_define_property(n,mp,null),_define_property(n,vp,null),n),this.baseurl=t}return _create_class(e,[{key:"setByteRange",value:function(e,t){var n,r=e.split("@",2);n=1===r.length?(null==t?void 0:t.byteRangeEndOffset)||0:parseInt(r[1]),this._byteRange=[n,parseInt(r[0])+n]}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Hf.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),Ep=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,r))._decryptdata=null,i.rawProgramDateTime=null,i.programDateTime=null,i.tagList=[],i.duration=0,i.sn=0,i.levelkeys=void 0,i.type=void 0,i.loader=null,i.keyLoader=null,i.level=-1,i.cc=0,i.startPTS=void 0,i.endPTS=void 0,i.startDTS=void 0,i.endDTS=void 0,i.start=0,i.deltaPTS=void 0,i.maxStartPTS=void 0,i.minEndPTS=void 0,i.stats=new Ap,i.data=void 0,i.bitrateTest=!1,i.title=null,i.initSegment=null,i.endList=void 0,i.gap=void 0,i.urlId=0,i.type=e,i}return _create_class(n,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{var t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!$f(this.programDateTime))return null;var e=$f(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){var t=Object.keys(this.levelkeys),n=t.length;if(n>1||1===n&&this.levelkeys[t[0]].encrypted)return!0}return!1}},{key:"setKeyFormat",value:function(e){if(this.levelkeys){var t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}},{key:"abortRequests",value:function(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}},{key:"setElementaryStreamInfo",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=this.elementaryStreams,o=s[e];o?(o.startPTS=Math.min(o.startPTS,t),o.endPTS=Math.max(o.endPTS,n),o.startDTS=Math.min(o.startDTS,r),o.endDTS=Math.max(o.endDTS,i)):s[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:a}}},{key:"clearElementaryStreamInfo",value:function(){var e=this.elementaryStreams;e[gp]=null,e[mp]=null,e[vp]=null}}]),n}(yp),_p=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r,i,a,s){var o;_class_call_check(this,n),(o=t.call(this,i)).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new Ap,o.duration=e.decimalFloatingPoint("DURATION"),o.gap=e.bool("GAP"),o.independent=e.bool("INDEPENDENT"),o.relurl=e.enumeratedString("URI"),o.fragment=r,o.index=a;var l=e.enumeratedString("BYTERANGE");return l&&o.setByteRange(l,s),s&&(o.fragOffset=s.fragOffset+s.duration),o}return _create_class(n,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),n}(yp),Tp=function(){function e(t){_class_call_check(this,e),this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}return _create_class(e,[{key:"reloaded",value:function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}},{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&$f(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}();function bp(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function Sp(e){var t,n,r=e.split(":"),i=null;if("data"===r[0]&&2===r.length){var a=r[1].split(";"),s=a[a.length-1].split(",");if(2===s.length){var o="base64"===s[0],l=s[1];o?(a.splice(-1,1),i=bp(l)):(t=wp(l).subarray(0,16),(n=new Uint8Array(16)).set(t,16-t.length),i=n)}}return i}function wp(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(function(e){return e.charCodeAt(0)}))}var Cp="undefined"!=typeof self?self:void 0,Ip={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},kp="org.w3.clearkey",Rp="com.apple.streamingkeydelivery",Dp="com.microsoft.playready",Mp="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Lp(e){switch(e){case Rp:return Ip.FAIRPLAY;case Dp:return Ip.PLAYREADY;case Mp:return Ip.WIDEVINE;case kp:return Ip.CLEARKEY}}var Np="edef8ba979d64acea3c827dcd51d21ed";function Bp(e){switch(e){case Ip.FAIRPLAY:return Rp;case Ip.PLAYREADY:return Dp;case Ip.WIDEVINE:return Mp;case Ip.CLEARKEY:return kp}}function xp(e){var t=e.drmSystems,n=e.widevineLicenseUrl,r=t?[Ip.FAIRPLAY,Ip.WIDEVINE,Ip.PLAYREADY,Ip.CLEARKEY].filter((function(e){return!!t[e]})):[];return!r[Ip.WIDEVINE]&&n&&r.push(Ip.WIDEVINE),r}var Pp,Op=null!=Cp&&null!=(Pp=Cp.navigator)&&Pp.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Fp(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}var Up,jp=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},Qp=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},Gp=function(e,t){for(var n=t,r=0;jp(e,t);){r+=10,r+=Vp(e,t+6),Qp(e,t+10)&&(r+=10),t+=r}if(r>0)return e.subarray(n,n+r)},Vp=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},Hp=function(e,t){return jp(e,t)&&Vp(e,t+6)+10<=e.length-t},Yp=function(e){for(var t=Wp(e),n=0;n<t.length;n++){var r=t[n];if(qp(r))return $p(r)}},qp=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},zp=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=Vp(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},Wp=function(e){for(var t=0,n=[];jp(e,t);){for(var r=Vp(e,t+6),i=(t+=10)+r;t+8<i;){var a=zp(e.subarray(t)),s=Kp(a);s&&n.push(s),t+=a.size+10}Qp(e,t)&&(t+=10)}return n},Kp=function(e){return"PRIV"===e.type?Xp(e):"W"===e.type[0]?Zp(e):Jp(e)},Xp=function(e){if(!(e.size<2)){var t=eA(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},Jp=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=eA(e.data.subarray(t),!0);t+=n.length+1;var r=eA(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=eA(e.data.subarray(1));return{key:e.type,data:i}}},Zp=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=eA(e.data.subarray(t),!0);t+=n.length+1;var r=eA(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=eA(e.data);return{key:e.type,data:i}},$p=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},eA=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){if(navigator.userAgent.includes("PlayStation 4"))return;Up||void 0===self.TextDecoder||(Up=new self.TextDecoder("utf-8"));return Up}();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var a,s,o,l=e.length,u="",c=0;c<l;){if(0===(a=e[c++])&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:s=e[c++],u+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=e[c++],o=e[c++],u+=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}}return u};var tA=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);r.length<2&&(r="0"+r),t+=r}return t},nA=Math.pow(2,32)-1,rA=[].push,iA={video:1,audio:2,id3:3,text:4};function aA(e){return String.fromCharCode.apply(null,e)}function sA(e,t){var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function oA(e,t){var n=uA(e,t);return n<0?4294967296+n:n}function lA(e,t){var n=oA(e,t);return n*=Math.pow(2,32),n+=oA(e,t+4)}function uA(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function cA(e,t,n){e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function dA(e,t){var n=[];if(!t.length)return n;for(var r=e.byteLength,i=0;i<r;){var a=oA(e,i),s=a>1?i+a:r;if(aA(e.subarray(i+4,i+8))===t[0])if(1===t.length)n.push(e.subarray(i+8,s));else{var o=dA(e.subarray(i+8,s),t.slice(1));o.length&&rA.apply(n,o)}i=s}return n}function hA(e){var t=[],n=e[0],r=8,i=oA(e,r);r+=4;var a=0,s=0;0===n?(a=oA(e,r),s=oA(e,r+4),r+=8):(a=lA(e,r),s=lA(e,r+8),r+=16),r+=2;var o=e.length+s,l=sA(e,r);r+=2;for(var u=0;u<l;u++){var c=r,d=oA(e,c);c+=4;var h=2147483647&d;if(1===(2147483648&d)>>>31)return up.warn("SIDX has hierarchical references (not supported)"),null;var f=oA(e,c);c+=4,t.push({referenceSize:h,subsegmentDuration:f,info:{duration:f/i,start:o,end:o+h-1}}),o+=h,r=c+=4}return{earliestPresentationTime:a,timescale:i,version:n,referencesCount:l,references:t}}function fA(e){for(var t=[],n=dA(e,["moov","trak"]),r=0;r<n.length;r++){var i=n[r],a=dA(i,["tkhd"])[0];if(a){var s=a[0],o=oA(a,0===s?12:20),l=dA(i,["mdia","mdhd"])[0];if(l){var u=oA(l,0===(s=l[0])?12:20),c=dA(i,["mdia","hdlr"])[0];if(c){var d=aA(c.subarray(8,12)),h={soun:gp,vide:mp}[d];if(h){var f=pA(dA(i,["mdia","minf","stbl","stsd"])[0]);t[o]={timescale:u,type:h},t[h]=qf({timescale:u,id:o},f)}}}}}return dA(e,["moov","mvex","trex"]).forEach((function(e){var n=oA(e,4),r=t[n];r&&(r.default={duration:oA(e,12),flags:oA(e,20)})})),t}function pA(e){var t=e.subarray(8),n=t.subarray(86),r=aA(t.subarray(4,8)),i=r,a="enca"===r||"encv"===r;if(a){var s=dA(t,[r])[0];dA(s.subarray("enca"===r?28:78),["sinf"]).forEach((function(e){var t=dA(e,["schm"])[0];if(t){var n=aA(t.subarray(4,8));if("cbcs"===n||"cenc"===n){var r=dA(e,["frma"])[0];r&&(i=aA(r))}}}))}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":var o=dA(n,["avcC"])[0];i+="."+gA(o[1])+gA(o[2])+gA(o[3]);break;case"mp4a":var l=dA(t,[r])[0],u=dA(l.subarray(28),["esds"])[0];if(u&&u.length>12){var c=4;if(3!==u[c++])break;c=AA(u,c),c+=2;var d=u[c++];if(128&d&&(c+=2),64&d&&(c+=u[c++]),4!==u[c++])break;c=AA(u,c);var h=u[c++];if(64!==h)break;if(i+="."+gA(h),c+=12,5!==u[c++])break;c=AA(u,c);var f=u[c++],p=(248&f)>>3;31===p&&(p+=1+((7&f)<<3)+((224&u[c])>>5)),i+="."+p}break;case"hvc1":case"hev1":var A=dA(n,["hvcC"])[0],g=A[1],m=["","A","B","C"][g>>6],v=31&g,y=oA(A,2),E=(32&g)>>5?"H":"L",_=A[12],T=A.subarray(6,12);i+="."+m+v,i+="."+y.toString(16).toUpperCase(),i+="."+E+_;for(var b="",S=T.length;S--;){var w=T[S];if(w||b)b="."+w.toString(16).toUpperCase()+b}i+=b;break;case"dvh1":case"dvhe":var C=dA(n,["dvcC"])[0],I=C[2]>>1&127,k=C[2]<<5&32|C[3]>>3&31;i+="."+mA(I)+"."+mA(k);break;case"vp09":var R=dA(n,["vpcC"])[0],D=R[4],M=R[5],L=R[6]>>4&15;i+="."+mA(D)+"."+mA(M)+"."+mA(L);break;case"av01":var N=dA(n,["av1C"])[0],B=N[1]>>>5,x=31&N[1],P=N[2]>>>7?"H":"M",O=(64&N[2])>>6,F=(32&N[2])>>5,U=2===B&&O?F?12:10:O?10:8,j=(16&N[2])>>4,Q=(8&N[2])>>3,G=(4&N[2])>>2,V=3&N[2];i+="."+B+"."+mA(x)+P+"."+mA(U)+"."+j+"."+Q+G+V+"."+mA(1)+"."+mA(1)+"."+mA(1)+".0"}return{codec:i,encrypted:a}}function AA(e,t){for(var n=t+5;128&e[t++]&&t<n;);return t}function gA(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}function mA(e){return(e<10?"0":"")+e}function vA(e){var t=dA(e,["schm"])[0];if(t){var n=aA(t.subarray(4,8));if("cbcs"===n||"cenc"===n)return dA(e,["schi","tenc"])[0]}return up.error("[eme] missing 'schm' box"),null}function yA(e){var t=oA(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=oA(e,4),a=0;a<i;a++){if(256&t)r+=oA(e,n),n+=4;512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4)}return r}function EA(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function _A(e,t){var n=[],r=t.samples,i=t.timescale,a=t.id,s=!1;return dA(r,["moof"]).map((function(o){var l=o.byteOffset-8;dA(o,["traf"]).map((function(o){var u=dA(o,["tfdt"]).map((function(e){var t=e[0],n=oA(e,4);return 1===t&&(n*=Math.pow(2,32),n+=oA(e,8)),n/i}))[0];return void 0!==u&&(e=u),dA(o,["tfhd"]).map((function(u){var c=oA(u,4),d=16777215&oA(u,0),h=0,f=!!(16&d),p=0,A=!!(32&d),g=8;c===a&&(!!(1&d)&&(g+=8),!!(2&d)&&(g+=4),!!(8&d)&&(h=oA(u,g),g+=4),f&&(p=oA(u,g),g+=4),A&&(g+=4),"video"===t.type&&(s=function(e){if(!e)return!1;var t=e.indexOf("."),n=t<0?e:e.substring(0,t);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(t.codec)),dA(o,["trun"]).map((function(a){var o=a[0],u=16777215&oA(a,0),c=!!(1&u),d=0,f=!!(4&u),A=!!(256&u),g=0,m=!!(512&u),v=0,y=!!(1024&u),E=!!(2048&u),_=0,T=oA(a,4),b=8;c&&(d=oA(a,b),b+=4),f&&(b+=4);for(var S=d+l,w=0;w<T;w++){if(A?(g=oA(a,b),b+=4):g=h,m?(v=oA(a,b),b+=4):v=p,y&&(b+=4),E&&(_=0===o?oA(a,b):uA(a,b),b+=4),t.type===mp)for(var C=0;C<v;){var I=oA(r,S);if(TA(s,r[S+=4]))bA(r.subarray(S,S+I),s?2:1,e+_/i,n);S+=I,C+=I+4}e+=g/i}})))}))}))})),n}function TA(e,t){if(e){var n=t>>1&63;return 39===n||40===n}return 6===(31&t)}function bA(e,t,n,r){var i=SA(e),a=0;a+=t;for(var s=0,o=0,l=0;a<i.length;){s=0;do{if(a>=i.length)break;s+=l=i[a++]}while(255===l);o=0;do{if(a>=i.length)break;o+=l=i[a++]}while(255===l);var u=i.length-a,c=a;if(o<u)a+=o;else if(o>u){up.error("Malformed SEI payload. ".concat(o," is too small, only ").concat(u," bytes left to parse."));break}if(4===s){if(181===i[c++]){var d=sA(i,c);if(c+=2,49===d){var h=oA(i,c);if(c+=4,1195456820===h){var f=i[c++];if(3===f){var p=i[c++],A=64&p,g=A?2+3*(31&p):0,m=new Uint8Array(g);if(A){m[0]=p;for(var v=1;v<g;v++)m[v]=i[c++]}r.push({type:f,payloadType:s,pts:n,bytes:m})}}}}}else if(5===s&&o>16){for(var y=[],E=0;E<16;E++){var _=i[c++].toString(16);y.push(1==_.length?"0"+_:_),3!==E&&5!==E&&7!==E&&9!==E||y.push("-")}for(var T=o-16,b=new Uint8Array(T),S=0;S<T;S++)b[S]=i[c++];r.push({payloadType:s,pts:n,uuid:y.join(""),userData:eA(b),userDataBytes:b})}}}function SA(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,a=new Uint8Array(i),s=0;for(r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),a[r]=e[s];return a}function wA(e,t,n){if(16!==e.byteLength)throw new RangeError("Invalid system id");var r,i,a;if(t){r=1,i=new Uint8Array(16*t.length);for(var s=0;s<t.length;s++){var o=t[s];if(16!==o.byteLength)throw new RangeError("Invalid key");i.set(o,16*s)}}else r=0,i=new Uint8Array;r>0?(a=new Uint8Array(4),t.length>0&&new DataView(a.buffer).setUint32(0,t.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(l.buffer).setUint32(0,n.byteLength,!1),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=n.length,a=8,s=i;s--;)a+=n[s].byteLength;var o=new Uint8Array(a);for(o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,o.set(e,4),s=0,a=8;s<i;s++)o.set(n[s],a),a+=n[s].byteLength;return o}([112,115,115,104],new Uint8Array([r,0,0,0]),e,a,i,l,n||new Uint8Array)}var CA={},IA=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_class_call_check(this,e),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=a,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}return _create_class(e,[{key:"isSupported",value:function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Rp:case Mp:case Dp:case kp:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}},{key:"getDecryptData",value:function(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof t&&("AES-128"!==this.method||this.iv||up.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),t=0);var n=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}(t);return new e(this.method,this.uri,"identity",this.keyFormatVersions,n)}var r=Sp(this.uri);if(r)switch(this.keyFormat){case Mp:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case Dp:var i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=wA(i,null,r);var a=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),s=String.fromCharCode.apply(null,Array.from(a)),o=s.substring(s.indexOf("<"),s.length),l=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(l){var u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(u){var c=bp(u).subarray(0,16);!function(e){var t=function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(c),this.keyId=c}}break;default:var d=r.subarray(0,16);if(16!==d.length){var h=new Uint8Array(16);h.set(d,16-d.length),d=h}this.keyId=d}if(!this.keyId||16!==this.keyId.byteLength){var f=CA[this.uri];if(!f){var p=Object.keys(CA).length%Number.MAX_SAFE_INTEGER;f=new Uint8Array(16),new DataView(f.buffer,12,4).setUint32(0,p),CA[this.uri]=f}this.keyId=f}return this}}],[{key:"clearKeyUriToKeyIdMap",value:function(){CA={}}}]),e}();var kA=/\{\$([a-zA-Z0-9-_]+)\}/g;function RA(e){return kA.test(e)}function DA(e,t,n){if(null!==e.variableList||e.hasVariableRefs)for(var r=n.length;r--;){var i=n[r],a=t[i];a&&(t[i]=MA(e,a))}}function MA(e,t){if(null!==e.variableList||e.hasVariableRefs){var n=e.variableList;return t.replace(kA,(function(t){var r=t.substring(2,t.length-1),i=null==n?void 0:n[r];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(r,'"'))),t):i}))}return t}function LA(e,t,n){var r,i,a=e.variableList;if(a||(e.variableList=a={}),"QUERYPARAM"in t){r=t.QUERYPARAM;try{var s=new self.URL(n).searchParams;if(!s.has(r))throw new Error('"'.concat(r,'" does not match any query parameter in URI: "').concat(n,'"'));i=s.get(r)}catch(t){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(t.message)))}}else r=t.NAME,i=t.VALUE;r in a?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(r,'"'))):a[r]=i||""}function NA(e,t,n){var r=t.IMPORT;if(n&&r in n){var i=e.variableList;i||(e.variableList=i={}),i[r]=n[r]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(r,'"')))}function BA(){if("undefined"!=typeof self)return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}var xA={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function PA(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!e.split(",").some((function(e){return!OA(e,t,n)}))}function OA(e,t){var n,r=BA(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return null!=(n=null==r?void 0:r.isTypeSupported(FA(e,t)))&&n}function FA(e,t){return"".concat(t,'/mp4;codecs="').concat(e,'"')}function UA(e){if(e){var t=e.substring(0,4);return xA.video[t]}return 2}function jA(e){return e.split(",").reduce((function(e,t){var n=xA.video[t];return n?(2*n+e)/(e?3:2):(xA.audio[t]+e)/(e?2:1)}),0)}var QA={};var GA=/flac|opus/i;function VA(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.replace(GA,(function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(QA[e])return QA[e];for(var n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[e],r=0;r<n.length;r++)if(OA(n[r],"audio",t))return QA[e]=n[r],n[r];return e}(e.toLowerCase(),t)}))}function HA(e,t){return e&&"mp4a"!==e?e:t}var YA=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,qA=/#EXT-X-MEDIA:(.*)/g,zA=/^#EXT(?:INF|-X-TARGETDURATION):/m,WA=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),KA=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),XA=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"findGroup",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}}},{key:"resolve",value:function(e,t){return Hf.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}},{key:"isMediaPlaylist",value:function(e){return zA.test(e)}},{key:"parseMasterPlaylist",value:function(t,n){var r,i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:RA(t)},a=[];for(YA.lastIndex=0;null!=(r=YA.exec(t));)if(r[1]){var s,o=new hp(r[1]);DA(i,o,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var l=MA(i,r[2]),u={attrs:o,bitrate:o.decimalInteger("BANDWIDTH")||o.decimalInteger("AVERAGE-BANDWIDTH"),name:o.NAME,url:e.resolve(l,n)},c=o.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),$A(o.CODECS,u),null!=(s=u.unknownCodecs)&&s.length||a.push(u),i.levels.push(u)}else if(r[3]){var d=r[3],h=r[4];switch(d){case"SESSION-DATA":var f=new hp(h);DA(i,f,["DATA-ID","LANGUAGE","VALUE","URI"]);var p=f["DATA-ID"];p&&(null===i.sessionData&&(i.sessionData={}),i.sessionData[p]=f);break;case"SESSION-KEY":var A=JA(h,n,i);A.encrypted&&A.isSupported()?(null===i.sessionKeys&&(i.sessionKeys=[]),i.sessionKeys.push(A)):up.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(h,'"'));break;case"DEFINE":var g=new hp(h);DA(i,g,["NAME","VALUE","QUERYPARAM"]),LA(i,g,n);break;case"CONTENT-STEERING":var m=new hp(h);DA(i,m,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:e.resolve(m["SERVER-URI"],n),pathwayId:m["PATHWAY-ID"]||"."};break;case"START":i.startTimeOffset=ZA(h)}}var v=a.length>0&&a.length<i.levels.length;return i.levels=v?a:i.levels,0===i.levels.length&&(i.playlistParsingError=new Error("no levels found in manifest")),i}},{key:"parseMasterPlaylistMedia",value:function(t,n,r){var i,a={},s=r.levels,o={AUDIO:s.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),SUBTITLES:s.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;for(qA.lastIndex=0;null!==(i=qA.exec(t));){var u=new hp(i[1]),c=u.TYPE;if(c){var d=o[c],h=a[c]||[];a[c]=h,DA(r,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var f=u.LANGUAGE,p=u["ASSOC-LANGUAGE"],A=u.CHANNELS,g=u.CHARACTERISTICS,m=u["INSTREAM-ID"],v={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",name:u.NAME||f||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:f,url:u.URI?e.resolve(u.URI,n):""};if(p&&(v.assocLang=p),A&&(v.channels=A),g&&(v.characteristics=g),m&&(v.instreamId=m),null!=d&&d.length){var y=e.findGroup(d,v.groupId)||d[0];eg(v,y,"audioCodec"),eg(v,y,"textCodec")}h.push(v)}}return a}},{key:"parseLevelPlaylist",value:function(e,t,n,r,i,a){var s,o,l,u=new Tp(t),c=u.fragments,d=null,h=0,f=0,p=0,A=0,g=null,m=new Ep(r,t),v=-1,y=!1,E=null;for(WA.lastIndex=0,u.m3u8=e,u.hasVariableRefs=RA(e);null!==(s=WA.exec(e));){y&&(y=!1,(m=new Ep(r,t)).start=p,m.sn=h,m.cc=A,m.level=n,d&&(m.initSegment=d,m.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null,E&&(m.setByteRange(E),E=null)));var _=s[1];if(_){m.duration=parseFloat(_);var T=(" "+s[2]).slice(1);m.title=T||null,m.tagList.push(T?["INF",_,T]:["INF",_])}else if(s[3]){if($f(m.duration)){m.start=p,l&&rg(m,l,u),m.sn=h,m.level=n,m.cc=A,c.push(m);var b=(" "+s[3]).slice(1);m.relurl=MA(u,b),tg(m,g),g=m,p+=m.duration,h++,f=0,y=!0}}else if(s[4]){var S=(" "+s[4]).slice(1);g?m.setByteRange(S,g):m.setByteRange(S)}else if(s[5])m.rawProgramDateTime=(" "+s[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),-1===v&&(v=c.length);else{if(!(s=s[0].match(KA))){up.warn("No matches on slow regex match for level playlist!");continue}for(o=1;o<s.length&&void 0===s[o];o++);var w=(" "+s[o]).slice(1),C=(" "+s[o+1]).slice(1),I=s[o+2]?(" "+s[o+2]).slice(1):"";switch(w){case"PLAYLIST-TYPE":u.type=C.toUpperCase();break;case"MEDIA-SEQUENCE":h=u.startSN=parseInt(C);break;case"SKIP":var k=new hp(C);DA(u,k,["RECENTLY-REMOVED-DATERANGES"]);var R=k.decimalInteger("SKIPPED-SEGMENTS");if($f(R)){u.skippedSegments=R;for(var D=R;D--;)c.unshift(null);h+=R}var M=k.enumeratedString("RECENTLY-REMOVED-DATERANGES");M&&(u.recentlyRemovedDateranges=M.split("\t"));break;case"TARGETDURATION":u.targetduration=Math.max(parseInt(C),1);break;case"VERSION":u.version=parseInt(C);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"#":(C||I)&&m.tagList.push(I?[C,I]:[C]);break;case"DISCONTINUITY":A++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([w]);break;case"BITRATE":m.tagList.push([w,C]);break;case"DATERANGE":var L=new hp(C);DA(u,L,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),DA(u,L,L.clientAttrs);var N=new pp(L,u.dateRanges[L.ID]);N.isValid||u.skippedSegments?u.dateRanges[N.id]=N:up.warn('Ignoring invalid DATERANGE tag: "'.concat(C,'"')),m.tagList.push(["EXT-X-DATERANGE",C]);break;case"DEFINE":var B=new hp(C);DA(u,B,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in B?NA(u,B,a):LA(u,B,t);break;case"DISCONTINUITY-SEQUENCE":A=parseInt(C);break;case"KEY":var x=JA(C,t,u);if(x.isSupported()){if("NONE"===x.method){l=void 0;break}l||(l={}),l[x.keyFormat]&&(l=Kf({},l)),l[x.keyFormat]=x}else up.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(C,'"'));break;case"START":u.startTimeOffset=ZA(C);break;case"MAP":var P=new hp(C);if(DA(u,P,["BYTERANGE","URI"]),m.duration){var O=new Ep(r,t);ng(O,P,n,l),d=O,m.initSegment=d,d.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=d.rawProgramDateTime)}else{var F=m.byteRangeEndOffset;if(F){var U=m.byteRangeStartOffset;E="".concat(F-U,"@").concat(U)}else E=null;ng(m,P,n,l),d=m,y=!0}break;case"SERVER-CONTROL":var j=new hp(C);u.canBlockReload=j.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=j.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&j.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=j.optionalFloat("PART-HOLD-BACK",0),u.holdBack=j.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Q=new hp(C);u.partTarget=Q.decimalFloatingPoint("PART-TARGET");break;case"PART":var G=u.partList;G||(G=u.partList=[]);var V=f>0?G[G.length-1]:void 0,H=f++,Y=new hp(C);DA(u,Y,["BYTERANGE","URI"]);var q=new _p(Y,m,t,H,V);G.push(q),m.duration+=q.duration;break;case"PRELOAD-HINT":var z=new hp(C);DA(u,z,["URI"]),u.preloadHint=z;break;case"RENDITION-REPORT":var W=new hp(C);DA(u,W,["URI"]),u.renditionReports=u.renditionReports||[],u.renditionReports.push(W);break;default:up.warn("line parsed but not handled: ".concat(s))}}}g&&!g.relurl?(c.pop(),p-=g.duration,u.partList&&(u.fragmentHint=g)):u.partList&&(tg(m,g),m.cc=A,u.fragmentHint=m,l&&rg(m,l,u));var K=c.length,X=c[0],J=c[K-1];if((p+=u.skippedSegments*u.targetduration)>0&&K&&J){u.averagetargetduration=p/K;var Z=J.sn;u.endSN="initSegment"!==Z?Z:0,u.live||(J.endList=!0),X&&(u.startCC=X.cc)}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(p+=u.fragmentHint.duration),u.totalduration=p,u.endCC=A,v>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(c,v),u}}]),e}();function JA(e,t,n){var r,i,a=new hp(e);DA(n,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var s=null!=(r=a.METHOD)?r:"",o=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,c=null!=(i=a.KEYFORMAT)?i:"identity";o&&a.IV&&!l&&up.error("Invalid IV: ".concat(a.IV));var d=o?XA.resolve(o,t):"",h=(u||"1").split("/").map(Number).filter(Number.isFinite);return new IA(s,d,c,h,l)}function ZA(e){var t=new hp(e).decimalFloatingPoint("TIME-OFFSET");return $f(t)?t:null}function $A(e,t){var n=(e||"").split(/[ ,]+/).filter((function(e){return e}));["video","audio","text"].forEach((function(e){var r=n.filter((function(t){return function(e,t){var n=xA[t];return!!n&&!!n[e.slice(0,4)]}(t,e)}));r.length&&(t["".concat(e,"Codec")]=r.join(","),n=n.filter((function(e){return-1===r.indexOf(e)})))})),t.unknownCodecs=n}function eg(e,t,n){var r=t[n];r&&(e[n]=r)}function tg(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),$f(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function ng(e,t,n,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=n,e.sn="initSegment",r&&(e.levelkeys=r),e.initSegment=null}function rg(e,t,n){e.levelkeys=t;var r=n.encryptedFragments;r.length&&r[r.length-1].levelkeys===t||!Object.keys(t).some((function(e){return t[e].isCommonEncryption}))||r.push(e)}var ig="manifest",ag="level",sg="audioTrack",og="subtitleTrack",lg="main",ug="audio",cg="subtitle";function dg(e){switch(e.type){case sg:return ug;case og:return cg;default:return lg}}function hg(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var fg=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}return _create_class(e,[{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.destroyInternalLoaders()}},{key:"registerListeners",value:function(){var e=this.hls;e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.LEVEL_LOADING,this.onLevelLoading,this),e.on(np.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(np.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.LEVEL_LOADING,this.onLevelLoading,this),e.off(np.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(np.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"createInternalLoader",value:function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return this.loaders[e.type]=i,i}},{key:"getInternalLoader",value:function(e){return this.loaders[e.type]}},{key:"resetInternalLoader",value:function(e){this.loaders[e]&&delete this.loaders[e]}},{key:"destroyInternalLoaders",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}},{key:"destroy",value:function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}},{key:"onManifestLoading",value:function(e,t){var n=t.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:ig,url:n,deliveryDirectives:null})}},{key:"onLevelLoading",value:function(e,t){var n=t.id,r=t.level,i=t.pathwayId,a=t.url,s=t.deliveryDirectives;this.load({id:n,level:r,pathwayId:i,responseType:"text",type:ag,url:a,deliveryDirectives:s})}},{key:"onAudioTrackLoading",value:function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:sg,url:i,deliveryDirectives:a})}},{key:"onSubtitleTrackLoading",value:function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:og,url:i,deliveryDirectives:a})}},{key:"load",value:function(e){var t,n,r,i=this,a=this.hls.config,s=this.getInternalLoader(e);if(s){var o=s.context;if(o&&o.url===e.url&&o.level===e.level)return void up.trace("[playlist-loader]: playlist request ongoing");up.log("[playlist-loader]: aborting previous loader for type: ".concat(e.type)),s.abort()}if((n=e.type===ig?a.manifestLoadPolicy.default:Kf({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),$f(null==(t=e.deliveryDirectives)?void 0:t.part))&&(e.type===ag&&null!==e.level?r=this.hls.levels[e.level].details:e.type===sg&&null!==e.id?r=this.hls.audioTracks[e.id].details:e.type===og&&null!==e.id&&(r=this.hls.subtitleTracks[e.id].details),r)){var l=r.partTarget,u=r.targetduration;if(l&&u){var c=1e3*Math.max(3*l,.8*u);n=Kf({},n,{maxTimeToFirstByteMs:Math.min(c,n.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(c,n.maxTimeToFirstByteMs)})}}var d=n.errorRetry||n.timeoutRetry||{},h={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:d.maxNumRetry||0,retryDelay:d.retryDelayMs||0,maxRetryDelay:d.maxRetryDelayMs||0},f={onSuccess:function(e,t,n,r){var a=i.getInternalLoader(n);i.resetInternalLoader(n.type);var s=e.data;0===s.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),XA.isMediaPlaylist(s)?i.handleTrackOrLevelPlaylist(e,t,n,r||null,a):i.handleMasterPlaylist(e,t,n,r)):i.handleManifestParsingError(e,n,new Error("no EXTM3U delimiter"),r||null,t)},onError:function(e,t,n,r){i.handleNetworkError(t,n,!1,e,r)},onTimeout:function(e,t,n){i.handleNetworkError(t,n,!0,void 0,e)}};s.load(e,h,f)}},{key:"handleMasterPlaylist",value:function(e,t,n,r){var i=this.hls,a=e.data,s=hg(e,n),o=XA.parseMasterPlaylist(a,s);if(o.playlistParsingError)this.handleManifestParsingError(e,n,o.playlistParsingError,r,t);else{var l=o.contentSteering,u=o.levels,c=o.sessionData,d=o.sessionKeys,h=o.startTimeOffset,f=o.variableList;this.variableList=f;var p=XA.parseMasterPlaylistMedia(a,s,o),A=p.AUDIO,g=void 0===A?[]:A,m=p.SUBTITLES,v=p["CLOSED-CAPTIONS"];if(g.length)g.some((function(e){return!e.url}))||!u[0].audioCodec||u[0].attrs.AUDIO||(up.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new hp({}),bitrate:0,url:""}));i.trigger(np.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:m,captions:v,contentSteering:l,url:s,stats:t,networkDetails:r,sessionData:c,sessionKeys:d,startTimeOffset:h,variableList:f})}}},{key:"handleTrackOrLevelPlaylist",value:function(e,t,n,r,i){var a=this.hls,s=n.id,o=n.level,l=n.type,u=hg(e,n),c=$f(o)?o:$f(s)?s:0,d=dg(n),h=XA.parseLevelPlaylist(e.data,u,c,d,0,this.variableList);if(l===ig){var f={attrs:new hp({}),bitrate:0,details:h,name:"",url:u};a.trigger(np.MANIFEST_LOADED,{levels:[f],audioTracks:[],url:u,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=h,this.handlePlaylistLoaded(h,e,t,n,r,i)}},{key:"handleManifestParsingError",value:function(e,t,n,r,i){this.hls.trigger(np.ERROR,{type:rp.NETWORK_ERROR,details:ip.MANIFEST_PARSING_ERROR,fatal:t.type===ig,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:r,stats:i})}},{key:"handleNetworkError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="A network ".concat(n?"timeout":"error"+(r?" (status "+r.code+")":"")," occurred while loading ").concat(e.type);e.type===ag?a+=": ".concat(e.level," id: ").concat(e.id):e.type!==sg&&e.type!==og||(a+=" id: ".concat(e.id,' group-id: "').concat(e.groupId,'"'));var s=new Error(a);up.warn("[playlist-loader]: ".concat(a));var o=ip.UNKNOWN,l=!1,u=this.getInternalLoader(e);switch(e.type){case ig:o=n?ip.MANIFEST_LOAD_TIMEOUT:ip.MANIFEST_LOAD_ERROR,l=!0;break;case ag:o=n?ip.LEVEL_LOAD_TIMEOUT:ip.LEVEL_LOAD_ERROR,l=!1;break;case sg:o=n?ip.AUDIO_TRACK_LOAD_TIMEOUT:ip.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case og:o=n?ip.SUBTITLE_TRACK_LOAD_TIMEOUT:ip.SUBTITLE_LOAD_ERROR,l=!1}u&&this.resetInternalLoader(e.type);var c={type:rp.NETWORK_ERROR,details:o,fatal:l,url:e.url,loader:u,context:e,error:s,networkDetails:t,stats:i};if(r){var d=(null==t?void 0:t.url)||e.url;c.response=qf({url:d,data:void 0},r)}this.hls.trigger(np.ERROR,c)}},{key:"handlePlaylistLoaded",value:function(e,t,n,r,i,a){var s=this.hls,o=r.type,l=r.level,u=r.id,c=r.groupId,d=r.deliveryDirectives,h=hg(t,r),f=dg(r),p="number"==typeof r.level&&f===lg?l:void 0;if(e.fragments.length){e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));var A=e.playlistParsingError;if(A)s.trigger(np.ERROR,{type:rp.NETWORK_ERROR,details:ip.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:A,reason:A.message,response:t,context:r,level:p,parent:f,networkDetails:i,stats:n});else switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),o){case ig:case ag:s.trigger(np.LEVEL_LOADED,{details:e,level:p||0,id:u||0,stats:n,networkDetails:i,deliveryDirectives:d});break;case sg:s.trigger(np.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case og:s.trigger(np.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:d})}}else{var g=new Error("No Segments found in Playlist");s.trigger(np.ERROR,{type:rp.NETWORK_ERROR,details:ip.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:t,context:r,level:p,parent:f,networkDetails:i,stats:n})}}}]),e}();function pg(e,t){var n;try{n=new Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function Ag(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: ".concat(t))}catch(n){up.debug("[texttrack-utils]: ".concat(n));try{var r=new self.TextTrackCue(t.startTime,t.endTime,t.text);r.id=t.id,e.addCue(r)}catch(e){up.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: ".concat(e))}}"disabled"===n&&(e.mode=n)}function gg(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function mg(e,t,n,r){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var a=function(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;var r=0,i=n;for(;r<=i;){var a=Math.floor((i+r)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&r<n))return a;r=a+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var a=i,s=e.length;a<s;a++){var o=e[a];if(o.startTime>=t&&o.endTime<=n)r.push(o);else if(o.startTime>n)return r}return r}(e.cues,t,n),s=0;s<a.length;s++)r&&!r(a[s])||e.removeCue(a[s]);"disabled"===i&&(e.mode=i)}function vg(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||t.push(e[n])}return t}var yg="org.id3",Eg="com.apple.quicktime.HLS",_g="https://aomedia.org/emsg/ID3";function Tg(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function bg(e,t,n,r,i){var a=new e(t,n,"");try{a.value=r,i&&(a.type=i)}catch(s){a=new e(t,n,JSON.stringify(i?qf({type:i},r):r))}return a}var Sg=function(){var e=Tg();try{e&&new e(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function wg(e,t){return e.getTime()/1e3-t}var Cg=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}return _create_class(e,[{key:"destroy",value:function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(np.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(np.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media}},{key:"onMediaDetaching",value:function(){this.id3Track&&(gg(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}},{key:"onManifestLoading",value:function(){this.dateRangeCuesAppended={}}},{key:"createTrack",value:function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t}},{key:"getID3Track",value:function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return pg(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}},{key:"onFragParsingMetadata",value:function(e,t){if(this.media){var n=this.hls.config,r=n.enableEmsgMetadataCues,i=n.enableID3MetadataCues;if(r||i){var a=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));var s=Tg();if(s)for(var o=0;o<a.length;o++){var l=a[o].type;if((l!==_g||r)&&i){var u=Wp(a[o].data);if(u){var c=a[o].pts,d=c+a[o].duration;d>Sg&&(d=Sg),d-c<=0&&(d=c+.25);for(var h=0;h<u.length;h++){var f=u[h];if(!qp(f)){this.updateId3CueEnds(c,l);var p=bg(s,c,d,f,l);p&&this.id3Track.addCue(p)}}}}}}}}},{key:"updateId3CueEnds",value:function(e,t){var n,r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(var i=r.length;i--;){var a=r[i];a.type===t&&a.startTime<e&&a.endTime===Sg&&(a.endTime=e)}}},{key:"onBufferFlushing",value:function(e,t){var n=t.startOffset,r=t.endOffset,i=t.type,a=this.id3Track,s=this.hls;if(s){var o=s.config,l=o.enableEmsgMetadataCues,u=o.enableID3MetadataCues;if(a&&(l||u))mg(a,n,r,"audio"===i?function(e){return e.type===yg&&u}:"video"===i?function(e){return e.type===_g&&l}:function(e){return e.type===yg&&u||e.type===_g&&l})}}},{key:"onLevelUpdated",value:function(e,t){var n=this,r=function(e){var t=l[e],r=o[t],i=wg(r.startDate,f),s=a[t],u=(null==s?void 0:s.cues)||{},c=(null==s?void 0:s.durationKnown)||!1,d=Sg,h=r.endDate;if(h)d=wg(h,f),c=!0;else if(r.endOnNext&&!c){var A=l.reduce((function(e,t){if(t!==r.id){var n=o[t];if(n.class===r.class&&n.startDate>r.startDate&&(!e||r.startDate<e.startDate))return n}return e}),null);A&&(d=wg(A.startDate,f),c=!0)}for(var g,m,v=Object.keys(r.attr),y=0;y<v.length;y++){var E=v[y];if("ID"!==(m=E)&&"CLASS"!==m&&"START-DATE"!==m&&"DURATION"!==m&&"END-DATE"!==m&&"END-ON-NEXT"!==m){var _=u[E];if(_)c&&!s.durationKnown&&(_.endTime=d);else if(p){var T=r.attr[E];fp(E)&&(g=T,T=Uint8Array.from(g.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);var b=bg(p,i,d,{key:E,data:T},Eg);b&&(b.id=t,n.id3Track.addCue(b),u[E]=b)}}}a[t]={cues:u,dateRange:r,durationKnown:c}},i=t.details;if(this.media&&i.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var a=this.dateRangeCuesAppended,s=this.id3Track,o=i.dateRanges,l=Object.keys(o);if(s)for(var u=function(e){var t=c[e];Object.keys(a[t].cues).forEach((function(e){s.removeCue(a[t].cues[e])})),delete a[t]},c=Object.keys(a).filter((function(e){return!l.includes(e)})),d=c.length;d--;)u(d);var h=i.fragments[i.fragments.length-1];if(0!==l.length&&$f(null==h?void 0:h.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=h.programDateTime/1e3-h.start,p=Tg(),A=0;A<l.length;A++)r(A)}}}}]),e}(),Ig=function(){function e(t){var n=this;_class_call_check(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return n.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}return _create_class(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,a=i.liveSyncDuration,s=i.liveSyncDurationCount,o=i.lowLatencyMode,l=this.hls.userConfig,u=o&&n||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:s*r);var c=r;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,a=r-n.totalduration,s=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),s)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}},{key:"registerListeners",value:function(){this.hls.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(np.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(np.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(np.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){this.hls.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(np.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(np.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(np.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}},{key:"onManifestLoading",value:function(){this.levelDetails=null,this._latency=null,this.stallCount=0}},{key:"onLevelUpdated",value:function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}},{key:"onError",value:function(e,t){var n;t.details===ip.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&up.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}},{key:"timeupdate",value:function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,a=r.maxLiveSyncPlaybackRate;if(i&&1!==a&&t.live){var s=this.targetLatency;if(null!==s){var o=n-s;if(o<Math.min(this.maxLatency,s+t.targetduration)&&o>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,a)),u=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(l,Math.max(1,u))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}}},{key:"estimateLiveEdge",value:function(){var e=this.levelDetails;return null===e?null:e.edge+e.age}},{key:"computeLatency",value:function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}]),e}(),kg=["NONE","TYPE-0","TYPE-1",null];var Rg=["SDR","PQ","HLG"];var Dg="",Mg="YES",Lg="v2";var Ng=function(){function e(t,n,r){_class_call_check(this,e),this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=n,this.skip=r}return _create_class(e,[{key:"addDirectives",value:function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}]),e}(),Bg=function(){function e(t){_class_call_check(this,e),this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(e){return!!e})).map((function(e){return e.substring(0,4)})).join(","),this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}return _create_class(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"averageBitrate",get:function(){return this._avgBitrate||this.realBitrate||this.bitrate}},{key:"attrs",get:function(){return this._attrs[0]}},{key:"codecs",get:function(){return this.attrs.CODECS||""}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"videoRange",get:function(){return this.attrs["VIDEO-RANGE"]||"SDR"}},{key:"score",get:function(){return this.attrs.optionalFloat("SCORE",0)}},{key:"uri",get:function(){return this.url[0]||""}},{key:"hasAudioGroup",value:function(e){return xg(this._audioGroups,e)}},{key:"hasSubtitleGroup",value:function(e){return xg(this._subtitleGroups,e)}},{key:"audioGroups",get:function(){return this._audioGroups}},{key:"subtitleGroups",get:function(){return this._subtitleGroups}},{key:"addGroupId",value:function(e,t){if(t)if("audio"===e){var n=this._audioGroups;n||(n=this._audioGroups=[]),-1===n.indexOf(t)&&n.push(t)}else if("text"===e){var r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),-1===r.indexOf(t)&&r.push(t)}}},{key:"urlId",get:function(){return 0},set:function(e){}},{key:"audioGroupIds",get:function(){return this.audioGroups?[this.audioGroupId]:void 0}},{key:"textGroupIds",get:function(){return this.subtitleGroups?[this.textGroupId]:void 0}},{key:"audioGroupId",get:function(){var e;return null==(e=this.audioGroups)?void 0:e[0]}},{key:"textGroupId",get:function(){var e;return null==(e=this.subtitleGroups)?void 0:e[0]}},{key:"addFallback",value:function(){}}]),e}();function xg(e,t){return!(!t||!e)&&-1!==e.indexOf(t)}function Pg(e,t){var n=t.startPTS;if($f(n)){var r,i=0;t.sn>e.sn?(i=n-e.start,r=e):(i=e.start-n,r=t),r.duration!==i&&(r.duration=i)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function Og(e,t,n,r,i,a){r-n<=0&&(up.warn("Fragment should have a positive duration",t),r=n+t.duration,a=i+t.duration);var s=n,o=r,l=t.startPTS,u=t.endPTS;if($f(l)){var c=Math.abs(l-n);$f(t.deltaPTS)?t.deltaPTS=Math.max(c,t.deltaPTS):t.deltaPTS=c,s=Math.max(n,l),n=Math.min(n,l),i=Math.min(i,t.startDTS),o=Math.min(r,u),r=Math.max(r,u),a=Math.max(a,t.endDTS)}var d=n-t.start;0!==t.start&&(t.start=n),t.duration=r-t.start,t.startPTS=n,t.maxStartPTS=s,t.startDTS=i,t.endPTS=r,t.minEndPTS=o,t.endDTS=a;var h,f=t.sn;if(!e||f<e.startSN||f>e.endSN)return 0;var p=f-e.startSN,A=e.fragments;for(A[p]=t,h=p;h>0;h--)Pg(A[h],A[h-1]);for(h=p;h<A.length-1;h++)Pg(A[h],A[h+1]);return e.fragmentHint&&Pg(A[A.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,d}function Fg(e,t){for(var n=null,r=e.fragments,i=r.length-1;i>=0;i--){var a=r[i].initSegment;if(a){n=a;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var s,o=0;(function(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,s=t.startSN-e.startSN,o=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=a;u++){var c=l[s+u],d=o[u];r&&!d&&u<r&&(d=t.fragments[u]=c),c&&d&&n(c,d)}}(e,t,(function(e,r){e.relurl&&(o=e.cc-r.cc),$f(e.startPTS)&&$f(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(s=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,e.initSegment&&(r.initSegment=e.initSegment,n=e.initSegment)})),n)&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;!e||e.initSegment&&e.initSegment.relurl!==(null==(t=n)?void 0:t.relurl)||(e.initSegment=n)}));if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){up.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var l=t.skippedSegments;l--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,n){var r=Kf({},e);n&&n.forEach((function(e){delete r[e]}));return Object.keys(t).forEach((function(e){var n=new pp(t[e].attr,r[e]);n.isValid?r[e]=n:up.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(t[e].attr),'"'))})),r}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));var u=t.fragments;if(o){up.warn("discontinuity sliding from playlist, take drift into account");for(var c=0;c<u.length;c++)u[c].cc+=o}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,n){if(e&&t)for(var r=0,i=0,a=e.length;i<=a;i++){var s=e[i],o=t[i+r];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?n(s,o):r--}}(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),s?Og(t,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):Ug(e,t),u.length&&(t.totalduration=t.edge-u[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var d=t.advancedDateTime;if(t.advanced&&d){var h=t.edge;t.driftStart||(t.driftStartTime=d,t.driftStart=h),t.driftEndTime=d,t.driftEnd=h}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function Ug(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||jg(t,r[n].start)}function jg(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function Qg(e,t,n){var r;return null!=e&&e.details?Gg(null==(r=e.details)?void 0:r.partList,t,n):null}function Gg(e,t,n){if(e)for(var r=e.length;r--;){var i=e[r];if(i.index===n&&i.fragment.sn===t)return i}return null}function Vg(e){e.forEach((function(e,t){var n=e.details;null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t}))}))}function Hg(e){switch(e.details){case ip.FRAG_LOAD_TIMEOUT:case ip.KEY_LOAD_TIMEOUT:case ip.LEVEL_LOAD_TIMEOUT:case ip.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Yg(e,t){var n=Hg(t);return e.default["".concat(n?"timeout":"error","Retry")]}function qg(e,t){var n="linear"===e.backoff?1:Math.pow(2,t);return Math.min(n*e.retryDelayMs,e.maxRetryDelayMs)}function zg(e){return qf(qf({},e),{errorRetry:null,timeoutRetry:null})}function Wg(e,t,n,r){if(!e)return!1;var i=null==r?void 0:r.code,a=t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(i)||!!n);return e.shouldRetry?e.shouldRetry(e,t,n,r,a):a}var Kg=function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var s=t(a=e[i=(n+r)/2|0]);if(s>0)n=i+1;else{if(!(s<0))return a;r=i-1}}return null};function Xg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=null;if(e){i=t[e.sn-t[0].sn+1]||null;var a=e.endDTS-n;a>0&&a<15e-7&&(n+=15e-7)}else 0===n&&0===t[0].start&&(i=t[0]);if(i&&(!e||e.level===i.level)&&0===Jg(n,r,i))return i;var s=Kg(t,Jg.bind(null,n,r));return!s||s===e&&i?i:s}function Jg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(n.start<=e&&n.start+n.duration>e)return 0;var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function Zg(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}var $g=0,em=2,tm=3,nm=5,rm=0,im=1,am=2,sm=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=up.log.bind(up,"[info]:"),this.warn=up.warn.bind(up,"[warning]:"),this.error=up.error.bind(up,"[error]:"),this.registerListeners()}return _create_class(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(np.ERROR,this.onError,this),e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(np.ERROR,this.onError,this),e.off(np.ERROR,this.onErrorOut,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.LEVEL_UPDATED,this.onLevelUpdated,this))}},{key:"destroy",value:function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}},{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.playlistError=0}},{key:"getVariantLevelIndex",value:function(e){return(null==e?void 0:e.type)===lg?e.level:this.hls.loadLevel}},{key:"onManifestLoading",value:function(){this.playlistError=0,this.penalizedRenditions={}}},{key:"onLevelUpdated",value:function(){this.playlistError=0}},{key:"onError",value:function(e,t){var n,r;if(!t.fatal){var i=this.hls,a=t.context;switch(t.details){case ip.FRAG_LOAD_ERROR:case ip.FRAG_LOAD_TIMEOUT:case ip.KEY_LOAD_ERROR:case ip.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case ip.FRAG_PARSING_ERROR:if(null!=(n=t.frag)&&n.gap)return void(t.errorAction={action:$g,flags:rm});case ip.FRAG_GAP:case ip.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=em);case ip.LEVEL_EMPTY_ERROR:case ip.LEVEL_PARSING_ERROR:var s,o,l=t.parent===lg?t.level:i.loadLevel;return void(t.details===ip.LEVEL_EMPTY_ERROR&&null!=(s=t.context)&&null!=(o=s.levelDetails)&&o.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,l):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,l)));case ip.LEVEL_LOAD_ERROR:case ip.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==a?void 0:a.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level)));case ip.AUDIO_TRACK_LOAD_ERROR:case ip.AUDIO_TRACK_LOAD_TIMEOUT:case ip.SUBTITLE_LOAD_ERROR:case ip.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){var u=i.levels[i.loadLevel];if(u&&(a.type===sg&&u.hasAudioGroup(a.groupId)||a.type===og&&u.hasSubtitleGroup(a.groupId)))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=em,void(t.errorAction.flags=im)}return;case ip.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var c=i.levels[i.loadLevel],d=null==c?void 0:c.attrs["HDCP-LEVEL"];return void(d?t.errorAction={action:em,flags:am,hdcpLevel:d}:this.keySystemError(t));case ip.BUFFER_ADD_CODEC_ERROR:case ip.REMUX_ALLOC_ERROR:case ip.BUFFER_APPEND_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(r=t.level)?r:i.loadLevel));case ip.INTERNAL_EXCEPTION:case ip.BUFFER_APPENDING_ERROR:case ip.BUFFER_FULL_ERROR:case ip.LEVEL_SWITCH_ERROR:case ip.BUFFER_STALLED_ERROR:case ip.BUFFER_SEEK_OVER_HOLE:case ip.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:$g,flags:rm})}t.type===rp.KEY_SYSTEM_ERROR&&this.keySystemError(t)}}},{key:"keySystemError",value:function(e){var t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}},{key:"getPlaylistRetryOrSwitchAction",value:function(e,t){var n=Yg(this.hls.config.playlistLoadPolicy,e),r=this.playlistError++;if(Wg(n,r,Hg(e),e.response))return{action:nm,flags:rm,retryConfig:n,retryCount:r};var i=this.getLevelSwitchAction(e,t);return n&&(i.retryConfig=n,i.retryCount=r),i}},{key:"getFragRetryOrSwitchAction",value:function(e){var t=this.hls,n=this.getVariantLevelIndex(e.frag),r=t.levels[n],i=t.config,a=i.fragLoadPolicy,s=i.keyLoadPolicy,o=Yg(e.details.startsWith("key")?s:a,e),l=t.levels.reduce((function(e,t){return e+t.fragmentError}),0);if(r&&(e.details!==ip.FRAG_GAP&&r.fragmentError++,Wg(o,l,Hg(e),e.response)))return{action:nm,flags:rm,retryConfig:o,retryCount:l};var u=this.getLevelSwitchAction(e,n);return o&&(u.retryConfig=o,u.retryCount=l),u}},{key:"getLevelSwitchAction",value:function(e,t){var n=this.hls;null==t&&(t=n.loadLevel);var r=this.hls.levels[t];if(r){var i,a,s=function(t){var n=(t+c)%u.length;if(n!==c&&n>=d&&n<=h&&0===u[n].loadError){var i,a,s=u[n];if(o===ip.FRAG_GAP&&e.frag){var g=u[n].details;if(g){var y=Xg(e.frag,g.fragments,e.frag.start);if(null!=y&&y.gap)return"continue"}}else{if(m===sg&&s.hasAudioGroup(v)||m===og&&s.hasSubtitleGroup(v))return"continue";if(f===ug&&null!=(i=r.audioGroups)&&i.some((function(e){return s.hasAudioGroup(e)}))||f===cg&&null!=(a=r.subtitleGroups)&&a.some((function(e){return s.hasSubtitleGroup(e)}))||p&&r.audioCodec===s.audioCodec||!p&&r.audioCodec!==s.audioCodec||A&&r.codecSet===s.codecSet)return"continue"}return l=n,"break"}},o=e.details;r.loadError++,o===ip.BUFFER_APPEND_ERROR&&r.fragmentError++;var l=-1,u=n.levels,c=n.loadLevel,d=n.minAutoLevel,h=n.maxAutoLevel;n.autoLevelEnabled||(n.loadLevel=-1);for(var f=null==(i=e.frag)?void 0:i.type,p=(f===ug&&o===ip.FRAG_PARSING_ERROR||"audio"===e.sourceBufferName&&(o===ip.BUFFER_ADD_CODEC_ERROR||o===ip.BUFFER_APPEND_ERROR))&&u.some((function(e){var t=e.audioCodec;return r.audioCodec!==t})),A="video"===e.sourceBufferName&&(o===ip.BUFFER_ADD_CODEC_ERROR||o===ip.BUFFER_APPEND_ERROR)&&u.some((function(e){var t=e.codecSet,n=e.audioCodec;return r.codecSet!==t&&r.audioCodec===n})),g=null!=(a=e.context)?a:{},m=g.type,v=g.groupId,y=u.length;y--;){if("break"===s(y))break}if(l>-1&&n.loadLevel!==l)return e.levelRetry=!0,this.playlistError=0,{action:em,flags:rm,nextAutoLevel:l}}return{action:em,flags:im}}},{key:"onErrorOut",value:function(e,t){var n;switch(null==(n=t.errorAction)?void 0:n.action){case $g:break;case em:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===ip.FRAG_GAP?/MediaSource readyState: ended/.test(t.error.message)&&(this.warn('MediaSource ended after "'.concat(t.sourceBufferName,'" sourceBuffer append error. Attempting to recover from media error.')),this.hls.recoverMediaError()):t.fatal=!0}t.fatal&&this.hls.stopLoad()}},{key:"sendAlternateToPenaltyBox",value:function(e){var t=this.hls,n=e.errorAction;if(n){var r=n.flags,i=n.hdcpLevel,a=n.nextAutoLevel;switch(r){case rm:this.switchLevel(e,a);break;case am:i&&(t.maxHdcpLevel=kg[kg.indexOf(i)-1],n.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(t.maxHdcpLevel,'" or lower'))}n.resolved||this.switchLevel(e,a)}}},{key:"switchLevel",value:function(e,t){void 0!==t&&e.errorAction&&(this.warn("switching to level ".concat(t," after ").concat(e.details)),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}]),e}(),om=function(){function e(t,n){_class_call_check(this,e),this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=up.log.bind(up,"".concat(n,":")),this.warn=up.warn.bind(up,"".concat(n,":")),this.hls=t}return _create_class(e,[{key:"destroy",value:function(){this.clearTimer(),this.hls=this.log=this.warn=null}},{key:"clearTimer",value:function(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}},{key:"startLoad",value:function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}},{key:"stopLoad",value:function(){this.canLoad=!1,this.clearTimer()}},{key:"switchParams",value:function(e,t){var n=null==t?void 0:t.renditionReports;if(n){for(var r=-1,i=0;i<n.length;i++){var a=n[i],s=void 0;try{s=new self.URL(a.URI,t.url).href}catch(e){up.warn("Could not construct new URL for Rendition Report: ".concat(e)),s=a.URI||""}if(s===e){r=i;break}s===e.substring(0,s.length)&&(r=i)}if(-1!==r){var o=n[r],l=parseInt(o["LAST-MSN"])||(null==t?void 0:t.lastPartSn),u=parseInt(o["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);u>=0&&c>t.partTarget&&(u+=1)}return new Ng(l,u>=0?u:void 0,Dg)}}}},{key:"loadPlaylist",value:function(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}},{key:"shouldLoadPlaylist",value:function(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}},{key:"shouldReloadPlaylist",value:function(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}},{key:"playlistLoaded",value:function(e,t,n){var r=this,i=t.details,a=t.stats,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;if(i.advancedDateTime=Date.now()-o,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist ".concat(e," ").concat(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED")),n&&i.fragments.length>0&&Fg(n,i),!this.canLoad||!i.live)return;var l,u=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,h=i.lastPartSn,f=i.endSN,p=i.lastPartIndex,A=h===f;-1!==p?(u=A?f+1:h,c=A?d?0:p:p+1):u=f+1;var g=i.age,m=g+i.ageHeader,v=Math.min(m-i.partTarget,1.5*i.targetduration);if(v>0){if(n&&v>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(n.tuneInGoal," to: ").concat(v," with playlist age: ").concat(i.age)),v=0;else{var y=Math.floor(v/i.targetduration);if(u+=y,void 0!==c)c+=Math.round(v%i.targetduration/i.partTarget);this.log("CDN Tune-in age: ".concat(i.ageHeader,"s last advanced ").concat(g.toFixed(2),"s goal: ").concat(v," skip sn ").concat(y," to part ").concat(c))}i.tuneInGoal=v}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c),d||!A)return void this.loadPlaylist(l)}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c));var E=this.hls.mainForwardBufferInfo,_=E?E.end-E.len:0,T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=1e3*e.targetduration;if(e.updated){var r=e.fragments;if(r.length&&4*n>t){var i=1e3*r[r.length-1].duration;i<n&&(n=i)}}else n/=2;return Math.round(n)}(i,1e3*(i.edge-_));i.updated&&s>this.requestScheduled+T&&(this.requestScheduled=a.loading.start),void 0!==u&&i.canBlockReload?this.requestScheduled=a.loading.first+T-(1e3*i.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+T<s?this.requestScheduled=s:this.requestScheduled-s<=0&&(this.requestScheduled+=T);var b=this.requestScheduled-s;b=Math.max(0,b),this.log("reload live playlist ".concat(e," in ").concat(Math.round(b)," ms")),this.timer=self.setTimeout((function(){return r.loadPlaylist(l)}),b)}else this.clearTimer()}},{key:"getDeliveryDirectives",value:function(e,t,n,r){var i=function(e,t){var n=e.canSkipUntil,r=e.canSkipDateRanges,i=e.endSN;return n&&(void 0!==t?t-i:0)<n?r?Lg:Mg:Dg}(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,i=Dg),new Ng(n,r,i)}},{key:"checkRetry",value:function(e){var t=this,n=e.details,r=Hg(e),i=e.errorAction,a=i||{},s=a.action,o=a.retryCount,l=void 0===o?0:o,u=a.retryConfig,c=!!i&&!!u&&(s===nm||!i.resolved&&s===em);if(c){var d;if(this.requestScheduled=-1,l>=u.maxNumRetry)return!1;if(r&&null!=(d=e.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(n,'" without delivery-directives')),this.loadPlaylist();else{var h=qg(u,l);this.timer=self.setTimeout((function(){return t.loadPlaylist()}),h),this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(n,'" in ').concat(h,"ms"))}e.levelRetry=!0,i.resolved=!0}return c}}]),e}(),lm=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_class_call_check(this,e),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=n,this.totalWeight_=r}return _create_class(e,[{key:"sample",value:function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}]),e}(),um=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;_class_call_check(this,e),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new lm(t),this.fast_=new lm(n),this.defaultTTFB_=i,this.ttfb_=new lm(t)}return _create_class(e,[{key:"update",value:function(e,t){var n=this,r=n.slow_,i=n.fast_,a=n.ttfb_;r.halfLife!==e&&(this.slow_=new lm(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==t&&(this.fast_=new lm(t,i.getEstimate(),i.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new lm(e,a.getEstimate(),a.getTotalWeight()))}},{key:"sample",value:function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}},{key:"sampleTTFB",value:function(e){var t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}},{key:"canEstimate",value:function(){return this.fast_.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"getEstimateTTFB",value:function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}},{key:"destroy",value:function(){}}]),e}(),cm={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},dm={};function hm(e,t,n){var r=e.videoCodec,i=e.audioCodec;if(!r||!i||!n)return Promise.resolve(cm);var a={width:e.width,height:e.height,bitrate:Math.ceil(Math.max(.9*e.bitrate,e.averageBitrate)),framerate:e.frameRate||30},s=e.videoRange;"SDR"!==s&&(a.transferFunction=s.toLowerCase());var o=r.split(",").map((function(e){return{type:"media-source",video:qf(qf({},a),{},{contentType:FA(e,"video")})}}));return i&&e.audioGroups&&e.audioGroups.forEach((function(e){var n;e&&(null==(n=t.groups[e])||n.tracks.forEach((function(t){if(t.groupId===e){var n=t.channels||"",r=parseFloat(n);$f(r)&&r>2&&o.push.apply(o,i.split(",").map((function(e){return{type:"media-source",audio:{contentType:FA(e,"audio"),channels:""+r}}})))}})))})),Promise.all(o.map((function(e){var t=function(e){var t=e.audio,n=e.video,r=n||t;if(r){var i=r.contentType.split('"')[1];if(n)return"r".concat(n.height,"x").concat(n.width,"f").concat(Math.ceil(n.framerate)).concat(n.transferFunction||"sd","_").concat(i,"_").concat(Math.ceil(n.bitrate/1e5));if(t)return"c".concat(t.channels).concat(t.spatialRendering?"s":"n","_").concat(i)}return""}(e);return dm[t]||(dm[t]=n.decodingInfo(e))}))).then((function(e){return{supported:!e.some((function(e){return!e.supported})),configurations:o,decodingInfoResults:e}})).catch((function(e){return{supported:!1,configurations:o,decodingInfoResults:[],error:e}}))}function fm(e,t){var n=!1,r=[];return e&&(n="SDR"!==e,r=[e]),t&&(r=t.allowedVideoRanges||Rg.slice(0),r=(n=void 0!==t.preferHDR?t.preferHDR:function(){if("function"==typeof matchMedia){var e=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(e.media!==t.media)return!0===e.matches}return!1}())?r.filter((function(e){return"SDR"!==e})):["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function pm(e,t){up.log('[abr] start candidates with "'.concat(e,'" ignored because ').concat(t))}function Am(e,t,n){if("attrs"in e){var r=t.indexOf(e);if(-1!==r)return r}for(var i=0;i<t.length;i++){if(gm(e,t[i],n))return i}return-1}function gm(e,t,n){var r=e.groupId,i=e.name,a=e.lang,s=e.assocLang,o=e.characteristics,l=e.default,u=e.forced;return(void 0===r||t.groupId===r)&&(void 0===i||t.name===i)&&(void 0===a||t.lang===a)&&(void 0===a||t.assocLang===s)&&(void 0===l||t.default===l)&&(void 0===u||t.forced===u)&&(void 0===o||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split(","),r=t.split(",");return n.length===r.length&&!n.some((function(e){return-1===r.indexOf(e)}))}(o,t.characteristics))&&(void 0===n||n(e,t))}function mm(e,t){var n=e.audioCodec,r=e.channels;return!(void 0!==n&&(t.audioCodec||"").substring(0,4)!==n.substring(0,4)||void 0!==r&&r!==(t.channels||"2"))}function vm(e,t,n){for(var r=t;r;r--)if(n(e[r]))return r;for(var i=t+1;i<e.length;i++)if(n(e[i]))return i;return-1}var ym=function(){function e(t){var n=this;_class_call_check(this,e),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=function(){var e=n.fragCurrent,t=n.partCurrent,r=n.hls,i=r.autoLevelEnabled,a=r.media;if(e&&a){var s=performance.now(),o=t?t.stats:e.stats,l=t?t.duration:e.duration,u=s-o.loading.start,c=r.minAutoLevel;if(o.aborted||o.loaded&&o.loaded===o.total||e.level<=c)return n.clearTimer(),void(n._nextAutoLevel=-1);if(i&&!a.paused&&a.playbackRate&&a.readyState){var d=r.mainForwardBufferInfo;if(null!==d){var h=n.bwEstimator.getEstimateTTFB(),f=Math.abs(a.playbackRate);if(!(u<=Math.max(h,l/(2*f)*1e3))){var p=d.len/f,A=o.loading.first?o.loading.first-o.loading.start:-1,g=o.loaded&&A>-1,m=n.getBwEstimate(),v=r.levels,y=v[e.level],E=o.total||Math.max(o.loaded,Math.round(l*y.averageBitrate/8)),_=g?u-A:u;_<1&&g&&(_=Math.min(u,8*o.loaded/m));var T=g?1e3*o.loaded/_:0,b=T?(E-o.loaded)/T:8*E/m+h/1e3;if(!(b<=p)){var S,w=T?8*T:m,C=Number.POSITIVE_INFINITY;for(S=e.level-1;S>c;S--){var I=v[S].maxBitrate;if((C=n.getTimeToLoadFrag(h/1e3,w,l*I,!v[S].details))<p)break}if(!(C>=b||C>10*l)){r.nextLoadLevel=r.nextAutoLevel=S,g?n.bwEstimator.sample(u-Math.min(h,A),o.loaded):n.bwEstimator.sampleTTFB(u);var k=v[S].maxBitrate;n.getBwEstimate()*n.hls.config.abrBandWidthUpFactor>k&&n.resetEstimator(k),n.clearTimer(),up.warn("[abr] Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," is loading too slowly;\n      Time to underbuffer: ").concat(p.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(b.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(C.toFixed(3)," s\n      TTFB estimate: ").concat(0|A," ms\n      Current BW estimate: ").concat($f(m)?0|m:"Unknown"," bps\n      New BW estimate: ").concat(0|n.getBwEstimate()," bps\n      Switching to level ").concat(S," @ ").concat(0|k," bps")),r.trigger(np.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:o})}}}}}}},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}return _create_class(e,[{key:"resetEstimator",value:function(e){e&&(up.log("setting initial bwe to ".concat(e)),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}},{key:"initEstimator",value:function(){var e=this.hls.config;return new um(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}},{key:"registerListeners",value:function(){var e=this.hls;e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.FRAG_LOADING,this.onFragLoading,this),e.on(np.FRAG_LOADED,this.onFragLoaded,this),e.on(np.FRAG_BUFFERED,this.onFragBuffered,this),e.on(np.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(np.LEVEL_LOADED,this.onLevelLoaded,this),e.on(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(np.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(np.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.FRAG_LOADING,this.onFragLoading,this),e.off(np.FRAG_LOADED,this.onFragLoaded,this),e.off(np.FRAG_BUFFERED,this.onFragBuffered,this),e.off(np.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(np.LEVEL_LOADED,this.onLevelLoaded,this),e.off(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(np.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(np.ERROR,this.onError,this))}},{key:"destroy",value:function(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}},{key:"onManifestLoading",value:function(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}},{key:"onLevelsUpdated",value:function(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}},{key:"onMaxAutoLevelUpdated",value:function(){this.firstSelection=-1,this.nextAutoLevelKey=""}},{key:"onFragLoading",value:function(e,t){var n=t.frag;if(!this.ignoreFragment(n)){var r;if(!n.bitrateTest)this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}},{key:"onLevelSwitching",value:function(e,t){this.clearTimer()}},{key:"onError",value:function(e,t){if(!t.fatal)switch(t.details){case ip.BUFFER_ADD_CODEC_ERROR:case ip.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case ip.FRAG_LOAD_TIMEOUT:var n=t.frag,r=this.fragCurrent,i=this.partCurrent;if(n&&r&&n.sn===r.sn&&n.level===r.level){var a=performance.now(),s=i?i.stats:n.stats,o=a-s.loading.start,l=s.loading.first?s.loading.first-s.loading.start:-1;if(s.loaded&&l>-1){var u=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(o-Math.min(u,l),s.loaded)}else this.bwEstimator.sampleTTFB(o)}}}},{key:"getTimeToLoadFrag",value:function(e,t,n,r){return e+n/t+(r?this.lastLevelLoadSec:0)}},{key:"onLevelLoaded",value:function(e,t){var n=this.hls.config,r=t.stats.loading,i=r.end-r.start;$f(i)&&(this.lastLevelLoadSec=i/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}},{key:"onFragLoaded",value:function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(n.type===lg&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){var a=r?r.duration:n.duration,s=this.hls.levels[n.level],o=(s.loaded?s.loaded.bytes:0)+i.loaded,l=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:l},s.realBitrate=Math.round(8*o/l)}if(n.bitrateTest){var u={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(np.FRAG_BUFFERED,u),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}},{key:"onFragBuffered",value:function(e,t){var n=t.frag,r=t.part,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(!i.aborted&&!this.ignoreFragment(n)){var a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}}},{key:"ignoreFragment",value:function(e){return e.type!==lg||"initSegment"===e.sn}},{key:"clearTimer",value:function(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}},{key:"firstAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.minAutoLevel,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,a=this.findBestLevel(r,n,t,0,i,1,1);if(a>-1)return a;var s=this.hls.firstLevel,o=Math.min(Math.max(s,n),t);return up.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist ".concat(s," clamped to ").concat(o)),o}},{key:"forcedAutoLevel",get:function(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}},{key:"nextAutoLevel",get:function(){var e=this.forcedAutoLevel,t=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(!(-1===e||t&&n&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return e;var r=t&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==e){var i=this.hls.levels;if(i.length>Math.max(e,r)&&i[e].loadError<=i[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r},set:function(e){var t=this.hls,n=t.maxAutoLevel,r=t.minAutoLevel,i=Math.min(Math.max(e,r),n);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}},{key:"getAutoLevelKey",value:function(){return"".concat(this.getBwEstimate(),"_").concat(this.getStarvationDelay().toFixed(2))}},{key:"getNextABRAutoLevel",value:function(){var e=this,t=e.fragCurrent,n=e.partCurrent,r=e.hls,i=r.maxAutoLevel,a=r.config,s=r.minAutoLevel,o=n?n.duration:t?t.duration:0,l=this.getBwEstimate(),u=this.getStarvationDelay(),c=a.abrBandWidthFactor,d=a.abrBandWidthUpFactor;if(u){var h=this.findBestLevel(l,s,i,u,0,c,d);if(h>=0)return h}var f=o?Math.min(o,a.maxStarvationDelay):a.maxStarvationDelay;if(!u){var p=this.bitrateTestDelay;if(p)f=(o?Math.min(o,a.maxLoadingDelay):a.maxLoadingDelay)-p,up.info("[abr] bitrate test took ".concat(Math.round(1e3*p),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*f)," ms")),c=d=1}var A=this.findBestLevel(l,s,i,u,f,c,d);if(up.info("[abr] ".concat(u?"rebuffering expected":"buffer is empty",", optimal quality level ").concat(A)),A>-1)return A;var g=r.levels[s],m=r.levels[r.loadLevel];return(null==g?void 0:g.bitrate)<(null==m?void 0:m.bitrate)?s:r.loadLevel}},{key:"getStarvationDelay",value:function(){var e=this.hls,t=e.media;if(!t)return 1/0;var n=t&&0!==t.playbackRate?Math.abs(t.playbackRate):1,r=e.mainForwardBufferInfo;return(r?r.len:0)/n}},{key:"getBwEstimate",value:function(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}},{key:"findBestLevel",value:function(e,t,n,r,i,a,s){var o,l=this,u=function(t){var o,u=m[t],p=t>f;if(!u)return"continue";if(E.useMediaCapabilities&&!u.supportedResult&&!u.supportedPromise){var g=navigator.mediaCapabilities;"function"==typeof(null==g?void 0:g.decodingInfo)&&function(e,t,n,r,i,a){var s=e.audioCodec?e.audioGroups:null,o=null==a?void 0:a.audioCodec,l=null==a?void 0:a.channels,u=l?parseInt(l):o?1/0:2,c=null;if(null!=s&&s.length)try{c=1===s.length&&s[0]?t.groups[s[0]].channels:s.reduce((function(e,n){if(n){var r=t.groups[n];if(!r)throw new Error("Audio track group ".concat(n," not found"));Object.keys(r.channels).forEach((function(t){e[t]=(e[t]||0)+r.channels[t]}))}return e}),{2:0})}catch(e){return!0}return void 0!==e.videoCodec&&(e.width>1920&&e.height>1088||e.height>1920&&e.width>1088||e.frameRate>Math.max(r,30)||"SDR"!==e.videoRange&&e.videoRange!==n||e.bitrate>Math.max(i,8e6))||!!c&&$f(u)&&Object.keys(c).some((function(e){return parseInt(e)>u}))}(u,R,w,C,e,I)?(u.supportedPromise=hm(u,R,g),u.supportedPromise.then((function(e){if(c.hls){u.supportedResult=e;var t=c.hls.levels,n=t.indexOf(u);e.error?up.warn('[abr] MediaCapabilities decodingInfo error: "'.concat(e.error,'" for level ').concat(n," ").concat(JSON.stringify(e))):e.supported||(up.warn("[abr] Unsupported MediaCapabilities decodingInfo result for level ".concat(n," ").concat(JSON.stringify(e))),n>-1&&t.length>1&&(up.log("[abr] Removing unsupported level ".concat(n)),c.hls.removeLevel(n)))}}))):u.supportedResult=cm}if(_&&u.codecSet!==_||w&&u.videoRange!==w||p&&C>u.frameRate||!p&&C>0&&C<u.frameRate||u.supportedResult&&(null==(o=u.supportedResult.decodingInfoResults)||!o[0].smooth))return U.push(t),"continue";var v=u.details,k=(A?null==v?void 0:v.partTarget:null==v?void 0:v.averagetargetduration)||O,D=void 0;D=p?s*e:a*e;var M=O&&r>=2*O&&0===i?m[t].averageBitrate:m[t].maxBitrate,L=l.getTimeToLoadFrag(F,D,M*k,void 0===v);if(D>=M&&(t===h||0===u.loadError&&0===u.fragmentError)&&(L<=F||!$f(L)||b&&!l.bitrateTestDelay||L<d)){var N=l.forcedAutoLevel;return t===y||-1!==N&&N===y||(U.length&&up.trace("[abr] Skipped level(s) ".concat(U.join(",")," of ").concat(n,' max with CODECS and VIDEO-RANGE:"').concat(m[U[0]].codecs,'" ').concat(m[U[0]].videoRange,'; not compatible with "').concat(T.codecs,'" ').concat(w)),up.info("[abr] switch candidate:".concat(f,"->").concat(t," adjustedbw(").concat(Math.round(D),")-bitrate=").concat(Math.round(D-M)," ttfb:").concat(F.toFixed(1)," avgDuration:").concat(k.toFixed(1)," maxFetchDuration:").concat(d.toFixed(1)," fetchDuration:").concat(L.toFixed(1)," firstSelection:").concat(S," codecSet:").concat(_," videoRange:").concat(w," hls.loadLevel:").concat(y))),S&&(l.firstSelection=t),{v:t}}},c=this,d=r+i,h=this.lastLoadedFragLevel,f=-1===h?this.hls.firstLevel:h,p=this.fragCurrent,A=this.partCurrent,g=this.hls,m=g.levels,v=g.allAudioTracks,y=g.loadLevel,E=g.config;if(1===m.length)return 0;var _,T=m[f],b=!(null==T||null==(o=T.details)||!o.live),S=-1===y||-1===h,w="SDR",C=(null==T?void 0:T.frameRate)||0,I=E.audioPreference,k=E.videoPreference,R=this.audioTracksByGroup||(this.audioTracksByGroup=function(e){return e.reduce((function(e,t){var n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);var r=t.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(v));if(S){if(-1!==this.firstSelection)return this.firstSelection;var D=this.codecTiers||(this.codecTiers=function(e,t,n,r){return e.slice(n,r+1).reduce((function(e,n){if(!n.codecSet)return e;var r=n.audioGroups,i=e[n.codecSet];i||(e[n.codecSet]=i={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),i.minBitrate=Math.min(i.minBitrate,n.bitrate);var a=Math.min(n.height,n.width);return i.minHeight=Math.min(i.minHeight,a),i.minFramerate=Math.min(i.minFramerate,n.frameRate),i.maxScore=Math.max(i.maxScore,n.score),i.fragmentError+=n.fragmentError,i.videoRanges[n.videoRange]=(i.videoRanges[n.videoRange]||0)+1,r&&r.forEach((function(e){if(e){var n=t.groups[e];i.hasDefaultAudio=i.hasDefaultAudio||t.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(n.channels).forEach((function(e){i.channels[e]=(i.channels[e]||0)+n.channels[e]}))}})),e}),{})}(m,R,t,n)),M=function(e,t,n,r,i){for(var a=function(t){var n=e[s[t]];c=n.channels[2]>0,h=Math.min(h,n.minHeight),f=Math.min(f,n.minFramerate),p=Math.min(p,n.minBitrate);var r=y.filter((function(e){return n.videoRanges[e]>0}));r.length>0&&(d=!0,g=r)},s=Object.keys(e),o=null==r?void 0:r.channels,l=null==r?void 0:r.audioCodec,u=o&&2===parseInt(o),c=!0,d=!1,h=1/0,f=1/0,p=1/0,A=0,g=[],m=fm(t,i),v=m.preferHDR,y=m.allowedVideoRanges,E=s.length;E--;)a(E);h=$f(h)?h:0,f=$f(f)?f:0;var _=Math.max(1080,h),T=Math.max(30,f);return p=$f(p)?p:n,n=Math.max(p,n),d||(t=void 0,g=[]),{codecSet:s.reduce((function(t,r){var i=e[r];if(r===t)return t;if(i.minBitrate>n)return pm(r,"min bitrate of ".concat(i.minBitrate," > current estimate of ").concat(n)),t;if(!i.hasDefaultAudio)return pm(r,"no renditions with default or auto-select sound found"),t;if(l&&r.indexOf(l.substring(0,4))%5!=0)return pm(r,'audio codec preference "'.concat(l,'" not found')),t;if(o&&!u){if(!i.channels[o])return pm(r,"no renditions with ".concat(o," channel sound found (channels options: ").concat(Object.keys(i.channels),")")),t}else if((!l||u)&&c&&0===i.channels[2])return pm(r,"no renditions with stereo sound found"),t;return i.minHeight>_?(pm(r,"min resolution of ".concat(i.minHeight," > maximum of ").concat(_)),t):i.minFramerate>T?(pm(r,"min framerate of ".concat(i.minFramerate," > maximum of ").concat(T)),t):g.some((function(e){return i.videoRanges[e]>0}))?i.maxScore<A?(pm(r,"max score of ".concat(i.maxScore," < selected max of ").concat(A)),t):t&&(jA(r)>=jA(t)||i.fragmentError>e[t].fragmentError)?t:(A=i.maxScore,r):(pm(r,"no variants with VIDEO-RANGE of ".concat(JSON.stringify(g)," found")),t)}),void 0),videoRanges:g,preferHDR:v,minFramerate:f,minBitrate:p}}(D,w,e,I,k),L=M.codecSet,N=M.videoRanges,B=M.minFramerate,x=M.minBitrate,P=M.preferHDR;_=L,w=P?N[N.length-1]:N[0],C=B,e=Math.max(e,x),up.log("[abr] picked start tier ".concat(JSON.stringify(M)))}else _=null==T?void 0:T.codecSet,w=null==T?void 0:T.videoRange;for(var O=A?A.duration:p?p.duration:0,F=this.bwEstimator.getEstimateTTFB()/1e3,U=[],j=n;j>=t;j--){var Q=u(j);if("object"===_type_of(Q))return Q.v}return-1}}]),e}(),Em=function(){function e(){_class_call_check(this,e),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}return _create_class(e,[{key:"destroy",value:function(){this.onHandlerDestroying(),this.onHandlerDestroyed()}},{key:"onHandlerDestroying",value:function(){this.clearNextTick(),this.clearInterval()}},{key:"onHandlerDestroyed",value:function(){}},{key:"hasInterval",value:function(){return!!this._tickInterval}},{key:"hasNextTick",value:function(){return!!this._tickTimer}},{key:"setInterval",value:function(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}},{key:"clearInterval",value:function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}},{key:"clearNextTick",value:function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}},{key:"tick",value:function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}},{key:"tickImmediate",value:function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}},{key:"doTick",value:function(){}}]),e}(),_m="NOT_LOADED",Tm="APPENDING",bm="PARTIAL",Sm="OK",wm=function(){function e(t){_class_call_check(this,e),this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}return _create_class(e,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(np.BUFFER_APPENDED,this.onBufferAppended,this),e.on(np.FRAG_BUFFERED,this.onFragBuffered,this),e.on(np.FRAG_LOADED,this.onFragLoaded,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(np.BUFFER_APPENDED,this.onBufferAppended,this),e.off(np.FRAG_BUFFERED,this.onFragBuffered,this),e.off(np.FRAG_LOADED,this.onFragLoaded,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}},{key:"getAppendedFrag",value:function(e,t){var n=this.activePartLists[t];if(n)for(var r=n.length;r--;){var i=n[r];if(!i)break;var a=i.end;if(i.start<=e&&null!==a&&e<=a)return i}return this.getBufferedFrag(e,t)}},{key:"getBufferedFrag",value:function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var a=n[r[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var s=a.body;if(s.start<=e&&e<=s.end)return s}}return null}},{key:"detectEvictedFragments",value:function(e,t,n,r){var i=this;this.timeRanges&&(this.timeRanges[e]=t);var a=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(r){var s=i.fragments[r];if(s&&!(a>=s.body.sn))if(s.buffered||s.loaded){var o=s.range[e];o&&o.time.some((function(e){var n=!i.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&i.removeFragment(s.body),n}))}else s.body.type===n&&i.removeFragment(s.body)}))}},{key:"detectPartialFragments",value:function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var a=Im(r),s=this.fragments[a];if(!(!s||s.buffered&&r.gap)){var o=!r.relurl;if(Object.keys(n).forEach((function(e){var a=r.elementaryStreams[e];if(a){var l=n[e],u=o||!0===a.partial;s.range[e]=t.getBufferedTimes(r,i,u,l)}})),s.loaded=null,Object.keys(s.range).length)s.buffered=!0,(s.body.endList=r.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),Cm(s)||this.removeParts(r.sn-1,r.type);else this.removeFragment(s.body)}}}},{key:"removeParts",value:function(e,t){var n=this.activePartLists[t];n&&(this.activePartLists[t]=n.filter((function(t){return t.fragment.sn>=e})))}},{key:"fragBuffered",value:function(e,t){var n=Im(e),r=this.fragments[n];!r&&t&&(r=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}},{key:"getBufferedTimes",value:function(e,t,n,r){for(var i={time:[],partial:n},a=e.start,s=e.end,o=e.minEndPTS||s,l=e.maxStartPTS||a,u=0;u<r.length;u++){var c=r.start(u)-this.bufferPadding,d=r.end(u)+this.bufferPadding;if(l>=c&&o<=d){i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(s,r.end(u))});break}if(a<d&&s>c){var h=Math.max(a,r.start(u)),f=Math.min(s,r.end(u));f>h&&(i.partial=!0,i.time.push({startPTS:h,endPTS:f}))}else if(s<=c)break}return i}},{key:"getPartialFragment",value:function(e){var t,n,r,i=null,a=0,s=this.bufferPadding,o=this.fragments;return Object.keys(o).forEach((function(l){var u=o[l];u&&Cm(u)&&(n=u.body.start-s,r=u.body.end+s,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=u.body,a=t)))})),i}},{key:"isEndListAppended",value:function(e){var t=this.endListFragments[e];return void 0!==t&&(t.buffered||Cm(t))}},{key:"getState",value:function(e){var t=Im(e),n=this.fragments[t];return n?n.buffered?Cm(n)?bm:Sm:Tm:_m}},{key:"isTimeBuffered",value:function(e,t,n){for(var r,i,a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1}},{key:"onFragLoaded",value:function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest){var i=r?null:t,a=Im(n);this.fragments[a]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}}},{key:"onBufferAppended",value:function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if("initSegment"!==r.sn){var s=r.type;if(i){var o=this.activePartLists[s];o||(this.activePartLists[s]=o=[]),o.push(i)}this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];n.detectEvictedFragments(e,t,s,i)}))}}},{key:"onFragBuffered",value:function(e,t){this.detectPartialFragments(t)}},{key:"hasFragment",value:function(e){var t=Im(e);return!!this.fragments[t]}},{key:"hasParts",value:function(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}},{key:"removeFragmentsInRange",value:function(e,t,n,r,i){var a=this;r&&!this.hasGaps||Object.keys(this.fragments).forEach((function(s){var o=a.fragments[s];if(o){var l=o.body;l.type!==n||r&&!l.gap||l.start<t&&l.end>e&&(o.buffered||i)&&a.removeFragment(l)}}))}},{key:"removeFragment",value:function(e){var t=Im(e);e.stats.loaded=0,e.clearElementaryStreamInfo();var n=this.activePartLists[e.type];if(n){var r=e.sn;this.activePartLists[e.type]=n.filter((function(e){return e.fragment.sn!==r}))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}},{key:"removeAllFragments",value:function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}]),e}();function Cm(e){var t,n,r;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(n=e.range.audio)?void 0:n.partial)||(null==(r=e.range.audiovideo)?void 0:r.partial))}function Im(e){return"".concat(e.type,"_").concat(e.level,"_").concat(e.sn)}var km={length:0,start:function(){return 0},end:function(){return 0}},Rm=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"isBuffered",value:function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(e){}return!1}},{key:"bufferInfo",value:function(t,n,r){try{if(t){var i,a=e.getBuffered(t),s=[];for(i=0;i<a.length;i++)s.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(s,n,r)}}catch(e){}return{len:0,start:n,end:n,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var a=r.length;if(a){var s=r[a-1].end;e[i].start-s<n?e[i].end>s&&(r[a-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var o,l=0,u=t,c=t,d=0;d<r.length;d++){var h=r[d].start,f=r[d].end;if(t+n>=h&&t<f)u=h,l=(c=f)-t;else if(t+n<h){o=h;break}}return{len:l,start:u||0,end:c||0,nextStart:o}}},{key:"getBuffered",value:function(e){try{return e.buffered}catch(e){return up.log("failed to get media.buffered",e),km}}}]),e}(),Dm=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];_class_call_check(this,e),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=n,this.id=r,this.size=i,this.part=a,this.partial=s};function Mm(e,t){for(var n=0,r=e.length;n<r;n++){var i;if((null==(i=e[n])?void 0:i.cc)===t)return e[n]}return null}function Lm(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function Nm(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)Lm(n[r],e);t.fragmentHint&&Lm(t.fragmentHint,e),t.alignedSliding=!0}function Bm(e,t,n){t&&(!function(e,t,n){if(function(e,t,n){return!(!t||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}(e,n,t)){var r=function(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var i=Mm(n,r[0].cc);if(i&&(!i||i.startPTS))return i;up.log("No frag in previous level to align on")}else up.log("No fragments to align")}(n,t);r&&$f(r.start)&&(up.log("Adjusting PTS using last level due to CC increase within current level ".concat(t.url)),Nm(r.start,t))}}(e,n,t),!n.alignedSliding&&t&&xm(n,t),n.alignedSliding||!t||n.skippedSegments||Ug(t,n))}function xm(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var n=e.fragments,r=t.fragments;if(n.length&&r.length){var i,a,s=Math.min(t.endCC,e.endCC);t.startCC<s&&e.startCC<s&&(i=Mm(r,s),a=Mm(n,s)),i&&a||(a=Mm(n,(i=r[Math.floor(r.length/2)]).cc)||n[Math.floor(n.length/2)]);var o=i.programDateTime,l=a.programDateTime;if(o&&l)Nm((l-o)/1e3-(a.start-i.start),e)}}}var Pm=Math.pow(2,17),Om=function(){function e(t){_class_call_check(this,e),this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}return _create_class(e,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null)}},{key:"abort",value:function(){this.loader&&this.loader.abort()}},{key:"load",value:function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new jm({type:rp.NETWORK_ERROR,details:ip.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a ".concat(r?"part list":"url")),networkDetails:null}));this.abort();var i=this.config,a=i.fLoader,s=i.loader;return new Promise((function(o,l){if(n.loader&&n.loader.destroy(),e.gap){if(e.tagList.some((function(e){return"GAP"===e[0]})))return void l(Um(e));e.gap=!1}var u=n.loader=e.loader=a?new a(i):new s(i),c=Fm(e),d=zg(i.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:Pm};e.stats=u.stats,u.load(c,h,{onSuccess:function(t,r,i,a){n.resetLoader(e,u);var s=t.data;i.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(s.slice(0,16)),s=s.slice(16)),o({frag:e,part:null,payload:s,networkDetails:a})},onError:function(t,i,a,s){n.resetLoader(e,u),l(new jm({type:rp.NETWORK_ERROR,details:ip.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:qf({url:r,data:void 0},t),error:new Error("HTTP Error ".concat(t.code," ").concat(t.text)),networkDetails:a,stats:s}))},onAbort:function(t,r,i){n.resetLoader(e,u),l(new jm({type:rp.NETWORK_ERROR,details:ip.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:i,stats:t}))},onTimeout:function(t,r,i){n.resetLoader(e,u),l(new jm({type:rp.NETWORK_ERROR,details:ip.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after ".concat(h.timeout,"ms")),networkDetails:i,stats:t}))},onProgress:function(n,r,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))}},{key:"loadPart",value:function(e,t,n){var r=this;this.abort();var i=this.config,a=i.fLoader,s=i.loader;return new Promise((function(o,l){if(r.loader&&r.loader.destroy(),e.gap||t.gap)l(Um(e,t));else{var u=r.loader=e.loader=a?new a(i):new s(i),c=Fm(e,t),d=zg(i.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Pm};t.stats=u.stats,u.load(c,h,{onSuccess:function(i,a,s,l){r.resetLoader(e,u),r.updateStatsFromPart(e,t);var c={frag:e,part:t,payload:i.data,networkDetails:l};n(c),o(c)},onError:function(n,i,a,s){r.resetLoader(e,u),l(new jm({type:rp.NETWORK_ERROR,details:ip.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:qf({url:c.url,data:void 0},n),error:new Error("HTTP Error ".concat(n.code," ").concat(n.text)),networkDetails:a,stats:s}))},onAbort:function(n,i,a){e.stats.aborted=t.stats.aborted,r.resetLoader(e,u),l(new jm({type:rp.NETWORK_ERROR,details:ip.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:a,stats:n}))},onTimeout:function(n,i,a){r.resetLoader(e,u),l(new jm({type:rp.NETWORK_ERROR,details:ip.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after ".concat(h.timeout,"ms")),networkDetails:a,stats:n}))}})}}))}},{key:"updateStatsFromPart",value:function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var a=Math.round(e.duration/t.duration),s=Math.min(Math.round(n.loaded/i),a),o=(a-s)*Math.round(n.loaded/s);n.total=n.loaded+o}else n.total=Math.max(n.loaded,n.total);var l=n.loading,u=r.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end}},{key:"resetLoader",value:function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}]),e}();function Fm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,a=n.byteRangeEndOffset;if($f(i)&&$f(a)){var s,o=i,l=a;if("initSegment"===e.sn&&"AES-128"===(null==(s=e.decryptdata)?void 0:s.method)){var u=a-i;u%16&&(l=a+(16-u%16)),0!==i&&(r.resetIV=!0,o=i-16)}r.rangeStart=o,r.rangeEnd=l}return r}function Um(e,t){var n=new Error("GAP ".concat(e.gap?"tag":"attribute"," found")),r={type:rp.MEDIA_ERROR,details:ip.FRAG_GAP,fatal:!1,frag:e,error:n,networkDetails:null};return t&&(r.part=t),(t||e).stats.aborted=!0,new jm(r)}var jm=function(e){_inherits(n,_wrap_native_super(Error));var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e.error.message)).data=void 0,r.data=e,r}return n}(),Qm=function(){function e(t,n){_class_call_check(this,e),this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=n}return _create_class(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}(),Gm=function(){function e(t,n){_class_call_check(this,e),this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=n}return _create_class(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();var Vm=function(){function e(){_class_call_check(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}return _create_class(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],s=n[3],o=this.invSubMix,l=o[0],u=o[1],c=o[2],d=o[3],h=new Uint32Array(256),f=0,p=0,A=0;for(A=0;A<256;A++)h[A]=A<128?A<<1:A<<1^283;for(A=0;A<256;A++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[f]=g,t[g]=f;var m=h[f],v=h[m],y=h[v],E=257*h[g]^16843008*g;r[f]=E<<24|E>>>8,i[f]=E<<16|E>>>16,a[f]=E<<8|E>>>24,s[f]=E,E=16843009*y^65537*v^257*m^16843008*f,l[g]=E<<24|E>>>8,u[g]=E<<16|E>>>16,c[g]=E<<8|E>>>24,d[g]=E,f?(f=m^h[h[h[y^m]]],p^=h[h[p]]):f=p=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,s,o,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),h=this.sBox,f=this.rcon,p=this.invSubMix,A=p[0],g=p[1],m=p[2],v=p[3];for(a=0;a<u;a++)a<i?o=c[a]=t[a]:(l=o,a%i==0?(l=h[(l=l<<8|l>>>24)>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[a/i|0]<<24):i>6&&a%i==4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),c[a]=o=(c[a-i]^l)>>>0);for(s=0;s<u;s++)a=u-s,l=3&s?c[a]:c[a-4],d[s]=s<4||a<=4?l:A[h[l>>>24]]^g[h[l>>>16&255]]^m[h[l>>>8&255]]^v[h[255&l]],d[s]=d[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,a,s,o,l,u,c,d,h,f,p,A,g,m=this.keySize+6,v=this.invKeySchedule,y=this.invSBox,E=this.invSubMix,_=E[0],T=E[1],b=E[2],S=E[3],w=this.uint8ArrayToUint32Array_(n),C=w[0],I=w[1],k=w[2],R=w[3],D=new Int32Array(e),M=new Int32Array(D.length),L=this.networkToHostOrderSwap;t<D.length;){for(d=L(D[t]),h=L(D[t+1]),f=L(D[t+2]),p=L(D[t+3]),o=d^v[0],l=p^v[1],u=f^v[2],c=h^v[3],A=4,g=1;g<m;g++)r=_[o>>>24]^T[l>>16&255]^b[u>>8&255]^S[255&c]^v[A],i=_[l>>>24]^T[u>>16&255]^b[c>>8&255]^S[255&o]^v[A+1],a=_[u>>>24]^T[c>>16&255]^b[o>>8&255]^S[255&l]^v[A+2],s=_[c>>>24]^T[o>>16&255]^b[l>>8&255]^S[255&u]^v[A+3],o=r,l=i,u=a,c=s,A+=4;r=y[o>>>24]<<24^y[l>>16&255]<<16^y[u>>8&255]<<8^y[255&c]^v[A],i=y[l>>>24]<<24^y[u>>16&255]<<16^y[c>>8&255]<<8^y[255&o]^v[A+1],a=y[u>>>24]<<24^y[c>>16&255]<<16^y[o>>8&255]<<8^y[255&l]^v[A+2],s=y[c>>>24]<<24^y[o>>16&255]<<16^y[l>>8&255]<<8^y[255&u]^v[A+3],M[t]=L(r^C),M[t+1]=L(s^I),M[t+2]=L(a^k),M[t+3]=L(i^R),C=d,I=h,k=f,R=p,t+=4}return M.buffer}}]),e}(),Hm=function(){function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).removePKCS7Padding,r=void 0===n||n;if(_class_call_check(this,e),this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=r,r)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}null===this.subtle&&(this.useSoftware=!0)}return _create_class(e,[{key:"destroy",value:function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}},{key:"isSync",value:function(){return this.useSoftware}},{key:"flush",value:function(){var e=this.currentResult,t=this.remainderData;if(!e||t)return this.reset(),null;var n,r,i,a=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?(r=(n=a).byteLength,(i=r&&new DataView(n.buffer).getUint8(r-1))?Fp(n,0,r-i):n):a}},{key:"reset",value:function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}},{key:"decrypt",value:function(e,t,n){var r=this;return this.useSoftware?new Promise((function(i,a){r.softwareDecrypt(new Uint8Array(e),t,n);var s=r.flush();s?i(s.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,n)}},{key:"softwareDecrypt",value:function(e,t,n){var r=this,i=r.currentIV,a=r.currentResult,s=r.remainderData;this.logOnce("JS AES decrypt"),s&&(e=EA(s,e),this.remainderData=null);var o=this.getValidChunk(e);if(!o.length)return null;i&&(n=i);var l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new Vm),l.expandKey(t);var u=a;return this.currentResult=l.decrypt(o.buffer,0,n),this.currentIV=Fp(o,-16).buffer,u||null}},{key:"webCryptoDecrypt",value:function(e,t,n){var r=this,i=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new Gm(i,t)),this.fastAesKey.expandKey().then((function(t){return i?(r.logOnce("WebCrypto AES decrypt"),new Qm(i,new Uint8Array(n)).decrypt(e.buffer,t)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(i){return up.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(i.name,": ").concat(i.message)),r.onWebCryptoError(e,t,n)}))}},{key:"onWebCryptoError",value:function(e,t,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n);var r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}},{key:"getValidChunk",value:function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Fp(e,0,n),this.remainderData=Fp(e,n)),t}},{key:"logOnce",value:function(e){this.logEnabled&&(up.log("[decrypter]: ".concat(e)),this.logEnabled=!1)}}]),e}(),Ym=function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="[".concat(e.start(r).toFixed(3),"-").concat(e.end(r).toFixed(3),"]");return t},qm="STOPPED",zm="IDLE",Wm="KEY_LOADING",Km="FRAG_LOADING",Xm="FRAG_LOADING_WAITING_RETRY",Jm="WAITING_TRACK",Zm="PARSING",$m="PARSED",ev="ENDED",tv="ERROR",nv="WAITING_INIT_PTS",rv="WAITING_LEVEL",iv=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r,i,a,s){var o;return _class_call_check(this,n),(o=t.call(this)).hls=void 0,o.fragPrevious=null,o.fragCurrent=null,o.fragmentTracker=void 0,o.transmuxer=null,o._state=qm,o.playlistType=void 0,o.media=null,o.mediaBuffer=null,o.config=void 0,o.bitrateTest=!1,o.lastCurrentTime=0,o.nextLoadPosition=0,o.startPosition=0,o.startTimeOffset=null,o.loadedmetadata=!1,o.retryDate=0,o.levels=null,o.fragmentLoader=void 0,o.keyLoader=void 0,o.levelLastLoaded=null,o.startFragRequested=!1,o.decrypter=void 0,o.initPTS=[],o.onvseeking=null,o.onvended=null,o.logPrefix="",o.log=void 0,o.warn=void 0,o.playlistType=s,o.logPrefix=a,o.log=up.log.bind(up,"".concat(a,":")),o.warn=up.warn.bind(up,"".concat(a,":")),o.hls=e,o.fragmentLoader=new Om(e.config),o.keyLoader=i,o.fragmentTracker=r,o.config=e.config,o.decrypter=new Hm(e.config),e.on(np.MANIFEST_LOADED,o.onManifestLoaded,_assert_this_initialized(o)),o}return _create_class(n,[{key:"doTick",value:function(){this.onTickEnd()}},{key:"onTickEnd",value:function(){}},{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=qm}},{key:"_streamEnded",value:function(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;var n=t.partList;if(null!=n&&n.length){var r=n[n.length-1];return Rm.isBuffered(this.media,r.start+r.duration/2)}var i=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}},{key:"getLevelDetails",value:function(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levelLastLoaded)?void 0:e.details}},{key:"onMediaAttached",value:function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===qm&&this.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this,t=e.config,n=e.fragCurrent,r=e.media,i=e.mediaBuffer,a=e.state,s=r?r.currentTime:0,o=Rm.bufferInfo(i||r,s,t.maxBufferHole);if(this.log("media seeking to ".concat($f(s)?s.toFixed(3):s,", state: ").concat(a)),this.state===ev)this.resetLoadingState();else if(n){var l=t.maxFragLookUpTolerance,u=n.start-l,c=n.start+n.duration+l;if(!o.len||c<o.start||u>o.end){var d=s>c;(s<u||d)&&(d&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(s,1/0,this.playlistType,!0),this.lastCurrentTime=s),this.loadedmetadata||o.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoaded",value:function(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}},{key:"onHandlerDestroying",value:function(){this.hls.off(np.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),_get(_get_prototype_of(n.prototype),"onHandlerDestroying",this).call(this),this.hls=null}},{key:"onHandlerDestroyed",value:function(){this.state=qm,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,_get(_get_prototype_of(n.prototype),"onHandlerDestroyed",this).call(this)}},{key:"loadFragment",value:function(e,t,n){this._loadFragForPlayback(e,t,n)}},{key:"_loadFragForPlayback",value:function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment ".concat(e.sn).concat(t.part?" p: "+t.part.index:""," of level ").concat(e.level," was dropped during download.")),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){var n=r.state;r.fragContextChanged(e)?(n===Km||!r.fragCurrent&&n===Zm)&&(r.fragmentTracker.removeFragment(e),r.state=zm):("payload"in t&&(r.log("Loaded fragment ".concat(e.sn," of level ").concat(e.level)),r.hls.trigger(np.FRAG_LOADED,t)),r._handleFragmentLoadComplete(t))}})).catch((function(t){r.state!==qm&&r.state!==tv&&(r.warn(t),r.resetFragmentLoading(e))}))}},{key:"clearTrackerIfNeeded",value:function(e){var t,n=this.fragmentTracker;if(n.getState(e)===Tm){var r=e.type,i=this.getFwdBufferInfo(this.mediaBuffer,r),a=Math.max(e.duration,i?i.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&n.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===bm&&n.removeFragment(e))}},{key:"checkLiveUpdate",value:function(e){if(e.updated&&!e.live){var t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}},{key:"flushMainBuffer",value:function(e,t){if(e-t){var n={startOffset:e,endOffset:t,type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null};this.hls.trigger(np.BUFFER_FLUSHING,n)}}},{key:"_loadInitSegment",value:function(e,t){var n=this;this._doFragLoad(e,t).then((function(t){if(!t||n.fragContextChanged(e)||!n.levels)throw new Error("init load aborted");return t})).then((function(t){var r=n.hls,i=t.payload,a=e.decryptdata;if(i&&i.byteLength>0&&null!=a&&a.key&&a.iv&&"AES-128"===a.method){var s=self.performance.now();return n.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).catch((function(t){throw r.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((function(i){var a=self.performance.now();return r.trigger(np.FRAG_DECRYPTED,{frag:e,payload:i,stats:{tstart:s,tdecrypt:a}}),t.payload=i,n.completeInitSegmentLoad(t)}))}return n.completeInitSegmentLoad(t)})).catch((function(t){n.state!==qm&&n.state!==tv&&(n.warn(t),n.resetFragmentLoading(e))}))}},{key:"completeInitSegmentLoad",value:function(e){if(!this.levels)throw new Error("init load aborted, missing levels");var t=e.frag.stats;this.state=zm,e.frag.data=new Uint8Array(e.payload),t.parsing.start=t.buffering.start=self.performance.now(),t.parsing.end=t.buffering.end=self.performance.now(),this.tick()}},{key:"fragContextChanged",value:function(e){var t=this.fragCurrent;return!e||!t||e.sn!==t.sn||e.level!==t.level}},{key:"fragBufferedComplete",value:function(e,t){var n,r,i,a,s=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered ".concat(e.type," sn: ").concat(e.sn).concat(t?" part: "+t.index:""," of ").concat(this.playlistType===lg?"level":"track"," ").concat(e.level," (frag:[").concat((null!=(n=e.startPTS)?n:NaN).toFixed(3),"-").concat((null!=(r=e.endPTS)?r:NaN).toFixed(3),"] > buffer:").concat(s?Ym(Rm.getBuffered(s)):"(detached)",")")),"initSegment"!==e.sn){var o;if(e.type!==cg){var l=e.elementaryStreams;if(!Object.keys(l).some((function(e){return!!l[e]})))return void(this.state=zm)}var u=null==(o=this.levels)?void 0:o[e.level];null!=u&&u.fragmentError&&(this.log("Resetting level fragment error count of ".concat(u.fragmentError," on frag buffered")),u.fragmentError=0)}this.state=zm,s&&(!this.loadedmetadata&&e.type==lg&&s.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}},{key:"seekToStartPos",value:function(){}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),s=new Dm(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!a);t.flush(s)}}},{key:"_handleFragmentLoadProgress",value:function(e){}},{key:"_doFragLoad",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,s=null==t?void 0:t.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level".concat(s?"":" detail","s"));var o=null;if(!e.encrypted||null!=(n=e.decryptdata)&&n.key?!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments):(this.log("Loading key for ".concat(e.sn," of [").concat(s.startSN,"-").concat(s.endSN,"], ").concat("[stream-controller]"===this.logPrefix?"level":"track"," ").concat(e.level)),this.state=Wm,this.fragCurrent=e,o=this.keyLoader.load(e).then((function(e){if(!r.fragContextChanged(e.frag))return r.hls.trigger(np.KEY_LOADED,e),r.state===Wm&&(r.state=zm),e})),this.hls.trigger(np.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){var l=s.partList;if(l&&a){i>e.end&&s.fragmentHint&&(e=s.fragmentHint);var u=this.getNextPart(l,e,i);if(u>-1){var c,d=l[u];return this.log("Loading part sn: ".concat(e.sn," p: ").concat(d.index," cc: ").concat(e.cc," of playlist [").concat(s.startSN,"-").concat(s.endSN,"] parts [0-").concat(u,"-").concat(l.length-1,"] ").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(i.toFixed(3)))),this.nextLoadPosition=d.start+d.duration,this.state=Km,c=o?o.then((function(n){return!n||r.fragContextChanged(n.frag)?null:r.doFragPartsLoad(e,d,t,a)})).catch((function(e){return r.handleFragLoadError(e)})):this.doFragPartsLoad(e,d,t,a).catch((function(e){return r.handleFragLoadError(e)})),this.hls.trigger(np.FRAG_LOADING,{frag:e,part:d,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!e.url||this.loadedEndOfParts(l,i))return Promise.resolve(null)}}this.log("Loading fragment ".concat(e.sn," cc: ").concat(e.cc," ").concat(s?"of ["+s.startSN+"-"+s.endSN+"] ":"").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(i.toFixed(3)))),$f(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Km;var h,f=this.config.progressive;return h=f&&o?o.then((function(t){return!t||r.fragContextChanged(null==t?void 0:t.frag)?null:r.fragmentLoader.load(e,a)})).catch((function(e){return r.handleFragLoadError(e)})):Promise.all([this.fragmentLoader.load(e,f?a:void 0),o]).then((function(e){var t=_sliced_to_array(e,1)[0];return!f&&t&&a&&a(t),t})).catch((function(e){return r.handleFragLoadError(e)})),this.hls.trigger(np.FRAG_LOADING,{frag:e,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}},{key:"doFragPartsLoad",value:function(e,t,n,r){var i=this;return new Promise((function(a,s){var o,l=[],u=null==(o=n.details)?void 0:o.partList,c=function(t){i.fragmentLoader.loadPart(e,t,r).then((function(r){l[t.index]=r;var s=r.part;i.hls.trigger(np.FRAG_LOADED,r);var o=Qg(n,e.sn,t.index+1)||Gg(u,e.sn,t.index+1);if(!o)return a({frag:e,part:s,partsLoaded:l});c(o)})).catch(s)};c(t)}))}},{key:"handleFragLoadError",value:function(e){if("data"in e){var t=e.data;e.data&&t.details===ip.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(np.ERROR,t)}else this.hls.trigger(np.ERROR,{type:rp.OTHER_ERROR,details:ip.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}},{key:"_handleTransmuxerFlush",value:function(e){var t=this.getCurrentContext(e);if(t&&this.state===Zm){var n=t.frag,r=t.part,i=t.level,a=self.performance.now();n.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||this.state===qm||this.state===tv||(this.state=zm)}},{key:"getCurrentContext",value:function(e){var t=this.levels,n=this.fragCurrent,r=e.level,i=e.sn,a=e.part;if(null==t||!t[r])return this.warn("Levels object was unset while buffering fragment ".concat(i," of level ").concat(r,". The current chunk will not be buffered.")),null;var s=t[r],o=a>-1?Qg(s,i,a):null,l=o?o.fragment:function(e,t,n){if(null==e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}(s,i,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:o,level:s}):null}},{key:"bufferFragmentData",value:function(e,t,n,r,i){var a;if(e&&this.state===Zm){var s=e.data1,o=e.data2,l=s;if(s&&o&&(l=EA(s,o)),null!=(a=l)&&a.length){var u={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:l};if(this.hls.trigger(np.BUFFER_APPENDING,u),e.dropped&&e.independent&&!n){if(i)return;this.flushBufferGap(t)}}}}},{key:"flushBufferGap",value:function(e){var t=this.media;if(t)if(Rm.isBuffered(t,t.currentTime)){var n=t.currentTime,r=Rm.bufferInfo(t,n,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-a,r.end-a),n+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)}},{key:"getFwdBufferInfo",value:function(e,t){var n=this.getLoadPosition();return $f(n)?this.getFwdBufferInfoAtPos(e,n,t):null}},{key:"getFwdBufferInfoAtPos",value:function(e,t,n){var r=this.config.maxBufferHole,i=Rm.bufferInfo(e,t,r);if(0===i.len&&void 0!==i.nextStart){var a=this.fragmentTracker.getBufferedFrag(t,n);if(a&&i.nextStart<a.end)return Rm.bufferInfo(e,t,Math.max(i.nextStart,r))}return i}},{key:"getMaxBufferLength",value:function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)}},{key:"reduceMaxBufferLength",value:function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to ".concat(t.maxMaxBufferLength,"s")),!0)}},{key:"getAppendedFrag",value:function(e){var t=this.fragmentTracker.getAppendedFrag(e,lg);return t&&"fragment"in t?t.fragment:t}},{key:"getNextFragment",value:function(e,t){var n=t.fragments,r=n.length;if(!r)return null;var i,a=this.config,s=n[0].start;if(t.live){var o=a.initialLiveManifestSize;if(r<o)return this.warn("Not enough fragments to start playback (have: ".concat(r,", need: ").concat(o,")")),null;(!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||e<s)&&(i=this.getInitialLiveFragment(t,n),this.startPosition=this.nextLoadPosition=i?this.hls.liveSyncPosition||i.start:e)}else e<=s&&(i=n[0]);if(!i){var l=a.lowLatencyMode?t.partEnd:t.fragmentEnd;i=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(i)}},{key:"isLoopLoading",value:function(e,t){var n=this.fragmentTracker.getState(e);return(n===Sm||n===bm&&!!e.gap)&&this.nextLoadPosition>t}},{key:"getNextFragmentLoopLoading",value:function(e,t,n,r,i){var a=e.gap,s=this.getNextFragment(this.nextLoadPosition,t);if(null===s)return s;if(e=s,a&&e&&!e.gap&&n.nextStart){var o=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==o&&n.len+o.len>=i)return this.log('buffer full after gaps in "'.concat(r,'" playlist starting at sn: ').concat(e.sn)),null}return e}},{key:"mapToInitFragWhenRequired",value:function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}},{key:"getNextPart",value:function(e,t,n){for(var r=-1,i=!1,a=!0,s=0,o=e.length;s<o;s++){var l=e[s];if(a=a&&!l.independent,r>-1&&n<l.start)break;var u=l.loaded;u?r=-1:(i||l.independent||a)&&l.fragment===t&&(r=s),i=u}return r}},{key:"loadedEndOfParts",value:function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded}},{key:"getInitialLiveFragment",value:function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(n.programDateTime)),r=function(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!$f(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var r=0;r<e.length;++r){var i=e[r];if(Zg(t,n,i))return i}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];n.cc===a.cc&&(r=a,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(r.sn)))}r||(r=function(e,t){return Kg(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(t,n.cc),r&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(r.sn)))}}else{var s=this.hls.liveSyncPosition;null!==s&&(r=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}},{key:"getFragmentAtPosition",value:function(e,t,n){var r,i=this.config,a=this.fragPrevious,s=n.fragments,o=n.endSN,l=n.fragmentHint,u=i.maxFragLookUpTolerance,c=n.partList,d=!!(i.lowLatencyMode&&null!=c&&c.length&&l);(d&&l&&!this.bitrateTest&&(s=s.concat(l),o=l.sn),e<t)?r=Xg(a,s,e,e>t-u?0:u):r=s[s.length-1];if(r){var h=r.sn-n.startSN,f=this.fragmentTracker.getState(r);if((f===Sm||f===bm&&r.gap)&&(a=r),a&&r.sn===a.sn&&(!d||c[0].fragment.sn>r.sn))if(a&&r.level===a.level){var p=s[h+1];r=r.sn<o&&this.fragmentTracker.getState(p)!==Sm?p:null}}return r}},{key:"synchronizeToLiveEdge",value:function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,a=e.fragments[0].start,s=e.edge,o=i>=a-t.maxFragLookUpTolerance&&i<=s;if(null!==r&&n.duration>r&&(i<r||!o)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!o&&n.readyState<4||i<s-l)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: ".concat(i.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(s,", reset currentTime to : ").concat(r.toFixed(3))),n.currentTime=r))}}}},{key:"alignPlaylists",value:function(e,t,n){var r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;var i=e.fragments[0].start,a=!t,s=e.alignedSliding&&$f(i);if(a||!s&&!i){var o=this.fragPrevious;Bm(o,n,e);var l=e.fragments[0].start;return this.log("Live playlist sliding: ".concat(l.toFixed(2)," start-sn: ").concat(t?t.startSN:"na","->").concat(e.startSN," prev-sn: ").concat(o?o.sn:"na"," fragments: ").concat(r)),l}return i}},{key:"waitForCdnTuneIn",value:function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}},{key:"setStartPosition",value:function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var r=null!==this.startTimeOffset,i=r?this.startTimeOffset:e.startTimeOffset;null!==i&&$f(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset ".concat(i," found in ").concat(r?"multivariant":"media"," playlist, adjust startPosition to ").concat(n)),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}},{key:"getLoadPosition",value:function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}},{key:"handleFragLoadAborted",value:function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," was aborted")),this.resetFragmentLoading(e))}},{key:"resetFragmentLoading",value:function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===Xm)||(this.state=zm)}},{key:"onFragmentOrKeyLoadError",value:function(e,t){if(t.chunkMeta&&!t.frag){var n=this.getCurrentContext(t.chunkMeta);n&&(t.frag=n.frag)}var r=t.frag;if(r&&r.type===e&&this.levels)if(this.fragContextChanged(r)){var i;this.warn("Frag load error must match current frag to retry ".concat(r.url," > ").concat(null==(i=this.fragCurrent)?void 0:i.url))}else{var a=t.details===ip.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(r,!0);var s=t.errorAction,o=s||{},l=o.action,u=o.retryCount,c=void 0===u?0:u,d=o.retryConfig;if(s&&l===nm&&d){this.resetStartWhenNotLoaded(this.levelLastLoaded);var h=qg(d,c);this.warn("Fragment ".concat(r.sn," of ").concat(e," ").concat(r.level," errored with ").concat(t.details,", retrying loading ").concat(c+1,"/").concat(d.maxNumRetry," in ").concat(h,"ms")),s.resolved=!0,this.retryDate=self.performance.now()+h,this.state=Xm}else if(d&&s){if(this.resetFragmentErrors(e),!(c<d.maxNumRetry))return void up.warn("".concat(t.details," reached or exceeded max retry (").concat(c,")"));a||l===tm||(s.resolved=!0)}else(null==s?void 0:s.action)===em?this.state=rv:this.state=tv;this.tickImmediate()}}},{key:"reduceLengthAndFlushBuffer",value:function(e){if(this.state===Zm||this.state===$m){var t=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,t),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);var i=!r;return i&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(t," buffer")),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),i}return!1}},{key:"resetFragmentErrors",value:function(e){e===ug&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==qm&&(this.state=zm)}},{key:"afterBufferFlushed",value:function(e,t,n){if(e){var r=Rm.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===ev&&this.resetLoadingState()}}},{key:"resetLoadingState",value:function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=zm}},{key:"resetStartWhenNotLoaded",value:function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=e?e.details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}},{key:"resetWhenMissingContext",value:function(e){this.warn("The loading context changed while buffering fragment ".concat(e.sn," of level ").concat(e.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}},{key:"removeUnbufferedFrags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}},{key:"updateLevelTiming",value:function(e,t,n,r){var i,a=this,s=n.details;if(s){var o=Object.keys(e.elementaryStreams).reduce((function(t,i){var o=e.elementaryStreams[i];if(o){var l=o.endPTS-o.startPTS;if(l<=0)return a.warn("Could not parse fragment ".concat(e.sn," ").concat(i," duration reliably (").concat(l,")")),t||!1;var u=r?0:Og(s,e,o.startPTS,o.endPTS,o.startDTS,o.endDTS);return a.hls.trigger(np.LEVEL_PTS_UPDATED,{details:s,level:n,drift:u,type:i,frag:e,start:o.startPTS,end:o.endPTS}),!0}return t}),!1);if(!o&&null===(null==(i=this.transmuxer)?void 0:i.error)){var l=new Error("Found no media in fragment ".concat(e.sn," of level ").concat(e.level," resetting transmuxer to fallback to playlist timing"));if(0===n.fragmentError&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:"Found no media in msn ".concat(e.sn,' of level "').concat(n.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=$m,this.hls.trigger(np.FRAG_PARSED,{frag:e,part:t})}else this.warn("level.details undefined")}},{key:"resetTransmuxer",value:function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}},{key:"recoverWorkerError",value:function(e){"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log("".concat(t,"->").concat(e)))}}]),n}(Em),av=function(){function e(){_class_call_check(this,e),this.chunks=[],this.dataLength=0}return _create_class(e,[{key:"push",value:function(e){this.chunks.push(e),this.dataLength+=e.length}},{key:"flush",value:function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var a=e[i];n.set(a,r),r+=a.length}return n}(t,n),this.reset(),e):new Uint8Array(0)}},{key:"reset",value:function(){this.chunks.length=0,this.dataLength=0}}]),e}();function sv(){return{type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",id:-1,pid:-1,inputTimeScale:arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4,sequenceNumber:-1,samples:[],dropped:0}}var ov=function(){function e(){_class_call_check(this,e),this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}return _create_class(e,[{key:"resetInitSegment",value:function(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.resetContiguity()}},{key:"resetContiguity",value:function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}},{key:"canParse",value:function(e,t){return!1}},{key:"appendFrame",value:function(e,t,n){}},{key:"demux",value:function(e,t){this.cachedData&&(e=EA(this.cachedData,e),this.cachedData=null);var n,r=Gp(e,0),i=r?r.length:0,a=this._audioTrack,s=this._id3Track,o=r?Yp(r):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&$f(o))&&(this.basePTS=lv(o,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:yg,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){var u=this.appendFrame(a,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,n=i+=u.length):i=l}else Hp(e,i)?(r=Gp(e,i),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:yg,duration:Number.POSITIVE_INFINITY}),n=i+=r.length):i++;if(i===l&&n!==l){var c=Fp(e,n);this.cachedData?this.cachedData=EA(this.cachedData,c):this.cachedData=c}}return{audioTrack:a,videoTrack:sv(),id3Track:s,textTrack:sv()}}},{key:"demuxSampleAes",value:function(e,t,n){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}},{key:"flush",value:function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:sv(),id3Track:this._id3Track,textTrack:sv()}}},{key:"destroy",value:function(){}}]),e}(),lv=function(e,t,n){return $f(e)?90*e:9e4*t+(n?9e4*n.baseTime/n.timescale:0)};function uv(e,t){return 255===e[t]&&240==(246&e[t+1])}function cv(e,t){return 1&e[t+1]?7:9}function dv(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function hv(e,t){return t+1<e.length&&uv(e,t)}function fv(e,t){if(hv(e,t)){var n=cv(e,t);if(t+n>=e.length)return!1;var r=dv(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||hv(e,i)}return!1}function pv(e,t,n,r,i){if(!e.samplerate){var a=function(e,t,n,r){var i,a,s,o,l=navigator.userAgent.toLowerCase(),u=r,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&t[n+2])>>>6);var d=(60&t[n+2])>>>2;if(!(d>c.length-1))return s=(1&t[n+2])<<2,s|=(192&t[n+3])>>>6,up.log("manifest codec:".concat(r,", ADTS type:").concat(i,", samplingIndex:").concat(d)),/firefox/i.test(l)?d>=6?(i=5,o=new Array(4),a=d-3):(i=2,o=new Array(2),a=d):-1!==l.indexOf("android")?(i=2,o=new Array(2),a=d):(i=5,o=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?a=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===s||/vivaldi/i.test(l))||!r&&1===s)&&(i=2,o=new Array(2)),a=d)),o[0]=i<<3,o[0]|=(14&d)>>1,o[1]|=(1&d)<<7,o[1]|=s<<3,5===i&&(o[1]|=(14&a)>>1,o[2]=(1&a)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:c[d],channelCount:s,codec:"mp4a.40."+i,manifestCodec:u};var h=new Error("invalid ADTS sampling index:".concat(d));e.emit(np.ERROR,np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_PARSING_ERROR,fatal:!0,error:h,reason:h.message})}(t,n,r,i);if(!a)return;e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,up.log("parsed codec:".concat(e.codec,", rate:").concat(a.samplerate,", channels:").concat(a.channelCount))}}function Av(e){return 9216e4/e}function gv(e,t,n,r,i){var a,s=r+i*Av(e.samplerate),o=function(e,t){var n=cv(e,t);if(t+n<=e.length){var r=dv(e,t)-n;if(r>0)return{headerLength:n,frameLength:r}}}(t,n);if(o){var l=o.frameLength,u=o.headerLength,c=u+l,d=Math.max(0,n+c-t.length);d?(a=new Uint8Array(c-u)).set(t.subarray(n+u,t.length),0):a=t.subarray(n+u,n+c);var h={unit:a,pts:s};return d||e.samples.push(h),{sample:h,length:c,missing:d}}var f=t.length-n;return(a=new Uint8Array(f)).set(t.subarray(n,t.length),0),{sample:{unit:a,pts:s},length:f,missing:-1}}var mv=null,vv=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],yv=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ev=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],_v=[0,1,1,4];function Tv(e,t,n,r,i){if(!(n+24>t.length)){var a=bv(t,n);if(a&&n+a.frameLength<=t.length){var s=r+i*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:t.subarray(n,n+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(o),{sample:o,length:a.frameLength,missing:0}}}}function bv(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var s=e[t+2]>>1&1,o=e[t+3]>>6,l=1e3*vv[14*(3===n?3-r:3===r?3:4)+i-1],u=yv[3*(3===n?0:2===n?1:2)+a],c=3===o?1:2,d=Ev[n][r],h=_v[r],f=8*d*h,p=Math.floor(d*l/u+s)*h;if(null===mv){var A=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);mv=A?parseInt(A[1]):0}return!!mv&&mv<=87&&2===r&&l>=224e3&&0===o&&(e[t+3]=128|e[t+3]),{sampleRate:u,channelCount:c,frameLength:p,samplesPerFrame:f}}}function Sv(e,t){return!(255!==e[t]||224&~e[t+1]||!(6&e[t+1]))}function wv(e,t){return t+1<e.length&&Sv(e,t)}function Cv(e,t){if(t+1<e.length&&Sv(e,t)){var n=bv(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||wv(e,i)}return!1}var Iv=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this)).observer=void 0,i.config=void 0,i.observer=e,i.config=r,i}return _create_class(n,[{key:"resetInitSegment",value:function(e,t,r,i){_get(_get_prototype_of(n.prototype),"resetInitSegment",this).call(this,e,t,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&uv(e,t)&&dv(e,t)<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,n){pv(e,this.observer,t,n,e.manifestCodec);var r=gv(e,t,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}}],[{key:"probe",value:function(e){if(!e)return!1;var t=Gp(e,0),n=(null==t?void 0:t.length)||0;if(Cv(e,n))return!1;for(var r=e.length;n<r;n++)if(fv(e,n))return up.log("ADTS sync word found !"),!0;return!1}}]),n}(ov),kv=/\/emsg[-/]ID3/i,Rv=function(){function e(t,n){_class_call_check(this,e),this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}return _create_class(e,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(e,t,n,r){var i=this.videoTrack=sv("video",1),a=this.audioTrack=sv("audio",1),s=this.txtTrack=sv("text",1);if(this.id3Track=sv("id3",1),this.timeOffset=0,null!=e&&e.byteLength){var o=fA(e);if(o.video){var l=o.video,u=l.id,c=l.timescale,d=l.codec;i.id=u,i.timescale=s.timescale=c,i.codec=d}if(o.audio){var h=o.audio,f=h.id,p=h.timescale,A=h.codec;a.id=f,a.timescale=p,a.codec=A}s.id=iA.text,i.sampleDuration=0,i.duration=a.duration=r}}},{key:"resetContiguity",value:function(){this.remainderData=null}},{key:"demux",value:function(e,t){this.timeOffset=t;var n=e,r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=EA(this.remainderData,e));var a=function(e){var t={valid:null,remainder:null},n=dA(e,["moof"]);if(n.length<2)return t.remainder=e,t;var r=n[n.length-1];return t.valid=Fp(e,0,r.byteOffset-8),t.remainder=Fp(e,r.byteOffset-8),t}(n);this.remainderData=a.remainder,r.samples=a.valid||new Uint8Array}else r.samples=n;var s=this.extractID3Track(r,t);return i.samples=_A(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}},{key:"flush",value:function(){var e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var r=this.extractID3Track(t,this.timeOffset);return n.samples=_A(e,t),{videoTrack:t,audioTrack:sv(),id3Track:r,textTrack:sv()}}},{key:"extractID3Track",value:function(e,t){var n=this.id3Track;if(e.samples.length){var r=dA(e.samples,["emsg"]);r&&r.forEach((function(e){var r=function(e){var t=e[0],n="",r="",i=0,a=0,s=0,o=0,l=0,u=0;if(0===t){for(;"\0"!==aA(e.subarray(u,u+1));)n+=aA(e.subarray(u,u+1)),u+=1;for(n+=aA(e.subarray(u,u+1)),u+=1;"\0"!==aA(e.subarray(u,u+1));)r+=aA(e.subarray(u,u+1)),u+=1;r+=aA(e.subarray(u,u+1)),u+=1,i=oA(e,12),a=oA(e,16),o=oA(e,20),l=oA(e,24),u=28}else if(1===t){i=oA(e,u+=4);var c=oA(e,u+=4),d=oA(e,u+=4);for(u+=4,s=Math.pow(2,32)*c+d,ep(s)||(s=Number.MAX_SAFE_INTEGER,up.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=oA(e,u),l=oA(e,u+=4),u+=4;"\0"!==aA(e.subarray(u,u+1));)n+=aA(e.subarray(u,u+1)),u+=1;for(n+=aA(e.subarray(u,u+1)),u+=1;"\0"!==aA(e.subarray(u,u+1));)r+=aA(e.subarray(u,u+1)),u+=1;r+=aA(e.subarray(u,u+1)),u+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:e.subarray(u,e.byteLength)}}(e);if(kv.test(r.schemeIdUri)){var i=$f(r.presentationTime)?r.presentationTime/r.timeScale:t+r.presentationTimeDelta/r.timeScale,a=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var s=r.payload;n.samples.push({data:s,len:s.byteLength,dts:i,pts:i,type:_g,duration:a})}}))}return n}},{key:"demuxSampleAes",value:function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){return function(e){for(var t=e.byteLength,n=0;n<t;){var r=oA(e,n);if(r>8&&109===e[n+4]&&111===e[n+5]&&111===e[n+6]&&102===e[n+7])return!0;n=r>1?n+r:t}return!1}(e)}}]),e}(),Dv=function(e,t){var n=0,r=5;t+=r;for(var i=new Uint32Array(1),a=new Uint32Array(1),s=new Uint8Array(1);r>0;){s[0]=e[t];var o=Math.min(r,8),l=8-o;a[0]=4278190080>>>24+l<<l,i[0]=(s[0]&a[0])>>l,n=n?n<<o|i[0]:i[0],t+=1,r-=o}return n},Mv=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this)).observer=void 0,r.observer=e,r}return _create_class(n,[{key:"resetInitSegment",value:function(e,t,r,i){_get(_get_prototype_of(n.prototype),"resetInitSegment",this).call(this,e,t,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return t+64<e.length}},{key:"appendFrame",value:function(e,t,n){var r=Lv(e,t,n,this.basePTS,this.frameIndex);if(-1!==r)return{sample:e.samples[e.samples.length-1],length:r,missing:0}}}],[{key:"probe",value:function(e){if(!e)return!1;var t=Gp(e,0);if(!t)return!1;var n=t.length;return 11===e[n]&&119===e[n+1]&&void 0!==Yp(t)&&Dv(e,n)<16}}]),n}(ov);function Lv(e,t,n,r,i){if(n+8>t.length)return-1;if(11!==t[n]||119!==t[n+1])return-1;var a=t[n+4]>>6;if(a>=3)return-1;var s=[48e3,44100,32e3][a],o=63&t[n+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*o+a];if(n+l>t.length)return-1;var u=t[n+6]>>5,c=0;2===u?c+=2:(1&u&&1!==u&&(c+=2),4&u&&(c+=2));var d=(t[n+6]<<8|t[n+7])>>12-c&1,h=[2,1,2,3,3,4,4,5][u]+d,f=t[n+5]>>3,p=7&t[n+5],A=new Uint8Array([a<<6|f<<1|p>>2,(3&p)<<6|u<<3|d<<2|o>>4,o<<4&224]),g=r+i*(1536/s*9e4),m=t.subarray(n,n+l);return e.config=A,e.channelCount=h,e.samplerate=s,e.samples.push({unit:m,pts:g}),l}var Nv=function(){function e(){_class_call_check(this,e),this.VideoSample=null}return _create_class(e,[{key:"createVideoSample",value:function(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}},{key:"getLastNalUnit",value:function(e){var t,n,r=this.VideoSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!=(t=r)&&t.units){var i=r.units;n=i[i.length-1]}return n}},{key:"pushAccessUnit",value:function(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&up.log(e.pts+"/"+e.dts+":"+e.debug)}}]),e}(),Bv=function(){function e(t){_class_call_check(this,e),this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return _create_class(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;if(e>32&&up.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n}},{key:"readSPS",value:function(){var e,t,n,r=0,i=0,a=0,s=0,o=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);o();var A=o();if(l(5),d(3),o(),f(),100===A||110===A||122===A||244===A||44===A||83===A||86===A||118===A||128===A){var g=u();if(3===g&&d(1),f(),f(),d(1),c())for(t=3!==g?8:12,n=0;n<t;n++)c()&&p(n<6?16:64)}f();var m=u();if(0===m)u();else if(1===m)for(d(1),h(),h(),e=u(),n=0;n<e;n++)h();f(),d(1);var v=u(),y=u(),E=l(1);0===E&&d(1),d(1),c()&&(r=u(),i=u(),a=u(),s=u());var _=[1,1];if(c()&&c())switch(o()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[o()<<8|o(),o()<<8|o()]}return{width:Math.ceil(16*(v+1)-2*r-2*i),height:(2-E)*(y+1)*16-(E?2:4)*(a+s),pixelRatio:_}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}(),xv=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"parseAVCPES",value:function(e,t,n,r,i){var a,s=this,o=this.parseAVCNALu(e,n.data),l=this.VideoSample,u=!1;n.data=null,l&&o.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),o.forEach((function(r){var o;switch(r.type){case 1:var c=!1;a=!0;var d,h=r.data;if(u&&h.length>4){var f=new Bv(h).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(c=!0)}if(c)null!=(d=l)&&d.frame&&!l.key&&(s.pushAccessUnit(l,e),l=s.VideoSample=null);l||(l=s.VideoSample=s.createVideoSample(!0,n.pts,n.dts,"")),l.frame=!0,l.key=c;break;case 5:a=!0,null!=(o=l)&&o.frame&&!l.key&&(s.pushAccessUnit(l,e),l=s.VideoSample=null),l||(l=s.VideoSample=s.createVideoSample(!0,n.pts,n.dts,"")),l.key=!0,l.frame=!0;break;case 6:a=!0,bA(r.data,1,n.pts,t.samples);break;case 7:var p,A;a=!0,u=!0;var g=r.data,m=new Bv(g).readSPS();if(!e.sps||e.width!==m.width||e.height!==m.height||(null==(p=e.pixelRatio)?void 0:p[0])!==m.pixelRatio[0]||(null==(A=e.pixelRatio)?void 0:A[1])!==m.pixelRatio[1]){e.width=m.width,e.height=m.height,e.pixelRatio=m.pixelRatio,e.sps=[g],e.duration=i;for(var v=g.subarray(1,4),y="avc1.",E=0;E<3;E++){var _=v[E].toString(16);_.length<2&&(_="0"+_),y+=_}e.codec=y}break;case 8:a=!0,e.pps=[r.data];break;case 9:a=!0,e.audFound=!0,l&&s.pushAccessUnit(l,e),l=s.VideoSample=s.createVideoSample(!1,n.pts,n.dts,"");break;case 12:a=!0;break;default:a=!1,l&&(l.debug+="unknown NAL "+r.type+" ")}l&&a&&l.units.push(r)})),r&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}},{key:"parseAVCNALu",value:function(e,t){var n,r,i=t.byteLength,a=e.naluState||0,s=a,o=[],l=0,u=-1,c=0;for(-1===a&&(u=0,c=31&t[0],a=0,l=1);l<i;)if(n=t[l++],a)if(1!==a)if(n)if(1===n){if(r=l-a-1,u>=0){var d={data:t.subarray(u,r),type:c};o.push(d)}else{var h=this.getLastNalUnit(e.samples);h&&(s&&l<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),r>0&&(h.data=EA(h.data,t.subarray(0,r)),h.state=0))}l<i?(u=l,c=31&t[l],a=0):a=-1}else a=0;else a=3;else a=n?0:2;else a=n?0:1;if(u>=0&&a>=0){var f={data:t.subarray(u,i),type:c,state:a};o.push(f)}if(0===o.length){var p=this.getLastNalUnit(e.samples);p&&(p.data=EA(p.data,t))}return e.naluState=a,o}}]),n}(Nv),Pv=function(){function e(t,n,r){_class_call_check(this,e),this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Hm(n,{removePKCS7Padding:!1})}return _create_class(e,[{key:"decryptBuffer",value:function(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}},{key:"decryptAacSample",value:function(e,t,n){var r=this,i=e[t].unit;if(!(i.length<=16)){var a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then((function(a){var s=new Uint8Array(a);i.set(s,16),r.decrypter.isSync()||r.decryptAacSamples(e,t+1,n)}))}}},{key:"decryptAacSamples",value:function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n}},{key:"getAvcDecryptedUnit",value:function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e}},{key:"decryptAvcSample",value:function(e,t,n,r,i){var a=this,s=SA(i.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then((function(o){i.data=a.getAvcDecryptedUnit(s,o),a.decrypter.isSync()||a.decryptAvcSamples(e,t,n+1,r)}))}},{key:"decryptAvcSamples",value:function(e,t,n,r){if(_instanceof(e,Uint8Array))throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type||(this.decryptAvcSample(e,t,n,r,a),this.decrypter.isSync())))return}}}}]),e}(),Ov=188,Fv=function(){function e(t,n,r){_class_call_check(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=n,this.typeSupported=r,this.videoParser=new xv}return _create_class(e,[{key:"resetInitSegment",value:function(t,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}},{key:"resetTimeStamp",value:function(){}},{key:"resetContiguity",value:function(){var e=this,t=e._audioTrack,n=e._videoTrack,r=e._id3Track;t&&(t.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}},{key:"demux",value:function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i||(this.sampleAes=null);var s=this._videoTrack,o=this._audioTrack,l=this._id3Track,u=this._txtTrack,c=s.pid,d=s.pesData,h=o.pid,f=l.pid,p=o.pesData,A=l.pesData,g=null,m=this.pmtParsed,v=this._pmtId,y=t.length;if(this.remainderData&&(y=(t=EA(this.remainderData,t)).length,this.remainderData=null),y<Ov&&!a)return this.remainderData=t,{audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};var E=Math.max(0,e.syncOffset(t));(y-=(y-E)%Ov)<t.byteLength&&!a&&(this.remainderData=new Uint8Array(t.buffer,y,t.buffer.byteLength-y));for(var _=0,T=E;T<y;T+=Ov)if(71===t[T]){var b=!!(64&t[T+1]),S=Uv(t,T),w=void 0;if((48&t[T+3])>>4>1){if((w=T+5+t[T+4])===T+Ov)continue}else w=T+4;switch(S){case c:b&&(d&&(r=Vv(d))&&this.videoParser.parseAVCPES(s,u,r,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(t.subarray(w,T+Ov)),d.size+=T+Ov-w);break;case h:if(b){if(p&&(r=Vv(p)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,r);break;case"mp3":this.parseMPEGPES(o,r);break;case"ac3":this.parseAC3PES(o,r)}p={data:[],size:0}}p&&(p.data.push(t.subarray(w,T+Ov)),p.size+=T+Ov-w);break;case f:b&&(A&&(r=Vv(A))&&this.parseID3PES(l,r),A={data:[],size:0}),A&&(A.data.push(t.subarray(w,T+Ov)),A.size+=T+Ov-w);break;case 0:b&&(w+=t[w]+1),v=this._pmtId=jv(t,w);break;case v:b&&(w+=t[w]+1);var C=Qv(t,w,this.typeSupported,i);(c=C.videoPid)>0&&(s.pid=c,s.segmentCodec=C.segmentVideoCodec),(h=C.audioPid)>0&&(o.pid=h,o.segmentCodec=C.segmentAudioCodec),(f=C.id3Pid)>0&&(l.pid=f),null===g||m||(up.warn("MPEG-TS PMT found at ".concat(T," after unknown PID '").concat(g,"'. Backtracking to sync byte @").concat(E," to parse all TS packets.")),g=null,T=E-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=S}}else _++;if(_>0){var I=new Error("Found ".concat(_," TS packet/s that do not start with 0x47"));this.observer.emit(np.ERROR,np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_PARSING_ERROR,fatal:!1,error:I,reason:I.message})}s.pesData=d,o.pesData=p,l.pesData=A;var k={audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};return a&&this.extractRemainingSamples(k),k}},{key:"flush",value:function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}},{key:"extractRemainingSamples",value:function(e){var t,n=e.audioTrack,r=e.videoTrack,i=e.id3Track,a=e.textTrack,s=r.pesData,o=n.pesData,l=i.pesData;if(s&&(t=Vv(s))?(this.videoParser.parseAVCPES(r,a,t,!0,this._duration),r.pesData=null):r.pesData=s,o&&(t=Vv(o))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,t);break;case"mp3":this.parseMPEGPES(n,t);break;case"ac3":this.parseAC3PES(n,t)}n.pesData=null}else null!=o&&o.size&&up.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=o;l&&(t=Vv(l))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=l}},{key:"demuxSampleAes",value:function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new Pv(this.observer,this.config,t);return this.decrypt(r,i)}},{key:"decrypt",value:function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.videoTrack;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))}},{key:"destroy",value:function(){this._duration=0}},{key:"parseAACPES",value:function(e,t){var n,r,i,a=0,s=this.aacOverFlow,o=t.data;if(s){this.aacOverFlow=null;var l=s.missing,u=s.sample.unit.byteLength;if(-1===l)o=EA(s.sample.unit,o);else{var c=u-l;s.sample.unit.set(o.subarray(0,l),c),e.samples.push(s.sample),a=s.missing}}for(n=a,r=o.length;n<r-1&&!hv(o,n);n++);if(n!==a){var d,h=n<r-1;d=h?"AAC PES did not start with ADTS header,offset:".concat(n):"No ADTS header found in AAC PES";var f=new Error(d);if(up.warn("parsing error: ".concat(d)),this.observer.emit(np.ERROR,np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_PARSING_ERROR,fatal:!1,levelRetry:h,error:f,reason:d}),!h)return}if(pv(e,this.observer,o,n,this.audioCodec),void 0!==t.pts)i=t.pts;else{if(!s)return void up.warn("[tsdemuxer]: AAC PES unknown PTS");var p=Av(e.samplerate);i=s.sample.pts+p}for(var A,g=0;n<r;){if(n+=(A=gv(e,o,n,i,g)).length,A.missing){this.aacOverFlow=A;break}for(g++;n<r-1&&!hv(o,n);n++);}}},{key:"parseMPEGPES",value:function(e,t){var n=t.data,r=n.length,i=0,a=0,s=t.pts;if(void 0!==s)for(;a<r;)if(wv(n,a)){var o=Tv(e,n,a,s,i);if(!o)break;a+=o.length,i++}else a++;else up.warn("[tsdemuxer]: MPEG PES unknown PTS")}},{key:"parseAC3PES",value:function(e,t){var n=t.data,r=t.pts;if(void 0!==r)for(var i,a=n.length,s=0,o=0;o<a&&(i=Lv(e,n,o,r,s++))>0;)o+=i;else up.warn("[tsdemuxer]: AC3 PES unknown PTS")}},{key:"parseID3PES",value:function(e,t){if(void 0!==t.pts){var n=Kf({},t,{type:this._videoTrack?_g:yg,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}else up.warn("[tsdemuxer]: ID3 PES unknown PTS")}}],[{key:"probe",value:function(t){var n=e.syncOffset(t);return n>0&&up.warn("MPEG2-TS detected but first sync word found @ offset ".concat(n)),-1!==n}},{key:"syncOffset",value:function(e){for(var t=e.length,n=Math.min(940,t-Ov)+1,r=0;r<n;){for(var i=!1,a=-1,s=0,o=r;o<t;o+=Ov){if(71!==e[o]||t-o!==Ov&&71!==e[o+Ov]){if(s)return-1;break}if(s++,-1===a&&0!==(a=o)&&(n=Math.min(a+18612,e.length-Ov)+1),i||(i=0===Uv(e,o)),i&&s>1&&(0===a&&s>2||o+Ov>n))return a}r++}return-1}},{key:"createTrack",value:function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:iA[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}}]),e}();function Uv(e,t){return((31&e[t+1])<<8)+e[t+2]}function jv(e,t){return(31&e[t+10])<<8|e[t+11]}function Qv(e,t,n,r){var i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var s=Uv(e,t),o=(15&e[t+3])<<8|e[t+4];switch(e[t]){case 207:if(!r){Gv("ADTS AAC");break}case 15:-1===i.audioPid&&(i.audioPid=s);break;case 21:-1===i.id3Pid&&(i.id3Pid=s);break;case 219:if(!r){Gv("H.264");break}case 27:-1===i.videoPid&&(i.videoPid=s,i.segmentVideoCodec="avc");break;case 3:case 4:n.mpeg||n.mp3?-1===i.audioPid&&(i.audioPid=s,i.segmentAudioCodec="mp3"):up.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){Gv("AC-3");break}case 129:n.ac3?-1===i.audioPid&&(i.audioPid=s,i.segmentAudioCodec="ac3"):up.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===i.audioPid&&o>0)for(var l=t+5,u=o;u>2;){if(106===e[l])!0!==n.ac3?up.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=s,i.segmentAudioCodec="ac3");var c=e[l+1]+2;l+=c,u-=c}break;case 194:case 135:up.warn("Unsupported EC-3 in M2TS found");break;case 36:up.warn("Unsupported HEVC in M2TS found")}t+=o+5}return i}function Gv(e){up.log("".concat(e," with AES-128-CBC encryption found in unencrypted stream"))}function Vv(e){var t,n,r,i,a,s=0,o=e.data;if(!e||0===e.size)return null;for(;o[0].length<19&&o.length>1;)o[0]=EA(o[0],o[1]),o.splice(1,1);if(1===((t=o[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var l=t[7];192&l&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(up.warn("".concat(Math.round((i-a)/9e4),"s delta between PTS and DTS, align them")),i=a):a=i);var u=(r=t[8])+9;if(e.size<=u)return null;e.size-=u;for(var c=new Uint8Array(e.size),d=0,h=o.length;d<h;d++){var f=(t=o[d]).byteLength;if(u){if(u>f){u-=f;continue}t=t.subarray(u),f-=u,u=0}c.set(t,s),s+=f}return n&&(n-=r+3),{data:c,pts:i,dts:a,len:n}}return null}var Hv=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"resetInitSegment",value:function(e,t,r,i){_get(_get_prototype_of(n.prototype),"resetInitSegment",this).call(this,e,t,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return Sv(e,t)&&4<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,n){if(null!==this.basePTS)return Tv(e,t,n,this.basePTS,this.frameIndex)}}],[{key:"probe",value:function(e){if(!e)return!1;var t=Gp(e,0),n=(null==t?void 0:t.length)||0;if(t&&11===e[n]&&119===e[n+1]&&void 0!==Yp(t)&&Dv(e,n)<=16)return!1;for(var r=e.length;n<r;n++)if(Cv(e,n))return up.log("MPEG Audio sync word found !"),!0;return!1}}]),n}(ov),Yv=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),e}(),qv=Math.pow(2,32)-1,zv=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=8,a=n.length,s=a;a--;)i+=n[a].byteLength;var o=new Uint8Array(i);for(o[0]=i>>24&255,o[1]=i>>16&255,o[2]=i>>8&255,o[3]=255&i,o.set(e,4),a=0,i=8;a<s;a++)o.set(n[a],i),i+=n[a].byteLength;return o}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,n){n*=t;var r=Math.floor(n/(qv+1)),i=Math.floor(n%(qv+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))}},{key:"moov",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(_to_consumable_array(r)))}},{key:"mvhd",value:function(t,n){n*=t;var r=Math.floor(n/(qv+1)),i=Math.floor(n%(qv+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)}},{key:"sdtp",value:function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var n,r,i,a=[],s=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,s.push(i>>>8&255),s.push(255&i),s=s.concat(Array.prototype.slice.call(r));var o=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(s))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"audioStsd",value:function(e){var t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0])}},{key:"mp4a",value:function(t){return e.box(e.types.mp4a,e.audioStsd(t),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){return e.box(e.types[".mp3"],e.audioStsd(t))}},{key:"ac3",value:function(t){return e.box(e.types["ac-3"],e.audioStsd(t),e.box(e.types.dac3,t.config))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):"ac3"===t.segmentCodec?e.box(e.types.stsd,e.STSD,e.ac3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height,s=Math.floor(r/(qv+1)),o=Math.floor(r%(qv+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(t,n){var r=e.sdtp(t),i=t.id,a=Math.floor(n/(qv+1)),s=Math.floor(n%(qv+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,r.length+16+20+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,n){var r,i,a,s,o,l,u=t.samples||[],c=u.length,d=12+16*c,h=new Uint8Array(d);for(n+=8+d,h.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)a=(i=u[r]).duration,s=i.size,o=i.flags,l=i.cts,h.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,h)}},{key:"initSegment",value:function(t){e.types||e.init();var n=e.moov(t);return EA(e.FTYP,n)}}]),e}();zv.types=void 0,zv.HDLR_TYPES=void 0,zv.STTS=void 0,zv.STSC=void 0,zv.STCO=void 0,zv.STSZ=void 0,zv.VMHD=void 0,zv.SMHD=void 0,zv.STSD=void 0,zv.FTYP=void 0,zv.DINF=void 0;var Wv=9e4;function Kv(e,t){var n=e*t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?Math.round(n):n}function Xv(e){return Kv(e,1e3,1/Wv,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}var Jv=null,Zv=null,$v=function(){function e(t,n,r){if(_class_call_check(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=n,this.typeSupported=r,this.ISGenerated=!1,null===Jv){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Jv=i?parseInt(i[1]):0}if(null===Zv){var a=navigator.userAgent.match(/Safari\/(\d+)/i);Zv=a?parseInt(a[1]):0}}return _create_class(e,[{key:"destroy",value:function(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}},{key:"resetTimeStamp",value:function(e){up.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}},{key:"resetNextTimestamp",value:function(){up.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}},{key:"resetInitSegment",value:function(){up.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}},{key:"getVideoStartPts",value:function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,ey(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&up.debug("PTS rollover detected"),n}},{key:"remux",value:function(e,t,n,r,i,a,s,o){var l,u,c,d,h,f,p=i,A=i,g=e.pid>-1,m=t.pid>-1,v=t.samples.length,y=e.samples.length>0,E=s&&v>0||v>1;if((!g||y)&&(!m||E)||this.ISGenerated||s){if(this.ISGenerated){var _,T,b,S,w=this.videoTrackConfig;!w||t.width===w.width&&t.height===w.height&&(null==(_=t.pixelRatio)?void 0:_[0])===(null==(T=w.pixelRatio)?void 0:T[0])&&(null==(b=t.pixelRatio)?void 0:b[1])===(null==(S=w.pixelRatio)?void 0:S[1])||this.resetInitSegment()}else c=this.generateIS(e,t,i,a);var C,I=this.isVideoContiguous,k=-1;if(E&&(k=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!I&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,k>0){up.warn("[mp4-remuxer]: Dropped ".concat(k," out of ").concat(v," video samples due to a missing keyframe"));var R=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(k),t.dropped+=k,C=A+=(t.samples[0].pts-R)/t.inputTimeScale}else-1===k&&(up.warn("[mp4-remuxer]: No keyframe found out of ".concat(v," video samples")),f=!1);if(this.ISGenerated){if(y&&E){var D=this.getVideoStartPts(t.samples),M=(ey(e.samples[0].pts,D)-D)/t.inputTimeScale;p+=Math.max(0,M),A+=Math.max(0,-M)}if(y){if(e.samplerate||(up.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(e,t,i,a)),u=this.remuxAudio(e,p,this.isAudioContiguous,a,m||E||o===ug?A:void 0),E){var L=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(up.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(e,t,i,a)),l=this.remuxVideo(t,A,I,L)}}else E&&(l=this.remuxVideo(t,A,I,0));l&&(l.firstKeyFrame=k,l.independent=-1!==k,l.firstKeyFramePTS=C)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=ty(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=ny(r,i,this._initPTS))),{audio:u,video:l,initSegment:c,independent:f,text:d,id3:h}}},{key:"generateIS",value:function(e,t,n,r){var i,a,s,o=e.samples,l=t.samples,u=this.typeSupported,c={},d=this._initPTS,h=!d||r,f="audio/mp4";if(h&&(i=a=1/0),e.config&&o.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":u.mpeg?(f="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3"}c.audio={id:"audio",container:f,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&u.mpeg?new Uint8Array(0):zv.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(s=e.inputTimeScale,d&&s===d.timescale?h=!1:i=a=o[0].pts-Math.round(s*n))}if(t.sps&&t.pps&&l.length){if(t.timescale=t.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:zv.initSegment([t]),metadata:{width:t.width,height:t.height}},h)if(s=t.inputTimeScale,d&&s===d.timescale)h=!1;else{var p=this.getVideoStartPts(l),A=Math.round(s*n);a=Math.min(a,ey(l[0].dts,p)-A),i=Math.min(i,p-A)}this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(c).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:i,timescale:s},this._initDTS={baseTime:a,timescale:s}):i=s=void 0,{tracks:c,initPTS:i,timescale:s}}},{key:"remuxVideo",value:function(e,t,n,r){var i,a,s=e.inputTimeScale,o=e.samples,l=[],u=o.length,c=this._initPTS,d=this.nextAvcDts,h=8,f=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,g=!1;if(!n||null===d){var m=t*s,v=o[0].pts-ey(o[0].dts,o[0].pts);Jv&&null!==d&&Math.abs(m-v-d)<15e3?n=!0:d=m-v}for(var y=c.baseTime*s/c.timescale,E=0;E<u;E++){var _=o[E];_.pts=ey(_.pts-y,d),_.dts=ey(_.dts-y,d),_.dts<o[E>0?E-1:E].dts&&(g=!0)}g&&o.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),i=o[0].dts;var T=(a=o[o.length-1].dts)-i,b=T?Math.round(T/(u-1)):f||e.inputTimeScale/30;if(n){var S=i-d,w=S>b,C=S<-1;if((w||C)&&(w?up.warn("AVC: ".concat(Xv(S,!0)," ms (").concat(S,"dts) hole between fragments detected at ").concat(t.toFixed(3))):up.warn("AVC: ".concat(Xv(-S,!0)," ms (").concat(S,"dts) overlapping between fragments detected at ").concat(t.toFixed(3))),!C||d>=o[0].pts||Jv)){i=d;var I=o[0].pts-S;if(w)o[0].dts=i,o[0].pts=I;else for(var k=0;k<o.length&&!(o[k].dts>I);k++)o[k].dts-=S,o[k].pts-=S;up.log("Video: Initial PTS/DTS adjusted: ".concat(Xv(I,!0),"/").concat(Xv(i,!0),", delta: ").concat(Xv(S,!0)," ms"))}}for(var R=0,D=0,M=i=Math.max(0,i),L=0;L<u;L++){for(var N=o[L],B=N.units,x=B.length,P=0,O=0;O<x;O++)P+=B[O].data.length;D+=P,R+=x,N.length=P,N.dts<M?(N.dts=M,M+=b/4|0||1):M=N.dts,p=Math.min(N.pts,p),A=Math.max(N.pts,A)}a=o[u-1].dts;var F,U=D+4*R+8;try{F=new Uint8Array(U)}catch(e){return void this.observer.emit(np.ERROR,np.ERROR,{type:rp.MUX_ERROR,details:ip.REMUX_ALLOC_ERROR,fatal:!1,error:e,bytes:U,reason:"fail allocating video mdat ".concat(U)})}var j=new DataView(F.buffer);j.setUint32(0,U),F.set(zv.types.mdat,4);for(var Q=!1,G=Number.POSITIVE_INFINITY,V=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,q=0;q<u;q++){for(var z=o[q],W=z.units,K=0,X=0,J=W.length;X<J;X++){var Z=W[X],$=Z.data,ee=Z.data.byteLength;j.setUint32(h,ee),h+=4,F.set($,h),h+=ee,K+=4+ee}var te=void 0;if(q<u-1)f=o[q+1].dts-z.dts,te=o[q+1].pts-z.pts;else{var ne=this.config,re=q>0?z.dts-o[q-1].dts:b;if(te=q>0?z.pts-o[q-1].pts:b,ne.stretchShortVideoTrack&&null!==this.nextAudioPts){var ie=Math.floor(ne.maxBufferHole*s),ae=(r?p+r*s:this.nextAudioPts)-z.pts;ae>ie?((f=ae-re)<0?f=re:Q=!0,up.log("[mp4-remuxer]: It is approximately ".concat(ae/90," ms to the next segment; using duration ").concat(f/90," ms for the last video frame."))):f=re}else f=re}var se=Math.round(z.pts-z.dts);G=Math.min(G,f),H=Math.max(H,f),V=Math.min(V,te),Y=Math.max(Y,te),l.push(new iy(z.key,f,K,se))}if(l.length)if(Jv){if(Jv<70){var oe=l[0].flags;oe.dependsOn=2,oe.isNonSync=0}}else if(Zv&&Y-V<H-G&&b/H<.025&&0===l[0].cts){up.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var le=i,ue=0,ce=l.length;ue<ce;ue++){var de=le+l[ue].duration,he=le+l[ue].cts;if(ue<ce-1){var fe=de+l[ue+1].cts;l[ue].duration=fe-he}else l[ue].duration=ue?l[ue-1].duration:b;l[ue].cts=0,le=de}}f=Q||!f?b:f,this.nextAvcDts=d=a+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;var pe={data1:zv.moof(e.sequenceNumber++,i,Kf({},e,{samples:l})),data2:F,startPTS:p/s,endPTS:(A+f)/s,startDTS:i/s,endDTS:d/s,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,pe}},{key:"getSamplesPerFrame",value:function(e){switch(e.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}},{key:"remuxAudio",value:function(e,t,n,r,i){var a=e.inputTimeScale,s=a/(e.samplerate?e.samplerate:a),o=this.getSamplesPerFrame(e),l=o*s,u=this._initPTS,c="mp3"===e.segmentCodec&&this.typeSupported.mpeg,d=[],h=void 0!==i,f=e.samples,p=c?0:8,A=this.nextAudioPts||-1,g=t*a,m=u.baseTime*a/u.timescale;if(this.isAudioContiguous=n=n||f.length&&A>0&&(r&&Math.abs(g-A)<9e3||Math.abs(ey(f[0].pts-m,g)-A)<20*l),f.forEach((function(e){e.pts=ey(e.pts-m,g)})),!n||A<0){if(f=f.filter((function(e){return e.pts>=0})),!f.length)return;A=0===i?0:r&&!h?Math.max(0,g):f[0].pts}if("aac"===e.segmentCodec)for(var v=this.config.maxAudioFramesDrift,y=0,E=A;y<f.length;y++){var _=f[y],T=_.pts,b=T-E,S=Math.abs(1e3*b/a);if(b<=-v*l&&h)0===y&&(up.warn("Audio frame @ ".concat((T/a).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*b/a)," ms.")),this.nextAudioPts=A=E=T);else if(b>=v*l&&S<1e4&&h){var w=Math.round(b/l);(E=T-w*l)<0&&(w--,E+=l),0===y&&(this.nextAudioPts=A=E),up.warn("[mp4-remuxer]: Injecting ".concat(w," audio frame @ ").concat((E/a).toFixed(3),"s due to ").concat(Math.round(1e3*b/a)," ms gap."));for(var C=0;C<w;C++){var I=Math.max(E,0),k=Yv.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);k||(up.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),k=_.unit.subarray()),f.splice(y,0,{unit:k,pts:I}),E+=l,y++}}_.pts=E,E+=l}for(var R,D=null,M=null,L=0,N=f.length;N--;)L+=f[N].unit.byteLength;for(var B=0,x=f.length;B<x;B++){var P=f[B],O=P.unit,F=P.pts;if(null!==M){d[B-1].duration=Math.round((F-M)/s)}else{if(n&&"aac"===e.segmentCodec&&(F=A),D=F,!(L>0))return;L+=p;try{R=new Uint8Array(L)}catch(e){return void this.observer.emit(np.ERROR,np.ERROR,{type:rp.MUX_ERROR,details:ip.REMUX_ALLOC_ERROR,fatal:!1,error:e,bytes:L,reason:"fail allocating audio mdat ".concat(L)})}c||(new DataView(R.buffer).setUint32(0,L),R.set(zv.types.mdat,4))}R.set(O,p);var U=O.byteLength;p+=U,d.push(new iy(!0,o,U,0)),M=F}var j=d.length;if(j){var Q=d[d.length-1];this.nextAudioPts=A=M+s*Q.duration;var G=c?new Uint8Array(0):zv.moof(e.sequenceNumber++,D/s,Kf({},e,{samples:d}));e.samples=[];var V=D/a,H=A/a,Y={data1:G,data2:R,startPTS:V,endPTS:H,startDTS:V,endDTS:H,type:"audio",hasAudio:!0,hasVideo:!1,nb:j};return this.isAudioContiguous=!0,Y}}},{key:"remuxEmptyAudio",value:function(e,t,n,r){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),s=this.nextAudioPts,o=this._initDTS,l=9e4*o.baseTime/o.timescale,u=(null!==s?s:r.startDTS*i)+l,c=r.endDTS*i+l,d=1024*a,h=Math.ceil((c-u)/d),f=Yv.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(up.warn("[mp4-remuxer]: remux empty Audio"),f){for(var p=[],A=0;A<h;A++){var g=u+A*d;p.push({unit:f,pts:g,dts:g})}return e.samples=p,this.remuxAudio(e,t,n,!1)}up.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")}}]),e}();function ey(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}function ty(e,t,n,r){var i=e.samples.length;if(i){for(var a=e.inputTimeScale,s=0;s<i;s++){var o=e.samples[s];o.pts=ey(o.pts-n.baseTime*a/n.timescale,t*a)/a,o.dts=ey(o.dts-r.baseTime*a/r.timescale,t*a)/a}var l=e.samples;return e.samples=[],{samples:l}}}function ny(e,t,n){var r=e.samples.length;if(r){for(var i=e.inputTimeScale,a=0;a<r;a++){var s=e.samples[a];s.pts=ey(s.pts-n.baseTime*i/n.timescale,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var o=e.samples;return e.samples=[],{samples:o}}}var ry,iy=function e(t,n,r,i){_class_call_check(this,e),this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}},ay=function(){function e(){_class_call_check(this,e),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}return _create_class(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.lastEndTime=null}},{key:"resetNextTimestamp",value:function(){this.lastEndTime=null}},{key:"resetInitSegment",value:function(e,t,n,r){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(function(e,t){if(!e||!t)return e;var n=t.keyId;return n&&t.isCommonEncryption&&dA(e,["moov","trak"]).forEach((function(e){var t=dA(e,["mdia","minf","stbl","stsd"])[0].subarray(8),r=dA(t,["enca"]),i=r.length>0;i||(r=dA(t,["encv"])),r.forEach((function(e){dA(i?e.subarray(28):e.subarray(78),["sinf"]).forEach((function(e){var t=vA(e);if(t){var r=t.subarray(8,24);r.some((function(e){return 0!==e}))||(up.log("[eme] Patching keyId in 'enc".concat(i?"a":"v",">sinf>>tenc' box: ").concat(tA(r)," -> ").concat(tA(n))),t.set(n,8))}}))}))})),e}(e,r)),this.emitInitSegment=!0}},{key:"generateInitSegment",value:function(e){var t=this.audioCodec,n=this.videoCodec;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=fA(e);r.audio&&(t=sy(r.audio,gp)),r.video&&(n=sy(r.video,mp));var i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:up.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}},{key:"remux",value:function(e,t,n,r,i,a){var s,o,l=this.initPTS,u=this.lastEndTime,c={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};$f(u)||(u=this.lastEndTime=i||0);var d=t.samples;if(null==d||!d.length)return c;var h={initPTS:void 0,timescale:1},f=this.initData;if(null!=(s=f)&&s.length||(this.generateInitSegment(d),f=this.initData),null==(o=f)||!o.length)return up.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);var p=function(e,t){for(var n=0,r=0,i=0,a=dA(e,["moof","traf"]),s=0;s<a.length;s++){var o=a[s],l=dA(o,["tfhd"])[0],u=t[oA(l,4)];if(u){var c=u.default,d=oA(l,0)|(null==c?void 0:c.flags),h=null==c?void 0:c.duration;8&d&&(h=oA(l,2&d?12:8));for(var f=u.timescale||9e4,p=dA(o,["trun"]),A=0;A<p.length;A++)!(n=yA(p[A]))&&h&&(n=h*oA(p[A],4)),u.type===mp?r+=n/f:u.type===gp&&(i+=n/f)}}if(0===r&&0===i){for(var g=1/0,m=0,v=0,y=dA(e,["sidx"]),E=0;E<y.length;E++){var _=hA(y[E]);if(null!=_&&_.references){g=Math.min(g,_.earliestPresentationTime/_.timescale);var T=_.references.reduce((function(e,t){return e+t.info.duration||0}),0);v=(m=Math.max(m,T+_.earliestPresentationTime/_.timescale))-g}}if(v&&$f(v))return v}return r||i}(d,f),A=function(e,t){return dA(t,["moof","traf"]).reduce((function(t,n){var r=dA(n,["tfdt"])[0],i=r[0],a=dA(n,["tfhd"]).reduce((function(t,n){var a=oA(n,4),s=e[a];if(s){var o=oA(r,4);if(1===i){if(o===nA)return up.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;o*=nA+1,o+=oA(r,8)}var l=o/(s.timescale||9e4);if($f(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&$f(a)&&(null===t||a<t)?a:t}),null)}(f,d),g=null===A?i:A;(function(e,t,n,r){if(null===e)return!0;var i=Math.max(r,1),a=t-e.baseTime/e.timescale;return Math.abs(a-n)>i}(l,g,i,p)||h.timescale!==l.timescale&&a)&&(h.initPTS=g-i,l&&1===l.timescale&&up.warn("Adjusting initPTS by ".concat(h.initPTS-l.baseTime)),this.initPTS=l={baseTime:h.initPTS,timescale:1});var m=e?g-l.baseTime/l.timescale:u,v=m+p;!function(e,t,n){dA(t,["moof","traf"]).forEach((function(t){dA(t,["tfhd"]).forEach((function(r){var i=oA(r,4),a=e[i];if(a){var s=a.timescale||9e4;dA(t,["tfdt"]).forEach((function(e){var t=e[0],r=n*s;if(r){var i=oA(e,4);if(0===t)i-=r,cA(e,4,i=Math.max(i,0));else{i*=Math.pow(2,32),i+=oA(e,8),i-=r,i=Math.max(i,0);var a=Math.floor(i/(nA+1)),o=Math.floor(i%(nA+1));cA(e,4,a),cA(e,8,o)}}}))}}))}))}(f,d,l.baseTime/l.timescale),p>0?this.lastEndTime=v:(up.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var y=!!f.audio,E=!!f.video,_="";y&&(_+="audio"),E&&(_+="video");var T={data1:d,startPTS:m,startDTS:m,endPTS:v,endDTS:v,type:_,hasAudio:y,hasVideo:E,nb:1,dropped:0};return c.audio="audio"===T.type?T:void 0,c.video="audio"!==T.type?T:void 0,c.initSegment=h,c.id3=ty(n,i,l,l),r.samples.length&&(c.text=ny(r,i,l)),c}}]),e}();function sy(e,t){var n=null==e?void 0:e.codec;if(n&&n.length>4)return n;if(t===gp){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n){return VA(n,!1)}var r="mp4a.40.5";return up.info('Parsed audio codec "'.concat(n,'" or audio object type not handled. Using "').concat(r,'"')),r}return up.warn('Unhandled video codec "'.concat(n,'"')),"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1.42e01e"}try{ry=self.performance.now.bind(self.performance)}catch(e){up.debug("Unable to use Performance API on this environment"),ry=null==Cp?void 0:Cp.Date.now}var oy=[{demux:Rv,remux:ay},{demux:Fv,remux:$v},{demux:Iv,remux:$v},{demux:Hv,remux:$v}];oy.splice(2,0,{demux:Mv,remux:$v});var ly=function(){function e(t,n,r,i,a){_class_call_check(this,e),this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=n,this.config=r,this.vendor=i,this.id=a}return _create_class(e,[{key:"configure",value:function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}},{key:"push",value:function(e,t,n,r){var i=this,a=n.transmuxing;a.executeStart=ry();var s=new Uint8Array(e),o=this.currentTransmuxState,l=this.transmuxConfig;r&&(this.currentTransmuxState=r);var u=r||o,c=u.contiguous,d=u.discontinuity,h=u.trackSwitch,f=u.accurateTimeOffset,p=u.timeOffset,A=u.initSegmentChange,g=l.audioCodec,m=l.videoCodec,v=l.defaultInitPts,y=l.duration,E=l.initSegmentData,_=function(e,t){var n=null;e.byteLength>0&&null!=(null==t?void 0:t.key)&&null!==t.iv&&null!=t.method&&(n=t);return n}(s,t);if(_&&"AES-128"===_.method){var T=this.getDecrypter();if(!T.isSync())return this.decryptionPromise=T.webCryptoDecrypt(s,_.key.buffer,_.iv.buffer).then((function(e){var t=i.push(e,null,n);return i.decryptionPromise=null,t})),this.decryptionPromise;var b=T.softwareDecrypt(s,_.key.buffer,_.iv.buffer);if(n.part>-1&&(b=T.flush()),!b)return a.executeEnd=ry(),uy(n);s=new Uint8Array(b)}var S=this.needsProbing(d,h);if(S){var w=this.configureTransmuxer(s);if(w)return up.warn("[transmuxer] ".concat(w.message)),this.observer.emit(np.ERROR,np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_PARSING_ERROR,fatal:!1,error:w,reason:w.message}),a.executeEnd=ry(),uy(n)}(d||h||A||S)&&this.resetInitSegment(E,g,m,y,t),(d||A||S)&&this.resetInitialTimestamp(v),c||this.resetContiguity();var C=this.transmux(s,_,p,f,n),I=this.currentTransmuxState;return I.contiguous=!0,I.discontinuity=!1,I.trackSwitch=!1,a.executeEnd=ry(),C}},{key:"flush",value:function(e){var t=this,n=e.transmuxing;n.executeStart=ry();var r=this,i=r.decrypter,a=r.currentTransmuxState,s=r.decryptionPromise;if(s)return s.then((function(){return t.flush(e)}));var o=[],l=a.timeOffset;if(i){var u=i.flush();u&&o.push(this.push(u,null,e))}var c=this.demuxer,d=this.remuxer;if(!c||!d)return n.executeEnd=ry(),[uy(e)];var h=c.flush(l);return cy(h)?h.then((function(n){return t.flushRemux(o,n,e),o})):(this.flushRemux(o,h,e),o)}},{key:"flushRemux",value:function(e,t,n){var r=t.audioTrack,i=t.videoTrack,a=t.id3Track,s=t.textTrack,o=this.currentTransmuxState,l=o.accurateTimeOffset,u=o.timeOffset;up.log("[transmuxer.ts]: Flushed fragment ".concat(n.sn).concat(n.part>-1?" p: "+n.part:""," of level ").concat(n.level));var c=this.remuxer.remux(r,i,a,s,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=ry()}},{key:"resetInitialTimestamp",value:function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))}},{key:"resetContiguity",value:function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}},{key:"resetInitSegment",value:function(e,t,n,r,i){var a=this.demuxer,s=this.remuxer;a&&s&&(a.resetInitSegment(e,t,n,r),s.resetInitSegment(e,t,n,i))}},{key:"destroy",value:function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}},{key:"transmux",value:function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)}},{key:"transmuxUnencrypted",value:function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,s=i.videoTrack,o=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,s,o,l,t,n,!1,this.id),chunkMeta:r}}},{key:"transmuxSampleAes",value:function(e,t,n,r,i){var a=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,n,r,!1,a.id),chunkMeta:i}}))}},{key:"configureTransmuxer",value:function(e){for(var t,n=this,r=n.config,i=n.observer,a=n.typeSupported,s=n.vendor,o=0,l=oy.length;o<l;o++){var u;if(null!=(u=oy[o].demux)&&u.probe(e)){t=oy[o];break}}if(!t)return new Error("Failed to find demuxer by probing fragment data");var c=this.demuxer,d=this.remuxer,h=t.remux,f=t.demux;d&&_instanceof(d,h)||(this.remuxer=new h(i,r,a,s)),c&&_instanceof(c,f)||(this.demuxer=new f(i,r,a),this.probe=f.probe)}},{key:"needsProbing",value:function(e,t){return!this.demuxer||!this.remuxer||e||t}},{key:"getDecrypter",value:function(){var e=this.decrypter;return e||(e=this.decrypter=new Hm(this.config)),e}}]),e}();var uy=function(e){return{remuxResult:{},chunkMeta:e}};function cy(e){return"then"in e&&_instanceof(e.then,Function)}var dy=function e(t,n,r,i,a){_class_call_check(this,e),this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=a||null},hy=function e(t,n,r,i,a,s){_class_call_check(this,e),this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=s},fy={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,u,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,u=[],c=o.length;l<c;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&u.push(o[l]);u.length?this._events[a]=1===u.length?u[0]:u:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(fy);var py=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(fy.exports),Ay=function(){function e(t,n,r,i){var a=this;_class_call_check(this,e),this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var s=t.config;this.hls=t,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;var o=function(e,t){(t=t||{}).frag=a.frag,t.id=a.id,e===np.ERROR&&(a.error=t.error),a.hls.trigger(e,t)};this.observer=new py,this.observer.on(np.FRAG_DECRYPTED,o),this.observer.on(np.ERROR,o);var l,u,c,d,h=BA(s.preferManagedMediaSource)||{isTypeSupported:function(){return!1}},f={mpeg:h.isTypeSupported("audio/mpeg"),mp3:h.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:h.isTypeSupported('audio/mp4; codecs="ac-3"')},p=navigator.vendor;if(this.useWorker&&"undefined"!=typeof Worker&&(s.workerPath||"function"==typeof __HLS_WORKER_BUNDLE__)){try{s.workerPath?(up.log("loading Web Worker ".concat(s.workerPath,' for "').concat(n,'"')),this.workerContext=(c=s.workerPath,d=new self.URL(c,self.location.href).href,{worker:new self.Worker(d),scriptURL:d})):(up.log('injecting Web Worker for "'.concat(n,'"')),this.workerContext=(l=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),u=self.URL.createObjectURL(l),{worker:new self.Worker(u),objectURL:u})),this.onwmsg=function(e){return a.onWorkerMessage(e)};var A=this.workerContext.worker;A.addEventListener("message",this.onwmsg),A.onerror=function(e){var t=new Error("".concat(e.message,"  (").concat(e.filename,":").concat(e.lineno,")"));s.enableWorker=!1,up.warn('Error in "'.concat(n,'" Web Worker, fallback to inline')),a.hls.trigger(np.ERROR,{type:rp.OTHER_ERROR,details:ip.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:t})},A.postMessage({cmd:"init",typeSupported:f,vendor:p,id:n,config:JSON.stringify(s)})}catch(e){up.warn('Error setting up "'.concat(n,'" Web Worker, fallback to inline'),e),this.resetWorker(),this.error=null,this.transmuxer=new ly(this.observer,f,s,p,n)}return}this.transmuxer=new ly(this.observer,f,s,p,n)}return _create_class(e,[{key:"resetWorker",value:function(){if(this.workerContext){var e=this.workerContext,t=e.worker,n=e.objectURL;n&&self.URL.revokeObjectURL(n),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}},{key:"destroy",value:function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}},{key:"push",value:function(e,t,n,r,i,a,s,o,l,u){var c,d,h=this;l.transmuxing.start=self.performance.now();var f=this.transmuxer,p=a?a.start:i.start,A=i.decryptdata,g=this.frag,m=!(g&&i.cc===g.cc),v=!(g&&l.level===g.level),y=g?l.sn-g.sn:-1,E=this.part?l.part-this.part.index:-1,_=0===y&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),T=!v&&(1===y||0===y&&(1===E||_&&E<=0)),b=self.performance.now();(v||y||0===i.stats.parsing.start)&&(i.stats.parsing.start=b),!a||!E&&T||(a.stats.parsing.start=b);var S=!(g&&(null==(c=i.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),w=new hy(m,T,o,v,p,S);if(!T||m||S){up.log("[transmuxer-interface, ".concat(i.type,"]: Starting new transmux session for sn: ").concat(l.sn," p: ").concat(l.part," level: ").concat(l.level," id: ").concat(l.id,"\n        discontinuity: ").concat(m,"\n        trackSwitch: ").concat(v,"\n        contiguous: ").concat(T,"\n        accurateTimeOffset: ").concat(o,"\n        timeOffset: ").concat(p,"\n        initSegmentChange: ").concat(S));var C=new dy(n,r,t,s,u);this.configureTransmuxer(C)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:A,chunkMeta:l,state:w},_instanceof(e,ArrayBuffer)?[e]:[]);else if(f){var I=f.push(e,A,l,w);cy(I)?(f.async=!0,I.then((function(e){h.handleTransmuxComplete(e)})).catch((function(e){h.transmuxerError(e,l,"transmuxer-interface push error")}))):(f.async=!1,this.handleTransmuxComplete(I))}}},{key:"flush",value:function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){var r=n.flush(e);cy(r)||n.async?(cy(r)||(r=Promise.resolve(r)),r.then((function(n){t.handleFlushResult(n,e)})).catch((function(n){t.transmuxerError(n,e,"transmuxer-interface flush error")}))):this.handleFlushResult(r,e)}}},{key:"transmuxerError",value:function(e,t,n){this.hls&&(this.error=e,this.hls.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:n}))}},{key:"handleFlushResult",value:function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)}},{key:"onWorkerMessage",value:function(e){var t=e.data,n=this.hls;switch(t.event){case"init":var r,i=null==(r=this.workerContext)?void 0:r.objectURL;i&&self.URL.revokeObjectURL(i);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":up[t.data.logType]&&up[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}}},{key:"configureTransmuxer",value:function(e){var t=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}},{key:"handleTransmuxComplete",value:function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}]),e}();function gy(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!my(e[n].attrs,t[n].attrs))return!1;return!0}function my(e,t,n){var r=e["STABLE-RENDITION-ID"];return r&&!n?r===t["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((function(n){return e[n]!==t[n]}))}function vy(e,t){return t.label.toLowerCase()===e.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(e.lang||"").toLowerCase())}var yy=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r,i){var a;return _class_call_check(this,n),(a=t.call(this,e,r,i,"[audio-stream-controller]",ug)).videoBuffer=null,a.videoTrackCC=-1,a.waitingVideoCC=-1,a.bufferedTrack=null,a.switchingTrack=null,a.trackId=-1,a.waitingData=null,a.mainDetails=null,a.flushing=!1,a.bufferFlushed=!1,a.cachedTrackLoadedData=null,a._registerListeners(),a}return _create_class(n,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),_get(_get_prototype_of(n.prototype),"onHandlerDestroying",this).call(this),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.LEVEL_LOADED,this.onLevelLoaded,this),e.on(np.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(np.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(np.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(np.ERROR,this.onError,this),e.on(np.BUFFER_RESET,this.onBufferReset,this),e.on(np.BUFFER_CREATED,this.onBufferCreated,this),e.on(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(np.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(np.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(np.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.LEVEL_LOADED,this.onLevelLoaded,this),e.off(np.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(np.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(np.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(np.ERROR,this.onError,this),e.off(np.BUFFER_RESET,this.onBufferReset,this),e.off(np.BUFFER_CREATED,this.onBufferCreated,this),e.off(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(np.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(np.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(np.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onInitPtsFound",value:function(e,t){var n=t.frag,r=t.id,i=t.initPTS,a=t.timescale;if("main"===r){var s=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:a},this.log("InitPTS for cc: ".concat(s," found from main: ").concat(i)),this.videoTrackCC=s,this.state===nv&&this.tick()}}},{key:"startLoad",value:function(e){if(!this.levels)return this.startPosition=e,void(this.state=qm);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t,this.state=zm):(this.loadedmetadata=!1,this.state=Jm),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"doTick",value:function(){switch(this.state){case zm:this.doTickIdle();break;case Jm:var e,t=this.levels,r=this.trackId,i=null==t||null==(e=t[r])?void 0:e.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=nv}break;case Xm:var a,s=performance.now(),o=this.retryDate;if(!o||s>=o||null!=(a=this.media)&&a.seeking){var l=this.levels,u=this.trackId;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==l?void 0:l[u])||null),this.state=zm}break;case nv:var c=this.waitingData;if(c){var d=c.frag,h=c.part,f=c.cache,p=c.complete;if(void 0!==this.initPTS[d.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Km;var A={frag:d,part:h,payload:f.flush(),networkDetails:null};this._handleFragmentLoadProgress(A),p&&_get(_get_prototype_of(n.prototype),"_handleFragmentLoadComplete",this).call(this,A)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(d.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{var g=this.getLoadPosition(),m=Rm.bufferInfo(this.mediaBuffer,g,this.config.maxBufferHole);Jg(m.end,this.config.maxFragLookUpTolerance,d)<0&&(this.log("Waiting fragment cc (".concat(d.cc,") @ ").concat(d.start," cancelled because another fragment at ").concat(m.end," is needed")),this.clearWaitingFragment())}}else this.state=zm}this.onTickEnd()}},{key:"clearWaitingFragment",value:function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=zm)}},{key:"resetLoadingState",value:function(){this.clearWaitingFragment(),_get(_get_prototype_of(n.prototype),"resetLoadingState",this).call(this)}},{key:"onTickEnd",value:function(){var e=this.media;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}},{key:"doTickIdle",value:function(){var e=this,t=e.hls,n=e.levels,r=e.media,i=e.trackId,a=t.config;if((r||!this.startFragRequested&&a.startFragPrefetch)&&null!=n&&n[i]){var s=n[i],o=s.details;if(!o||o.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(o))this.state=Jm;else{var l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,gp,ug));var u=this.getFwdBufferInfo(l,ug);if(null!==u){var c=this.bufferedTrack,d=this.switchingTrack;if(!d&&this._streamEnded(u,o))return t.trigger(np.BUFFER_EOS,{type:"audio"}),void(this.state=ev);var h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,lg),f=u.len,p=this.getMaxBufferLength(null==h?void 0:h.len),A=o.fragments,g=A[0].start,m=this.flushing?this.getLoadPosition():u.end;if(d&&r){var v=this.getLoadPosition();c&&!my(d.attrs,c.attrs)&&(m=v),o.PTSKnown&&v<g&&(u.end>g||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=g+.05)}if(!(f>=p&&!d&&m<A[A.length-1].start)){var y=this.getNextFragment(m,o),E=!1;if(y&&this.isLoopLoading(y,m)&&(E=!!y.gap,y=this.getNextFragmentLoopLoading(y,o,u,lg,p)),y){var _=h&&y.start>h.end+o.targetduration;if(_||(null==h||!h.len)&&u.len){var T=this.getAppendedFrag(y.start,lg);if(null===T)return;if(E||(E=!!T.gap||!!_&&0===h.len),_&&!E||E&&u.nextStart&&u.nextStart<T.end)return}this.loadFragment(y,s,m)}else this.bufferFlushed=!0}}}}}},{key:"getMaxBufferLength",value:function(e){var t=_get(_get_prototype_of(n.prototype),"getMaxBufferLength",this).call(this);return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}},{key:"onMediaDetaching",value:function(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,_get(_get_prototype_of(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onAudioTracksUpdated",value:function(e,t){var n=t.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(e){return new Bg(e)}))}},{key:"onAudioTrackSwitching",value:function(e,t){var n=!!t.url;this.trackId=t.id;var r=this.fragCurrent;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=t,this.state=zm,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=qm),this.tick()}},{key:"onManifestLoading",value:function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(np.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}},{key:"onAudioTrackLoaded",value:function(e,t){var n;if(null!=this.mainDetails){var r=this.levels,i=t.details,a=t.id;if(r){this.log("Audio track ".concat(a," loaded [").concat(i.startSN,",").concat(i.endSN,"]").concat(i.lastPartSn?"[part-".concat(i.lastPartSn,"-").concat(i.lastPartIndex,"]"):"",",duration:").concat(i.totalduration));var s=r[a],o=0;if(i.live||null!=(n=s.details)&&n.live){this.checkLiveUpdate(i);var l,u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;if(!s.details&&i.hasProgramDateTime&&u.hasProgramDateTime)xm(i,u),o=i.fragments[0].start;else o=this.alignPlaylists(i,s.details,null==(l=this.levelLastLoaded)?void 0:l.details)}s.details=i,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(this.mainDetails||i,o),this.state!==Jm||this.waitForCdnTuneIn(i)||(this.state=zm),this.tick()}else this.warn("Audio tracks were reset while loading level ".concat(a))}else this.cachedTrackLoadedData=t}},{key:"_handleFragmentLoadProgress",value:function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this,s=a.config,o=a.trackId,l=a.levels;if(l){var u=l[o];if(u){var c=u.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);var d=s.defaultAudioCodec||u.audioCodec||"mp4a.40.2",h=this.transmuxer;h||(h=this.transmuxer=new Ay(this.hls,ug,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var f=this.initPTS[n.cc],p=null==(t=n.initSegment)?void 0:t.data;if(void 0!==f){var A=r?r.index:-1,g=-1!==A,m=new Dm(n.level,n.sn,n.stats.chunkCount,i.byteLength,A,g);h.push(i,p,d,"",n,r,c.totalduration,!1,m,f)}else{this.log("Unknown video PTS for cc ".concat(n.cc,", waiting for video PTS before demuxing audio frag ").concat(n.sn," of [").concat(c.startSN," ,").concat(c.endSN,"],track ").concat(o)),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new av,complete:!1}).cache.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=nv}}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"))}},{key:"_handleFragmentLoadComplete",value:function(e){this.waitingData?this.waitingData.complete=!0:_get(_get_prototype_of(n.prototype),"_handleFragmentLoadComplete",this).call(this,e)}},{key:"onBufferReset",value:function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}},{key:"onBufferCreated",value:function(e,t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}},{key:"onFragBuffered",value:function(e,t){var n=t.frag,r=t.part;if(n.type===ug)if(this.fragContextChanged(n))this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==n.sn){this.fragPrevious=n;var i=this.switchingTrack;i&&(this.bufferedTrack=i,this.switchingTrack=null,this.hls.trigger(np.AUDIO_TRACK_SWITCHED,qf({},i)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===lg){var a=this.videoBuffer||this.media;if(a)Rm.getBuffered(a).length&&(this.loadedmetadata=!0)}}},{key:"onError",value:function(e,t){var r;if(t.fatal)this.state=tv;else switch(t.details){case ip.FRAG_GAP:case ip.FRAG_PARSING_ERROR:case ip.FRAG_DECRYPT_ERROR:case ip.FRAG_LOAD_ERROR:case ip.FRAG_LOAD_TIMEOUT:case ip.KEY_LOAD_ERROR:case ip.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ug,t);break;case ip.AUDIO_TRACK_LOAD_ERROR:case ip.AUDIO_TRACK_LOAD_TIMEOUT:case ip.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Jm||(null==(r=t.context)?void 0:r.type)!==sg||(this.state=zm);break;case ip.BUFFER_APPEND_ERROR:case ip.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;if(t.details===ip.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,_get(_get_prototype_of(n.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case ip.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}},{key:"onBufferFlushing",value:function(e,t){t.type!==mp&&(this.flushing=!0)}},{key:"onBufferFlushed",value:function(e,t){var n=t.type;if(n!==mp){this.flushing=!1,this.bufferFlushed=!0,this.state===ev&&(this.state=zm);var r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,ug),this.tick())}}},{key:"_handleTransmuxComplete",value:function(e){var t,n="audio",r=this.hls,i=e.remuxResult,a=e.chunkMeta,s=this.getCurrentContext(a);if(s){var o=s.frag,l=s.part,u=s.level,c=u.details,d=i.audio,h=i.text,f=i.id3,p=i.initSegment;if(!this.fragContextChanged(o)&&c){if(this.state=Zm,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){var A=o.initSegment||o;this._bufferInitSegment(u,p.tracks,A,a),r.trigger(np.FRAG_PARSING_INIT_SEGMENT,{frag:A,id:n,tracks:p.tracks})}if(d){var g=d.startPTS,m=d.endPTS,v=d.startDTS,y=d.endDTS;l&&(l.elementaryStreams[gp]={startPTS:g,endPTS:m,startDTS:v,endDTS:y}),o.setElementaryStreamInfo(gp,g,m,v,y),this.bufferFragmentData(d,o,l,a)}if(null!=f&&null!=(t=f.samples)&&t.length){var E=Kf({id:n,frag:o,details:c},f);r.trigger(np.FRAG_PARSING_METADATA,E)}if(h){var _=Kf({id:n,frag:o,details:c},h);r.trigger(np.FRAG_PARSING_USERDATA,_)}}else this.fragmentTracker.removeFragment(o)}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(e,t,n,r){if(this.state===Zm){t.video&&delete t.video;var i=t.audio;if(i){i.id="audio";var a=e.audioCodec;this.log("Init audio buffer, container:".concat(i.container,", codecs[level/parsed]=[").concat(a,"/").concat(i.codec,"]")),a&&1===a.split(",").length&&(i.levelCodec=a),this.hls.trigger(np.BUFFER_CODECS,t);var s=i.initSegment;if(null!=s&&s.byteLength){var o={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:s};this.hls.trigger(np.BUFFER_APPENDING,o)}this.tickImmediate()}}}},{key:"loadFragment",value:function(e,t,r){var i,a=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||a===_m||a===bm)if("initSegment"===e.sn)this._loadInitSegment(e,t);else if(null!=(i=t.details)&&i.live&&!this.initPTS[e.cc]){this.log("Waiting for video PTS in continuity counter ".concat(e.cc," of live stream before loading audio fragment ").concat(e.sn," of level ").concat(this.trackId)),this.state=nv;var s=this.mainDetails;s&&s.fragments[0].start!==t.details.fragments[0].start&&xm(t.details,s)}else this.startFragRequested=!0,_get(_get_prototype_of(n.prototype),"loadFragment",this).call(this,e,t,r);else this.clearTrackerIfNeeded(e)}},{key:"flushAudioIfNeeded",value:function(e){var t=this.media,r=this.bufferedTrack,i=null==r?void 0:r.attrs,a=e.attrs;t&&i&&(i.CHANNELS!==a.CHANNELS||r.name!==e.name||r.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),_get(_get_prototype_of(n.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}},{key:"completeAudioSwitch",value:function(e){var t=this.hls;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(np.AUDIO_TRACK_SWITCHED,qf({},e))}}]),n}(iv),Ey=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e,"[audio-track-controller]")).tracks=[],r.groupIds=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.registerListeners(),r}return _create_class(n,[{key:"registerListeners",value:function(){var e=this.hls;e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.MANIFEST_PARSED,this.onManifestParsed,this),e.on(np.LEVEL_LOADING,this.onLevelLoading,this),e.on(np.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(np.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(np.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.MANIFEST_PARSED,this.onManifestParsed,this),e.off(np.LEVEL_LOADING,this.onLevelLoading,this),e.off(np.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(np.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(np.ERROR,this.onError,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,_get(_get_prototype_of(n.prototype),"destroy",this).call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.audioTracks||[]}},{key:"onAudioTrackLoaded",value:function(e,t){var n=t.id,r=t.groupId,i=t.details,a=this.tracksInGroup[n];if(a&&a.groupId===r){var s=a.details;a.details=t.details,this.log("Audio track ".concat(n,' "').concat(a.name,'" lang:').concat(a.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,s)}else this.warn("Audio track with id:".concat(n," and group:").concat(r," not found in active group ").concat(null==a?void 0:a.groupId))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(t){var n=t.audioGroups||null,r=this.groupIds,i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((function(e){return-1===(null==r?void 0:r.indexOf(e))}))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;var a=this.tracks.filter((function(e){return!n||-1!==n.indexOf(e.groupId)}));if(a.length)this.selectDefaultTrack&&!a.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),a.forEach((function(e,t){e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;var s=this.hls.config.audioPreference;if(!i&&s){var o=Am(s,a,mm);if(o>-1)i=a[o];else{var l=Am(s,this.tracks);i=this.tracks[l]}}var u=this.findTrackId(i);-1===u&&i&&(u=this.findTrackId(null));var c={audioTracks:a};this.log("Updating audio tracks, ".concat(a.length," track(s) found in group(s): ").concat(null==n?void 0:n.join(","))),this.hls.trigger(np.AUDIO_TRACKS_UPDATED,c);var d=this.trackId;if(-1!==u&&-1===d)this.setAudioTrack(u);else if(a.length&&-1===d){var h,f=new Error("No audio track selected for current audio group-ID(s): ".concat(null==(h=this.groupIds)?void 0:h.join(",")," track count: ").concat(a.length));this.warn(f.message),this.hls.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&(t.context.type!==sg||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||(this.requestScheduled=-1,this.checkRetry(t)))}},{key:"allAudioTracks",get:function(){return this.tracks}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}},{key:"setAudioOption",value:function(e){var t=this.hls;if(t.config.audioPreference=e,e){var n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){var r=this.currentTrack;if(r&&gm(e,r,mm))return r;var i=Am(e,this.tracksInGroup,mm);if(i>-1){var a=this.tracksInGroup[i];return this.setAudioTrack(i),a}if(r){var s=t.loadLevel;-1===s&&(s=t.firstAutoLevel);var o=function(e,t,n,r,i){var a=t[r],s=t.reduce((function(e,t,n){var r=t.uri;return(e[r]||(e[r]=[])).push(n),e}),{})[a.uri];s.length>1&&(r=Math.max.apply(Math,s));var o=a.videoRange,l=a.frameRate,u=a.codecSet.substring(0,4),c=vm(t,r,(function(t){if(t.videoRange!==o||t.frameRate!==l||t.codecSet.substring(0,4)!==u)return!1;var r=t.audioGroups,a=n.filter((function(e){return!r||-1!==r.indexOf(e.groupId)}));return Am(e,a,i)>-1}));return c>-1?c:vm(t,r,(function(t){var r=t.audioGroups,a=n.filter((function(e){return!r||-1!==r.indexOf(e.groupId)}));return Am(e,a,i)>-1}))}(e,t.levels,n,s,mm);if(-1===o)return null;t.nextLoadLevel=o}if(e.channels||e.audioCodec){var l=Am(e,n);if(l>-1)return n[l]}}}return null}},{key:"setAudioTrack",value:function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid audio track id: ".concat(e));else{this.clearTimer(),this.selectDefaultTrack=!1;var n=this.currentTrack,r=t[e],i=r.details&&!r.details.live;if(!(e===this.trackId&&r===n&&i||(this.log("Switching to audio-track ".concat(e,' "').concat(r.name,'" lang:').concat(r.lang," group:").concat(r.groupId," channels:").concat(r.channels)),this.trackId=e,this.currentTrack=r,this.hls.trigger(np.AUDIO_TRACK_SWITCHING,qf({},r)),i))){var a=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(a)}}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||gm(e,r,mm)))return n}if(e){for(var i=e.name,a=e.lang,s=e.assocLang,o=e.characteristics,l=e.audioCodec,u=e.channels,c=0;c<t.length;c++){if(gm({name:i,lang:a,assocLang:s,characteristics:o,audioCodec:l,channels:u},t[c],mm))return c}for(var d=0;d<t.length;d++){var h=t[d];if(my(e.attrs,h.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return d}for(var f=0;f<t.length;f++){var p=t[f];if(my(e.attrs,p.attrs,["LANGUAGE"]))return f}}return-1}},{key:"loadPlaylist",value:function(e){var t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){_get(_get_prototype_of(n.prototype),"loadPlaylist",this).call(this);var r=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(e))}this.log("loading audio-track playlist ".concat(r,' "').concat(t.name,'" lang:').concat(t.lang," group:").concat(i)),this.clearTimer(),this.hls.trigger(np.AUDIO_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}}}]),n}(om),_y=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r,i){var a;return _class_call_check(this,n),(a=t.call(this,e,r,i,"[subtitle-stream-controller]",cg)).currentTrackId=-1,a.tracksBuffered=[],a.mainDetails=null,a._registerListeners(),a}return _create_class(n,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),_get(_get_prototype_of(n.prototype),"onHandlerDestroying",this).call(this),this.mainDetails=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.LEVEL_LOADED,this.onLevelLoaded,this),e.on(np.ERROR,this.onError,this),e.on(np.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(np.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(np.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(np.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(np.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.LEVEL_LOADED,this.onLevelLoaded,this),e.off(np.ERROR,this.onError,this),e.off(np.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(np.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(np.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(np.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(np.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"startLoad",value:function(e){this.stopLoad(),this.state=zm,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"onManifestLoading",value:function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}},{key:"onMediaDetaching",value:function(){this.tracksBuffered=[],_get(_get_prototype_of(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details}},{key:"onSubtitleFragProcessed",value:function(e,t){var n=t.frag,r=t.success;if(this.fragPrevious=n,this.state=zm,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,s=n.start,o=0;o<i.length;o++)if(s>=i[o].start&&s<=i[o].end){a=i[o];break}var l=n.start+n.duration;a?a.end=l:(a={start:s,end:l},i.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}}}},{key:"onBufferFlushing",value:function(e,t){var n=t.startOffset,r=t.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=r-1;if(i<=0)return;t.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=i)e.shift();else{if(!(e[t].start<i))break;e[t].start=i,t++}})),this.fragmentTracker.removeFragmentsInRange(n,i,cg)}}},{key:"onFragBuffered",value:function(e,t){var n;this.loadedmetadata||t.frag.type!==lg||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(e,t){var n=t.frag;(null==n?void 0:n.type)===cg&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==qm&&(this.state=zm))}},{key:"onSubtitleTracksUpdated",value:function(e,t){var n=this,r=t.subtitleTracks;this.levels&&gy(this.levels,r)?this.levels=r.map((function(e){return new Bg(e)})):(this.tracksBuffered=[],this.levels=r.map((function(e){var t=new Bg(e);return n.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,cg),this.fragPrevious=null,this.mediaBuffer=null)}},{key:"onSubtitleTrackSwitch",value:function(e,t){var n;if(this.currentTrackId=t.id,null!=(n=this.levels)&&n.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()}},{key:"onSubtitleTrackLoaded",value:function(e,t){var n,r=this.currentTrackId,i=this.levels,a=t.details,s=t.id;if(i){var o=i[r];if(!(s>=i.length||s!==r)&&o){this.log("Subtitle track ".concat(s," loaded [").concat(a.startSN,",").concat(a.endSN,"]").concat(a.lastPartSn?"[part-".concat(a.lastPartSn,"-").concat(a.lastPartIndex,"]"):"",",duration:").concat(a.totalduration)),this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(a.live||null!=(n=o.details)&&n.live){var u=this.mainDetails;if(a.deltaUpdateFailed||!u)return;var c,d=u.fragments[0];if(o.details)0===(l=this.alignPlaylists(a,o.details,null==(c=this.levelLastLoaded)?void 0:c.details))&&d&&jg(a,l=d.start);else a.hasProgramDateTime&&u.hasProgramDateTime?(xm(a,u),l=a.fragments[0].start):d&&jg(a,l=d.start)}if(o.details=a,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&a.live||this.setStartPosition(this.mainDetails||a,l),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===zm)Xg(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),o.details=void 0)}}else this.warn("Subtitle tracks were reset while loading level ".concat(s))}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this,n=e.frag,r=e.payload,i=n.decryptdata,a=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&null!=i&&i.key&&i.iv&&"AES-128"===i.method){var s=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch((function(e){throw a.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:n}),e})).then((function(e){var t=performance.now();a.trigger(np.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:s,tdecrypt:t}})})).catch((function(e){t.warn("".concat(e.name,": ").concat(e.message)),t.state=zm}))}}},{key:"doTick",value:function(){if(this.media){if(this.state===zm){var e=this.currentTrackId,t=this.levels,n=null==t?void 0:t[e];if(!n||!t.length||!n.details)return;var r=this.config,i=this.getLoadPosition(),a=Rm.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),s=a.end,o=a.len,l=this.getFwdBufferInfo(this.media,lg),u=n.details;if(o>this.getMaxBufferLength(null==l?void 0:l.len)+u.levelTargetDuration)return;var c=u.fragments,d=c.length,h=u.edge,f=null,p=this.fragPrevious;if(s<h){var A=r.maxFragLookUpTolerance,g=s>h-A?0:A;!(f=Xg(p,c,Math.max(c[0].start,s),g))&&p&&p.start<c[0].start&&(f=c[0])}else f=c[d-1];if(!f)return;if("initSegment"!==(f=this.mapToInitFragWhenRequired(f)).sn){var m=c[f.sn-u.startSN-1];m&&m.cc===f.cc&&this.fragmentTracker.getState(m)===_m&&(f=m)}this.fragmentTracker.getState(f)===_m&&this.loadFragment(f,n,s)}}else this.state=zm}},{key:"getMaxBufferLength",value:function(e){var t=_get(_get_prototype_of(n.prototype),"getMaxBufferLength",this).call(this);return e?Math.max(t,e):t}},{key:"loadFragment",value:function(e,t,r){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,_get(_get_prototype_of(n.prototype),"loadFragment",this).call(this,e,t,r))}},{key:"mediaBufferTimeRanges",get:function(){return new Ty(this.tracksBuffered[this.currentTrackId]||[])}}]),n}(iv),Ty=function e(t){_class_call_check(this,e),this.buffered=void 0;var n=function(e,n,r){if((n>>>=0)>r-1)throw new DOMException("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(n,") is greater than the maximum bound (").concat(r,")"));return t[n][e]};this.buffered={get length(){return t.length},end:function(e){return n("end",e,t.length)},start:function(e){return n("start",e,t.length)}}},by=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e,"[subtitle-track-controller]")).media=null,r.tracks=[],r.groupIds=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.onTextTracksChanged=function(){if(r.useTextTrackPolling||self.clearInterval(r.subtitlePollingInterval),r.media&&r.hls.config.renderTextTracksNatively){for(var e=null,t=vg(r.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=t[n];else if("showing"===t[n].mode){e=t[n];break}var i=r.findTrackForTextTrack(e);r.subtitleTrack!==i&&r.setSubtitleTrack(i)}},r.registerListeners(),r}return _create_class(n,[{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,_get(_get_prototype_of(n.prototype),"destroy",this).call(this)}},{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}},{key:"registerListeners",value:function(){var e=this.hls;e.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.MANIFEST_PARSED,this.onManifestParsed,this),e.on(np.LEVEL_LOADING,this.onLevelLoading,this),e.on(np.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(np.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(np.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.MANIFEST_PARSED,this.onManifestParsed,this),e.off(np.LEVEL_LOADING,this.onLevelLoading,this),e.off(np.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(np.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(np.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}},{key:"pollTrackChange",value:function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}},{key:"onMediaDetaching",value:function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),vg(this.media.textTracks).forEach((function(e){gg(e)})),this.subtitleTrack=-1,this.media=null)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.subtitleTracks}},{key:"onSubtitleTrackLoaded",value:function(e,t){var n=t.id,r=t.groupId,i=t.details,a=this.tracksInGroup[n];if(a&&a.groupId===r){var s=a.details;a.details=t.details,this.log("Subtitle track ".concat(n,' "').concat(a.name,'" lang:').concat(a.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,s)}else this.warn("Subtitle track with id:".concat(n," and group:").concat(r," not found in active group ").concat(null==a?void 0:a.groupId))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(t){var n=t.subtitleGroups||null,r=this.groupIds,i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((function(e){return-1===(null==r?void 0:r.indexOf(e))}))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;var a=this.tracks.filter((function(e){return!n||-1!==n.indexOf(e.groupId)}));if(a.length)this.selectDefaultTrack&&!a.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),a.forEach((function(e,t){e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;var s=this.hls.config.subtitlePreference;if(!i&&s){this.selectDefaultTrack=!1;var o=Am(s,a);if(o>-1)i=a[o];else{var l=Am(s,this.tracks);i=this.tracks[l]}}var u=this.findTrackId(i);-1===u&&i&&(u=this.findTrackId(null));var c={subtitleTracks:a};this.log("Updating subtitle tracks, ".concat(a.length,' track(s) found in "').concat(null==n?void 0:n.join(","),'" group-id')),this.hls.trigger(np.SUBTITLE_TRACKS_UPDATED,c),-1!==u&&-1===this.trackId&&this.setSubtitleTrack(u)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,n=this.selectDefaultTrack,r=0;r<t.length;r++){var i=t[r];if((!n||i.default)&&(n||e)&&(!e||gm(i,e)))return r}if(e){for(var a=0;a<t.length;a++){var s=t[a];if(my(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return a}for(var o=0;o<t.length;o++){var l=t[o];if(my(e.attrs,l.attrs,["LANGUAGE"]))return o}}return-1}},{key:"findTrackForTextTrack",value:function(e){if(e)for(var t=this.tracksInGroup,n=0;n<t.length;n++){if(vy(t[n],e))return n}return-1}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&(t.context.type!==og||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))}},{key:"allSubtitleTracks",get:function(){return this.tracks}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}},{key:"setSubtitleOption",value:function(e){if(this.hls.config.subtitlePreference=e,e){var t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){var n=this.currentTrack;if(n&&gm(e,n))return n;var r=Am(e,this.tracksInGroup);if(r>-1){var i=this.tracksInGroup[r];return this.setSubtitleTrack(r),i}if(n)return null;var a=Am(e,t);if(a>-1)return t[a]}}return null}},{key:"loadPlaylist",value:function(e){_get(_get_prototype_of(n.prototype),"loadPlaylist",this).call(this);var t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){var r=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(e))}this.log("Loading subtitle playlist for id ".concat(r)),this.hls.trigger(np.SUBTITLE_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}}},{key:"toggleTrackModes",value:function(){var e=this.media;if(e){var t,n=vg(e.textTracks),r=this.currentTrack;if(r&&((t=n.filter((function(e){return vy(r,e)}))[0])||this.warn('Unable to find subtitle TextTrack with name "'.concat(r.name,'" and language "').concat(r.lang,'"'))),[].slice.call(n).forEach((function(e){"disabled"!==e.mode&&e!==t&&(e.mode="disabled")})),t){var i=this.subtitleDisplay?"showing":"hidden";t.mode!==i&&(t.mode=i)}}}},{key:"setSubtitleTrack",value:function(e){var t=this.tracksInGroup;if(this.media)if(e<-1||e>=t.length||!$f(e))this.warn("Invalid subtitle track id: ".concat(e));else{this.clearTimer(),this.selectDefaultTrack=!1;var n=this.currentTrack,r=t[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),r){var i=!!r.details&&!r.details.live;if(e!==this.trackId||r!==n||!i){this.log("Switching to subtitle-track ".concat(e)+(r?' "'.concat(r.name,'" lang:').concat(r.lang," group:").concat(r.groupId):""));var a=r.id,s=r.groupId,o=void 0===s?"":s,l=r.name,u=r.type,c=r.url;this.hls.trigger(np.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:u,url:c});var d=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(d)}}else this.hls.trigger(np.SUBTITLE_TRACK_SWITCH,{id:e})}else this.queuedDefaultTrack=e}}]),n}(om),Sy=function(){function e(t){_class_call_check(this,e),this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}return _create_class(e,[{key:"append",value:function(e,t,n){var r=this.queues[t];r.push(e),1!==r.length||n||this.executeNext(t)}},{key:"insertAbort",value:function(e,t){this.queues[t].unshift(e),this.executeNext(t)}},{key:"appendBlocker",value:function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n}},{key:"executeNext",value:function(e){var t=this.queues[e];if(t.length){var n=t[0];try{n.execute()}catch(t){up.warn('[buffer-operation-queue]: Exception executing "'.concat(e,'" SourceBuffer operation: ').concat(t)),n.onError(t);var r=this.buffers[e];null!=r&&r.updating||this.shiftAndExecuteNext(e)}}}},{key:"shiftAndExecuteNext",value:function(e){this.queues[e].shift(),this.executeNext(e)}},{key:"current",value:function(e){return this.queues[e][0]}}]),e}(),wy=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Cy=function(){function e(t){var n=this;_class_call_check(this,e),this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=function(e){n.hls&&n.hls.pauseBuffering()},this._onStartStreaming=function(e){n.hls&&n.hls.resumeBuffering()},this._onMediaSourceOpen=function(){var e=n.media,t=n.mediaSource;n.log("Media source opened"),e&&(e.removeEventListener("emptied",n._onMediaEmptied),n.updateMediaElementDuration(),n.hls.trigger(np.MEDIA_ATTACHED,{media:e,mediaSource:t})),t&&t.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},this._onMediaSourceClose=function(){n.log("Media source closed")},this._onMediaSourceEnded=function(){n.log("Media source ended")},this._onMediaEmptied=function(){var e=n.mediaSrc,t=n._objectUrl;e!==t&&up.error("Media element src was set while attaching MediaSource (".concat(t," > ").concat(e,")"))},this.hls=t;var r="[buffer-controller]";this.appendSource=t.config.preferManagedMediaSource&&"undefined"!=typeof self&&self.ManagedMediaSource,this.log=up.log.bind(up,r),this.warn=up.warn.bind(up,r),this.error=up.error.bind(up,r),this._initSourceBuffer(),this.registerListeners()}return _create_class(e,[{key:"hasSourceTypes",value:function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}},{key:"destroy",value:function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(np.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.MANIFEST_PARSED,this.onManifestParsed,this),e.on(np.BUFFER_RESET,this.onBufferReset,this),e.on(np.BUFFER_APPENDING,this.onBufferAppending,this),e.on(np.BUFFER_CODECS,this.onBufferCodecs,this),e.on(np.BUFFER_EOS,this.onBufferEos,this),e.on(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(np.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(np.FRAG_PARSED,this.onFragParsed,this),e.on(np.FRAG_CHANGED,this.onFragChanged,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.MANIFEST_PARSED,this.onManifestParsed,this),e.off(np.BUFFER_RESET,this.onBufferReset,this),e.off(np.BUFFER_APPENDING,this.onBufferAppending,this),e.off(np.BUFFER_CODECS,this.onBufferCodecs,this),e.off(np.BUFFER_EOS,this.onBufferEos,this),e.off(np.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(np.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(np.FRAG_PARSED,this.onFragParsed,this),e.off(np.FRAG_CHANGED,this.onFragChanged,this)}},{key:"_initSourceBuffer",value:function(){this.sourceBuffer={},this.operationQueue=new Sy(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}},{key:"onManifestLoading",value:function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}},{key:"onManifestParsed",value:function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}},{key:"onMediaAttaching",value:function(e,t){var n=this.media=t.media,r=BA(this.appendSource);if(n&&r){var i,a=this.mediaSource=new r;this.log("created media source: ".concat(null==(i=a.constructor)?void 0:i.name)),a.addEventListener("sourceopen",this._onMediaSourceOpen),a.addEventListener("sourceended",this._onMediaSourceEnded),a.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.addEventListener("startstreaming",this._onStartStreaming),a.addEventListener("endstreaming",this._onEndStreaming));var s=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");var o=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||o&&_instanceof(a,o),Iy(n),function(e,t){var n=self.document.createElement("source");n.type="video/mp4",n.src=t,e.appendChild(n)}(n,s),n.load()}catch(e){n.src=s}else n.src=s;n.addEventListener("emptied",this._onMediaEmptied)}}},{key:"onMediaDetaching",value:function(){var e=this,t=e.media,n=e.mediaSource,r=e._objectUrl;if(n){if(this.log("media source detaching"),"open"===n.readyState)try{n.endOfStream()}catch(e){this.warn("onMediaDetaching: ".concat(e.message," while calling endOfStream"))}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),t&&(t.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(t.removeAttribute("src"),this.appendSource&&Iy(t),t.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(np.MEDIA_DETACHED,void 0)}},{key:"onBufferReset",value:function(){var e=this;this.getSourceBufferTypes().forEach((function(t){e.resetBuffer(t)})),this._initSourceBuffer()}},{key:"resetBuffer",value:function(e){var t=this.sourceBuffer[e];try{var n;if(t)this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,null!=(n=this.mediaSource)&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}catch(t){this.warn("onBufferReset ".concat(e),t)}}},{key:"onBufferCodecs",value:function(e,t){var n=this,r=this.getSourceBufferTypes().length,i=Object.keys(t);if(i.forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var a,s=t[e],o=s.id,l=s.codec,u=s.levelCodec,c=s.container,d=s.metadata,h=HA(i.codec,i.levelCodec),f=null==h?void 0:h.replace(wy,"$1"),p=HA(l,u),A=null==(a=p)?void 0:a.replace(wy,"$1");if(p&&f!==A){"audio"===e.slice(0,5)&&(p=VA(p,n.appendSource));var g="".concat(c,";codecs=").concat(p);n.appendChangeType(e,g),n.log("switching codec ".concat(h," to ").concat(p)),n.tracks[e]={buffer:i.buffer,codec:l,container:c,levelCodec:u,metadata:d,id:o}}}}else n.pendingTracks[e]=t[e]})),!r){var a=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==a&&(this.log("".concat(a," bufferCodec event(s) expected ").concat(i.join(","))),this.bufferCodecEventsExpected=a),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}}},{key:"appendChangeType",value:function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(n.log("changing ".concat(e," sourceBuffer type to ").concat(t)),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){n.warn("Failed to change ".concat(e," SourceBuffer type"),t)}};r.append(i,e,!!this.pendingTracks[e])}},{key:"onBufferAppending",value:function(e,t){var n=this,r=this,i=r.hls,a=r.operationQueue,s=r.tracks,o=t.data,l=t.type,u=t.frag,c=t.part,d=t.chunkMeta,h=d.buffering[l],f=self.performance.now();h.start=f;var p=u.stats.buffering,A=c?c.stats.buffering:null;0===p.start&&(p.start=f),A&&0===A.start&&(A.start=f);var g=s.audio,m=!1;"audio"===l&&"audio/mpeg"===(null==g?void 0:g.container)&&(m=!this.lastMpegAudioChunk||1===d.id||this.lastMpegAudioChunk.sn!==d.sn,this.lastMpegAudioChunk=d);var v=u.start,y={execute:function(){if(h.executeStart=self.performance.now(),m){var e=n.sourceBuffer[l];if(e){var t=v-e.timestampOffset;Math.abs(t)>=.1&&(n.log("Updating audio SourceBuffer timestampOffset to ".concat(v," (delta: ").concat(t,") sn: ").concat(u.sn,")")),e.timestampOffset=v)}}n.appendExecutor(o,l)},onStart:function(){},onComplete:function(){var e=self.performance.now();h.executeEnd=h.end=e,0===p.first&&(p.first=e),A&&0===A.first&&(A.first=e);var t=n.sourceBuffer,r={};for(var i in t)r[i]=Rm.getBuffered(t[i]);n.appendErrors[l]=0,"audio"===l||"video"===l?n.appendErrors.audiovideo=0:(n.appendErrors.audio=0,n.appendErrors.video=0),n.hls.trigger(np.BUFFER_APPENDED,{type:l,frag:u,part:c,chunkMeta:d,parent:u.type,timeRanges:r})},onError:function(e){var t={type:rp.MEDIA_ERROR,parent:u.type,details:ip.BUFFER_APPEND_ERROR,sourceBufferName:l,frag:u,part:c,chunkMeta:d,error:e,err:e,fatal:!1};if(e.code===DOMException.QUOTA_EXCEEDED_ERR)t.details=ip.BUFFER_FULL_ERROR;else{var r=++n.appendErrors[l];t.details=ip.BUFFER_APPEND_ERROR,n.warn("Failed ".concat(r,"/").concat(i.config.appendErrorMaxRetry,' times to append segment in "').concat(l,'" sourceBuffer')),r>=i.config.appendErrorMaxRetry&&(t.fatal=!0)}i.trigger(np.ERROR,t)}};a.append(y,l,!!this.pendingTracks[l])}},{key:"onBufferFlushing",value:function(e,t){var n=this,r=this.operationQueue,i=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(np.BUFFER_FLUSHED,{type:e})},onError:function(t){n.warn("Failed to remove from ".concat(e," SourceBuffer"),t)}}};t.type?r.append(i(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(i(e),e)}))}},{key:"onFragParsed",value:function(e,t){var n=this,r=t.frag,i=t.part,a=[],s=i?i.elementaryStreams:r.elementaryStreams;s[vp]?a.push("audiovideo"):(s[gp]&&a.push("audio"),s[mp]&&a.push("video"));0===a.length&&this.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(r.type," level: ").concat(r.level," sn: ").concat(r.sn)),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,i&&(i.stats.buffering.end=e);var t=i?i.stats:r.stats;n.hls.trigger(np.FRAG_BUFFERED,{frag:r,part:i,stats:t,id:r.type})}),a)}},{key:"onFragChanged",value:function(e,t){this.trimBuffers()}},{key:"onBufferEos",value:function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return!i||t.type&&t.type!==r||(i.ending=!0,i.ended||(i.ended=!0,n.log("".concat(r," sourceBuffer now EOS")))),e&&!(i&&!i.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){n.getSourceBufferTypes().forEach((function(e){var t=n.sourceBuffer[e];t&&(t.ending=!1)}));var e=n.mediaSource;e&&"open"===e.readyState?(n.log("Calling mediaSource.endOfStream()"),e.endOfStream()):e&&n.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(e.readyState))})))}},{key:"onLevelUpdated",value:function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}},{key:"trimBuffers",value:function(){var e=this,t=e.hls,n=e.details,r=e.media;if(r&&null!==n&&this.getSourceBufferTypes().length){var i=t.config,a=r.currentTime,s=n.levelTargetDuration,o=n.live&&null!==i.liveBackBufferLength?i.liveBackBufferLength:i.backBufferLength;if($f(o)&&o>0){var l=Math.max(o,s),u=Math.floor(a/s)*s-l;this.flushBackBuffer(a,s,u)}if($f(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){var c=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),d=Math.max(c,s),h=Math.floor(a/s)*s+d;this.flushFrontBuffer(a,s,h)}}}},{key:"flushBackBuffer",value:function(e,t,n){var r=this,i=this.details,a=this.sourceBuffer;this.getSourceBufferTypes().forEach((function(s){var o=a[s];if(o){var l=Rm.getBuffered(o);if(l.length>0&&n>l.start(0)){if(r.hls.trigger(np.BACK_BUFFER_REACHED,{bufferEnd:n}),null!=i&&i.live)r.hls.trigger(np.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(o.ended&&l.end(l.length-1)-e<2*t)return void r.log("Cannot flush ".concat(s," back buffer while SourceBuffer is in ended state"));r.hls.trigger(np.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:s})}}}))}},{key:"flushFrontBuffer",value:function(e,t,n){var r=this,i=this.sourceBuffer;this.getSourceBufferTypes().forEach((function(a){var s=i[a];if(s){var o=Rm.getBuffered(s),l=o.length;if(l<2)return;var u=o.start(l-1),c=o.end(l-1);if(n>u||e>=u&&e<=c)return;if(s.ended&&e-c<2*t)return void r.log("Cannot flush ".concat(a," front buffer while SourceBuffer is in ended state"));r.hls.trigger(np.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:a})}}))}},{key:"updateMediaElementDuration",value:function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this,t=e.details,n=e.hls,r=e.media,i=e.mediaSource,a=t.fragments[0].start+t.totalduration,s=r.duration,o=$f(i.duration)?i.duration:0;t.live&&n.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(t)):(a>o&&a>s||!$f(s))&&(this.log("Updating Media Source duration to ".concat(a.toFixed(3))),i.duration=a)}}},{key:"updateSeekableRange",value:function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);this.log("Media Source duration is set to ".concat(t.duration,". Setting seekable range to ").concat(r,"-").concat(i,".")),t.setLiveSeekableRange(r,i)}}},{key:"checkPendingTracks",value:function(){var e=this,t=e.bufferCodecEventsExpected,n=e.operationQueue,r=e.pendingTracks,i=Object.keys(r).length;if(i&&(!t||2===i||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};var a=this.getSourceBufferTypes();if(a.length)this.hls.trigger(np.BUFFER_CREATED,{tracks:this.tracks}),a.forEach((function(e){n.executeNext(e)}));else{var s=new Error("could not create source buffer for media codec(s)");this.hls.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:s,reason:s.message})}}}},{key:"createSourceBuffers",value:function(e){var t=this,n=function(n){if(!i[n]){var s=e[n];if(!s)throw Error("source buffer exists for track ".concat(n,", however track does not"));var o=s.levelCodec||s.codec;o&&"audio"===n.slice(0,5)&&(o=VA(o,t.appendSource));var l="".concat(s.container,";codecs=").concat(o);t.log("creating sourceBuffer(".concat(l,")"));try{var u=i[n]=a.addSourceBuffer(l),c=n;t.addBufferListener(c,"updatestart",t._onSBUpdateStart),t.addBufferListener(c,"updateend",t._onSBUpdateEnd),t.addBufferListener(c,"error",t._onSBUpdateError),t.appendSource&&t.addBufferListener(c,"bufferedchange",(function(e,t){var i=t.removedRanges;null!=i&&i.length&&r.hls.trigger(np.BUFFER_FLUSHED,{type:n})})),t.tracks[n]={buffer:u,codec:o,container:s.container,levelCodec:s.levelCodec,metadata:s.metadata,id:s.id}}catch(e){t.error("error while trying to add sourceBuffer: ".concat(e.message)),t.hls.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,sourceBufferName:n,mimeType:l})}}},r=this,i=this.sourceBuffer,a=this.mediaSource;if(!a)throw Error("createSourceBuffers called when mediaSource was null");for(var s in e)n(s)}},{key:"mediaSrc",get:function(){var e,t=(null==(e=this.media)?void 0:e.firstChild)||this.media;return null==t?void 0:t.src}},{key:"_onSBUpdateStart",value:function(e){this.operationQueue.current(e).onStart()}},{key:"_onSBUpdateEnd",value:function(e){var t;if("closed"!==(null==(t=this.mediaSource)?void 0:t.readyState)){var n=this.operationQueue;n.current(e).onComplete(),n.shiftAndExecuteNext(e)}else this.resetBuffer(e)}},{key:"_onSBUpdateError",value:function(e,t){var n,r=new Error("".concat(e," SourceBuffer error. MediaSource readyState: ").concat(null==(n=this.mediaSource)?void 0:n.readyState));this.error("".concat(r),t),this.hls.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});var i=this.operationQueue.current(e);i&&i.onError(r)}},{key:"removeExecutor",value:function(e,t,n){var r=this,i=r.media,a=r.mediaSource,s=r.operationQueue,o=r.sourceBuffer[e];if(!i||!a||!o)return this.warn("Attempting to remove from the ".concat(e," SourceBuffer, but it does not exist")),void s.shiftAndExecuteNext(e);var l=$f(i.duration)?i.duration:1/0,u=$f(a.duration)?a.duration:1/0,c=Math.max(0,t),d=Math.min(n,l,u);d>c&&(!o.ending||o.ended)?(o.ended=!1,this.log("Removing [".concat(c,",").concat(d,"] from the ").concat(e," SourceBuffer")),o.remove(c,d)):s.shiftAndExecuteNext(e)}},{key:"appendExecutor",value:function(e,t){var n=this.sourceBuffer[t];if(n)n.ended=!1,n.appendBuffer(e);else if(!this.pendingTracks[t])throw new Error("Attempting to append to the ".concat(t," SourceBuffer, but it does not exist"))}},{key:"blockBuffers",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var r=this.operationQueue,i=n.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),n.forEach((function(e){var n=t.sourceBuffer[e];null!=n&&n.updating||r.shiftAndExecuteNext(e)}))}))}},{key:"getSourceBufferTypes",value:function(){return Object.keys(this.sourceBuffer)}},{key:"addBufferListener",value:function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}}},{key:"removeBufferListeners",value:function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))}}]),e}();function Iy(e){var t=e.querySelectorAll("source");[].slice.call(t).forEach((function(t){e.removeChild(t)}))}var ky={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ry=function(e){var t=e;return ky.hasOwnProperty(e)&&(t=ky[e]),String.fromCharCode(t)},Dy=15,My=100,Ly={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ny={17:2,18:4,21:6,22:8,23:10,19:13,20:15},By={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},xy={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Py=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Oy=function(){function e(){_class_call_check(this,e),this.time=null,this.verboseLevel=0}return _create_class(e,[{key:"log",value:function(e,t){if(this.verboseLevel>=e){var n="function"==typeof t?t():t;up.log("".concat(this.time," [").concat(e,"] ").concat(n))}}}]),e}(),Fy=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},Uy=function(){function e(){_class_call_check(this,e),this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}return _create_class(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),jy=function(){function e(){_class_call_check(this,e),this.uchar=" ",this.penState=new Uy}return _create_class(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),Qy=function(){function e(t){_class_call_check(this,e),this.chars=[],this.pos=0,this.currPenState=new Uy,this.cueStartTime=null,this.logger=void 0;for(var n=0;n<My;n++)this.chars.push(new jy);this.logger=t}return _create_class(e,[{key:"equals",value:function(e){for(var t=0;t<My;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}},{key:"copy",value:function(e){for(var t=0;t<My;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<My;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>My&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=My)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){var t=this;e>=144&&this.backSpace();var n=Ry(e);this.pos>=My?this.logger.log(0,(function(){return"Cannot insert "+e.toString(16)+" ("+n+") at position "+t.pos+". Skipping it!"})):(this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<My;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,n=0;n<My;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),Gy=function(){function e(t){_class_call_check(this,e),this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(var n=0;n<Dy;n++)this.rows.push(new Qy(t));this.logger=t}return _create_class(e,[{key:"reset",value:function(){for(var e=0;e<Dy;e++)this.rows[e].clear();this.currRow=14}},{key:"equals",value:function(e){for(var t=!0,n=0;n<Dy;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<Dy;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<Dy;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(e)}));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<Dy;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[r].cueStartTime,s=this.logger.time;if(null!==a&&null!==s&&a<s)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(i.rows[r+o])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,c=Math.max(u-1,0);l.setCursor(e.indent),e.color=l.chars[c].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)}},{key:"setBkgData",value:function(e){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(e)})),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){var e=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return e.getDisplayText()}));var t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<Dy;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),Vy=function(){function e(t,n,r){_class_call_check(this,e),this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Gy(r),this.nonDisplayedMemory=new Gy(r),this.lastOutputScreen=new Gy(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}return _create_class(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(function(){return"MODE="+e})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=this,n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return r+": "+t.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())}},{key:"ccRCL",value:function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}},{key:"ccCR",value:function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}},{key:"ccENM",value:function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){var e=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+e.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)}},{key:"ccTO",value:function(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),Hy=function(){function e(t,n,r){_class_call_check(this,e),this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;var i=this.logger=new Oy;this.channels=[null,new Vy(t,n,i),new Vy(t+1,r,i)]}return _create_class(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var n,r,i,a=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(r=127&t[s],i=127&t[s+1],0!==r||0!==i){if(this.logger.log(3,"["+Fy([t[s],t[s+1]])+"] -> ("+Fy([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(a=this.parseChars(r,i))){var o=this.currentChannel;if(o&&o>0)this.channels[o].insertChars(a);else this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(2,"Couldn't parse cleaned data "+Fy([r,i])+" orig: "+Fy([t[s],t[s+1]]))}}},{key:"parseCmd",value:function(e,t){var n=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(qy(e,t,n))return Yy(null,null,n),this.logger.log(3,"Repeated command ("+Fy([e,t])+") is dropped"),!0;var r=20===e||21===e||23===e?1:2,i=this.channels[r];return 20===e||21===e||28===e||29===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),Yy(e,t,n),this.currentChannel=r,!0}},{key:"parseMidrow",value:function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var r=this.channels[n];return!!r&&(r.ccMIDROW(t),this.logger.log(3,"MIDROW ("+Fy([e,t])+")"),!0)}return!1}},{key:"parsePAC",value:function(e,t){var n,r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(qy(e,t,r))return Yy(null,null,r),!0;var i=e<=23?1:2;n=t>=64&&t<=95?1===i?Ly[e]:By[e]:1===i?Ny[e]:xy[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(n,t)),Yy(e,t,r),this.currentChannel=i,!0)}},{key:"interpretPAC",value:function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=!(1&~n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}},{key:"parseChars",value:function(e,t){var n,r,i=null,a=null;(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19)?(r=17===a?t+80:18===a?t+112:t+144,this.logger.log(2,"Special char '"+Ry(r)+"' in channel "+n),i=[r]):e>=32&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=Fy(i);this.logger.log(3,"Char codes =  "+s.join(",")),Yy(e,t,this.cmdHistory)}return i}},{key:"parseBackgroundAttributes",value:function(e,t){var n;if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;var r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=Py[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(r),Yy(e,t,this.cmdHistory),!0}},{key:"reset",value:function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}}}]),e}();function Yy(e,t,n){n.a=e,n.b=t}function qy(e,t,n){return n.a===e&&n.b===t}var zy=function(){function e(t,n){_class_call_check(this,e),this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=n}return _create_class(e,[{key:"dispatchCue",value:function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}},{key:"newCue",value:function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}},{key:"reset",value:function(){this.cueRanges=[],this.startTime=null}}]),e}(),Wy=function(){if(null!=Cp&&Cp.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)e[s]=a[s]}return e}function a(t,a,s){var o=this,l={enumerable:!0};o.hasBeenReset=!1;var u="",c=!1,d=t,h=a,f=s,p=null,A="",g=!0,m="auto",v="start",y=50,E="middle",_=50,T="middle";Object.defineProperty(o,"id",i({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(o,"pauseOnExit",i({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(o,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},l,{get:function(){return A},set:function(t){var r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");A=r,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},l,{get:function(){return v},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},l,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},l,{get:function(){return E},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},l,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},l,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),o.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}(),Ky=function(){function e(){_class_call_check(this,e)}return _create_class(e,[{key:"decode",value:function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}]),e}();function Xy(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}var n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}var Jy=function(){function e(){_class_call_check(this,e),this.values=Object.create(null)}return _create_class(e,[{key:"set",value:function(e,t){this.get(e)||""===t||(this.values[e]=t)}},{key:"get",value:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}},{key:"has",value:function(e){return e in this.values}},{key:"alt",value:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}}},{key:"integer",value:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}},{key:"percent",value:function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}]),e}();function Zy(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var s=i[a].split(n);if(2===s.length)t(s[0],s[1])}}var $y=new Wy(0,0,""),eE="middle"===$y.align?"middle":"center";function tE(e,t,n){var r=e;function i(){var t=Xy(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),a(),t.endTime=i(),a(),function(e,t){var r=new Jy;Zy(e,(function(e,t){var i;switch(e){case"region":for(var a=n.length-1;a>=0;a--)if(n[a].id===t){r.set(e,n[a].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",eE,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",eE,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",eE,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===$y.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",eE);var a=r.get("position","auto");"auto"===a&&50===$y.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function nE(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var rE=function(){function e(){_class_call_check(this,e),this.state="INITIAL",this.buffer="",this.decoder=new Ky,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}return _create_class(e,[{key:"parse",value:function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=nE(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.slice(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.slice(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(r=n()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=n(),t.state){case"HEADER":/:/.test(r)?Zy(r,(function(e,t){}),/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new Wy(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{tE(r,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID")}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}},{key:"flush",value:function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}]),e}(),iE=/\r\n|\n\r|\n|\r/g,aE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.slice(n,n+t.length)===t},sE=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function oE(e,t,n){return sE(e.toString())+sE(t.toString())+sE(n)}function lE(e,t,n,r,i,a,s){var o,l=new rE,u=eA(new Uint8Array(e)).trim().replace(iE,"\n").split("\n"),c=[],d=t?function(e){return Kv(e,Wv,1/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}(t.baseTime,t.timescale):0,h="00:00.000",f=0,p=0,A=!0;l.oncue=function(e){var a=n[r],s=n.ccOffset,l=(f-d)/9e4;if(null!=a&&a.new&&(void 0!==p?s=n.ccOffset=a.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!=(a=i)&&a.new;){var a;e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC]}e.presentationOffset=n}(n,r,l)),l){if(!t)return void(o=new Error("Missing initPTS for VTT MPEGTS"));s=l-n.presentationOffset}var u=e.endTime-e.startTime,h=ey(9e4*(e.startTime+s-p),9e4*i)/9e4;e.startTime=Math.max(h,0),e.endTime=Math.max(h+u,0);var A=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(A)),e.id||(e.id=oE(e.startTime,e.endTime,A)),e.endTime>0&&c.push(e)},l.onparsingerror=function(e){o=e},l.onflush=function(){o?s(o):a(c)},u.forEach((function(e){if(A){if(aE(e,"X-TIMESTAMP-MAP=")){A=!1,e.slice(16).split(",").forEach((function(e){aE(e,"LOCAL:")?h=e.slice(6):aE(e,"MPEGTS:")&&(f=parseInt(e.slice(7)))}));try{p=function(e){var t=parseInt(e.slice(-3)),n=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!($f(t)&&$f(n)&&$f(r)&&$f(i)))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(e));return t+=1e3*n,t+=6e4*r,t+36e5*i}(h)/1e3}catch(e){o=e}return}""===e&&(A=!1)}l.parse(e+"\n")})),l.flush()}var uE="stpp.ttml.im1t",cE=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,dE=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,hE={left:"start",center:"center",right:"end",start:"start",end:"end"};function fE(e,t,n,r){var i=dA(new Uint8Array(e),["mdat"]);if(0!==i.length){var a=i.map((function(e){return eA(e)})),s=function(e,t){return Kv(e,t,1/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1),arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(t.baseTime,1,t.timescale);try{a.forEach((function(e){return n(function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml"),r=n.getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(i).reduce((function(e,t){return e[t]=r.getAttribute("ttp:".concat(t))||i[t],e}),{}),s="preserve"!==r.getAttribute("xml:space"),o=AE(pE(r,"styling","style")),l=AE(pE(r,"layout","region")),u=pE(r,"body","[begin]");return[].map.call(u,(function(e){var n=gE(e,s);if(!n||!e.hasAttribute("begin"))return null;var r=yE(e.getAttribute("begin"),a),i=yE(e.getAttribute("dur"),a),u=yE(e.getAttribute("end"),a);if(null===r)throw vE(e);if(null===u){if(null===i)throw vE(e);u=r+i}var c=new Wy(r-t,u-t,n);c.id=oE(c.startTime,c.endTime,c.text);var d=function(e,t,n){var r="http://www.w3.org/ns/ttml#styling",i=null,a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;s&&n.hasOwnProperty(s)&&(i=n[s]);return a.reduce((function(n,a){var s=mE(t,r,a)||mE(e,r,a)||mE(i,r,a);return s&&(n[a]=s),n}),{})}(l[e.getAttribute("region")],o[e.getAttribute("style")],o),h=d.textAlign;if(h){var f=hE[h];f&&(c.lineAlign=f),c.align=h}return Kf(c,d),c})).filter((function(e){return null!==e}))}(e,s))}))}catch(e){r(e)}}else r(new Error("Could not parse IMSC1 mdat"))}function pE(e,t,n){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function AE(e){return e.reduce((function(e,t){var n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function gE(e,t){return[].slice.call(e.childNodes).reduce((function(e,n,r){var i;return"br"===n.nodeName&&r?e+"\n":null!=(i=n.childNodes)&&i.length?gE(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function mE(e,t,n){return e&&e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function vE(e){return new Error("Could not parse ttml timestamp ".concat(e))}function yE(e,t){if(!e)return null;var n=Xy(e);return null===n&&(cE.test(e)?n=function(e,t){var n=cE.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):dE.test(e)&&(n=function(e,t){var n=dE.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}var EE=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(np.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(np.MANIFEST_LOADING,this.onManifestLoading,this),t.on(np.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(np.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(np.FRAG_LOADING,this.onFragLoading,this),t.on(np.FRAG_LOADED,this.onFragLoaded,this),t.on(np.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(np.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(np.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(np.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(np.BUFFER_FLUSHING,this.onBufferFlushing,this)}return _create_class(e,[{key:"destroy",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(np.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(np.FRAG_LOADING,this.onFragLoading,this),e.off(np.FRAG_LOADED,this.onFragLoaded,this),e.off(np.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(np.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(np.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(np.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(np.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}},{key:"initCea608Parsers",value:function(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){var e=new zy(this,"textTrack1"),t=new zy(this,"textTrack2"),n=new zy(this,"textTrack3"),r=new zy(this,"textTrack4");this.cea608Parser1=new Hy(1,e,t),this.cea608Parser2=new Hy(3,n,r)}}},{key:"addCues",value:function(e,t,n,r,i){for(var a,s,o,l,u=!1,c=i.length;c--;){var d=i[c],h=(a=d[0],s=d[1],o=t,l=n,Math.min(s,l)-Math.max(a,o));if(h>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],n),u=!0,h/(n-t)>.5))return}if(u||i.push([t,n]),this.config.renderTextTracksNatively){var f=this.captionsTracks[e];this.Cues.newCue(f,t,n,r)}else{var p=this.Cues.newCue(null,t,n,r);this.hls.trigger(np.CUES_PARSED,{type:"captions",cues:p,track:e})}}},{key:"onInitPtsFound",value:function(e,t){var n=this,r=t.frag,i=t.id,a=t.initPTS,s=t.timescale,o=this.unparsedVttFrags;"main"===i&&(this.initPTS[r.cc]={baseTime:a,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach((function(e){n.onFragLoaded(np.FRAG_LOADED,e)})))}},{key:"getExistingTrack",value:function(e,t){var n=this.media;if(n)for(var r=0;r<n.textTracks.length;r++){var i=n.textTracks[r];if(TE(i,{name:e,lang:t,attrs:{}}))return i}return null}},{key:"createCaptionsTrack",value:function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}},{key:"createNativeTrack",value:function(e){if(!this.captionsTracks[e]){var t=this,n=t.captionsProperties,r=t.captionsTracks,i=t.media,a=n[e],s=a.label,o=a.languageCode,l=this.getExistingTrack(s,o);if(l)r[e]=l,gg(r[e]),pg(r[e],i);else{var u=this.createTextTrack("captions",s,o);u&&(u[e]=!0,r[e]=u)}}}},{key:"createNonNativeTrack",value:function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(np.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}}},{key:"createTextTrack",value:function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)}},{key:"onMediaAttaching",value:function(e,t){this.media=t.media,this._cleanTracks()}},{key:"onMediaDetaching",value:function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){gg(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}},{key:"onManifestLoading",value:function(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}},{key:"_cleanTracks",value:function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)gg(t[n])}}},{key:"onSubtitleTracksUpdated",value:function(e,t){var n=this,r=t.subtitleTracks||[],i=r.some((function(e){return e.textCodec===uE}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(gy(this.tracks,r))return void(this.tracks=r);if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){var a=this.media,s=a?vg(a.textTracks):null;if(this.tracks.forEach((function(e,t){var r;if(s){for(var i=null,a=0;a<s.length;a++)if(s[a]&&TE(s[a],e)){i=s[a],s[a]=null;break}i&&(r=i)}if(r)gg(r);else{var o=_E(e);(r=n.createTextTrack(o,e.name,e.lang))&&(r.mode="disabled")}r&&n.textTracks.push(r)})),null!=s&&s.length){var o=s.filter((function(e){return null!==e})).map((function(e){return e.label}));o.length&&up.warn("Media element contains unused subtitle tracks: ".concat(o.join(", "),". Replace media element for each source to clear TextTracks and captions menu."))}}else if(this.tracks.length){var l=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(np.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}}},{key:"onManifestLoaded",value:function(e,t){var n=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack".concat(t[1]),i=n.captionsProperties[r];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))}},{key:"closedCaptionsForLevel",value:function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}},{key:"onFragLoading",value:function(e,t){this.initCea608Parsers();var n=this,r=n.cea608Parser1,i=n.cea608Parser2,a=n.lastCc,s=n.lastSn,o=n.lastPartIndex;if(this.enabled&&r&&i&&t.frag.type===lg){var l,u,c=t.frag,d=c.cc,h=c.sn,f=null!=(l=null==t||null==(u=t.part)?void 0:u.index)?l:-1;h===s+1||h===s&&f===o+1||d===a||(r.reset(),i.reset()),this.lastCc=d,this.lastSn=h,this.lastPartIndex=f}}},{key:"onFragLoaded",value:function(e,t){var n=t.frag,r=t.payload;if(n.type===cg)if(r.byteLength){var i=n.decryptdata,a="stats"in t;if(null==i||!i.encrypted||a){var s=this.tracks[n.level],o=this.vttCCs;o[n.cc]||(o[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),s&&s.textCodec===uE?this._parseIMSC1(n,r):this._parseVTTs(t)}}else this.hls.trigger(np.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}},{key:"_parseIMSC1",value:function(e,t){var n=this,r=this.hls;fE(t,this.initPTS[e.cc],(function(t){n._appendCues(t,e.level),r.trigger(np.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){up.log("Failed to parse IMSC1: ".concat(t)),r.trigger(np.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}},{key:"_parseVTTs",value:function(e){var t,n=this,r=e.frag,i=e.payload,a=this.initPTS,s=this.unparsedVttFrags,o=a.length-1;if(a[r.cc]||-1!==o){var l=this.hls;lE(null!=(t=r.initSegment)&&t.data?EA(r.initSegment.data,new Uint8Array(i)):i,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,(function(e){n._appendCues(e,r.level),l.trigger(np.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})}),(function(t){var a="Missing initPTS for VTT MPEGTS"===t.message;a?s.push(e):n._fallbackToIMSC1(r,i),up.log("Failed to parse VTT cue: ".concat(t)),a&&o>r.cc||l.trigger(np.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:t})}))}else s.push(e)}},{key:"_fallbackToIMSC1",value:function(e,t){var n=this,r=this.tracks[e.level];r.textCodec||fE(t,this.initPTS[e.cc],(function(){r.textCodec=uE,n._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))}},{key:"_appendCues",value:function(e,t){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if(!r||"disabled"===r.mode)return;e.forEach((function(e){return Ag(r,e)}))}else{var i=this.tracks[t];if(!i)return;var a=i.default?"default":"subtitles"+t;n.trigger(np.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}},{key:"onFragDecrypted",value:function(e,t){t.frag.type===cg&&this.onFragLoaded(np.FRAG_LOADED,t)}},{key:"onSubtitleTracksCleared",value:function(){this.tracks=[],this.captionsTracks={}}},{key:"onFragParsingUserdata",value:function(e,t){this.initCea608Parsers();var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r){var i=t.frag,a=t.samples;if(i.type!==lg||"NONE"!==this.closedCaptionsForLevel(i))for(var s=0;s<a.length;s++){var o=a[s].bytes;if(o){var l=this.extractCea608Data(o);n.addData(a[s].pts,l[0]),r.addData(a[s].pts,l[1])}}}}},{key:"onBufferFlushing",value:function(e,t){var n=t.startOffset,r=t.endOffset,i=t.endOffsetSubtitles,a=t.type,s=this.media;if(s&&!(s.currentTime<r)){if(!a||"video"===a){var o=this.captionsTracks;Object.keys(o).forEach((function(e){return mg(o[e],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var l=this.textTracks;Object.keys(l).forEach((function(e){return mg(l[e],n,i)}))}}}},{key:"extractCea608Data",value:function(e){for(var t=[[],[]],n=31&e[0],r=2,i=0;i<n;i++){var a=e[r++],s=127&e[r++],o=127&e[r++];if(0!==s||0!==o)if(!!(4&a)){var l=3&a;0!==l&&1!==l||(t[l].push(s),t[l].push(o))}}return t}}]),e}();function _E(e){return e.characteristics&&/transcribes-spoken-dialog/gi.test(e.characteristics)&&/describes-music-and-sound/gi.test(e.characteristics)?"captions":"subtitles"}function TE(e,t){return!!e&&e.kind===_E(t)&&vy(t,e)}var bE=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}return _create_class(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"destroy",value:function(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(np.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(np.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(np.MANIFEST_PARSED,this.onManifestParsed,this),e.on(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(np.BUFFER_CODECS,this.onBufferCodecs,this),e.on(np.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"unregisterListener",value:function(){var e=this.hls;e.off(np.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(np.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(np.MANIFEST_PARSED,this.onManifestParsed,this),e.off(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(np.BUFFER_CODECS,this.onBufferCodecs,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"onFpsDropLevelCapping",value:function(e,t){var n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}},{key:"onMediaAttaching",value:function(e,t){this.media=_instanceof(t.media,HTMLVideoElement)?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}},{key:"onManifestParsed",value:function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onLevelsUpdated",value:function(e,t){this.timer&&$f(this.autoLevelCapping)&&this.detectPlayerSize()}},{key:"onBufferCodecs",value:function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onMediaDetaching",value:function(){this.stopCapping()}},{key:"detectPlayerSize",value:function(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);var e=this.hls.levels;if(e.length){var t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&up.log("Setting autoLevelCapping to ".concat(n,": ").concat(e[n].height,"p@").concat(e[n].bitrate," for media ").concat(this.mediaWidth,"x").concat(this.mediaHeight)),t.autoLevelCapping=n,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(e,r){return n.isLevelAllowed(e)&&r<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}},{key:"startCapping",value:function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"stopCapping",value:function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}},{key:"getDimensions",value:function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}},{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(e){}return e}},{key:"isLevelAllowed",value:function(e){return!this.restrictedLevels.some((function(t){return e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height}))}}],[{key:"getMaxLevelByMediaSize",value:function(e,t,n){if(null==e||!e.length)return-1;for(var r,i,a=e.length-1,s=Math.max(t,n),o=0;o<e.length;o+=1){var l=e[o];if((l.width>=s||l.height>=s)&&(r=l,!(i=e[o+1])||r.width!==i.width||r.height!==i.height)){a=o;break}}return a}}]),e}(),SE=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}return _create_class(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"registerListeners",value:function(){this.hls.on(np.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"unregisterListeners",value:function(){this.hls.off(np.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}},{key:"onMediaAttaching",value:function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=_instanceof(t.media,self.HTMLVideoElement)?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var i=r-this.lastTime,a=n-this.lastDroppedFrames,s=t-this.lastDecodedFrames,o=1e3*a/i,l=this.hls;if(l.trigger(np.FPS_DROP,{currentDropped:a,currentDecoded:s,totalDroppedFrames:n}),o>0&&a>l.config.fpsDroppedMonitoringThreshold*s){var u=l.currentLevel;up.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(np.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),e}(),wE="[eme]",CE=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=e.CDMCleanupPromise?[e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=up.debug.bind(up,wE),this.log=up.log.bind(up,wE),this.warn=up.warn.bind(up,wE),this.error=up.error.bind(up,wE),this.hls=t,this.config=t.config,this.registerListeners()}return _create_class(e,[{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached();var e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}},{key:"registerListeners",value:function(){this.hls.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(np.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(np.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(np.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"unregisterListeners",value:function(){this.hls.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(np.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(np.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(np.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"getLicenseServerUrl",value:function(e){var t=this.config,n=t.drmSystems,r=t.widevineLicenseUrl,i=n[e];if(i)return i.licenseUrl;if(e===Ip.WIDEVINE&&r)return r;throw new Error('no license server URL configured for key-system "'.concat(e,'"'))}},{key:"getServerCertificateUrl",value:function(e){var t=this.config.drmSystems[e];if(t)return t.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(e,'"]'))}},{key:"attemptKeySystemAccess",value:function(e){var t=this,n=this.hls.levels,r=function(e,t,n){return!!e&&n.indexOf(e)===t},i=n.map((function(e){return e.audioCodec})).filter(r),a=n.map((function(e){return e.videoCodec})).filter(r);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(n,r){var s=function(e){var o=e.shift();t.getMediaKeysPromise(o,i,a).then((function(e){return n({keySystem:o,mediaKeys:e})})).catch((function(t){e.length?s(e):_instanceof(t,BE)?r(t):r(new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))};s(e)}))}},{key:"requestMediaKeySystemAccess",value:function(e,t){var n=this.config.requestMediaKeySystemAccessFunc;if("function"!=typeof n){var r="Configured requestMediaKeySystemAccess is not a function ".concat(n);return null===Op&&"http:"===self.location.protocol&&(r="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(r))}return n(e,t)}},{key:"getMediaKeysPromise",value:function(e,t,n){var r=this,i=function(e,t,n,r){var i;switch(e){case Ip.FAIRPLAY:i=["cenc","sinf"];break;case Ip.WIDEVINE:case Ip.PLAYREADY:i=["cenc"];break;case Ip.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(e))}return function(e,t,n,r){return[{initDataTypes:e,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:t.map((function(e){return{contentType:'audio/mp4; codecs="'.concat(e,'"'),robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}})),videoCapabilities:n.map((function(e){return{contentType:'video/mp4; codecs="'.concat(e,'"'),robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}}))}]}(i,t,n,r)}(e,t,n,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e],s=null==a?void 0:a.keySystemAccess;if(!s){this.log('Requesting encrypted media "'.concat(e,'" key-system access with config: ').concat(JSON.stringify(i))),s=this.requestMediaKeySystemAccess(e,i);var o=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch((function(t){r.log('Failed to obtain access to key-system "'.concat(e,'": ').concat(t))})),s.then((function(t){r.log('Access for key-system "'.concat(t.keySystem,'" obtained'));var n=r.fetchServerCertificate(e);return r.log('Create media-keys for "'.concat(e,'"')),o.mediaKeys=t.createMediaKeys().then((function(t){return r.log('Media-keys created for "'.concat(e,'"')),n.then((function(n){return n?r.setMediaKeysServerCertificate(t,e,n):t}))})),o.mediaKeys.catch((function(t){r.error('Failed to create media-keys for "'.concat(e,'"}: ').concat(t))})),o.mediaKeys}))}return s.then((function(){return a.mediaKeys}))}},{key:"createMediaKeySessionContext",value:function(e){var t=e.decryptdata,n=e.keySystem,r=e.mediaKeys;this.log('Creating key-system session "'.concat(n,'" keyId: ').concat(tA(t.keyId||[])));var i=r.createSession(),a={decryptdata:t,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}},{key:"renewKeySession",value:function(e){var t=e.decryptdata;if(t.pssh){var n=this.createMediaKeySessionContext(e),r=this.getKeyIdString(t);this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,"cenc",t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}},{key:"getKeyIdString",value:function(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return tA(e.keyId)}},{key:"updateKeySession",value:function(e,t){var n,r=e.mediaKeysSession;return this.log('Updating key-session "'.concat(r.sessionId,'" for keyID ').concat(tA((null==(n=e.decryptdata)?void 0:n.keyId)||[]),"\n      } (data length: ").concat(t?t.byteLength:t,")")),r.update(t)}},{key:"selectKeySystemFormat",value:function(e){var t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(e.sn," ").concat(e.type,": ").concat(e.level,") key formats ").concat(t.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}},{key:"getKeyFormatPromise",value:function(e){var t=this;return new Promise((function(n,r){var i=xp(t.config),a=e.map(Lp).filter((function(e){return!!e&&-1!==i.indexOf(e)}));return t.getKeySystemSelectionPromise(a).then((function(e){var t=e.keySystem,i=Bp(t);i?n(i):r(new Error('Unable to find format for key-system "'.concat(t,'"')))})).catch(r)}))}},{key:"loadKey",value:function(e){var t=this,n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i="(keyId: ".concat(r,' format: "').concat(n.keyFormat,'" method: ').concat(n.method," uri: ").concat(n.uri,")");this.log("Starting session for key ".concat(i));var a=this.keyIdToKeySessionPromise[r];return a||(a=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then((function(r){var a=r.keySystem,s=r.mediaKeys;return t.throwIfDestroyed(),t.log("Handle encrypted media sn: ".concat(e.frag.sn," ").concat(e.frag.type,": ").concat(e.frag.level," using key ").concat(i)),t.attemptSetMediaKeys(a,s).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({keySystem:a,mediaKeys:s,decryptdata:n});return t.generateRequestWithPreferredKeySession(e,"cenc",n.pssh,"playlist-key")}))}))).catch((function(e){return t.handleError(e)})),a}},{key:"throwIfDestroyed",value:function(){if(!this.hls)throw new Error("invalid state")}},{key:"handleError",value:function(e){this.hls&&(this.error(e.message),_instanceof(e,BE)?this.hls.trigger(np.ERROR,e.data):this.hls.trigger(np.ERROR,{type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}},{key:"getKeySystemForKeyPromise",value:function(e){var t=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[t];if(!n){var r=Lp(e.keyFormat),i=r?[r]:xp(this.config);return this.attemptKeySystemAccess(i)}return n}},{key:"getKeySystemSelectionPromise",value:function(e){if(e.length||(e=xp(this.config)),0===e.length)throw new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(e)}},{key:"_onMediaEncrypted",value:function(e){var t=function(e){var t=f[e],s=t.decryptdata;if(s.pssh||!s.keyId)return"continue";var o=tA(s.keyId);return d===o||-1!==s.uri.replace(/-/g,"").indexOf(d)?(p=h[o],delete h[o],s.pssh=new Uint8Array(i),s.keyId=a,p=h[d]=p.then((function(){return n.generateRequestWithPreferredKeySession(t,r,i,"encrypted-event-key-match")})),"break"):void 0},n=this,r=e.initDataType,i=e.initData;if(this.debug('"'.concat(e.type,'" event: init data type: "').concat(r,'"')),null!==i){var a,s;if("sinf"===r&&this.config.drmSystems[Ip.FAIRPLAY]){var o=aA(new Uint8Array(i));try{var l=bp(JSON.parse(o).sinf),u=vA(new Uint8Array(l));if(!u)return;a=u.subarray(8,24),s=Ip.FAIRPLAY}catch(e){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var c=function(e){if(!_instanceof(e,ArrayBuffer)||e.byteLength<32)return null;var t={version:0,systemId:"",kids:null,data:null},n=new DataView(e),r=n.getUint32(0);if(e.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(t.version=n.getUint32(8)>>>24,t.version>1)return null;t.systemId=tA(new Uint8Array(e,12,16));var i=n.getUint32(28);if(0===t.version){if(r-32<i)return null;t.data=new Uint8Array(e,32,i)}else if(1===t.version){t.kids=[];for(var a=0;a<i;a++)t.kids.push(new Uint8Array(e,32+16*a,16))}return t}(i);if(null===c)return;0===c.version&&c.systemId===Np&&c.data&&(a=c.data.subarray(8,24)),s=function(e){if(e===Np)return Ip.WIDEVINE}(c.systemId)}if(s&&a){for(var d=tA(a),h=this.keyIdToKeySessionPromise,f=this.mediaKeySessions,p=h[d],A=0;A<f.length;A++){if("break"===t(A))break}p||(p=h[d]=this.getKeySystemSelectionPromise([s]).then((function(e){var t,s=e.keySystem,o=e.mediaKeys;n.throwIfDestroyed();var l=new IA("ISO-23001-7",d,null!=(t=Bp(s))?t:"");return l.pssh=new Uint8Array(i),l.keyId=a,n.attemptSetMediaKeys(s,o).then((function(){n.throwIfDestroyed();var e=n.createMediaKeySessionContext({decryptdata:l,keySystem:s,mediaKeys:o});return n.generateRequestWithPreferredKeySession(e,r,i,"encrypted-event-no-match")}))}))),p.catch((function(e){return n.handleError(e)}))}}}},{key:"_onWaitingForKey",value:function(e){this.log('"'.concat(e.type,'" event'))}},{key:"attemptSetMediaKeys",value:function(e,t){var n=this,r=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(e,'"'));var i=Promise.all(r).then((function(){if(!n.media)throw new Error("Attempted to set mediaKeys without media element attached");return n.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(i),i.then((function(){n.log('Media-keys set for "'.concat(e,'"')),r.push(i),n.setMediaKeysQueue=n.setMediaKeysQueue.filter((function(e){return-1===r.indexOf(e)}))}))}},{key:"generateRequestWithPreferredKeySession",value:function(e,t,n,r){var i,a,s=this,o=null==(i=this.config.drmSystems)||null==(a=i[e.keySystem])?void 0:a.generateRequest;if(o)try{var l=o.call(this.hls,t,n,e);if(!l)throw new Error("Invalid response from configured generateRequest filter");t=l.initDataType,n=e.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(e){var u;if(this.warn(e.message),null!=(u=this.hls)&&u.config.debug)throw e}if(null===n)return this.log('Skipping key-session request for "'.concat(r,'" (no initData)')),Promise.resolve(e);var c=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'.concat(r,'": ').concat(c," (init data type: ").concat(t," length: ").concat(n?n.byteLength:null,")"));var d=new py,h=e._onmessage=function(t){var n=e.mediaKeysSession;if(n){var r=t.messageType,i=t.message;s.log('"'.concat(r,'" message event for session "').concat(n.sessionId,'" message size: ').concat(i.byteLength)),"license-request"===r||"license-renewal"===r?s.renewLicense(e,i).catch((function(e){s.handleError(e),d.emit("error",e)})):"license-release"===r?e.keySystem===Ip.FAIRPLAY&&(s.updateKeySession(e,wp("acknowledged")),s.removeSession(e)):s.warn('unhandled media key message type "'.concat(r,'"'))}else d.emit("error",new Error("invalid state"))},f=e._onkeystatuseschange=function(t){if(e.mediaKeysSession){s.onKeyStatusChange(e);var n=e.keyStatus;d.emit("keyStatus",n),"expired"===n&&(s.warn("".concat(e.keySystem," expired for key ").concat(c)),s.renewKeySession(e))}else d.emit("error",new Error("invalid state"))};e.mediaKeysSession.addEventListener("message",h),e.mediaKeysSession.addEventListener("keystatuseschange",f);var p=new Promise((function(e,t){d.on("error",t),d.on("keyStatus",(function(n){n.startsWith("usable")?e():"output-restricted"===n?t(new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?t(new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(n,'"'))):"expired"===n?t(new Error("key expired while generating request")):s.warn('unhandled key status change "'.concat(n,'"'))}))}));return e.mediaKeysSession.generateRequest(t,n).then((function(){var t;s.log('Request generated for key-session "'.concat(null==(t=e.mediaKeysSession)?void 0:t.sessionId,'" keyId: ').concat(c))})).catch((function(e){throw new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: ".concat(e))})).then((function(){return p})).catch((function(t){throw d.removeAllListeners(),s.removeSession(e),t})).then((function(){return d.removeAllListeners(),e}))}},{key:"onKeyStatusChange",value:function(e){var t=this;e.mediaKeysSession.keyStatuses.forEach((function(n,r){t.log('key status change "'.concat(n,'" for keyStatuses keyId: ').concat(tA("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))," session keyId: ").concat(tA(new Uint8Array(e.decryptdata.keyId||[]))," uri: ").concat(e.decryptdata.uri)),e.keyStatus=n}))}},{key:"fetchServerCertificate",value:function(e){var t=this.config,n=new(0,t.loader)(t),r=this.getServerCertificateUrl(e);return r?(this.log('Fetching server certificate for "'.concat(e,'"')),new Promise((function(i,a){var s={responseType:"arraybuffer",url:r},o=t.certLoadPolicy.default,l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:function(e,t,n,r){i(e.data)},onError:function(t,n,i,o){a(new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:qf({url:s.url,data:void 0},t)},'"'.concat(e,'" certificate request failed (').concat(r,"). Status: ").concat(t.code," (").concat(t.text,")")))},onTimeout:function(t,n,i){a(new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:s.url,data:void 0}},'"'.concat(e,'" certificate request timed out (').concat(r,")")))},onAbort:function(e,t,n){a(new Error("aborted"))}};n.load(s,l,u)}))):Promise.resolve()}},{key:"setMediaKeysServerCertificate",value:function(e,t,n){var r=this;return new Promise((function(i,a){e.setServerCertificate(n).then((function(a){r.log("setServerCertificate ".concat(a?"success":"not supported by CDM"," (").concat(null==n?void 0:n.byteLength,') on "').concat(t,'"')),i(e)})).catch((function(e){a(new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}},{key:"renewLicense",value:function(e,t){var n=this;return this.requestLicense(e,new Uint8Array(t)).then((function(t){return n.updateKeySession(e,new Uint8Array(t)).catch((function(e){throw new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))}))}},{key:"unpackPlayReadyKeyMessage",value:function(e,t){var n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;var r=(new DOMParser).parseFromString(n,"application/xml"),i=r.querySelectorAll("HttpHeader");if(i.length>0)for(var a,s=0,o=i.length;s<o;s++){var l,u,c=null==(l=(a=i[s]).querySelector("name"))?void 0:l.textContent,d=null==(u=a.querySelector("value"))?void 0:u.textContent;c&&d&&e.setRequestHeader(c,d)}var h=r.querySelector("Challenge"),f=null==h?void 0:h.textContent;if(!f)throw new Error("Cannot find <Challenge> in key message");return wp(atob(f))}},{key:"setupLicenseXHR",value:function(e,t,n,r){var i=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then((function(){if(!n.decryptdata)throw new Error("Key removed");return a.call(i.hls,e,t,n,r)})).catch((function(s){if(!n.decryptdata)throw s;return e.open("POST",t,!0),a.call(i.hls,e,t,n,r)})).then((function(n){return e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:n||r}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}},{key:"requestLicense",value:function(e,t){var n=this,r=this.config.keyLoadPolicy.default;return new Promise((function(i,a){var s=n.getLicenseServerUrl(e.keySystem);n.log("Sending license request to URL: ".concat(s));var o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=function(){if(!n.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(4===o.readyState)if(200===o.status){n._requestLicenseFailureCount=0;var l=o.response;n.log("License received ".concat(_instanceof(l,ArrayBuffer)?l.byteLength:l));var u=n.config.licenseResponseCallback;if(u)try{l=u.call(n.hls,o,s,e)}catch(e){n.error(e)}i(l)}else{var c=r.errorRetry,d=c?c.maxNumRetry:0;if(n._requestLicenseFailureCount++,n._requestLicenseFailureCount>d||o.status>=400&&o.status<500)a(new BE({type:rp.KEY_SYSTEM_ERROR,details:ip.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},"License Request XHR failed (".concat(s,"). Status: ").concat(o.status," (").concat(o.statusText,")")));else{var h=d-n._requestLicenseFailureCount+1;n.warn("Retrying license request, ".concat(h," attempts left")),n.requestLicense(e,t).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,n.setupLicenseXHR(o,s,e,t).then((function(t){var r=t.xhr,i=t.licenseChallenge;e.keySystem==Ip.PLAYREADY&&(i=n.unpackPlayReadyKeyMessage(r,i)),r.send(i)}))}))}},{key:"onMediaAttached",value:function(e,t){if(this.config.emeEnabled){var n=t.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}}},{key:"onMediaDetached",value:function(){var t=this,n=this.media,r=this.mediaKeySessions;n&&(n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},IA.clearKeyUriToKeyIdMap();var i=r.length;e.CDMCleanupPromise=Promise.all(r.map((function(e){return t.removeSession(e)})).concat(null==n?void 0:n.setMediaKeys(null).catch((function(e){t.log("Could not clear media keys: ".concat(e))})))).then((function(){i&&(t.log("finished closing key sessions and clearing media keys"),r.length=0)})).catch((function(e){t.log("Could not close sessions and clear media keys: ".concat(e))}))}},{key:"onManifestLoading",value:function(){this.keyFormatPromise=null}},{key:"onManifestLoaded",value:function(e,t){var n=t.sessionKeys;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){var r=n.reduce((function(e,t){return-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e}),[]);this.log("Selecting key-system from session-keys ".concat(r.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(r)}}},{key:"removeSession",value:function(e){var t=this,n=e.mediaKeysSession,r=e.licenseXhr;if(n){this.log("Remove licenses and keys and close session ".concat(n.sessionId)),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;var i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch((function(e){t.log("Could not remove session: ".concat(e))})).then((function(){return n.close()})).catch((function(e){t.log("Could not close session: ".concat(e))}))}}}]),e}();CE.CDMCleanupPromise=void 0;var IE,kE,RE,DE,ME,LE,NE,BE=function(e){_inherits(n,_wrap_native_super(Error));var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,r)).data=void 0,e.error||(e.error=new Error(r)),i.data=e,e.err=e.error,i}return n}();(kE=IE||(IE={})).MANIFEST="m",kE.AUDIO="a",kE.VIDEO="v",kE.MUXED="av",kE.INIT="i",kE.CAPTION="c",kE.TIMED_TEXT="tt",kE.KEY="k",kE.OTHER="o",(DE=RE||(RE={})).DASH="d",DE.HLS="h",DE.SMOOTH="s",DE.OTHER="o",(LE=ME||(ME={})).OBJECT="CMCD-Object",LE.REQUEST="CMCD-Request",LE.SESSION="CMCD-Session",LE.STATUS="CMCD-Status";var xE=(_define_property(NE={},ME.OBJECT,["br","d","ot","tb"]),_define_property(NE,ME.REQUEST,["bl","dl","mtp","nor","nrr","su"]),_define_property(NE,ME.SESSION,["cid","pr","sf","sid","st","v"]),_define_property(NE,ME.STATUS,["bs","rtp"]),NE),PE=function e(t,n){_class_call_check(this,e),this.value=void 0,this.params=void 0,Array.isArray(t)&&(t=t.map((function(t){return _instanceof(t,e)?t:new e(t)}))),this.value=t,this.params=n},OE=function e(t){_class_call_check(this,e),this.description=void 0,this.description=t},FE="Dict";function UE(e,t,n,r){return new Error("failed to ".concat(e,' "').concat((i=t,Array.isArray(i)?JSON.stringify(i):_instanceof(i,Map)?"Map{}":_instanceof(i,Set)?"Set{}":"object"==typeof i?JSON.stringify(i):String(i)),'" as ').concat(n),{cause:r});var i}var jE="Bare Item",QE="Boolean",GE="Byte Sequence",VE="Decimal",HE="Integer";var YE=/[\x00-\x1f\x7f]+/,qE="Token",zE="Key";function WE(e,t,n){return UE("serialize",e,t,n)}function KE(e){if(!1===ArrayBuffer.isView(e))throw WE(e,GE);return":".concat((t=e,btoa((n=String).fromCharCode.apply(n,_to_consumable_array(t)))),":");var t,n}function XE(e){if(function(e){return e<-999999999999999||999999999999999<e}(e))throw WE(e,HE);return e.toString()}function JE(e,t){if(e<0)return-JE(-e,t);var n=Math.pow(10,t);if(Math.abs(e*n%1-.5)<Number.EPSILON){var r=Math.floor(e*n);return(r%2==0?r:r+1)/n}return Math.round(e*n)/n}function ZE(e){var t=JE(e,3);if(Math.floor(Math.abs(t)).toString().length>12)throw WE(e,VE);var n=t.toString();return n.includes(".")?n:"".concat(n,".0")}var $E="String";function e_(e){var t,n=(t=e).description||t.toString().slice(7,-1);if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(n))throw WE(n,qE);return n}function t_(e){switch(void 0===e?"undefined":_type_of(e)){case"number":if(!$f(e))throw WE(e,jE);return Number.isInteger(e)?XE(e):ZE(e);case"string":return function(e){if(YE.test(e))throw WE(e,$E);return'"'.concat(e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'"')}(e);case"symbol":return e_(e);case"boolean":return function(e){if("boolean"!=typeof e)throw WE(e,QE);return e?"?1":"?0"}(e);case"object":if(_instanceof(e,Date))return function(e){return"@".concat(XE(e.getTime()/1e3))}(e);if(_instanceof(e,Uint8Array))return KE(e);if(_instanceof(e,OE))return e_(e);default:throw WE(e,jE)}}function n_(e){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(e))throw WE(e,zE);return e}function r_(e){return null==e?"":Object.entries(e).map((function(e){var t=_sliced_to_array(e,2),n=t[0],r=t[1];return!0===r?";".concat(n_(n)):";".concat(n_(n),"=").concat(t_(r))})).join("")}function i_(e){return _instanceof(e,PE)?"".concat(t_(e.value)).concat(r_(e.params)):t_(e)}function a_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{whitespace:!0};if("object"!=typeof e)throw WE(e,FE);var n=_instanceof(e,Map)?e.entries():Object.entries(e),r=null!=t&&t.whitespace?" ":"";return Array.from(n).map((function(e){var t=_sliced_to_array(e,2),n=t[0],r=t[1];!1===_instanceof(r,PE)&&(r=new PE(r));var i,a=n_(n);return!0===r.value?a+=r_(r.params):(a+="=",Array.isArray(r.value)?a+="(".concat((i=r).value.map(i_).join(" "),")").concat(r_(i.params)):a+=i_(r)),a})).join(",".concat(r))}var s_=function(e){return"ot"===e||"sf"===e||"st"===e},o_=function(e){return"number"==typeof e?$f(e):null!=e&&""!==e&&!1!==e};var l_=function(e){return Math.round(e)},u_=function(e){return 100*l_(e/100)},c_={br:l_,d:l_,bl:u_,dl:u_,mtp:u_,nor:function(e,t){return null!=t&&t.baseUrl&&(e=function(e,t){var n=new URL(e),r=new URL(t);if(n.origin!==r.origin)return e;for(var i=n.pathname.split("/").slice(1),a=r.pathname.split("/").slice(1,-1);i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")}(e,t.baseUrl)),encodeURIComponent(e)},rtp:u_,tb:l_};function d_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?function(e,t){return a_(e,t)}(function(e,t){var n={};if(null==e||"object"!=typeof e)return n;var r=Object.keys(e).sort(),i=Kf({},c_,null==t?void 0:t.formatters),a=null==t?void 0:t.filter;return r.forEach((function(r){if(null==a||!a(r)){var s=e[r],o=i[r];o&&(s=o(s,t)),"v"===r&&1===s||"pr"==r&&1===s||o_(s)&&(s_(r)&&"string"==typeof s&&(s=new OE(s)),n[r]=s)}})),n}(e,t),Kf({whitespace:!1},t)):""}function h_(e,t,n){return Kf(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=Object.entries(e),r=Object.entries(xE).concat(Object.entries((null==t?void 0:t.customHeaderMap)||{})),i=n.reduce((function(e,t){var n,i=_sliced_to_array(t,2),a=i[0],s=i[1],o=(null==(n=r.find((function(e){return e[1].includes(a)})))?void 0:n[0])||ME.REQUEST;return null!=e[o]||(e[o]={}),e[o][a]=s,e}),{});return Object.entries(i).reduce((function(e,n){var r=_sliced_to_array(n,2),i=r[0],a=r[1];return e[i]=d_(a,t),e}),{})}(t,n))}var f_="CMCD";var p_=/CMCD=[^&#]+/;function A_(e,t,n){var r=function(e){if(!e)return"";var t=d_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return"".concat(f_,"=").concat(encodeURIComponent(t))}(t,n);if(!r)return e;if(p_.test(e))return e.replace(p_,r);var i=e.includes("?")?"&":"?";return"".concat(e).concat(i).concat(r)}var g_=function(){function e(t){var n=this;_class_call_check(this,e),this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){n.initialized&&(n.starved=!0),n.buffering=!0},this.onPlaying=function(){n.initialized||(n.initialized=!0),n.buffering=!1},this.applyPlaylistData=function(e){try{n.apply(e,{ot:IE.MANIFEST,su:!n.initialized})}catch(e){up.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(e){try{var t=e.frag,r=n.hls.levels[t.level],i=n.getObjectType(t),a={d:1e3*t.duration,ot:i};i!==IE.VIDEO&&i!==IE.AUDIO&&i!=IE.MUXED||(a.br=r.bitrate/1e3,a.tb=n.getTopBandwidth(i)/1e3,a.bl=n.getBufferLength(i)),n.apply(e,a)}catch(e){up.warn("Could not generate segment CMCD data.",e)}},this.hls=t;var r=this.config=t.config,i=r.cmcd;null!=i&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||function(){try{return crypto.randomUUID()}catch(r){try{var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)}))}}}(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.includeKeys=i.includeKeys,this.registerListeners())}return _create_class(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(np.MEDIA_DETACHED,this.onMediaDetached,this),e.on(np.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(np.MEDIA_DETACHED,this.onMediaDetached,this),e.off(np.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}},{key:"onMediaDetached",value:function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}},{key:"onBufferCreated",value:function(e,t){var n,r;this.audioBuffer=null==(n=t.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=t.tracks.video)?void 0:r.buffer}},{key:"createData",value:function(){var e;return{v:1,sf:RE.HLS,sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Kf(t,this.createData());var n=t.ot===IE.INIT||t.ot===IE.VIDEO||t.ot===IE.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);var r=this.includeKeys;r&&(t=Object.keys(t).reduce((function(e,n){return r.includes(n)&&(e[n]=t[n]),e}),{})),this.useHeaders?(e.headers||(e.headers={}),h_(e.headers,t)):e.url=A_(e.url,t)}},{key:"getObjectType",value:function(e){var t=e.type;return"subtitle"===t?IE.TIMED_TEXT:"initSegment"===e.sn?IE.INIT:"audio"===t?IE.AUDIO:"main"===t?this.hls.audioTracks.length?IE.VIDEO:IE.MUXED:void 0}},{key:"getTopBandwidth",value:function(e){var t,n=0,r=this.hls;if(e===IE.AUDIO)t=r.audioTracks;else{var i=r.maxAutoLevel,a=i>-1?i+1:r.levels.length;t=r.levels.slice(0,a)}var s=!0,o=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var d=u.value;d.bitrate>n&&(n=d.bitrate)}}catch(e){o=!0,l=e}finally{try{s||null==c.return||c.return()}finally{if(o)throw l}}return n>0?n:NaN}},{key:"getBufferLength",value:function(e){var t=this.hls.media,n=e===IE.AUDIO?this.audioBuffer:this.videoBuffer;return n&&t?1e3*Rm.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len:NaN}},{key:"createPlaylistLoader",value:function(){var e=this.config.pLoader,t=this.applyPlaylistData,n=e||this.config.loader;return function(){function e(t){_class_call_check(this,e),this.loader=void 0,this.loader=new n(t)}return _create_class(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,n,r){t(e),this.loader.load(e,n,r)}}]),e}()}},{key:"createFragmentLoader",value:function(){var e=this.config.fLoader,t=this.applyFragmentData,n=e||this.config.loader;return function(){function e(t){_class_call_check(this,e),this.loader=void 0,this.loader=new n(t)}return _create_class(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,n,r){t(e),this.loader.load(e,n,r)}}]),e}()}}]),e}(),m_=function(){function e(t){_class_call_check(this,e),this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=up.log.bind(up,"[content-steering]:"),this.registerListeners()}return _create_class(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(np.MANIFEST_PARSED,this.onManifestParsed,this),e.on(np.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(np.MANIFEST_PARSED,this.onManifestParsed,this),e.off(np.ERROR,this.onError,this))}},{key:"startLoad",value:function(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){var e=1e3*this.timeToLoad-(performance.now()-this.updated);if(e>0)return void this.scheduleRefresh(this.uri,e)}this.loadSteeringManifest(this.uri)}}},{key:"stopLoad",value:function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}},{key:"clearTimeout",value:function(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}},{key:"destroy",value:function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"removeLevel",value:function(e){var t=this.levels;t&&(this.levels=t.filter((function(t){return t!==e})))}},{key:"onManifestLoading",value:function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"onManifestLoaded",value:function(e,t){var n=t.contentSteering;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}},{key:"onManifestParsed",value:function(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}},{key:"onError",value:function(e,t){var n=t.errorAction;if((null==n?void 0:n.action)===em&&n.flags===im){var r=this.levels,i=this.pathwayPriority,a=this.pathwayId;if(t.context){var s=t.context,o=s.groupId,l=s.pathwayId,u=s.type;o&&r?a=this.getPathwayForGroupId(o,u,a):l&&(a=l)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!i&&r&&(i=r.reduce((function(e,t){return-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e}),[])),i&&i.length>1&&(this.updatePathwayPriority(i),n.resolved=this.pathwayId!==a),n.resolved||up.warn("Could not resolve ".concat(t.details,' ("').concat(t.error.message,'") with content-steering for Pathway: ').concat(a," levels: ").concat(r?r.length:r," priorities: ").concat(JSON.stringify(i)," penalized: ").concat(JSON.stringify(this.penalizedPathways)))}}},{key:"filterParsedLevels",value:function(e){this.levels=e;var t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){var n=e[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(n,'"')),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length?(this.log("Found ".concat(t.length,"/").concat(e.length,' levels in Pathway "').concat(this.pathwayId,'"')),t):e}},{key:"getLevelsForPathway",value:function(e){return null===this.levels?[]:this.levels.filter((function(t){return e===t.pathwayId}))}},{key:"updatePathwayPriority",value:function(e){var t;this.pathwayPriority=e;var n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((function(e){r-n[e]>3e5&&delete n[e]}));for(var i=0;i<e.length;i++){var a=e[i];if(!(a in n)){if(a===this.pathwayId)return;var s=this.hls.nextLoadLevel,o=this.hls.levels[s];if((t=this.getLevelsForPathway(a)).length>0){this.log('Setting Pathway to "'.concat(a,'"')),this.pathwayId=a,Vg(t),this.hls.trigger(np.LEVELS_UPDATED,{levels:t});var l=this.hls.levels[s];o&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==o.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==o.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(o.bitrate," to ").concat(l.bitrate)),this.hls.nextLoadLevel=s);break}}}}},{key:"getPathwayForGroupId",value:function(e,t,n){for(var r=this.getLevelsForPathway(n).concat(this.levels||[]),i=0;i<r.length;i++)if(t===sg&&r[i].hasAudioGroup(e)||t===og&&r[i].hasSubtitleGroup(e))return r[i].pathwayId;return n}},{key:"clonePathways",value:function(e){var t=this,n=this.levels;if(n){var r={},i={};e.forEach((function(e){var a,s=e.ID,o=e["BASE-ID"],l=e["URI-REPLACEMENT"];if(!n.some((function(e){return e.pathwayId===s}))){var u=t.getLevelsForPathway(o).map((function(e){var t=new hp(e.attrs);t["PATHWAY-ID"]=s;var n=t.AUDIO&&"".concat(t.AUDIO,"_clone_").concat(s),a=t.SUBTITLES&&"".concat(t.SUBTITLES,"_clone_").concat(s);n&&(r[t.AUDIO]=n,t.AUDIO=n),a&&(i[t.SUBTITLES]=a,t.SUBTITLES=a);var o=y_(e.uri,t["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),u=new Bg({attrs:t,audioCodec:e.audioCodec,bitrate:e.bitrate,height:e.height,name:e.name,url:o,videoCodec:e.videoCodec,width:e.width});if(e.audioGroups)for(var c=1;c<e.audioGroups.length;c++)u.addGroupId("audio","".concat(e.audioGroups[c],"_clone_").concat(s));if(e.subtitleGroups)for(var d=1;d<e.subtitleGroups.length;d++)u.addGroupId("text","".concat(e.subtitleGroups[d],"_clone_").concat(s));return u}));(a=n).push.apply(a,_to_consumable_array(u)),v_(t.audioTracks,r,l,s),v_(t.subtitleTracks,i,l,s)}}))}}},{key:"loadSteeringManifest",value:function(e){var t,n=this,r=this.hls.config,i=r.loader;this.loader&&this.loader.destroy(),this.loader=new i(r);try{t=new self.URL(e)}catch(t){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(e))}if("data:"!==t.protocol){var a=0|(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate);t.searchParams.set("_HLS_pathway",this.pathwayId),t.searchParams.set("_HLS_throughput",""+a)}var s={responseType:"json",url:t.href},o=r.steeringManifestLoadPolicy.default,l=o.errorRetry||o.timeoutRetry||{},u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:function(e,r,i,a){n.log('Loaded steering manifest: "'.concat(t,'"'));var s=e.data;if(1===s.VERSION){n.updated=performance.now(),n.timeToLoad=s.TTL;var o=s["RELOAD-URI"],l=s["PATHWAY-CLONES"],u=s["PATHWAY-PRIORITY"];if(o)try{n.uri=new self.URL(o,t).href}catch(e){return n.enabled=!1,void n.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(o))}n.scheduleRefresh(n.uri||i.url),l&&n.clonePathways(l);var c={steeringManifest:s,url:t.toString()};n.hls.trigger(np.STEERING_MANIFEST_LOADED,c),u&&n.updatePathwayPriority(u)}else n.log("Steering VERSION ".concat(s.VERSION," not supported!"))},onError:function(e,t,r,i){if(n.log("Error loading steering manifest: ".concat(e.code," ").concat(e.text," (").concat(t.url,")")),n.stopLoad(),410===e.code)return n.enabled=!1,void n.log("Steering manifest ".concat(t.url," no longer available"));var a=1e3*n.timeToLoad;if(429!==e.code)n.scheduleRefresh(n.uri||t.url,a);else{var s=n.loader;if("function"==typeof(null==s?void 0:s.getResponseHeader)){var o=s.getResponseHeader("Retry-After");o&&(a=1e3*parseFloat(o))}n.log("Steering manifest ".concat(t.url," rate limited"))}},onTimeout:function(e,t,r){n.log("Timeout loading steering manifest (".concat(t.url,")")),n.scheduleRefresh(n.uri||t.url)}};this.log("Requesting steering manifest: ".concat(t)),this.loader.load(s,u,c)}},{key:"scheduleRefresh",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;this.clearTimeout(),this.reloadTimer=self.setTimeout((function(){var n,r=null==(n=t.hls)?void 0:n.media;!r||r.ended?t.scheduleRefresh(e,1e3*t.timeToLoad):t.loadSteeringManifest(e)}),n)}}]),e}();function v_(e,t,n,r){e&&Object.keys(t).forEach((function(i){var a,s=e.filter((function(e){return e.groupId===i})).map((function(e){var a=Kf({},e);return a.details=void 0,a.attrs=new hp(a.attrs),a.url=a.attrs.URI=y_(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=t[i],a.attrs["PATHWAY-ID"]=r,a}));(a=e).push.apply(a,_to_consumable_array(s))}))}function y_(e,t,n,r){var i,a=r.HOST,s=r.PARAMS,o=r[n];t&&(i=null==o?void 0:o[t])&&(e=i);var l=new self.URL(e);return a&&!i&&(l.host=a),s&&Object.keys(s).sort().forEach((function(e){e&&l.searchParams.set(e,s[e])})),l.href}var E_=/^age:\s*[\d.]+\s*$/im,__=function(){function e(t){_class_call_check(this,e),this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new Ap,this.retryDelay=0}return _create_class(e,[{key:"destroy",value:function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null,this.stats=null}},{key:"abortInternal",value:function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}},{key:"load",value:function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}},{key:"loadInternal",value:function(){var e=this,t=this.config,n=this.context;if(t&&n){var r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;var a=this.xhrSetup;a?Promise.resolve().then((function(){if(!e.stats.aborted)return a(r,n.url)})).catch((function(e){return r.open("GET",n.url,!0),a(r,n.url)})).then((function(){e.stats.aborted||e.openAndSendXhr(r,n,t)})).catch((function(t){e.callbacks.onError({code:r.status,text:t.message},n,r,i)})):this.openAndSendXhr(r,n,t)}}},{key:"openAndSendXhr",value:function(e,t,n){e.readyState||e.open("GET",t.url,!0);var r=t.headers,i=n.loadPolicy,a=i.maxTimeToFirstByteMs,s=i.maxLoadTimeMs;if(r)for(var o in r)e.setRequestHeader(o,r[o]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&$f(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}},{key:"readystatechange",value:function(){var e=this,t=e.context,n=e.loader,r=e.stats;if(t&&n){var i=n.readyState,a=this.config;if(!r.aborted&&i>=2&&(0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),4===i)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;var s=n.status,o="text"!==n.responseType;if(s>=200&&s<300&&(o&&n.response||null!==n.responseText)){r.loading.end=Math.max(self.performance.now(),r.loading.first);var l=o?n.response:n.responseText,u="arraybuffer"===n.responseType?l.byteLength:l.length;if(r.loaded=r.total=u,r.bwEstimate=8e3*r.total/(r.loading.end-r.loading.first),!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(r,t,l,n),!this.callbacks)return;var d={url:n.responseURL,data:l,code:s};this.callbacks.onSuccess(d,r,t,n)}else{var h=a.loadPolicy.errorRetry;Wg(h,r.retry,!1,{url:t.url,data:void 0,code:s})?this.retry(h):(up.error("".concat(s," while loading ").concat(t.url)),this.callbacks.onError({code:s,text:n.statusText},t,n,r))}}}}},{key:"loadtimeout",value:function(){var e,t=null==(e=this.config)?void 0:e.loadPolicy.timeoutRetry;if(Wg(t,this.stats.retry,!0))this.retry(t);else{var n;up.warn("timeout while loading ".concat(null==(n=this.context)?void 0:n.url));var r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}}},{key:"retry",value:function(e){var t=this.context,n=this.stats;this.retryDelay=qg(e,n.retry),n.retry++,up.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(null==t?void 0:t.url,", retrying ").concat(n.retry,"/").concat(e.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}},{key:"getCacheAge",value:function(){var e=null;if(this.loader&&E_.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.loader&&new RegExp("^".concat(e,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}]),e}();var T_=/(\d+)-(\d+)\/(\d+)/,b_=function(){function e(t){_class_call_check(this,e),this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||S_,this.controller=new self.AbortController,this.stats=new Ap}return _create_class(e,[{key:"destroy",value:function(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}},{key:"abortInternal",value:function(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}},{key:"load",value:function(e,t,n){var r=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var a=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(Kf({},e.headers))};e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return n}(e,this.controller.signal),s=n.onProgress,o="arraybuffer"===e.responseType,l=o?"byteLength":"length",u=t.loadPolicy,c=u.maxTimeToFirstByteMs,d=u.maxLoadTimeMs;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),t.timeout=c&&$f(c)?c:d,this.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,e,r.response)}),t.timeout),self.fetch(this.request).then((function(a){r.response=r.loader=a;var l=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(r.requestTimeout),t.timeout=d,r.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,e,r.response)}),d-(l-i.loading.start)),!a.ok){var u=a.status,c=a.statusText;throw new C_(c||"fetch, bad network response",u,a)}return i.loading.first=l,i.total=function(e){var t=e.get("Content-Range");if(t){var n=function(e){var t=T_.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if($f(n))return n}var r=e.get("Content-Length");if(r)return parseInt(r)}(a.headers)||i.total,s&&$f(t.highWaterMark)?r.loadProgressively(a,i,e,t.highWaterMark,s):o?a.arrayBuffer():"json"===e.responseType?a.json():a.text()})).then((function(a){var o=r.response;if(!o)throw new Error("loader destroyed");self.clearTimeout(r.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var u=a[l];u&&(i.loaded=i.total=u);var c={url:o.url,data:a,code:o.status};s&&!$f(t.highWaterMark)&&s(i,e,a,o),n.onSuccess(c,i,e,o)})).catch((function(t){if(self.clearTimeout(r.requestTimeout),!i.aborted){var a=t&&t.code||0,s=t?t.message:null;n.onError({code:a,text:s},e,t?t.details:null,i)}}))}},{key:"getCacheAge",value:function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.response?this.response.headers.get(e):null}},{key:"loadProgressively",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=new av,s=e.body.getReader(),o=function(){return s.read().then((function(s){if(s.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return t.loaded+=u,u<r||a.dataLength?(a.push(l),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,l,e),o()})).catch((function(){return Promise.reject()}))};return o()}}]),e}();function S_(e,t){return new self.Request(e.url,t)}var w_,C_=function(e){_inherits(n,_wrap_native_super(Error));var t=_create_super(n);function n(e,r,i){var a;return _class_call_check(this,n),(a=t.call(this,e)).code=void 0,a.details=void 0,a.code=r,a.details=i,a}return n}(),I_=/\s/,k_={newCue:function(e,t,n,r){for(var i,a,s,o,l,u=[],c=self.VTTCue||self.TextTrackCue,d=0;d<r.rows.length;d++)if(s=!0,o=0,l="",!(i=r.rows[d]).isEmpty()){for(var h,f=0;f<i.chars.length;f++)I_.test(i.chars[f].uchar)&&s?o++:(l+=i.chars[f].uchar,s=!1);i.cueStartTime=t,t===n&&(n+=1e-4),o>=16?o--:o++;var p=nE(l.trim()),A=oE(t,n,p);null!=e&&null!=(h=e.cues)&&h.getCueById(A)||((a=new c(t,n,p)).id=A,a.line=d+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*o/32)),u.push(a))}return e&&u.length&&(u.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),u.forEach((function(t){return Ag(e,t)}))),u}},R_=qf(qf({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:__,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:ym,bufferController:Cy,capLevelController:bE,errorController:sm,fpsController:SE,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Op,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:k_,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:_y,subtitleTrackController:by,timelineController:EE,audioStreamController:yy,audioTrackController:Ey,emeController:CE,cmcdController:g_,contentSteeringController:m_});function D_(e){return e&&"object"==typeof e?Array.isArray(e)?e.map(D_):Object.keys(e).reduce((function(t,n){return t[n]=D_(e[n]),t}),{}):e}function M_(e){var t=e.loader;t!==b_&&t!==__?(up.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}()&&(e.loader=b_,e.progressive=!0,e.enableSoftwareAES=!0,up.log("[config]: Progressive streaming enabled, using FetchLoader"))}var L_=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,"[level-controller]"))._levels=[],i._firstLevel=-1,i._maxAutoLevel=-1,i._startLevel=void 0,i.currentLevel=null,i.currentLevelIndex=-1,i.manualLevelIndex=-1,i.steering=void 0,i.onParsedComplete=void 0,i.steering=r,i._registerListeners(),i}return _create_class(n,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(np.LEVEL_LOADED,this.onLevelLoaded,this),e.on(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(np.FRAG_BUFFERED,this.onFragBuffered,this),e.on(np.ERROR,this.onError,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(np.LEVEL_LOADED,this.onLevelLoaded,this),e.off(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(np.FRAG_BUFFERED,this.onFragBuffered,this),e.off(np.ERROR,this.onError,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),_get(_get_prototype_of(n.prototype),"destroy",this).call(this)}},{key:"stopLoad",value:function(){this._levels.forEach((function(e){e.loadError=0,e.fragmentError=0})),_get(_get_prototype_of(n.prototype),"stopLoad",this).call(this)}},{key:"resetLevels",value:function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}},{key:"onManifestLoading",value:function(e,t){this.resetLevels()}},{key:"onManifestLoaded",value:function(e,t){var n=this.hls.config.preferManagedMediaSource,r=[],i={},a={},s=!1,o=!1,l=!1;t.levels.forEach((function(e){var t,u,c=e.attrs,d=e.audioCodec,h=e.videoCodec;-1!==(null==(t=d)?void 0:t.indexOf("mp4a.40.34"))&&(w_||(w_=/chrome|firefox/i.test(navigator.userAgent)),w_&&(e.audioCodec=d=void 0)),d&&(e.audioCodec=d=VA(d,n)),0===(null==(u=h)?void 0:u.indexOf("avc1"))&&(h=e.videoCodec=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e}(h));var f=e.width,p=e.height,A=e.unknownCodecs;if(s||(s=!(!f||!p)),o||(o=!!h),l||(l=!!d),!(null!=A&&A.length||d&&!PA(d,"audio",n)||h&&!PA(h,"video",n))){var g=c.CODECS,m=c["FRAME-RATE"],v=c["HDCP-LEVEL"],y=c["PATHWAY-ID"],E=c.RESOLUTION,_=c["VIDEO-RANGE"],T="".concat(y||".","-"),b="".concat(T).concat(e.bitrate,"-").concat(E,"-").concat(m,"-").concat(g,"-").concat(_,"-").concat(v);if(i[b])if(i[b].uri===e.url||e.attrs["PATHWAY-ID"])i[b].addGroupId("audio",c.AUDIO),i[b].addGroupId("text",c.SUBTITLES);else{var S=a[b]+=1;e.attrs["PATHWAY-ID"]=new Array(S+1).join(".");var w=new Bg(e);i[b]=w,r.push(w)}else{var C=new Bg(e);i[b]=C,a[b]=1,r.push(C)}}})),this.filterAndSortMediaOptions(r,t,s,o,l)}},{key:"filterAndSortMediaOptions",value:function(e,t,n,r,i){var a=this,s=[],o=[],l=e;if((n||r)&&i&&(l=l.filter((function(e){var t,n=e.videoCodec,r=e.videoRange,i=e.width,a=e.height;return(!!n||!(!i||!a))&&(!!(t=r)&&Rg.indexOf(t)>-1)}))),0!==l.length){if(t.audioTracks){var u=this.hls.config.preferManagedMediaSource;N_(s=t.audioTracks.filter((function(e){return!e.audioCodec||PA(e.audioCodec,"audio",u)})))}t.subtitles&&N_(o=t.subtitles);var c=l.slice(0);l.sort((function(e,t){if(e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"])return(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&e.height!==t.height)return e.height-t.height;if(e.frameRate!==t.frameRate)return e.frameRate-t.frameRate;if(e.videoRange!==t.videoRange)return Rg.indexOf(e.videoRange)-Rg.indexOf(t.videoRange);if(e.videoCodec!==t.videoCodec){var r=UA(e.videoCodec),i=UA(t.videoCodec);if(r!==i)return i-r}if(e.uri===t.uri&&e.codecSet!==t.codecSet){var a=jA(e.codecSet),s=jA(t.codecSet);if(a!==s)return s-a}return e.averageBitrate!==t.averageBitrate?e.averageBitrate-t.averageBitrate:0}));var d=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l)).length!==c.length)for(var h=0;h<c.length;h++)if(c[h].pathwayId===l[0].pathwayId){d=c[h];break}this._levels=l;for(var f=0;f<l.length;f++)if(l[f]===d){var p;this._firstLevel=f;var A=d.bitrate,g=this.hls.bandwidthEstimate;if(this.log("manifest loaded, ".concat(l.length," level(s) found, first bitrate: ").concat(A)),void 0===(null==(p=this.hls.userConfig)?void 0:p.abrEwmaDefaultEstimate)){var m=Math.min(A,this.hls.config.abrEwmaDefaultEstimateMax);m>g&&g===R_.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=m)}break}var v=i&&!r,y={levels:l,audioTracks:s,subtitleTracks:o,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:i,video:r,altAudio:!v&&s.some((function(e){return!!e.url}))};this.hls.trigger(np.MANIFEST_PARSED,y),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(a.hls){t.levels.length&&a.warn("One or more CODECS in variant not supported: ".concat(JSON.stringify(t.levels[0].attrs)));var e=new Error("no level with compatible codecs found in manifest");a.hls.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}))}},{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;if(0!==t.length){if(e<0||e>=t.length){var n=new Error("invalid level idx"),r=e<0;if(this.hls.trigger(np.ERROR,{type:rp.OTHER_ERROR,details:ip.LEVEL_SWITCH_ERROR,level:e,fatal:r,error:n,reason:n.message}),r)return;e=Math.min(e,t.length-1)}var i=this.currentLevelIndex,a=this.currentLevel,s=a?a.attrs["PATHWAY-ID"]:void 0,o=t[e],l=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,i!==e||!o.details||!a||s!==l){this.log("Switching to level ".concat(e," (").concat(o.height?o.height+"p ":"").concat(o.videoRange?o.videoRange+" ":"").concat(o.codecSet?o.codecSet+" ":"","@").concat(o.bitrate,")").concat(l?" with Pathway "+l:""," from level ").concat(i).concat(s?" with Pathway "+s:""));var u={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(np.LEVEL_SWITCHING,u);var c=o.details;if(!c||c.live){var d=this.switchParams(o.uri,null==a?void 0:a.details);this.loadPlaylist(d)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this.hls.firstAutoLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===ag&&t.context.level===this.level&&this.checkRetry(t)}},{key:"onFragBuffered",value:function(e,t){var n=t.frag;if(void 0!==n&&n.type===lg){var r=n.elementaryStreams;if(!Object.keys(r).some((function(e){return!!r[e]})))return;var i=this._levels[n.level];null!=i&&i.loadError&&(this.log("Resetting level error count of ".concat(i.loadError," on frag buffered")),i.loadError=0)}}},{key:"onLevelLoaded",value:function(e,t){var n,r,i=t.level,a=t.details,s=this._levels[i];if(!s)return this.warn("Invalid level index ".concat(i)),void(null!=(r=t.deliveryDirectives)&&r.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===s.fragmentError&&(s.loadError=0),this.playlistLoaded(i,t,s.details)):null!=(n=t.deliveryDirectives)&&n.skip&&(a.deltaUpdateFailed=!0)}},{key:"loadPlaylist",value:function(e){_get(_get_prototype_of(n.prototype),"loadPlaylist",this).call(this);var t=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){var i=r.uri;if(e)try{i=e.addDirectives(i)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(e))}var a=r.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(t).concat(void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""," with").concat(a?" Pathway "+a:""," ").concat(i)),this.clearTimer(),this.hls.trigger(np.LEVEL_LOADING,{url:i,level:t,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}},{key:"removeLevel",value:function(e){var t,n=this,r=this._levels.filter((function(t,r){return r!==e||(n.steering&&n.steering.removeLevel(t),t===n.currentLevel&&(n.currentLevel=null,n.currentLevelIndex=-1,t.details&&t.details.fragments.forEach((function(e){return e.level=-1}))),!1)}));Vg(r),this._levels=r,this.currentLevelIndex>-1&&null!=(t=this.currentLevel)&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(np.LEVELS_UPDATED,{levels:r})}},{key:"onLevelsUpdated",value:function(e,t){var n=t.levels;this._levels=n}},{key:"checkMaxAutoUpdated",value:function(){var e=this.hls,t=e.autoLevelCapping,n=e.maxAutoLevel,r=e.maxHdcpLevel;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(np.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}]),n}(om);function N_(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}var B_=function(){function e(t){_class_call_check(this,e),this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}return _create_class(e,[{key:"abort",value:function(e){for(var t in this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[t].loader;if(n){var r;if(e&&e!==(null==(r=n.context)?void 0:r.frag.type))return;n.abort()}}}},{key:"detach",value:function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}},{key:"destroy",value:function(){for(var e in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}},{key:"createKeyLoadError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ip.KEY_LOAD_ERROR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return new jm({type:rp.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:n,networkDetails:r})}},{key:"loadClear",value:function(e,t){if(this.emeController&&this.config.emeEnabled)for(var n=this,r=function(e){var r=t[e];if(a<=r.cc&&("initSegment"===i||"initSegment"===r.sn||i<r.sn))return n.emeController.selectKeySystemFormat(r).then((function(e){r.setKeyFormat(e)})),"break"},i=e.sn,a=e.cc,s=0;s<t.length;s++){if("break"===r(s))break}}},{key:"load",value:function(e){var t=this;return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((function(n){return t.loadInternal(e,n)})):this.loadInternal(e)}},{key:"loadInternal",value:function(e,t){var n,r;t&&e.setKeyFormat(t);var i=e.decryptdata;if(!i){var a=new Error(t?"Expected frag.decryptdata to be defined after setting format ".concat(t):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,ip.KEY_LOAD_ERROR,a))}var s=i.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,ip.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(s,'"'))));var o,l=this.keyUriToKeyInfo[s];if(null!=(n=l)&&n.decryptdata.key)return i.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(null!=(r=l)&&r.keyLoadPromise)switch(null==(o=l.mediaKeySessionContext)?void 0:o.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(t){return i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[s]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,ip.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(i.method,'"'))))}}},{key:"loadKeyEME",value:function(e,t){var n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var r=this.emeController.loadKey(n);if(r)return(e.keyLoadPromise=r.then((function(t){return e.mediaKeySessionContext=t,n}))).catch((function(t){throw e.keyLoadPromise=null,t}))}return Promise.resolve(n)}},{key:"loadKeyHTTP",value:function(e,t){var n=this,r=this.config,i=new(0,r.loader)(r);return t.keyLoader=e.loader=i,e.keyLoadPromise=new Promise((function(a,s){var o={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},l=r.keyLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:function(e,t,r,i){var o=r.frag,l=r.keyInfo,u=r.url;if(!o.decryptdata||l!==n.keyUriToKeyInfo[u])return s(n.createKeyLoadError(o,ip.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));l.decryptdata.key=o.decryptdata.key=new Uint8Array(e.data),o.keyLoader=null,l.loader=null,a({frag:o,keyInfo:l})},onError:function(e,r,i,a){n.resetLoader(r),s(n.createKeyLoadError(t,ip.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(e.code," loading key ").concat(e.text)),i,qf({url:o.url,data:void 0},e)))},onTimeout:function(e,r,i){n.resetLoader(r),s(n.createKeyLoadError(t,ip.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:function(e,r,i){n.resetLoader(r),s(n.createKeyLoadError(t,ip.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};i.load(o,u,c)}))}},{key:"resetLoader",value:function(e){var t=e.frag,n=e.keyInfo,r=e.url,i=n.loader;t.keyLoader===i&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}]),e}();function x_(){return self.SourceBuffer||self.WebKitSourceBuffer}function P_(){if(!BA())return!1;var e=x_();return!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove}var O_=function(){function e(t,n,r,i){_class_call_check(this,e),this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=n,this.fragmentTracker=r,this.hls=i}return _create_class(e,[{key:"destroy",value:function(){this.media=null,this.hls=this.fragmentTracker=null}},{key:"poll",value:function(e,t){var n=this,r=n.config,i=n.media,a=n.stalled;if(null!==i){var s=i.currentTime,o=i.seeking,l=this.seeking&&!o,u=!this.seeking&&o;if(this.seeking=o,s===e)if(u||l)this.stalled=null;else if(i.paused&&!o||i.ended||0===i.playbackRate||!Rm.getBuffered(i).length)this.nudgeRetry=0;else{var c=Rm.bufferInfo(i,s,0),d=c.nextStart||0;if(o){var h=c.len>2,f=!d||t&&t.start<=s||d-s>2&&!this.fragmentTracker.getPartialFragment(s);if(h||f)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p;if(!(c.len>0)&&!d)return;var A=Math.max(d,c.start||0)-s,g=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,m=(null==g||null==(p=g.details)?void 0:p.live)?2*g.details.targetduration:2,v=this.fragmentTracker.getPartialFragment(s);if(A>0&&(A<=m||v))return void(i.paused||this._trySkipBufferHole(v))}var y=self.performance.now();if(null!==a){var E=y-a;if(o||!(E>=250)||(this._reportStall(c),this.media)){var _=Rm.bufferInfo(i,s,r.maxBufferHole);this._tryFixBufferStall(_,E)}}else this.stalled=y}else if(this.moved=!0,o||(this.nudgeRetry=0),null!==a){if(this.stallReported){var T=self.performance.now()-a;up.warn("playback not stuck anymore @".concat(s,", after ").concat(Math.round(T),"ms")),this.stallReported=!1}this.stalled=null}}}},{key:"_tryFixBufferStall",value:function(e,t){var n=this,r=n.config,i=n.fragmentTracker,a=n.media;if(null!==a){var s=a.currentTime,o=i.getPartialFragment(s);if(o)if(this._trySkipBufferHole(o)||!this.media)return;(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-s<r.maxBufferHole)&&t>1e3*r.highBufferWatchdogPeriod&&(up.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}}},{key:"_reportStall",value:function(e){var t=this,n=t.hls,r=t.media;if(!t.stallReported&&r){this.stallReported=!0;var i=new Error("Playback stalling at @".concat(r.currentTime," due to low buffer (").concat(JSON.stringify(e),")"));up.warn(i.message),n.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:e.len})}}},{key:"_trySkipBufferHole",value:function(e){var t=this,n=t.config,r=t.hls,i=t.media;if(null===i)return 0;var a=i.currentTime,s=Rm.bufferInfo(i,a,0),o=a<s.start?s.start:s.nextStart;if(o){var l=s.len<=n.maxBufferHole,u=s.len>0&&s.len<1&&i.readyState<3,c=o-a;if(c>0&&(l||u)){if(c>n.maxBufferHole){var d=this.fragmentTracker,h=!1;if(0===a){var f=d.getAppendedFrag(0,lg);f&&o<f.end&&(h=!0)}if(!h){var p=e||d.getAppendedFrag(a,lg);if(p){for(var A=!1,g=p.end;g<o;){var m=d.getPartialFragment(g);if(!m){A=!0;break}g+=m.duration}if(A)return 0}}}var v=Math.max(o+.05,a+.1);if(up.warn("skipping hole, adjusting currentTime from ".concat(a," to ").concat(v)),this.moved=!0,this.stalled=null,i.currentTime=v,e&&!e.gap){var y=new Error("fragment loaded with buffer holes, seeking from ".concat(a," to ").concat(v));r.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:e})}return v}}return 0}},{key:"_tryNudgeBuffer",value:function(){var e=this,t=e.config,n=e.hls,r=e.media,i=e.nudgeRetry;if(null!==r){var a=r.currentTime;if(this.nudgeRetry++,i<t.nudgeMaxRetry){var s=a+(i+1)*t.nudgeOffset,o=new Error("Nudging 'currentTime' from ".concat(a," to ").concat(s));up.warn(o.message),r.currentTime=s,n.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{var l=new Error("Playhead still not moving while enough data buffered @".concat(a," after ").concat(t.nudgeMaxRetry," nudges"));up.error(l.message),n.trigger(np.ERROR,{type:rp.MEDIA_ERROR,details:ip.BUFFER_STALLED_ERROR,error:l,fatal:!0})}}}}]),e}(),F_=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r,i){var a;return _class_call_check(this,n),(a=t.call(this,e,r,i,"[stream-controller]",lg)).audioCodecSwap=!1,a.gapController=null,a.level=-1,a._forceStartLoad=!1,a.altAudio=!1,a.audioOnly=!1,a.fragPlaying=null,a.onvplaying=null,a.onvseeked=null,a.fragLastKbps=0,a.couldBacktrack=!1,a.backtrackFragment=null,a.audioCodecSwitch=!1,a.videoBuffer=null,a._registerListeners(),a}return _create_class(n,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(np.MANIFEST_LOADING,this.onManifestLoading,this),e.on(np.MANIFEST_PARSED,this.onManifestParsed,this),e.on(np.LEVEL_LOADING,this.onLevelLoading,this),e.on(np.LEVEL_LOADED,this.onLevelLoaded,this),e.on(np.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(np.ERROR,this.onError,this),e.on(np.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(np.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(np.BUFFER_CREATED,this.onBufferCreated,this),e.on(np.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(np.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(np.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(np.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(np.MANIFEST_LOADING,this.onManifestLoading,this),e.off(np.MANIFEST_PARSED,this.onManifestParsed,this),e.off(np.LEVEL_LOADED,this.onLevelLoaded,this),e.off(np.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(np.ERROR,this.onError,this),e.off(np.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(np.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(np.BUFFER_CREATED,this.onBufferCreated,this),e.off(np.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(np.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(np.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),_get(_get_prototype_of(n.prototype),"onHandlerDestroying",this).call(this)}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth&&this.levels.length>1?(r=0,this.bitrateTest=!0):r=n.firstAutoLevel),n.nextLoadLevel=r,this.level=n.loadLevel,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t),this.state=zm,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=qm}},{key:"stopLoad",value:function(){this._forceStartLoad=!1,_get(_get_prototype_of(n.prototype),"stopLoad",this).call(this)}},{key:"doTick",value:function(){switch(this.state){case rv:var e=this.levels,t=this.level,n=null==e?void 0:e[t],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n)){if(this.waitForCdnTuneIn(r))break;this.state=zm;break}if(this.hls.nextLoadLevel!==this.level){this.state=zm;break}break;case Xm:var i,a=self.performance.now(),s=this.retryDate;if(!s||a>=s||null!=(i=this.media)&&i.seeking){var o=this.levels,l=this.level,u=null==o?void 0:o[l];this.resetStartWhenNotLoaded(u||null),this.state=zm}}this.state===zm&&this.doTickIdle(),this.onTickEnd()}},{key:"onTickEnd",value:function(){_get(_get_prototype_of(n.prototype),"onTickEnd",this).call(this),this.checkBuffer(),this.checkFragmentChanged()}},{key:"doTickIdle",value:function(){var e=this,t=e.hls,n=e.levelLastLoaded,r=e.levels,i=e.media;if(null!==n&&(i||!this.startFragRequested&&t.config.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)){var a=t.nextLoadLevel;if(null!=r&&r[a]){var s=r[a],o=this.getMainFwdBufferInfo();if(null!==o){var l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){var u={};return this.altAudio&&(u.type="video"),this.hls.trigger(np.BUFFER_EOS,u),void(this.state=ev)}t.loadLevel!==a&&-1===t.manualLevel&&this.log("Adapting to level ".concat(a," from level ").concat(this.level)),this.level=t.nextLoadLevel=a;var c=s.details;if(!c||this.state===rv||c.live&&this.levelLastLoaded!==s)return this.level=a,void(this.state=rv);var d=o.len,h=this.getMaxBufferLength(s.maxBitrate);if(!(d>=h)){this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);var f=this.backtrackFragment?this.backtrackFragment.start:o.end,p=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==Sm){var A,g=(null!=(A=this.backtrackFragment)?A:p).sn-c.startSN,m=c.fragments[g-1];m&&p.cc===m.cc&&(p=m,this.fragmentTracker.removeFragment(m))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,f)){if(!p.gap){var v=this.audioOnly&&!this.altAudio?gp:mp,y=(v===mp?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,v,lg)}p=this.getNextFragmentLoopLoading(p,c,o,lg,h)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,s,f))}}}}}},{key:"loadFragment",value:function(e,t,r){var i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===_m||i===bm?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log("Fragment ".concat(e.sn," of level ").concat(e.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,_get(_get_prototype_of(n.prototype),"loadFragment",this).call(this,e,t,r)):this.clearTrackerIfNeeded(e)}},{key:"getBufferedFrag",value:function(e){return this.fragmentTracker.getBufferedFrag(e,lg)}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.end+.5):null}},{key:"immediateLevelSwitch",value:function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"nextLevelSwitch",value:function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);var i=this.getLevelDetails();if(null!=i&&i.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*i.targetduration)return}if(!t.paused&&e){var s=e[this.hls.nextLoadLevel],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*s.maxBitrate/(1e3*o)+1:0}else n=0;var l=this.getBufferedFrag(t.currentTime+n);if(l){var u=this.followingBufferedFrag(l);if(u){this.abortCurrentFrag();var c=u.maxStartPTS?u.maxStartPTS:u.start,d=u.duration,h=Math.max(l.end,c+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,d*(this.couldBacktrack?.5:.125)),d*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}},{key:"abortCurrentFrag",value:function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Wm:case Km:case Xm:case Zm:case $m:this.state=zm}this.nextLoadPosition=this.getLoadPosition()}},{key:"flushMainBuffer",value:function(e,t){_get(_get_prototype_of(n.prototype),"flushMainBuffer",this).call(this,e,t,this.altAudio?"video":null)}},{key:"onMediaAttached",value:function(e,t){_get(_get_prototype_of(n.prototype),"onMediaAttached",this).call(this,e,t);var r=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new O_(this.config,r,this.fragmentTracker,this.hls)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),_get(_get_prototype_of(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onMediaPlaying",value:function(){this.tick()}},{key:"onMediaSeeked",value:function(){var e=this.media,t=e?e.currentTime:null;$f(t)&&this.log("Media seeked to ".concat(t.toFixed(3)));var n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn('Main forward buffer length on "seeked" event '.concat(n?n.len:"empty",")"))}},{key:"onManifestLoading",value:function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(np.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}},{key:"onManifestParsed",value:function(e,t){var n,r,i=!1,a=!1;t.levels.forEach((function(e){var t=e.audioCodec;t&&(i=i||-1!==t.indexOf("mp4a.40.2"),a=a||-1!==t.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=i&&a&&!("function"==typeof(null==(r=x_())||null==(n=r.prototype)?void 0:n.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}},{key:"onLevelLoading",value:function(e,t){var n=this.levels;if(n&&this.state===zm){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=rv)}}},{key:"onLevelLoaded",value:function(e,t){var n,r=this.levels,i=t.level,a=t.details,s=a.totalduration;if(r){this.log("Level ".concat(i," loaded [").concat(a.startSN,",").concat(a.endSN,"]").concat(a.lastPartSn?"[part-".concat(a.lastPartSn,"-").concat(a.lastPartIndex,"]"):"",", cc [").concat(a.startCC,", ").concat(a.endCC,"] duration:").concat(s));var o=r[i],l=this.fragCurrent;!l||this.state!==Km&&this.state!==Xm||l.level!==t.level&&l.loader&&this.abortCurrentFrag();var u=0;if(a.live||null!=(n=o.details)&&n.live){var c;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,o.details,null==(c=this.levelLastLoaded)?void 0:c.details)}if(o.details=a,this.levelLastLoaded=o,this.hls.trigger(np.LEVEL_UPDATED,{details:a,level:i}),this.state===rv){if(this.waitForCdnTuneIn(a))return;this.state=zm}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}else this.warn("Levels were reset while loading level ".concat(i))}},{key:"_handleFragmentLoadProgress",value:function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.levels;if(a){var s=a[n.level],o=s.details;if(!o)return this.warn("Dropping fragment ".concat(n.sn," of level ").concat(n.level," after level details were reset")),void this.fragmentTracker.removeFragment(n);var l=s.videoCodec,u=o.PTSKnown||!o.live,c=null==(t=n.initSegment)?void 0:t.data,d=this._getAudioCodec(s),h=this.transmuxer=this.transmuxer||new Ay(this.hls,lg,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=r?r.index:-1,p=-1!==f,A=new Dm(n.level,n.sn,n.stats.chunkCount,i.byteLength,f,p),g=this.initPTS[n.cc];h.push(i,c,d,l,n,r,o.totalduration,u,A,g)}else this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"))}},{key:"onAudioTrackSwitching",value:function(e,t){var n=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r&&(this.log("Switching to main audio track, cancel main fragment load"),r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var i=this.hls;n&&(i.trigger(np.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),i.trigger(np.AUDIO_TRACK_SWITCHED,t)}}},{key:"onAudioTrackSwitched",value:function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()}},{key:"onBufferCreated",value:function(e,t){var n,r,i=t.tracks,a=!1;for(var s in i){var o=i[s];if("main"===o.id){if(r=s,n=o,"video"===s){var l=i[s];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&n?(this.log("Alternate track found, use ".concat(r,".buffered to schedule main fragment loading")),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onFragBuffered",value:function(e,t){var n=t.frag,r=t.part;if(!n||n.type===lg){if(this.fragContextChanged(n))return this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===$m&&(this.state=zm));var i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}}},{key:"onError",value:function(e,t){var n;if(t.fatal)this.state=tv;else switch(t.details){case ip.FRAG_GAP:case ip.FRAG_PARSING_ERROR:case ip.FRAG_DECRYPT_ERROR:case ip.FRAG_LOAD_ERROR:case ip.FRAG_LOAD_TIMEOUT:case ip.KEY_LOAD_ERROR:case ip.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(lg,t);break;case ip.LEVEL_LOAD_ERROR:case ip.LEVEL_LOAD_TIMEOUT:case ip.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==rv||(null==(n=t.context)?void 0:n.type)!==ag||(this.state=zm);break;case ip.BUFFER_APPEND_ERROR:case ip.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;if(t.details===ip.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case ip.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}},{key:"checkBuffer",value:function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!Rm.getBuffered(e).length){var n=this.state!==zm?this.fragCurrent:null;t.poll(this.lastCurrentTime,n)}this.lastCurrentTime=e.currentTime}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=zm,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}},{key:"onBufferFlushed",value:function(e,t){var n=t.type;if(n!==gp||this.audioOnly&&!this.altAudio){var r=(n===mp?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,lg),this.tick()}}},{key:"onLevelsUpdated",value:function(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"seekToStartPos",value:function(){var e=this.media;if(e){var t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void this.log("could not seek to ".concat(n,", already seeking at ").concat(t));var r=Rm.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(i," to match buffer start")),n+=i,this.startPosition=n),this.log("seek to target start position ".concat(n," from current time ").concat(t)),e.currentTime=n}}}},{key:"_getAudioCodec",value:function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}},{key:"_loadBitrateTestFrag",value:function(e,t){var n=this;e.bitrateTest=!0,this._doFragLoad(e,t).then((function(r){var i=n.hls;if(r&&!n.fragContextChanged(e)){t.fragmentError=0,n.state=zm,n.startFragRequested=!1,n.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(np.FRAG_LOADED,r),e.bitrateTest=!1}}))}},{key:"_handleTransmuxComplete",value:function(e){var t,n="main",r=this.hls,i=e.remuxResult,a=e.chunkMeta,s=this.getCurrentContext(a);if(s){var o=s.frag,l=s.part,u=s.level,c=i.video,d=i.text,h=i.id3,f=i.initSegment,p=u.details,A=this.altAudio?void 0:i.audio;if(this.fragContextChanged(o))this.fragmentTracker.removeFragment(o);else{if(this.state=Zm,f){if(null!=f&&f.tracks){var g=o.initSegment||o;this._bufferInitSegment(u,f.tracks,g,a),r.trigger(np.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:n,tracks:f.tracks})}var m=f.initPTS,v=f.timescale;$f(m)&&(this.initPTS[o.cc]={baseTime:m,timescale:v},r.trigger(np.INIT_PTS_FOUND,{frag:o,id:n,initPTS:m,timescale:v}))}if(c&&p&&"initSegment"!==o.sn){var y=p.fragments[o.sn-1-p.startSN],E=o.sn===p.startSN,_=!y||o.cc>y.cc;if(!1!==i.independent){var T=c.startPTS,b=c.endPTS,S=c.startDTS,w=c.endDTS;if(l)l.elementaryStreams[c.type]={startPTS:T,endPTS:b,startDTS:S,endDTS:w};else if(c.firstKeyFrame&&c.independent&&1===a.id&&!_&&(this.couldBacktrack=!0),c.dropped&&c.independent){var C=this.getMainFwdBufferInfo(),I=(C?C.end:this.getLoadPosition())+this.config.maxBufferHole,k=c.firstKeyFramePTS?c.firstKeyFramePTS:T;if(!E&&I<k-this.config.maxBufferHole&&!_)return void this.backtrack(o);_&&(o.gap=!0),o.setElementaryStreamInfo(c.type,o.start,b,o.start,w,!0)}else E&&T>2&&(o.gap=!0);o.setElementaryStreamInfo(c.type,T,b,S,w),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(c,o,l,a,E||_)}else{if(!E&&!_)return void this.backtrack(o);o.gap=!0}}if(A){var R=A.startPTS,D=A.endPTS,M=A.startDTS,L=A.endDTS;l&&(l.elementaryStreams[gp]={startPTS:R,endPTS:D,startDTS:M,endDTS:L}),o.setElementaryStreamInfo(gp,R,D,M,L),this.bufferFragmentData(A,o,l,a)}if(p&&null!=h&&null!=(t=h.samples)&&t.length){var N={id:n,frag:o,details:p,samples:h.samples};r.trigger(np.FRAG_PARSING_METADATA,N)}if(p&&d){var B={id:n,frag:o,details:p,samples:d.samples};r.trigger(np.FRAG_PARSING_USERDATA,B)}}}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(e,t,n,r){var i=this;if(this.state===Zm){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var a=t.audio,s=t.video,o=t.audiovideo;if(a){var l=e.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===u.indexOf("firefox")&&(l="mp4a.40.5")),l&&-1!==l.indexOf("mp4a.40.5")&&-1!==u.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to ".concat(l))),e.audioCodec&&e.audioCodec!==l&&this.log('Swapping manifest audio codec "'.concat(e.audioCodec,'" for "').concat(l,'"')),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:".concat(a.container,", codecs[selected/level/parsed]=[").concat(l||"","/").concat(e.audioCodec||"","/").concat(a.codec,"]"))}s&&(s.levelCodec=e.videoCodec,s.id="main",this.log("Init video buffer, container:".concat(s.container,", codecs[level/parsed]=[").concat(e.videoCodec||"","/").concat(s.codec,"]"))),o&&this.log("Init audiovideo buffer, container:".concat(o.container,", codecs[level/parsed]=[").concat(e.codecs,"/").concat(o.codec,"]")),this.hls.trigger(np.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var a=t[e].initSegment;null!=a&&a.byteLength&&i.hls.trigger(np.BUFFER_APPENDING,{type:e,data:a,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tickImmediate()}}},{key:"getMainFwdBufferInfo",value:function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,lg)}},{key:"backtrack",value:function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=zm}},{key:"checkFragmentChanged",value:function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(Rm.isBuffered(e,n)?t=this.getAppendedFrag(n):Rm.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i||(this.fragPlaying=t,this.hls.trigger(np.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(np.LEVEL_SWITCHED,{level:i}))}}}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,n=this.currentFrag;if(n&&$f(t)&&$f(n.programDateTime)){var r=n.programDateTime+1e3*(t-n.start);return new Date(r)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),n}(iv),U_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_class_call_check(this,e),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new py,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(e,t){if("object"==typeof console&&!0===e||"object"==typeof e){lp(e,"debug","log","info","warn","error");try{op.log('Debug logs enabled for "'.concat(t,'" in hls.js version ',"1.5.7"))}catch(e){op=sp}}else op=sp}(t.debug||!1,"Hls instance");var n=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var n=D_(e),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(e){var i="".concat("level"===e?"playlist":e,"LoadPolicy"),a=void 0===t[i],s=[];r.forEach((function(r){var o="".concat(e,"Loading").concat(r),l=t[o];if(void 0!==l&&a){s.push(o);var u=n[i].default;switch(t[i]={default:u},r){case"TimeOut":u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case"MaxRetry":u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l}}})),s.length&&up.warn('hls.js config: "'.concat(s.join('", "'),'" setting(s) are deprecated, use "').concat(i,'": ').concat(JSON.stringify(t[i])))})),qf(qf({},n),t)}(e.DefaultConfig,t);this.userConfig=t,n.progressive&&M_(n);var r=n.abrController,i=n.bufferController,a=n.capLevelController,s=n.errorController,o=n.fpsController,l=new s(this),u=this.abrController=new r(this),c=this.bufferController=new i(this),d=this.capLevelController=new a(this),h=new o(this),f=new fg(this),p=new Cg(this),A=n.contentSteeringController,g=A?new A(this):null,m=this.levelController=new L_(this,g),v=new wm(this),y=new B_(this.config),E=this.streamController=new F_(this,v,y);d.setStreamController(E),h.setStreamController(E);var _=[f,m,E];g&&_.splice(1,0,g),this.networkControllers=_;var T=[u,c,d,h,p,v];this.audioTrackController=this.createController(n.audioTrackController,_);var b=n.audioStreamController;b&&_.push(new b(this,v,y)),this.subtitleTrackController=this.createController(n.subtitleTrackController,_);var S=n.subtitleStreamController;S&&_.push(new S(this,v,y)),this.createController(n.timelineController,T),y.emeController=this.emeController=this.createController(n.emeController,T),this.cmcdController=this.createController(n.cmcdController,T),this.latencyController=this.createController(Ig,T),this.coreComponents=T,_.push(l);var w=l.onErrorOut;"function"==typeof w&&this.on(np.ERROR,w,l)}return _create_class(e,[{key:"createController",value:function(e,t){if(e){var n=new e(this);return t&&t.push(n),n}return null}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(e,t,n)}},{key:"once",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(e,t,n)}},{key:"removeAllListeners",value:function(e){this._emitter.removeAllListeners(e)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=arguments.length>3?arguments[3]:void 0;this._emitter.off(e,t,n,r)}},{key:"listeners",value:function(e){return this._emitter.listeners(e)}},{key:"emit",value:function(e,t,n){return this._emitter.emit(e,t,n)}},{key:"trigger",value:function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){if(up.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),!this.triggeringException){this.triggeringException=!0;var n=e===np.ERROR;this.trigger(np.ERROR,{type:rp.OTHER_ERROR,details:ip.INTERNAL_EXCEPTION,fatal:n,event:e,error:t}),this.triggeringException=!1}}return!1}},{key:"listenerCount",value:function(e){return this._emitter.listenerCount(e)}},{key:"destroy",value:function(){up.log("destroy"),this.trigger(np.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0;var e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}},{key:"attachMedia",value:function(e){up.log("attachMedia"),this._media=e,this.trigger(np.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){up.log("detachMedia"),this.trigger(np.MEDIA_DETACHING,void 0),this._media=null}},{key:"loadSource",value:function(e){this.stopLoad();var t=this.media,n=this.url,r=this.url=Hf.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,up.log("loadSource:".concat(r)),t&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(np.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;up.log("startLoad(".concat(e,")")),this.started=!0,this.networkControllers.forEach((function(t){t.startLoad(e)}))}},{key:"stopLoad",value:function(){up.log("stopLoad"),this.started=!1,this.networkControllers.forEach((function(e){e.stopLoad()}))}},{key:"resumeBuffering",value:function(){this.started&&this.networkControllers.forEach((function(e){"fragmentLoader"in e&&e.startLoad(-1)}))}},{key:"pauseBuffering",value:function(){this.networkControllers.forEach((function(e){"fragmentLoader"in e&&e.stopLoad()}))}},{key:"swapAudioCodec",value:function(){up.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){up.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)}},{key:"removeLevel",value:function(e){this.levelController.removeLevel(e)}},{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){up.log("set currentLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){up.log("set nextLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){up.log("set loadLevel:".concat(e)),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){up.log("set firstLevel:".concat(e)),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){var e=this.levelController.startLevel;return-1===e&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e},set:function(e){up.log("set startLevel:".concat(e)),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(up.log("set autoLevelCapping:".concat(e)),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN},set:function(e){this.abrController.resetEstimator(e)}},{key:"ttfbEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(e){(function(e){return kg.indexOf(e)>-1})(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e,t=this,n=t.levels,r=t.autoLevelCapping,i=t.maxHdcpLevel;if(e=-1===r&&null!=n&&n.length?n.length-1:r,i)for(var a=e;a--;){var s=n[a].attrs["HDCP-LEVEL"];if(s&&s<=i)return a}return e}},{key:"firstAutoLevel",get:function(){return this.abrController.firstAutoLevel}},{key:"nextAutoLevel",get:function(){return this.abrController.nextAutoLevel},set:function(e){this.abrController.nextAutoLevel=e}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"setAudioOption",value:function(e){var t;return null==(t=this.audioTrackController)?void 0:t.setAudioOption(e)}},{key:"setSubtitleOption",value:function(e){var t;return null==(t=this.subtitleTrackController)||t.setSubtitleOption(e),null}},{key:"allAudioTracks",get:function(){var e=this.audioTrackController;return e?e.allAudioTracks:[]}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"allSubtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.5.7"}},{key:"isMSESupported",value:function(){return P_()}},{key:"isSupported",value:function(){return function(){if(!P_())return!1;var e=BA();return"function"==typeof(null==e?void 0:e.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((function(t){return e.isTypeSupported(FA(t,"video"))}))||["mp4a.40.2","fLaC"].some((function(t){return e.isTypeSupported(FA(t,"audio"))})))}()}},{key:"getMediaSource",value:function(){return BA()}},{key:"Events",get:function(){return np}},{key:"ErrorTypes",get:function(){return rp}},{key:"ErrorDetails",get:function(){return ip}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:R_},set:function(t){e.defaultConfig=t}}]),e}();U_.defaultConfig=void 0;var j_=f(A(),1),Q_=[];var G_=function e(t){var n,r="info",i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=function(e,t){return function(n,r,i){var a=t.levels[r],s=new RegExp("^(".concat(a,")$"));if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(e+":"),Q_){Q_.push([].concat(i));var o=Q_.length-1e3;Q_.splice(0,o>0?o:0)}if(j_.default.console){var l=j_.default.console[n];l||"debug"!==n||(l=j_.default.console.info||j_.default.console.log),l&&a&&s.test(n)&&l[Array.isArray(i)?"apply":"call"](j_.default.console,i)}}}(t,i),i.createLogger=function(n){return e(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'.concat(e,'" in not a valid log level'));r=e}return r},(i.history=function(){return Q_?[].concat(Q_):[]}).filter=function(e){return(Q_||[]).filter((function(t){return new RegExp(".*".concat(e,".*")).test(t[0])}))},i.history.clear=function(){Q_&&(Q_.length=0)},i.history.disable=function(){null!==Q_&&(Q_.length=0,Q_=null)},i.history.enable=function(){null===Q_&&(Q_=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},i}("VIDEOJS");G_.createLogger;var V_,H_=G_,Y_=f(A(),1);Y_.default.WeakMap||(V_=function(){function e(){_class_call_check(this,e),this.vdata="vdata"+Math.floor(Y_.default.performance&&Y_.default.performance.now()||Date.now()),this.data={}}return _create_class(e,[{key:"set",value:function(e,t){var n=e[this.vdata]||Nh();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this}},{key:"get",value:function(e){var t=e[this.vdata];if(t)return this.data[t];H_("We have no data for this element",e)}},{key:"has",value:function(e){return e[this.vdata]in this.data}},{key:"delete",value:function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])}}]),e}());var q_,z_=Y_.default.WeakMap?new WeakMap:new V_,W_=f(A(),1),K_=f(k(),1);function X_(e,t){if(z_.has(e)){var n=z_.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&z_.delete(e)}}function J_(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function Z_(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var r=e||W_.default.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||K_.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var a=K_.default.documentElement,s=K_.default.body;e.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var $_=["touchstart","touchmove"];function eT(e,t,n){if(Array.isArray(t))return J_(eT,e,t,n);z_.has(e)||z_.set(e,{});var r=z_.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=Nh()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=Z_(t);var i=r.handlers[t.type];if(i)for(var a=i.slice(0),s=0,o=a.length;s<o&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,n)}catch(e){H_.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;(function(){if("boolean"!=typeof q_){q_=!1;try{var e=Object.defineProperty({},"passive",{get:function(){q_=!0}});W_.default.addEventListener("test",null,e),W_.default.removeEventListener("test",null,e)}catch(e){}}return q_})()&&$_.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function tT(e,t,n){if(z_.has(e)){var r=z_.get(e);if(r.handlers){if(Array.isArray(t))return J_(tT,e,t,n);var i=function(e,t){r.handlers[t]=[],X_(e,t)};if(void 0!==t){var a=r.handlers[t];if(a)if(n){if(n.guid)for(var s=0;s<a.length;s++)a[s].guid===n.guid&&a.splice(s--,1);X_(e,t)}else i(e,t)}else for(var o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&i(e,o)}}}function nT(e,t,n){var r=z_.has(e)?z_.get(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Z_(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)nT.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){z_.has(t.target)||z_.set(t.target,{});var a=z_.get(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}var rT=function(){function e(t){_class_call_check(this,e),this.hlsProcessorContext=t,this.emptyLoadingCount_=0,this.overrideReloadCondition=!1}return _create_class(e,[{key:"resetEmptyChunks",value:function(){this.emptyLoadingCount_=0,this.overrideReloadCondition=!1}},{key:"increaseEmptyChunksIfAllowed",value:function(){return!("IDLE"!==this.hlsProcessorContext.controllerState()&&"FRAG_LOADING"!==this.hlsProcessorContext.controllerState()||!this.hlsProcessorContext.isStarted||this.hlsProcessorContext.isPaused)&&(this.emptyLoadingCount_++,!0)}},{key:"isEmptyChunksLimitApproached",value:function(){return this.emptyLoadingCount_>(this.overrideReloadCondition?e.emptyLoadCountFast():e.emptyLoadCount())}}],[{key:"emptyLoadCount",value:function(){return 7}},{key:"emptyLoadCountFast",value:function(){return 1}}]),e}(),iT=function(){function e(t){_class_call_check(this,e),this.hlsProcessorContext=t,this.levelLoadCount_=0}return _create_class(e,[{key:"increaseErrorCount",value:function(){this.levelLoadCount_++}},{key:"isCountLimitApproached",value:function(){return this.levelLoadCount_>=this.maxReloadCount()}},{key:"resetErrorCount",value:function(){this.levelLoadCount_=0}},{key:"maxReloadCount",value:function(){return null!=this.hlsProcessorContext.hlsConfig&&this.hlsProcessorContext.hlsConfig.levelLoadingMaxRetry>0?this.hlsProcessorContext.hlsConfig.levelLoadingMaxRetry:1}}]),e}(),aT=function(){function e(){_class_call_check(this,e),this.nextPriorityLevelsWhenError=null,this.isStarted=!1,this.isPaused=!0,this.loadStopped=!0,this.controllerState_=null,this.hlsConfig=null,this.requireReload=!1,this.balancerReloaded=!1,this.isReloaded=!1,this.chunkLoading=new rT(this),this.levelLoading=new iT(this)}return _create_class(e,[{key:"levelLoadingErrorClear",value:function(){this.nextPriorityLevelsWhenError=null}},{key:"generateLevelLoadingError",value:function(e,t){this.levelLoadingErrorClear();for(var n=t.length,r=1;r<=n;r++){var i=e-r,a=e+r;i>=0&&(null===this.nextPriorityLevelsWhenError&&(this.nextPriorityLevelsWhenError=[]),this.nextPriorityLevelsWhenError.push(i)),a<n&&(null===this.nextPriorityLevelsWhenError&&(this.nextPriorityLevelsWhenError=[]),this.nextPriorityLevelsWhenError.push(a))}}},{key:"isContextReloaded",value:function(){return this.requireReload||this.balancerReloaded||this.isReloaded}},{key:"fragmentProcessedSuccessfully",value:function(){this.requireReload=!1,this.balancerReloaded=!1,this.isReloaded=!1}},{key:"copy",value:function(){var t=new e;return t.controllerState_=this.controllerState_,t.loadStopped=this.loadStopped,t.requireReload=this.requireReload,t.balancerReloaded=this.balancerReloaded,t.isReloaded=this.isReloaded,t}},{key:"controllerState",value:function(e){return void 0!==e&&(this.controllerState_=e,"IDLE"!==e&&this.chunkLoading.resetEmptyChunks()),this.controllerState_}},{key:"overrideReloadCondition",value:function(){this.chunkLoading.overrideReloadCondition=!0}}]),e}(),sT=function(){function e(t){_class_call_check(this,e),this.value=t}return _create_class(e,[{key:"isError",get:function(){return!1}},{key:"isSuccess",get:function(){return!1}}],[{key:"success",value:function(e){return new lT(e)}},{key:"error",value:function(e){return new oT(e)}}]),e}(),oT=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"isError",get:function(){return!0}}]),n}(sT),lT=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"isSuccess",get:function(){return!0}}]),n}(sT),uT=f(oe(),1),cT=function(){function e(t,n){var r=this;_class_call_check(this,e),this.cancelled=!1,this.promise=void 0!==n?n:new uT.Promise((function(n,i){return t((function(t){r.cancelled?i(sT.error(e.CANCELLED)):n(t)}),i)}))}return _create_class(e,[{key:"cancel",value:function(){this.cancelled=!0}}],[{key:"withPromise",value:function(t){return new e(null,t)}},{key:"rejected",value:function(t){return new e((function(e,n){n(t)}))}}]),e}();cT.CANCELLED="Future.cancelled";var dT=cT,hT=function(e){return new dT((function(t){setTimeout(t,e)}))},fT=function e(t){_class_call_check(this,e),this.element=null,this.url="",this.isLive=!1,this.isDVR=!1,this.forceStart=!1,this.startLevel=void 0,this.startSeconds=null,this.timeout={manifest:5e3,track:5e3,chunk:5e3},t&&Object.assign(this,t)},pT=f(D(),1),AT=ah.getComponent("component"),gT=ah.dom,mT=ah.browser,vT=ah.log,yT=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).nonIconControl=!1,i.controlText_="",i.options_=r,i.emitTapEvents(),i.enable(),i}return _create_class(n,[{key:"createEl",value:function(e,t,n){t=lf({className:this.buildCSSClass(),tabIndex:-1},t),"button"===e&&vT.error("Creating a ClickableComponent with an HTML element of ".concat(e," is not supported use a Button instead.")),n=lf({role:"button"},n),this.tabIndex_=t.tabIndex;var r=gT.createEl(e,t,n,"");return r.appendChild(gT.createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0},"")),this.controlText(this.controlText_,r),r}},{key:"dispose",value:function(){_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"controlText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top";if(void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,mT.TOUCH_ENABLED||this.nonIconControl||this.player_.options_.noUITitleAttributes||(t.setAttribute("aria-label",r),t.setAttribute("role","tooltip"),t.setAttribute("data-tooltip-position",n))}},{key:"buildCSSClass",value:function(){return"vjs-control vjs-button ".concat(_get(_get_prototype_of(n.prototype),"buildCSSClass",this).call(this))}},{key:"enable",value:function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el().setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el().setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))}},{key:"disable",value:function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el().setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el().removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)}},{key:"handleMouseOver",value:function(e){}},{key:"handleMouseOut",value:function(e){}},{key:"handleLanguagechange",value:function(){this.controlText(this.controlText_)}},{key:"handleClick",value:function(e){this.options_.clickHandler&&this.options_.clickHandler()}},{key:"handleKeyDown",value:function(e){pT.default.isEventKey(e,"Space")||pT.default.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):_get(_get_prototype_of(n.prototype),"handleKeyDown",this).call(this,e)}}]),n}(AT);AT.registerComponent("ClickableComponent",yT);var ET=yT,_T=["Tab","Esc","Up","Down","Right","Left"],TT=f(D(),1),bT=ah.getComponent("component"),ST=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).options_=r,i.selectable=r.selectable,i.isSelected_=r.selected||!1,i.multiSelectable=r.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el().setAttribute("role","menuitemcheckbox"):i.el().setAttribute("role","menuitemradio"):i.el().setAttribute("role","menuitem"),i}return _create_class(n,[{key:"handleKeyDown",value:function(e){_T.some((function(t){return TT.default.isEventKey(e,t)}))||_get(_get_prototype_of(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"handleClick",value:function(e){this.selected(!0)}},{key:"selected",value:function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el().setAttribute("aria-checked","true"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el().setAttribute("aria-checked","false"),this.isSelected_=!1))}}]),n}(ET);bT.registerComponent("MenuItem",ST);var wT=ST,CT=ah.getComponent("component"),IT=ah.dom,kT=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).options_=r,i.clickHandler=r.clickHandler,i.value=r.value,r.additionalClassName&&i.addClass(r.additionalClassName),r.selected&&i.selected(!0),i}return _create_class(n,[{key:"createEl",value:function(e,t,r){this.nonIconControl=!0;var i=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"li",lf({className:"vjs-menu-item",tabIndex:-1},t),r);return i.replaceChild(IT.createEl("span",{className:this.options_.isBackButton?"":"vjs-menu-item-text",textContent:this.localize(this.options_.label||"")},{},""),i.querySelector(".vjs-icon-placeholder")),i}},{key:"handleClick",value:function(e){this.clickHandler&&this.clickHandler()}},{key:"label",set:function(e){var t=this.el();if(t){var n=t.querySelector(".vjs-menu-item-text");n&&(n.textContent=e)}}}]),n}(wT);CT.registerComponent("SettingsQualityMenuItem",kT);var RT=kT,DT=ah.getComponent("component"),MT=ah.browser,LT=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).disableAfterClickHandler=!1,i}return _create_class(n,[{key:"itemAfterClickHandler",value:function(){var e;(this.disableAfterClickHandler=!1,MT.TOUCH_ENABLED)?this.player().trigger("SettingsMenuClose"):null===(e=this.el())||void 0===e||e.addEventListener("mouseleave",this.mouseLeaveHandler.bind(this),{once:!0})}},{key:"headerAfterClickHandler",value:function(){var e;this.disableAfterClickHandler=!0,null===(e=this.el())||void 0===e||e.removeEventListener("mouseleave",this.mouseLeaveHandler.bind(this))}},{key:"mouseLeaveHandler",value:function(){var e;this.disableAfterClickHandler||null===(e=this.menuButton_)||void 0===e||e.unpressButton()}},{key:"playbackRateSupported",value:function(){return this.player().tech()&&this.player().tech().featuresPlaybackRate&&this.player().playbackRates()&&this.player().playbackRates().length>0}}]),n}(DT);DT.registerComponent("SettingsSubMenu",LT);var NT=LT,BT=ah.getComponent("component"),xT=ah.dom,PT=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;_class_call_check(this,n),(i=t.call(this,e,r)).menuButton_=null,i.qualities=[],i.menuButton_=r.menuButton,i.addHeaderItem();var a=new RT(i.player(),{name:"QualityItemAuto",label:i.localize("Auto"),value:n.AUTO_MODE_VALUE,selectable:!0,selected:!0,clickHandler:function(){Mh.isAutoQuality||(ch.publish(ph({quality:n.AUTO_MODE_VALUE,withUIUpdate:!0})),i.resetSelected(),a.selected(!0),i.itemAfterClickHandler())}});i.addItem(a);var s=ch.subscribe(hh,(function(e){var t=[],n=[],r=i.getChild("QualityItemAuto");r&&(r.label=Bf.getLabelByQualityType(-1,Mh.qualityLabelVariant)||i.localize("Auto")),e.payload.qualities.forEach((function(e){t.includes(e.quality)||(n.push(e),t.push(e.quality))})),n.sort((function(e,t){return t.quality-e.quality})).forEach((function(e){i.addItem(new RT(i.player(),{label:e.label,value:e.quality,selectable:!0,selected:1===n.length,clickHandler:function(){ch.publish(ph({quality:e.quality,noAutoChange:0===i.player().currentTime()})),i.itemAfterClickHandler()}}))})),1===n.length&&i.removeChild(a)})),o=ch.subscribe(fh,(function(e){Mh.isAutoQuality||i.children().forEach((function(t){return t.selected(t.value===e.payload.quality)}))})),l=ch.subscribe(Ah,(function(e){i.children().forEach((function(t){return t.selected(t.value===e.payload.quality)}))}));return i.player_.on("playerreset",(function(){s(),o(),l(),ch.publish(Ah({quality:-1}))})),i}return _create_class(n,[{key:"itemAfterClickHandler",value:function(){this.disableAfterClickHandler=!1,this.player().trigger("SettingsMenuClose")}},{key:"resetSelected",value:function(){this.children().forEach((function(e){return e.selected(!1)}))}},{key:"addHeaderItem",value:function(){var e=this;this.addItem(new RT(this.player(),{label:this.localize("Quality"),isBackButton:!0,clickHandler:function(){var t,n;e.headerAfterClickHandler(),e.hide(),e.unlockShowing(),null===(t=e.menuButton_)||void 0===t||t.mainMenu.show(),null===(n=e.menuButton_)||void 0===n||n.mainMenu.lockShowing()},additionalClassName:"setting-menu-header"}))}},{key:"removeChild",value:function(e){"string"==typeof e&&(e=this.getChild(e)),_get(_get_prototype_of(n.prototype),"removeChild",this).call(this,e)}},{key:"addItem",value:function(e){this.addChild(e)}},{key:"createEl",value:function(){var e=this.options_.contentElType||"ul";this.contentEl_=xT.createEl(e,{className:"vjs-menu-content vjs-quality-menu vjs-setting-menu-sub"}),this.contentEl_.setAttribute("role","menu");var t=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{append:this.contentEl_,className:"vjs-menu quality-menu"});return t.appendChild(this.contentEl_),eT(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}},{key:"dispose",value:function(){this.contentEl_=null,_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}}]),n}(NT);PT.AUTO_MODE_VALUE=-1;var OT=PT;BT.registerComponent("SettingsQualityMenu",OT);var FT=OT,UT=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"normalizeHlsError",value:function(e){return Object.keys(e).forEach((function(t){null===e[t]&&delete e[t]})),e}},{key:"getMessageByCode",value:function(e){switch(e){case 400:return"Bad Request";case 401:return"Unauthorized";case 403:return"Forbidden";case 404:return"Not found";case 405:return"Method Not Allowed";case 500:return"Internal Server Error";case 502:return"Bad Gateway";case 503:return"Service Unavailable";case 504:return"Gateway Timeout"}}},{key:"getHlsErrorMessage",value:function(t){var n,r,i=null===(n=t.response)||void 0===n?void 0:n.code;return i?e.getMessageByCode(i):t.reason?t.reason:null===(r=t.response)||void 0===r?void 0:r.text}},{key:"normalize",value:function(e){var t={};return e.message?t.message=e.message:t.message=e.details,e.statusCode?t.code=e.statusCode:e.message&&"object"==typeof e.message&&void 0!==e.message.statusCode&&(t.code=e.message.statusCode),t}},{key:"fire",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];ch.publish(Ch({type:e,component:t,error:n,fatal:r}))}},{key:"processText",value:function(e,t){var n,r,i,a,s,o,l,u,c,d,h,f;return 1===t?void 0!==(null===(i=uh.shared().ui)||void 0===i||null===(r=i.text)||void 0===r||null===(n=r.error)||void 0===n?void 0:n.description)?null===(o=uh.shared().ui)||void 0===o||null===(s=o.text)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.description:e:0===t?void 0!==(null===(c=uh.shared().ui)||void 0===c||null===(u=c.text)||void 0===u||null===(l=u.error)||void 0===l?void 0:l.title)?null===(f=uh.shared().ui)||void 0===f||null===(h=f.text)||void 0===h||null===(d=h.error)||void 0===d?void 0:d.title:e:void 0}}]),e}(),jT=function(){function e(){_class_call_check(this,e)}return _create_class(e,[{key:"canHandle",value:function(e,t){return!0}},{key:"setNext",value:function(e){this.next=e}},{key:"handle",value:function(e,t){this.canHandle(e,t)?this.processError(e,t):this.handleNext(e,t)}},{key:"processError",value:function(e,t){}},{key:"handleNext",value:function(e,t){this.next&&this.next.handle(e,t)}}]),e}(),QT=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"canHandle",value:function(e,t){e.event;var n=e.data;return n.details===U_.ErrorDetails.LEVEL_LOAD_ERROR||n.details===U_.ErrorDetails.LEVEL_LOAD_TIMEOUT}},{key:"processError",value:function(e,t){e.event;var r,i=e.data,a=t.processorContext,s=t.hlsProcessor,o={};if((null===(r=i.response)||void 0===r?void 0:r.code)&&(o.code=i.response.code),o.url=i.url,o.message="Can't load quality level",UT.fire(n.getComponentByError(i.details),"TRACK",o),null===a.nextPriorityLevelsWhenError&&a.generateLevelLoadingError(i.context.level,s.levels),Array.isArray(a.nextPriorityLevelsWhenError))if(0!==a.nextPriorityLevelsWhenError.length){var l=a.nextPriorityLevelsWhenError.shift();s.switchLevel(l),s.play()}else UT.fire(n.getComponentByError(i.details),"TRACK",{message:"No available level"},!0)}}],[{key:"getComponentByError",value:function(e){return e===U_.ErrorDetails.LEVEL_LOAD_TIMEOUT?"TIMEOUT":"HTTP"}}]),n}(jT),GT=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"processError",value:function(e){e.event;var t,r,i,a=e.data,s=a.details,o=null!==(i=a.url)&&void 0!==i?i:null===(t=a.frag)||void 0===t?void 0:t.url,l=null===(r=a.response)||void 0===r?void 0:r.code,u=UT.getHlsErrorMessage(a),c=n.getComponentByTypeError(s),d={url:o};l>0&&(d.code=l),u&&(d.message=u),UT.fire(c.type,c.component,UT.normalizeHlsError(d),a.fatal)}},{key:"handle",value:function(e,t){this.processError(e),this.handleNext(e,t)}}],[{key:"getComponentByTypeError",value:function(e){switch(e){case U_.ErrorDetails.MANIFEST_LOAD_ERROR:return{type:"HTTP",component:"PLAYLIST"};case U_.ErrorDetails.MANIFEST_LOAD_TIMEOUT:return{type:"TIMEOUT",component:"PLAYLIST"};case U_.ErrorDetails.MANIFEST_PARSING_ERROR:return{type:"PARSING",component:"PLAYLIST"};case U_.ErrorDetails.LEVEL_LOAD_ERROR:return{type:"HTTP",component:"TRACK"};case U_.ErrorDetails.LEVEL_LOAD_TIMEOUT:case U_.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case U_.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:return{type:"TIMEOUT",component:"TRACK"};case U_.ErrorDetails.FRAG_LOAD_ERROR:return{type:"HTTP",component:"CHUNK"};case U_.ErrorDetails.FRAG_LOAD_TIMEOUT:return{type:"TIMEOUT",component:"CHUNK"};case U_.ErrorDetails.KEY_LOAD_ERROR:return{type:"HTTP",component:"DRM"};case U_.ErrorDetails.KEY_LOAD_TIMEOUT:return{type:"TIMEOUT",component:"DRM"};case U_.ErrorDetails.FRAG_DECRYPT_ERROR:return{type:"PARSING",component:"DRM"};default:return{type:"EXCEPTION",component:"PLAYER"}}}}]),n}(jT),VT=function(){function e(t){_class_call_check(this,e),this.player=t,this.hls=null,this.isManifestLoaded=!1,this.processorContext=new aT,this.waitFuture=null,this.loadContext=new fT,this.errorHandlers=e.createHandlersChain()}return _create_class(e,[{key:"load",value:function(e){var t=this;if(this.isManifestLoaded=!1,e.url!==this.loadContext.url||null==this.hls||this.processorContext.isReloaded)if(""==this.loadContext.url||this.processorContext.isReloaded){null!=this.hls&&this.resetKeepingContext();var n=!e.isLive||e.isDVR,r=n||void 0!==e.forceStart&&e.forceStart,i=-1===e.startLevel?void 0:e.startLevel,a="number"!=typeof e.startSeconds?void 0:e.startSeconds,s={debug:!1,autoStartLoad:r,maxBufferSize:n?6e7:0,maxBufferLength:10,liveSyncDuration:10,liveDurationInfinity:!0,levelLoadingMaxRetry:0,levelLoadingMaxRetryTimeout:0,manifestLoadingTimeOut:e.timeout.manifest,levelLoadingTimeOut:e.timeout.track,fragLoadingTimeOut:e.timeout.chunk,startLevel:i,enableCEA708Captions:!1,enableWebVTT:!1,renderTextTracksNatively:!1,startFragPrefetch:r,startPosition:a||0,enableWorker:!0,keyLoadPolicy:{default:{maxTimeToFirstByteMs:3e3,maxLoadTimeMs:5e3,timeoutRetry:null,errorRetry:null}}},o=new U_(s);this.hls=o,this.processorContext.hlsConfig=o.config,this.loadContext.url=e.url,this.loadContext.isLive=e.isLive,this.loadContext.isDVR=e.isDVR,this.loadContext.element=e.element,this.loadContext.timeout=e.timeout,o.on(U_.Events.MANIFEST_PARSED,(function(e,n){t.levels=t.parseLevelsQuality(n.levels);var r=_object_spread_props(_object_spread({},n),{levels:t.levels});t.isManifestLoaded=!0,nT(t,ef.MasterHlsManifestParsed,r)}),this),o.on(U_.Events.LEVEL_SWITCHED,(function(e,n){var r=t.levels[n.level];r&&r.quality&&(ch.publish(fh({index:n.level,bitrate:r.bitrate,quality:r.quality,isAuto:Mh.isAutoQuality})),nT(t,ef.HlsLevelSwitched,n))}),this),o.on(U_.Events.FRAG_LOADED,(function(e,n){nT(t,ef.FragmentLoaded,n)}),this),o.on(U_.Events.FRAG_PARSED,(function(){t.processorContext.chunkLoading.resetEmptyChunks(),t.processorContext.fragmentProcessedSuccessfully()})),o.on(U_.Events.LEVEL_LOADED,(function(e,n){var r;n.level===(null===(r=t.hls)||void 0===r?void 0:r.currentLevel)&&ch.publish(gh({value:!1})),t.processorContext.levelLoading.resetErrorCount(),t.processorContext.levelLoadingErrorClear(),nT(t,ef.HlsLevelLoaded,n),t.processorContext.chunkLoading.increaseEmptyChunksIfAllowed()?t.processorContext.chunkLoading.isEmptyChunksLimitApproached()&&nT(t,ef.HlsReloadRequired,{}):"IDLE"!==t.processorContext.controllerState()&&"FRAG_LOADING"!==t.processorContext.controllerState()&&t.processorContext.chunkLoading.resetEmptyChunks()}),this),o.on(U_.Events.INIT_PTS_FOUND,(function(e,n){n&&n.frag&&nT(t,ef.FragmentInitMetadata,n.frag)}),this),o.on(U_.Events.ERROR,(function(e,n){console.error("test error",n),t.errorHandlers.handle({event:e,data:n},{hlsProcessor:t,processorContext:t.processorContext})}),this),o.on(U_.Events.MEDIA_ATTACHED,(function(){t.hlsLoadSource_(t.loadContext.url)})),this.qualitySetEventUnsubscribeHandler=ch.subscribe(ph,(function(e){var n=e.payload,r=Math.round(o.bandwidthEstimate),i=n.quality;if(i!==FT.AUTO_MODE_VALUE){var a=t.levels;if(t.hls&&a){var s=t.getQualityIndexByBandwidth(i,r,a);null!==s&&(t.hls.currentLevel!==s?t.switchLevel(s):ch.publish(Ah({quality:i})))}}else t.switchLevel(FT.AUTO_MODE_VALUE)}));var l=e.element;l&&o.attachMedia(l)}else this.loadContext.url=e.url}},{key:"getBandwidthRelevantLevel",value:function(e,t){return t.map((function(e){return e.bitrate})).reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))}},{key:"getQualityIndexByBandwidth",value:function(e,t,n){var r=null,i=n.filter((function(t){return t.quality===e}));if(i.length>1){var a=this.getBandwidthRelevantLevel(t,i);n.forEach((function(t,n){t.quality===e&&t.bitrate===a&&(r=n)}))}else n.forEach((function(t,n){t.quality===e&&(r=n)}));return r}},{key:"play",value:function(){if(this.processorContext.isPaused=!1,null!==this.hls){this.processorContext.loadStopped=!1;var e=this.hls;e&&e.startLoad(),this.processorContext.isStarted=!0}}},{key:"pause",value:function(){var e=this;this.cancelWaitFuture(),this.processorContext.isPaused=!0;var t=this.loadContext;t.isLive&&!t.isDVR&&null!=this.hls&&(this.waitFuture=hT(24e4),this.waitFuture.promise.then((function(){e.waitFuture=null,e.processorContext.requireReload=!0;var t=e.hls;t&&t.stopLoad()}),(function(){})))}},{key:"switchLevel",value:function(e){var t=this.hls;null!=t&&(e>=0&&(t.nextLoadLevel=e),Mh.qualityFastSwitch?t.currentLevel=e:t.nextLevel=e,0===this.player.currentTime()&&(t.startLevel=e))}},{key:"reload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.hls,n=this.url,r=void 0;t&&(r=t.currentLevel),this.resetKeepingContext(),this.load({element:this.loadContext.element,url:n,isLive:this.isLive,isDVR:this.isDVR,forceStart:!1,startLevel:r,startSeconds:e,timeout:this.loadContext.timeout})}},{key:"reset",value:function(){var e=this.hls;this.hls=null,e&&e.destroy(),this.loadContext.url="",this.isManifestLoaded=!1,this.levels=void 0,this.qualitySetEventUnsubscribeHandler&&this.qualitySetEventUnsubscribeHandler(),this.processorContext=new aT}},{key:"resetKeepingContext",value:function(){var e=this.processorContext.isContextReloaded()?this.processorContext.copy():null;this.reset(),e&&(e.loadStopped=!0,this.processorContext=e)}},{key:"reattachMediaSource",value:function(e){var t=this.hls;null!=t&&(t.detachMedia(),t.attachMedia(e))}},{key:"updateSettings",value:function(e){e.emptyChunksReloadOverride&&this.isLive&&this.processorContext.overrideReloadCondition()}},{key:"isLive",get:function(){return this.loadContext.isLive}},{key:"isDVR",get:function(){return this.loadContext.isDVR}},{key:"hasStream",get:function(){return null!=this.hls}},{key:"url",get:function(){return this.loadContext.url}},{key:"isPaused",get:function(){return this.processorContext.isPaused}},{key:"cancelWaitFuture",value:function(){null!=this.waitFuture&&this.waitFuture.cancel(),this.waitFuture=null}},{key:"haltWithError_",value:function(e){this.pause();var t=this.hls;null!=t&&(this.hls=null,t.stopLoad(),t.destroy()),UT.fire(e.type,e.component,e.error)}},{key:"hlsLoadSource_",value:function(e){this.isManifestLoaded=!1;var t=this.hls;null!=t&&t.loadSource(e),nT(this,ef.MasterHlsPlaylistLoad,e)}},{key:"parseLevelsQuality",value:function(e){return e.map((function(e){if(e.width&&e.height||e.bitrate){var t=Bf.getQualityTypeByResolution(e.width,e.height),n=Bf.getValueByQualityType(t);return Object.assign(e,{quality:n})}if(Array.isArray(e.url)){var r=e.url[0],i=Ye.getObjectFromUrl(r).i;if("string"!=typeof i||""===i)return e;var a=i.split(/[x_]/g);if(a.length<3)return e;var s=Bf.getQualityTypeByResolution(Number(a[0]),Number(a[1])),o=Bf.getValueByQualityType(s),l=e.bitrate?e.bitrate:a[2]?1e3*Number(a[2]):void 0;return Object.assign(e,{quality:o,bitrate:l})}return e}))}}],[{key:"isSupported",get:function(){return U_.isSupported()}},{key:"createHandlersChain",value:function(){return[new QT,new GT].reduceRight((function(e,t){return t.setNext(e),t}))}}]),e}();ah.getTech("Tech");var HT=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"canPlayType",value:function(e){if("application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e)return"probably";try{var t=n.VIDEO_TEST_TAG();return t?t.canPlayType(e):""}catch(e){return""}}},{key:"canHandleSource",value:function(e,t){if("aes"!=e.type&&"application/x-mpegURL"!=e.type)return"";if(e.type)return this.canPlayType(e.type);if(e.src){var n=Xh(e.src);return this.canPlayType("video/".concat(n))}return""}},{key:"handleSource",value:function(e,t,n){_instanceof(t,ZT)&&t.setSrc(e)}},{key:"dispose",value:function(){}}]),n}(Wh),YT=ah.browser,qT=U_.isSupported();var zT=function(){if(!(window.MediaSource||window.WebKitMediaSource))return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer;return!!(!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove)},WT=ah.dom,KT=ah.browser,XT=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).name_=n.TECH_NAME,i.finishSetup(e),ch.subscribe(Sh,(function(){i.reset()})),i}return _create_class(n,[{key:"dispose",value:function(){this.reset(),_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"getQualityItems",value:function(e){return e.map((function(e,t){var n=Bf.getQualityTypeByResolution(e.width,e.height);return n?{index:t,bitrate:e.bitrate,width:e.width,height:e.height,quality:Bf.getValueByQualityType(n),label:Bf.getLabelByQualityType(n,Mh.qualityLabelVariant)}:null})).filter(Boolean)}},{key:"emitQualityValues",value:function(e){0===e.length&&ch.publish(Ih({isAutoQuality:!0,quality:-1})),e.length>0&&ch.publish(hh({qualities:e})),1===Array.from(new Set(e.map((function(e){return e.quality})))).length&&(ch.publish(Ih({isAutoQuality:!1,quality:e[0].quality})),ch.publish(Ah({quality:e[0].quality})))}},{key:"setCurrentQuality",value:function(e,t){void 0!==e.find((function(e){return e.quality===t}))&&ch.publish(ph({quality:t,forced:!0,withUIUpdate:!0}))}},{key:"finishSetup",value:function(e){var t=this;this.hlsProcessor=new VT(this.player()),this.hlsReloaded=!1,eT(this.hlsProcessor,ef.MasterHlsManifestParsed,Ph(this,(function(e,n){t.trigger(ef.MasterHlsManifestParsed,n);var r=t.getQualityItems(n.levels);t.emitQualityValues(r),t.setCurrentQuality(r,Number(Mh.quality)),t.trigger(ef.PlayerMetadataLoaded)})));var r=Ph(this,(function(e,n){t.trigger(e,n)})),i=Ph(this,(function(e,n){t.saveCurrentTime(),r(e,n)}));eT(this.hlsProcessor,ef.ReloadContent,i),[U_.Events.INIT_PTS_FOUND,ef.LoadContent,ef.HlsLevelLoaded,ef.HlsLevelSwitched,ef.HlsPlaylistLoad,ef.FragmentLoaded].forEach((function(e){eT(t.hlsProcessor,e,r)})),eT(this.hlsProcessor,ef.HlsError,Ph(this,(function(e,n){t.el()&&nT(t.el(),"error",n)}))),eT(this.hlsProcessor,ef.HlsPlayRequired,Ph(this,(function(){hT(500).promise.then(Ph(t,(function(){t.play()})))}))),eT(this.hlsProcessor,ef.HlsReloadRequired,Ph(this,(function(e,n){var r,i=n.reloadCauseInfo?n.reloadCauseInfo.startSeconds:null;t.saveCurrentTime(),t.hlsReloaded=!0,null===(r=t.hlsProcessor)||void 0===r||r.reload(i)}))),eT(this.hlsProcessor,ef.MasterHlsPlaylistLoad,Ph(this,(function(e,n){t.hlsReloaded&&t.isActive?hT(500).promise.then(Ph(t,(function(){t.player().hasStarted()&&t.isActive&&t.play()}))):t.trigger(e,n),t.hlsReloaded=!1})));var a=e.source;a&&this.hlsProcessor.url!==a.src&&this.setSource(a),_get(_get_prototype_of(n.prototype),"finishSetup",this).call(this,e)}},{key:"switchLevel",value:function(e){this.hlsProcessor.switchLevel(e)}},{key:"resetHls",value:function(){this.hlsProcessor.reset()}},{key:"pause",value:function(){this.hlsProcessor.pause(),_get(_get_prototype_of(n.prototype),"pause",this).call(this)}},{key:"play",value:function(){return this.hlsProcessor.play(),_get(_get_prototype_of(n.prototype),"play",this).call(this,{url:this.hlsProcessor.url})}},{key:"reset",value:function(){_get(_get_prototype_of(n.prototype),"reset",this).call(this),this.cacheTime=0,this.resetHls(),this.stopTrackingCurrentTime()}},{key:"setSrc",value:function(e){var t=void 0===e.src?"":e.src,n=void 0!==e.isACLCheck&&e.isACLCheck,r=void 0!==e.forceReload&&e.forceReload,i=void 0===e.startSeconds?null:e.startSeconds;VT.isSupported?(r?this.resetHls():this.trigger(ef.RestoringContent,n),this.hlsProcessor.load(new fT({element:this.el(),url:t,isLive:e.isLive,isDVR:e.isDVR,forceStart:!this.paused(),startLevel:void 0,startSeconds:i,timeout:{manifest:uh.shared().timeout.manifest,track:uh.shared().timeout.track,chunk:uh.shared().timeout.chunk}}))):n||(this.switchType(t),this.el().src=t)}},{key:"error",value:function(e){return _get(_get_prototype_of(n.prototype),"error",this).call(this,e)}},{key:"handleError",value:function(e,t){_get(_get_prototype_of(n.prototype),"handleError",this).call(this,e,t)}},{key:"duration",value:function(){var e=this;if(this.el().duration===1/0&&KT.IS_ANDROID&&KT.IS_CHROME&&0===this.el().currentTime){var t=function(){e.el().currentTime>0&&(e.el().duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el().duration||NaN}},{key:"canPlaySource",value:function(e){return HT.VIDEO_TEST_TAG().canPlayType(e.type)}},{key:"canPlayType",value:function(e){return HT.VIDEO_TEST_TAG().canPlayType(e)}},{key:"featuresPlaybackRate",get:function(){return n.canControlPlaybackRate()}},{key:"featuresSourceset",get:function(){return n.canOverrideAttributes()}},{key:"featuresProgressEvents",get:function(){return!1}},{key:"featuresTimeupdateEvents",get:function(){return!1}},{key:"featuresNativeTextTracks",get:function(){return n.supportsNativeTextTracks()}}],[{key:"type",value:function(e){var t=e.toLowerCase();return t.indexOf("m3u8")>0?"application/x-mpegURL":t.indexOf("mp4")>0?"video/mp4":null}},{key:"isSupported",value:function(){try{HT.VIDEO_TEST_TAG().volume=.5}catch(e){return!1}return!!(qT&&HT.VIDEO_TEST_TAG()&&HT.VIDEO_TEST_TAG().canPlayType)}},{key:"canControlVolume",value:function(){try{var e=HT.VIDEO_TEST_TAG().volume;return HT.VIDEO_TEST_TAG().volume=e/2+.1,e!==HT.VIDEO_TEST_TAG().volume}catch(e){return!1}}},{key:"canMuteVolume",value:function(){try{var e=HT.VIDEO_TEST_TAG().muted;return HT.VIDEO_TEST_TAG().muted=!e,HT.VIDEO_TEST_TAG().muted?WT.setAttribute(HT.VIDEO_TEST_TAG(),"muted","muted"):WT.removeAttribute(HT.VIDEO_TEST_TAG(),"muted","muted"),e!==HT.VIDEO_TEST_TAG().muted}catch(e){return!1}}},{key:"canControlPlaybackRate",value:function(){if(KT.IS_ANDROID&&KT.IS_CHROME&&KT.CHROME_VERSION<58)return!1;try{var e=Wh.VIDEO_TEST_TAG();if(!e)return!1;var t=Math.round(10*e.playbackRate),n=[0,1,2,3,4,5,6,7,8,9,10].filter((function(e){return e!==t})),r=n[Math.floor(Math.random()*n.length)];return e.playbackRate=r/10,t!==e.playbackRate}catch(e){return!1}}},{key:"supportsNativeVideoTracks",value:function(){return!(!HT.VIDEO_TEST_TAG()||!HT.VIDEO_TEST_TAG().videoTracks)}},{key:"supportsNativeAudioTracks",value:function(){return!(!HT.VIDEO_TEST_TAG()||!HT.VIDEO_TEST_TAG().audioTracks)}},{key:"featuresVolumeControl",get:function(){return n.canControlVolume()}},{key:"featuresMuteControl",get:function(){return n.canMuteVolume()}},{key:"featuresFullscreenResize",get:function(){return!0}},{key:"featuresNativeVideoTracks",get:function(){return n.supportsNativeVideoTracks()}},{key:"featuresNativeAudioTracks",get:function(){return n.supportsNativeAudioTracks()}}]),n}(bf);XT.TECH_NAME="NutHlsTech";var JT=XT;bf.withSourceHandlers(JT),JT.registerSourceHandler(new HT),bf.registerTech("NutHlsTech",JT);var ZT=JT,$T=f(le()),eb=new(function(){function e(){_class_call_check(this,e),this.init()}return _create_class(e,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),e}()),tb=new(function(){function e(){_class_call_check(this,e),this.init()}return _create_class(e,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}]),e}()),nb=new(function(){function e(){_class_call_check(this,e),this.init()}return _create_class(e,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),e}()),rb=function(){var e,t=[],n={},r={};function i(e,n){for(var r in t){var i=t[r];if(i.context===e&&i.name===n)return i.instance}return null}function a(e,t){return t[e]}function s(e,t,n){e in n&&(n[e]=t)}function o(t,n,r){var i,a=t.__dashjs_factory_name,s=n[a];if(s){var o=s.instance;if(!s.override)return o.apply({context:n,factory:e},r);for(var l in i=t.apply({context:n},r),o=o.apply({context:n,factory:e,parent:i},r))i.hasOwnProperty(l)&&(i[l]=o[l])}else i=t.apply({context:n},r);return i.getClassName=function(){return a},i}return e={extend:function(e,t,n,r){!r[e]&&t&&(r[e]={instance:t,override:n})},getSingletonInstance:i,setSingletonInstance:function(e,n,r){for(var i in t){var a=t[i];if(a.context===e&&a.name===n)return void(t[i].instance=r)}t.push({name:n,context:e,instance:r})},deleteSingletonInstances:function(e){t=t.filter((function(t){return t.context!==e}))},getSingletonFactory:function(e){var r=a(e.__dashjs_factory_name,n);return r||(r=function(n){var r;return void 0===n&&(n={}),{getInstance:function(){return r||(r=i(n,e.__dashjs_factory_name)),r||(r=o(e,n,arguments),t.push({name:e.__dashjs_factory_name,context:n,instance:r})),r}}},n[e.__dashjs_factory_name]=r),r},getSingletonFactoryByName:function(e){return a(e,n)},updateSingletonFactory:function(e,t){s(e,t,n)},getClassFactory:function(e){var t=a(e.__dashjs_factory_name,r);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return o(e,t,arguments)}}},r[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return a(e,r)},updateClassFactory:function(e,t){s(e,t,r)}},e}(),ib=rb,ab=function(){function e(){_class_call_check(this,e)}return _create_class(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}(),sb=function(e){_inherits(n,e);var t=_create_super(n);function n(){var e;return _class_call_check(this,n),(e=t.call(this)).AST_IN_FUTURE="astInFuture",e.BASE_URLS_UPDATED="baseUrlsUpdated",e.BUFFER_EMPTY="bufferStalled",e.BUFFER_LOADED="bufferLoaded",e.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",e.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",e.DYNAMIC_TO_STATIC="dynamicToStatic",e.ERROR="error",e.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",e.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",e.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",e.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",e.LOG="log",e.MANIFEST_LOADING_STARTED="manifestLoadingStarted",e.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",e.MANIFEST_LOADED="manifestLoaded",e.METRICS_CHANGED="metricsChanged",e.METRIC_CHANGED="metricChanged",e.METRIC_ADDED="metricAdded",e.METRIC_UPDATED="metricUpdated",e.PERIOD_SWITCH_STARTED="periodSwitchStarted",e.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",e.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",e.QUALITY_CHANGE_RENDERED="qualityChangeRendered",e.TRACK_CHANGE_RENDERED="trackChangeRendered",e.STREAM_INITIALIZING="streamInitializing",e.STREAM_UPDATED="streamUpdated",e.STREAM_ACTIVATED="streamActivated",e.STREAM_DEACTIVATED="streamDeactivated",e.STREAM_INITIALIZED="streamInitialized",e.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",e.TEXT_TRACKS_ADDED="allTextTracksAdded",e.TEXT_TRACK_ADDED="textTrackAdded",e.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",e.TTML_PARSED="ttmlParsed",e.TTML_TO_PARSE="ttmlToParse",e.CAPTION_RENDERED="captionRendered",e.CAPTION_CONTAINER_RESIZE="captionContainerResize",e.CAN_PLAY="canPlay",e.CAN_PLAY_THROUGH="canPlayThrough",e.PLAYBACK_ENDED="playbackEnded",e.PLAYBACK_ERROR="playbackError",e.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",e.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",e.PLAYBACK_LOADED_DATA="playbackLoadedData",e.PLAYBACK_PAUSED="playbackPaused",e.PLAYBACK_PLAYING="playbackPlaying",e.PLAYBACK_PROGRESS="playbackProgress",e.PLAYBACK_RATE_CHANGED="playbackRateChanged",e.PLAYBACK_SEEKED="playbackSeeked",e.PLAYBACK_SEEKING="playbackSeeking",e.PLAYBACK_STALLED="playbackStalled",e.PLAYBACK_STARTED="playbackStarted",e.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",e.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",e.PLAYBACK_WAITING="playbackWaiting",e.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",e.EVENT_MODE_ON_START="eventModeOnStart",e.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",e.CONFORMANCE_VIOLATION="conformanceViolation",e.REPRESENTATION_SWITCH="representationSwitch",e.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",e.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",e.INBAND_PRFT="inbandPrft",e.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",e.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming",e}return n}(ab),ob=new sb;function lb(){var e={};function t(t,n,r){var i=-1;return e[t]?(e[t].some((function(e,t){if(e&&e.callback===n&&(!r||r===e.scope))return i=t,!0})),i):i}var n={on:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!n)throw new Error("event type cannot be null or undefined");if(!r||"function"!=typeof r)throw new Error("listener must be a function: "+r);var s=a.priority||0;if(!(t(n,r,i)>=0)){e[n]=e[n]||[];var o={callback:r,scope:i,priority:s};i&&i.getStreamId&&(o.streamId=i.getStreamId()),i&&i.getType&&(o.mediaType=i.getType()),a&&a.mode&&(o.mode=a.mode),e[n].some((function(t,r){if(t&&s>t.priority)return e[n].splice(r,0,o),!0}))||e[n].push(o)}},off:function(n,r,i){if(n&&r&&e[n]){var a=t(n,r,i);a<0||(e[n][a]=null)}},trigger:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e[t]){if((n=n||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");n.type=t,r.streamId&&(n.streamId=r.streamId),r.mediaType&&(n.mediaType=r.mediaType),e[t].filter((function(e){return!!e&&((!r.streamId||!e.streamId||e.streamId===r.streamId)&&((!r.mediaType||!e.mediaType||e.mediaType===r.mediaType)&&!(r.mode&&e.mode&&e.mode!==r.mode||!e.mode&&r.mode&&r.mode===ob.EVENT_MODE_ON_RECEIVE)))})).forEach((function(e){return e&&e.callback.call(e.scope,n)}))}},reset:function(){e={}}};return n}lb.__dashjs_factory_name="EventBus";var ub=ib.getSingletonFactory(lb);ub.EVENT_PRIORITY_LOW=0,ub.EVENT_PRIORITY_HIGH=5e3,ib.updateSingletonFactory(lb.__dashjs_factory_name,ub);var cb=ub,db=function(e){_inherits(n,e);var t=_create_super(n);function n(){var e;return _class_call_check(this,n),(e=t.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",e.BUFFERING_COMPLETED="bufferingCompleted",e.BUFFER_CLEARED="bufferCleared",e.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",e.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",e.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",e.CMSD_STATIC_HEADER="cmsdStaticHeader",e.CURRENT_TRACK_CHANGED="currentTrackChanged",e.DATA_UPDATE_COMPLETED="dataUpdateCompleted",e.INBAND_EVENTS="inbandEvents",e.INITIAL_STREAM_SWITCH="initialStreamSwitch",e.INIT_FRAGMENT_LOADED="initFragmentLoaded",e.INIT_FRAGMENT_NEEDED="initFragmentNeeded",e.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",e.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",e.LOADING_COMPLETED="loadingCompleted",e.LOADING_PROGRESS="loadingProgress",e.LOADING_DATA_PROGRESS="loadingDataProgress",e.LOADING_ABANDONED="loadingAborted",e.MANIFEST_UPDATED="manifestUpdated",e.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",e.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",e.QUOTA_EXCEEDED="quotaExceeded",e.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",e.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",e.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",e.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",e.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",e.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",e.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",e.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",e.SOURCE_BUFFER_ERROR="sourceBufferError",e.STREAMS_COMPOSED="streamsComposed",e.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",e.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",e.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",e.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",e.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",e.URL_RESOLUTION_FAILED="urlResolutionFailed",e.VIDEO_CHUNK_RECEIVED="videoChunkReceived",e.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",e.XLINK_ELEMENT_LOADED="xlinkElementLoaded",e.XLINK_READY="xlinkReady",e.SEEK_TARGET="seekTarget",e.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",e.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",e.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",e.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",e.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",e}return n}(ab),hb=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return n}(db),fb=new hb,pb=1,Ab=2,gb=3,mb=4,vb=5;function yb(e){e=e||{};var t,n,r,i,a=this.context,s=cb(a).getInstance(),o=e.settings,l=[];function u(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.apply(void 0,[pb,this].concat(_to_consumable_array(t)))}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.apply(void 0,[Ab,this].concat(_to_consumable_array(t)))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.apply(void 0,[gb,this].concat(_to_consumable_array(t)))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.apply(void 0,[mb,this].concat(_to_consumable_array(t)))}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.apply(void 0,[vb,this].concat(_to_consumable_array(t)))}function A(e,t){for(var a=arguments.length,u=new Array(a>2?a-2:0),c=2;c<a;c++)u[c-2]=arguments[c];var d="",h=null;n&&(h=(new Date).getTime(),d+="["+(h-i)+"]"),r&&t&&t.getClassName&&(d+="["+t.getClassName()+"]",t.getType&&(d+="["+t.getType()+"]")),d.length>0&&(d+=" "),Array.apply(null,u).forEach((function(e){d+=e+" "})),l[e]&&o&&o.get().debug.logLevel>=e&&l[e](d),o&&o.get().debug.dispatchEvent&&s.trigger(fb.LOG,{message:d,level:e})}return t={getLogger:function(e){return{fatal:c.bind(e),error:d.bind(e),warn:h.bind(e),info:f.bind(e),debug:p.bind(e)}},setLogTimestampVisible:function(e){n=e},setCalleeNameVisible:function(e){r=e}},n=!0,r=!0,i=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(l[pb]=u(window.console.error),l[Ab]=u(window.console.error),l[gb]=u(window.console.warn),l[mb]=u(window.console.info),l[vb]=u(window.console.debug)),t}yb.__dashjs_factory_name="Debug";var Eb=ib.getSingletonFactory(yb);Eb.LOG_LEVEL_NONE=0,Eb.LOG_LEVEL_FATAL=pb,Eb.LOG_LEVEL_ERROR=Ab,Eb.LOG_LEVEL_WARNING=gb,Eb.LOG_LEVEL_INFO=mb,Eb.LOG_LEVEL_DEBUG=vb,ib.updateSingletonFactory(yb.__dashjs_factory_name,Eb);var _b=Eb;function Tb(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y,E,_,T,b,S=this.context,w=cb(S).getInstance();function C(){D(),f=!1,u=0,c=0,A=0,_=!1,g=!0,m=!1,T=!1,v=NaN,s&&(w.off(fb.DATA_UPDATE_COMPLETED,H,e),w.off(fb.LOADING_PROGRESS,ce,e),w.off(fb.MANIFEST_UPDATED,pe,e),w.off(fb.STREAMS_COMPOSED,Ae,e),w.off(ob.PLAYBACK_ENDED,oe,e),w.off(ob.STREAM_INITIALIZING,he,e),w.off(ob.REPRESENTATION_SWITCH,fe,e),w.off(ob.BUFFER_LEVEL_STATE_CHANGED,z,e),V(),s.removeEventListener("canplay",Y),s.removeEventListener("canplaythrough",q),s.removeEventListener("play",W),s.removeEventListener("waiting",K),s.removeEventListener("playing",X),s.removeEventListener("pause",J),s.removeEventListener("error",le),s.removeEventListener("seeking",Z),s.removeEventListener("seeked",$),s.removeEventListener("timeupdate",ee),s.removeEventListener("progress",te),s.removeEventListener("ratechange",ne),s.removeEventListener("loadedmetadata",re),s.removeEventListener("loadeddata",ie),s.removeEventListener("stalled",de),s.removeEventListener("ended",ae),s.removeEventListener("volumechange",se)),l=null,s=null,d=null,h=null}function I(){return parseFloat((k(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-B()).toFixed(5))}function k(e){var t=e||d;return t.start+t.duration}function R(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d&&s&&s.getElement()?(e&&h&&N(B()),s.play()):f=!0}function D(){d&&s&&s.pause()}function M(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d&&s&&s.getElement()&&(e!==(isNaN(v)?s.getTime():v)&&((y=!0===r)||(v=e),t.info("Requesting seek to time: "+e+(y?" (internal)":"")),h&&i&&N(e),s.setCurrentTime(e,n)))}function L(){if(d&&s&&h){var e=n&&n.hasVideoTrack()?eb.VIDEO:eb.AUDIO,t=i.getCurrentDVRInfo(e);return t&&t.range?t.range.end:0}}function N(e){var t=new Date(o.getClientReferenceTime()),n=a.getRegularPeriods()[0],r=o.calcPresentationTimeFromWallTime(t,n);u=r-e}function B(){return d&&s?s.getTime():null}function x(){return d&&s?s.isPaused():null}function P(){return d&&s?s.isSeeking():null}function O(){return d&&s?s.isStalled():null}function F(){return d&&s?s.getPlaybackRate():null}function U(){return d&&s?s.getEnded():null}function j(){return h}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!x()&&h&&0!==s.getReadyState()&&!P()&&!_){e||(e=n.hasVideoTrack()?eb.VIDEO:eb.AUDIO);var r=B(),a=function(e,t){var n,r=i.getCurrentDVRInfo(t),a=r?r.range:null;if(!a)return NaN;n=e>a.end?Math.max(a.end-u,a.start):e>0&&e+.25<a.start&&Math.abs(e-a.start)<31536e4?m?Math.max(a.end-u,a.start):a.start:e;return n}(r,e);!isNaN(a)&&a!==r&&!P()&&(O()||E||1===s.getReadyState())&&(t.debug("UpdateCurrentTime: Seek to actual time: ".concat(a," from currentTime: ").concat(r)),M(a,!1,!1))}}function G(){null===l&&(l=setInterval((function(){var e;w.trigger(fb.WALLCLOCK_TIME_UPDATED,{isDynamic:h,time:new Date}),j()&&(n.addDVRMetric(),x()?(e=Date.now(),(!p||e>p+500)&&(p=e,ee())):Q())}),b.get().streaming.wallclockTimeUpdateInterval))}function V(){clearInterval(l),l=null}function H(e){var t=a.convertRepresentationToRepresentationInfo(e.currentRepresentation),n=t?t.mediaInfo.streamInfo:null;null!==n&&d.id===n.id&&(d=n)}function Y(){w.trigger(fb.CAN_PLAY)}function q(){w.trigger(fb.CAN_PLAY_THROUGH)}function z(e){e.streamId===n.getActiveStreamInfo().id&&(E=e.state===nb.BUFFER_EMPTY,b.get().streaming.buffer.setStallState&&s.setStallState(e.mediaType,e.state===nb.BUFFER_EMPTY))}function W(){t.info("Native video element event: play"),Q(),G(),w.trigger(fb.PLAYBACK_STARTED,{startTime:B()})}function K(){t.info("Native video element event: waiting"),w.trigger(fb.PLAYBACK_WAITING,{playingTime:B()})}function X(){t.info("Native video element event: playing"),y=!1,w.trigger(fb.PLAYBACK_PLAYING,{playingTime:B()})}function J(){t.info("Native video element event: pause"),w.trigger(fb.PLAYBACK_PAUSED,{ended:U()})}function Z(){if(!y){var e=B();isNaN(v)||v===e||(e=v),v=NaN,t.info("Seeking to: "+e),G(),w.trigger(fb.PLAYBACK_SEEKING,{seekTime:e,streamId:d.id})}}function $(){t.info("Native video element event: seeked"),y=!1,w.trigger(fb.PLAYBACK_SEEKED)}function ee(){d&&w.trigger(fb.PLAYBACK_TIME_UPDATED,{timeToEnd:I(),time:B(),streamId:d.id})}function te(){w.trigger(fb.PLAYBACK_PROGRESS,{streamId:d.id})}function ne(){var e=F();t.info("Native video element event: ratechange: ",e),w.trigger(fb.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function re(){t.info("Native video element event: loadedmetadata"),w.trigger(fb.PLAYBACK_METADATA_LOADED),G()}function ie(){t.info("Native video element event: loadeddata"),w.trigger(fb.PLAYBACK_LOADED_DATA)}function ae(){t.info("Native video element event: ended"),D(),V();var e=n?n.getActiveStreamInfo():null;e&&w.trigger(fb.PLAYBACK_ENDED,{isLast:e.isLast})}function se(){w.trigger(fb.PLAYBACK_VOLUME_CHANGED)}function oe(e){if(l&&e.isLast){t.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var n=e.seekTime?e.seekTime:k();s.setCurrentTime(n),D(),V()}}function le(e){var t=e.target||e.srcElement;w.trigger(fb.PLAYBACK_ERROR,{error:t.error})}function ue(){h=!1}function ce(e){if(!1===e.stream&&m&&!isNaN(e.request.duration)){var n=1.2*e.request.duration;n>u&&(t.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",n.toFixed(2)),u=n,c=n)}}function de(e){w.trigger(fb.PLAYBACK_STALLED,{e:e})}function he(e){var n;(n=e.mediaInfo)&&n.supplementalProperties&&"true"===n.supplementalProperties[eb.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(t.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),m=!0)}function fe(e){var t=n.getActiveStreamInfo();e&&t&&e.currentRepresentation&&e.streamId&&e.streamId===t.id&&e.mediaType&&(e.mediaType===eb.VIDEO||e.mediaType===eb.AUDIO)&&(g=e.currentRepresentation.availabilityTimeComplete,(m=!g)&&!T&&(T=!0))}function pe(){_=!0}function Ae(){_=!1}return e={initialize:function(t,n){d=t,!0!==n&&(s.addEventListener("canplay",Y),s.addEventListener("canplaythrough",q),s.addEventListener("play",W),s.addEventListener("waiting",K),s.addEventListener("playing",X),s.addEventListener("pause",J),s.addEventListener("error",le),s.addEventListener("seeking",Z),s.addEventListener("seeked",$),s.addEventListener("timeupdate",ee),s.addEventListener("progress",te),s.addEventListener("ratechange",ne),s.addEventListener("loadedmetadata",re),s.addEventListener("loadeddata",ie),s.addEventListener("stalled",de),s.addEventListener("ended",ae),s.addEventListener("volumechange",se),h=d.manifestInfo.isDynamic,E=!1,y=!1,w.on(fb.DATA_UPDATE_COMPLETED,H,e),w.on(fb.LOADING_PROGRESS,ce,e),w.on(fb.MANIFEST_UPDATED,pe,e),w.on(fb.STREAMS_COMPOSED,Ae,e),w.on(ob.PLAYBACK_ENDED,oe,e,{priority:cb.EVENT_PRIORITY_HIGH}),w.on(ob.STREAM_INITIALIZING,he,e),w.on(ob.REPRESENTATION_SWITCH,fe,e),w.on(ob.BUFFER_LEVEL_STATE_CHANGED,z,e),w.on(ob.DYNAMIC_TO_STATIC,ue,e),f&&(f=!1,R()))},setConfig:function(e){e&&(e.streamController&&(n=e.streamController),e.serviceDescriptionController&&(r=e.serviceDescriptionController),e.dashMetrics&&(i=e.dashMetrics),e.adapter&&(a=e.adapter),e.videoModel&&(s=e.videoModel),e.timelineConverter&&(o=e.timelineConverter),e.settings&&(b=e.settings))},getTimeToStreamEnd:I,getBufferLevel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null;return n.getActiveStreamProcessors().forEach((function(n){if(!e||0===e.length||-1===e.indexOf(n.getType())){var r=n.getBufferLevel();t=null===t?r:Math.min(t,r)}})),t},getPlaybackStalled:function(){return E},getTime:B,getLowLatencyModeEnabled:function(){return m},getInitialCatchupModeActivated:function(){return T},getIsManifestUpdateInProgress:function(){return _},getPlaybackRate:F,getPlayedRanges:function(){return d&&s?s.getPlayedRanges():null},getEnded:U,getIsDynamic:j,getStreamController:function(){return n},computeAndSetLiveDelay:function(e,t){var n,i,s,o=!isNaN(e)&&isFinite(e)?e:NaN,l=a.getSuggestedPresentationDelay(),h=r.getServiceDescriptionSettings();return n=isNaN(b.get().streaming.delay.liveDelay)?null===b.get().streaming.delay.liveDelayFragmentCount||isNaN(b.get().streaming.delay.liveDelayFragmentCount)||isNaN(o)?h&&!isNaN(h.liveDelay)&&h.liveDelay>0?h.liveDelay:!0===b.get().streaming.delay.useSuggestedPresentationDelay&&null!==l&&!isNaN(l)&&l>0?l:isNaN(o)?t&&!isNaN(t.minBufferTime)?4*t.minBufferTime:4*d.manifestInfo.minBufferTime:4*o:o*b.get().streaming.delay.liveDelayFragmentCount:b.get().streaming.delay.liveDelay,null!==(s=a.getAvailabilityStartTime())&&(A=s),i=t&&t.dvrWindowSize>0?Math.min(n,t.dvrWindowSize):n,u=i,c=i,i},getLiveDelay:function(){return u},getOriginalLiveDelay:function(){return c},getCurrentLiveLatency:function(){if(!h||isNaN(A))return NaN;var e=B();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*o.getClientTimeOffset();return Math.max(((t-A-1e3*e)/1e3).toFixed(3),0)},play:R,isPaused:x,isStalled:O,pause:D,isSeeking:P,getStreamEndTime:k,seek:M,seekToOriginalLive:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=L();0!==r&&M(r-(u=c),e,t,n)},seekToCurrentLive:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=L();0!==r&&M(r-u,e,t,n)},reset:C,updateCurrentTime:Q,getAvailabilityStartTime:function(){return A}},t=_b(S).getInstance().getLogger(e),C(),e}Tb.__dashjs_factory_name="PlaybackController";var bb=ib.getSingletonFactory(Tb),Sb=function e(){_class_call_check(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},wb=function e(){_class_call_check(this,e),this.s=null,this.d=null,this.b=[]};Sb.GET="GET",Sb.HEAD="HEAD",Sb.MPD_TYPE="MPD",Sb.XLINK_EXPANSION_TYPE="XLinkExpansion",Sb.INIT_SEGMENT_TYPE="InitializationSegment",Sb.INDEX_SEGMENT_TYPE="IndexSegment",Sb.MEDIA_SEGMENT_TYPE="MediaSegment",Sb.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",Sb.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",Sb.DVB_REPORTING_TYPE="DVBReporting",Sb.LICENSE="license",Sb.CONTENT_STEERING_TYPE="ContentSteering",Sb.OTHER_TYPE="other";var Cb=function(){function e(t){_class_call_check(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=t||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return _create_class(e,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===Sb.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?Sb.INIT_SEGMENT_TYPE:Sb.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}]),e}();Cb.ACTION_DOWNLOAD="download",Cb.ACTION_COMPLETE="complete";var Ib=Cb,kb="loading",Rb="executed",Db="failed";function Mb(e){var t,n,r,i,a=(e=e||{}).eventBus,s=e.events,o=e.dashMetrics,l=e.fragmentLoader,u=e.debug,c=e.streamInfo,d=e.type;function h(e){var t;return!!e&&(t=!1,r.some((function(n){if(r=e,i=n,!isNaN(r.index)&&r.startTime===i.startTime&&r.adaptationIndex===i.adaptationIndex&&r.type===i.type||function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality}(e,n)||function(e,t){return e.action===Ib.ACTION_COMPLETE&&e.action===t.action}(e,n))return t=!0;var r,i})),t)}function f(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function p(e){r=r.filter((function(t){var n=f(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-n}))}function A(e,t){t<=e+.5||(r=r.filter((function(n){var r=f(n);return isNaN(n.startTime)||n.startTime>=t-r||isNaN(n.duration)||n.startTime+n.duration<=e+r})))}function g(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],a=i.startTime,s=a+i.duration;if(n=isNaN(n)?f(i):n,!isNaN(a)&&!isNaN(s)&&t+n>=a&&t-n<s||isNaN(a)&&isNaN(t))return i}return null}function m(e,t){o.addSchedulingInfo(e,t),o.addRequestsQueue(e.mediaType,i,r)}function v(e){e.sender===l&&(i.splice(i.indexOf(e.request),1),e.response&&!e.error&&r.push(e.request),m(e.request,e.error?Db:Rb),a.trigger(s.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:c.id,mediaType:d}))}function y(e){e.sender===l&&a.trigger(s.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:c.id,mediaType:d})}function E(e){e.sender===l&&a.trigger(s.FRAGMENT_LOADING_ABANDONED,{request:e.request},{streamId:c.id,mediaType:d})}function _(){r=[],i=[]}return t={getStreamId:function(){return c.id},getType:function(){return d},getRequests:function(e){var t=e?_instanceof(e.state,Array)?e.state:[e.state]:[],n=[];return t.forEach((function(t){var a=function(e){var t;switch(e){case kb:t=i;break;case Rb:t=r;break;default:t=[]}return t}(t);n=n.concat(function(e,t){if(t.hasOwnProperty("time"))return[g(e,t.time,t.threshold)];return e.filter((function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0}))}(a,e))})),n},isFragmentLoaded:h,isFragmentLoadedOrPending:function(e){var t,n=!1,r=0;if(!(n=h(e)))for(r=0;r<i.length;r++)t=i[r],e.url===t.url&&e.startTime===t.startTime&&(n=!0);return n},removeExecutedRequestsBeforeTime:p,removeExecutedRequestsAfterTime:function(e){r=r.filter((function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<e}))},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var n=0,r=0,i=e.length;r<i;r++)A(n,e.start(r)),n=e.end(r);t>0&&A(n,t)}else p()},abortRequests:function(){n.debug("abort requests"),l.abort(),i=[]},executeRequest:function(e){if(e.action===Ib.ACTION_DOWNLOAD)m(e,kb),i.push(e),function(e){a.trigger(s.FRAGMENT_LOADING_STARTED,{request:e},{streamId:c.id,mediaType:d}),l.load(e)}(e);else n.warn("Unknown request action.")},reset:function(){a.off(s.LOADING_COMPLETED,v,this),a.off(s.LOADING_DATA_PROGRESS,y,this),a.off(s.LOADING_ABANDONED,E,this),l&&l.reset(),_()},resetInitialSettings:_,addExecutedRequest:function(e){r.push(e)}},n=u.getLogger(t),_(),a.on(s.LOADING_COMPLETED,v,t),a.on(s.LOADING_DATA_PROGRESS,y,t),a.on(s.LOADING_ABANDONED,E,t),t}Mb.__dashjs_factory_name="FragmentModel";var Lb=ib.getClassFactory(Mb);Lb.FRAGMENT_MODEL_LOADING=kb,Lb.FRAGMENT_MODEL_EXECUTED=Rb,Lb.FRAGMENT_MODEL_CANCELED="canceled",Lb.FRAGMENT_MODEL_FAILED=Db,ib.updateClassFactory(Mb.__dashjs_factory_name,Lb);var Nb=Lb,Bb=function e(t,n,r){_class_call_check(this,e),this.code=t||null,this.message=n||null,this.data=r||null},xb=function(){function e(){_class_call_check(this,e)}return _create_class(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}(),Pb=function(e){_inherits(n,e);var t=_create_super(n);function n(){var e;return _class_call_check(this,n),(e=t.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,e.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,e.SEGMENT_BASE_LOADER_ERROR_CODE=15,e.TIME_SYNC_FAILED_ERROR_CODE=16,e.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,e.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,e.APPEND_ERROR_CODE=20,e.REMOVE_ERROR_CODE=21,e.DATA_UPDATE_FAILED_ERROR_CODE=22,e.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,e.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,e.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,e.DOWNLOAD_ERROR_ID_SIDX_CODE=26,e.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,e.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,e.DOWNLOAD_ERROR_ID_XLINK_CODE=29,e.MANIFEST_ERROR_ID_PARSE_CODE=31,e.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,e.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,e.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",e.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",e.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",e.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",e.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",e.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",e.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",e.APPEND_ERROR_MESSAGE="chunk is not defined",e.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",e.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",e.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",e.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",e.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",e}return n}(xb),Ob=new Pb,Fb=f(ue()),Ub=f(ce()),jb=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"mixin",value:function(t,n,r){var i,a={};if(t)for(var s in n)n.hasOwnProperty(s)&&(i=n[s],s in t&&(t[s]===i||s in a&&a[s]===i)||("object"==typeof t[s]&&null!==t[s]?t[s]=e.mixin(t[s],i,r):t[s]=r(i)));return t}},{key:"clone",value:function(t){if(!t||"object"!=typeof t)return t;var n;if(_instanceof(t,Array)){n=[];for(var r=0,i=t.length;r<i;++r)r in t&&n.push(e.clone(t[r]))}else n={};return e.mixin(n,t,e.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{if(!t||0===t.length)return e;var n=new URL(e);return t.forEach((function(e){e.key&&e.value&&n.searchParams.set(e.key,e.value)})),n.href}catch(t){return e}}},{key:"parseHttpHeaders",value:function(e){var t={};if(!e)return t;for(var n=e.trim().split("\r\n"),r=0,i=n.length;r<i;r++){var a=n[r],s=a.indexOf(": ");s>0&&(t[a.substring(0,s)]=a.substring(s+2))}return t}},{key:"generateUuid",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}},{key:"getRelativeUrl",value:function(e,t){try{var n=new URL(e),r=new URL(t);if(n.protocol=r.protocol,n.origin!==r.origin)return t;var i=Fb.default.relative(n.pathname.substr(0,n.pathname.lastIndexOf("/")),r.pathname.substr(0,r.pathname.lastIndexOf("/"))),a=0===i.length?1:0;return i+=r.pathname.substr(r.pathname.lastIndexOf("/")+a,r.pathname.length-1),r.pathname.length<i.length?r.pathname:i}catch(e){return t}}},{key:"parseUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=null===e&&"undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return(0,Ub.UAParser)(t)}catch(e){return{}}}},{key:"stringHasProtocol",value:function(e){return/(http(s?)):\/\//i.test(e)}}]),e}(),Qb=jb;function Gb(){var e,t,n=this.context,r=cb(n).getInstance(),i={"streaming.delay.liveDelay":fb.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":fb.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":fb.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":fb.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":fb.SETTING_UPDATED_PLAYBACK_RATE_MAX},a={debug:{logLevel:_b.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:eb.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:eb.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:eb.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:eb.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(e={},_define_property(e,Sb.MPD_TYPE,500),_define_property(e,Sb.XLINK_EXPANSION_TYPE,500),_define_property(e,Sb.MEDIA_SEGMENT_TYPE,1e3),_define_property(e,Sb.INIT_SEGMENT_TYPE,1e3),_define_property(e,Sb.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),_define_property(e,Sb.INDEX_SEGMENT_TYPE,1e3),_define_property(e,Sb.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),_define_property(e,Sb.LICENSE,1e3),_define_property(e,Sb.OTHER_TYPE,1e3),_define_property(e,"lowLatencyReductionFactor",10),e),retryAttempts:(t={},_define_property(t,Sb.MPD_TYPE,3),_define_property(t,Sb.XLINK_EXPANSION_TYPE,1),_define_property(t,Sb.MEDIA_SEGMENT_TYPE,3),_define_property(t,Sb.INIT_SEGMENT_TYPE,3),_define_property(t,Sb.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),_define_property(t,Sb.INDEX_SEGMENT_TYPE,3),_define_property(t,Sb.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),_define_property(t,Sb.LICENSE,3),_define_property(t,Sb.OTHER_TYPE,3),_define_property(t,"lowLatencyMultiplyFactor",5),t),abr:{movingAverageMethod:eb.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:eb.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},abrRulesParameters:{abandonRequestsRule:{graceTimeThreshold:500,abandonMultiplier:1.8,minLengthToAverage:5}},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:eb.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:eb.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},s=Qb.clone(a);function o(e,t,n){for(var a in e)e.hasOwnProperty(a)&&(t.hasOwnProperty(a)?"object"!=typeof e[a]||_instanceof(e[a],Array)||null===e[a]?(t[a]=Qb.clone(e[a]),i[n+a]&&r.trigger(i[n+a])):o(e[a],t[a],n.slice()+a+"."):console.error("Settings parameter "+n+a+" is not supported"))}return{get:function(){return s},update:function(e){"object"==typeof e&&o(e,s,"")},reset:function(){s=Qb.clone(a)}}}Gb.__dashjs_factory_name="Settings";var Vb=ib.getSingletonFactory(Gb);function Hb(e){var t,n,r,i,a,s,o=this.context,l=Vb(o).getInstance(),u=e.textController,c=e.eventBus,d=[],h=[],f=!1,p=e.mediaSource,A=null;function g(e){return new Promise((function(t){w((function(){i.changeType&&i.changeType(e),t()}))}))}function m(e){return i=u.getTextSourceBuffer(e),Promise.resolve()}function v(){if("function"==typeof i.addEventListener)try{i.addEventListener("updateend",b,!1),i.addEventListener("error",S,!1),i.addEventListener("abort",S,!1)}catch(e){s=setInterval(b,50)}else s=setInterval(b,50)}function y(e){return new Promise((function(t){i&&l.get().streaming.buffer.useAppendWindow?w((function(){try{if(!i)return void t();var n=p.duration,s=0;e&&!isNaN(e.start)&&!isNaN(e.duration)&&isFinite(e.duration)&&(n=e.start+e.duration),e&&!isNaN(e.start)&&(s=e.start),i.appendWindowEnd===n&&i.appendWindowStart===s||(i.appendWindowStart=0,i.appendWindowEnd=n+.01,i.appendWindowStart=Math.max(s-.1,0),r.debug("Updated append window for ".concat(a.type,". Set start to ").concat(i.appendWindowStart," and end to ").concat(i.appendWindowEnd))),t()}catch(e){r.warn("Failed to set append window"),t()}})):t()}))}function E(e){return new Promise((function(t){i?w((function(){try{i.timestampOffset===e||isNaN(e)||(i.timestampOffset=e,r.debug("Set MSE timestamp offset to ".concat(e))),t()}catch(e){t()}})):t()}))}function _(){if(!f&&h.length>0){f=!0;var e=h[0];h.splice(0,1);var t=function(){f=!1,h.length>0&&_.call(this),e&&e.data&&e.data.segmentType&&e.data.segmentType!==Sb.INIT_SEGMENT_TYPE&&delete e.data.bytes,e.promise.resolve({chunk:e.data})};try{A=e.request,0===e.data.bytes.byteLength?t.call(this):(i.appendBuffer?i.appendBuffer(e.data.bytes):i.append(e.data.bytes,e.data),w(t.bind(this)))}catch(t){r.fatal('SourceBuffer append failed "'+t+'"'),h.length>0?_():f=!1,delete e.data.bytes,e.promise.reject({chunk:e.data,error:new Bb(t.code,t.message)})}}}function T(){d.length>0&&(i.updating||(d.shift()(),T()))}function b(){i.updating||T()}function S(e){var t,r,i=e.target||{};t=fb.SOURCE_BUFFER_ERROR,r={error:i,lastRequestAppended:A}||{},c.trigger(t,r,{streamId:a.streamInfo.id,mediaType:n})}function w(e){d.push(e),i.updating||T()}return t={getType:function(){return n},getAllBufferRanges:function(){try{return i.buffered}catch(e){return r.error("getAllBufferRanges exception: "+e.message),null}},getBuffer:function(){return i},append:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,i){e?(h.push({data:e,promise:{resolve:r,reject:i},request:n}),w(_.bind(t))):i({chunk:e,error:new Bb(Ob.APPEND_ERROR_CODE,Ob.APPEND_ERROR_MESSAGE)})}))},remove:function(e){return new Promise((function(t,n){var r=e.start,a=e.end;r>=0&&a>r?w((function(){try{i.remove(r,a),w((function(){t({from:r,to:a,unintended:!1}),e.resolve&&e.resolve()}))}catch(t){n({from:r,to:a,unintended:!1,error:new Bb(Ob.REMOVE_ERROR_CODE,Ob.REMOVE_ERROR_MESSAGE)}),e.reject&&e.reject(t)}})):t()}))},abort:function(){return new Promise((function(e){try{h=[],"open"===p.readyState?w((function(){try{i&&i.abort(),e()}catch(t){e()}})):i&&i.setTextTrack&&"ended"===p.readyState?(i.abort(),e()):e()}catch(t){e()}}))},reset:function(){if(i){try{d=[],function(){try{"function"==typeof i.removeEventListener&&(i.removeEventListener("updateend",b,!1),i.removeEventListener("error",S,!1),i.removeEventListener("abort",S,!1)),clearInterval(s)}catch(e){r.error(e)}}(),f=!1,h=[],i.getClassName&&"TextSourceBuffer"===i.getClassName()||(r.debug("Removing sourcebuffer from media source"),p.removeSourceBuffer(i))}catch(e){}i=null}A=null},updateTimestampOffset:E,initializeForStreamSwitch:function(e,t,r){n=(a=e).type;var s=a.codec;!function(e){i=e.getBuffer()}(r),v();var o=[];return o.push(new Promise((function(e){w((function(){var t=i.appendWindowStart,n=i.appendWindowEnd;i&&(i.abort(),i.appendWindowStart=t,i.appendWindowEnd=n),e()}))}))),o.push(y(a.streamInfo)),l.get().streaming.buffer.useChangeTypeForTrackSwitch&&o.push(g(s)),t&&void 0!==t.MSETimeOffset&&o.push(E(t.MSETimeOffset)),Promise.all(o)},initializeForFirstUse:function(e,t,r){n=(a=t).type;var s=a.codec;try{if(s.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return m(e);i=p.addSourceBuffer(s),v();var o=[];return o.push(y(a.streamInfo)),r&&void 0!==r.MSETimeOffset&&o.push(E(r.MSETimeOffset)),Promise.all(o)}catch(t){return a.type==eb.TEXT&&!a.isFragmented||-1!==s.indexOf('codecs="stpp')||-1!==s.indexOf('codecs="vtt')||-1!==s.indexOf("text/vtt")?m(e):Promise.reject(t)}},updateAppendWindow:y,changeType:g},r=_b(o).getInstance().getLogger(t),t}Hb.__dashjs_factory_name="SourceBufferSink";var Yb=ib.getClassFactory(Hb);function qb(e){var t,n,r,i=this.context,a=[],s=e;function o(e,t){return a=a.filter((function(n){return!((isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e))})),Promise.resolve()}return t={getAllBufferRanges:function(){for(var e=[],t=0;t<a.length;t++){var n=a[t];0===e.length||n.start>e[e.length-1].end?e.push({start:n.start,end:n.end}):e[e.length-1].end=n.end}var r={start:function(t){return e[t].start},end:function(t){return e[t].end}};return Object.defineProperty(r,"length",{get:function(){return e.length}}),r},append:function(e){return"InitializationSegment"!==e.segmentType?(a.push(e),a.sort((function(e,t){return e.start-t.start})),r=null):r=e,n.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),s&&s({chunk:e}),Promise.resolve()},remove:o,abort:function(){return Promise.resolve()},discharge:function(e,t){var n=function(e,t){return a.filter((function(n){return(isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e)}))}(e,t);return r&&(n.push(r),r=null),o(e,t),n},reset:function(){a=[],r=null,s=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(e){e()},getBuffer:function(){return this}},n=_b(i).getInstance().getLogger(t),t}qb.__dashjs_factory_name="PreBufferSink";var zb=ib.getClassFactory(qb);function Wb(){var e={};return{save:function(t){var n=t.streamId,r=t.representationId;e[n]=e[n]||{},e[n][r]=t},extract:function(t,n){return e&&e[t]&&e[t][n]?e[t][n]:null},reset:function(){e={}}}}Wb.__dashjs_factory_name="InitCache";var Kb=ib.getSingletonFactory(Wb),Xb=.01,Jb="BufferController";function Zb(e){e=e||{};var t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y,E,_,T=this.context,b=cb(T).getInstance(),S=e.errHandler,w=e.fragmentModel,C=e.representationController,I=e.adapter,k=e.textController,R=e.abrController,D=e.playbackController,M=e.streamInfo,L=e.type,N=e.settings;function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,r){s=e,u&&t&&"function"==typeof u.discharge?(c=u,P(t).then((function(){n()})).catch((function(e){r(e)}))):n()}))}function x(e){return I.convertRepresentationToRepresentationInfo(C.getRepresentationForQuality(e))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(r,i){v&&e?s?(d=!1,function(e,t){return new Promise((function(r,i){var a=R.getQualityFor(L,M.id);u=Yb(T).create({mediaSource:s,textController:k,eventBus:b}),function(e,t,n){var r=x(n);return t&&t[L]&&(L===eb.VIDEO||L===eb.AUDIO)?u.initializeForStreamSwitch(e,r,t[L]):u.initializeForFirstUse(M,e,r)}(e,t,a).then((function(){return re(x(a))})).then((function(){r(u)})).catch((function(e){n.fatal("Caught error on create SourceBuffer: "+e),S.error(new Bb(Ob.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Ob.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+L)),i(e)}))}))}(e,t).then((function(e){r(e)})).catch((function(e){i(e)}))):(d=!0,function(){var e=this;return new Promise((function(t,n){var r=R.getQualityFor(L,M.id);u=zb(T).create(Q.bind(e)),re(x(r)).then((function(){t(u)})).catch((function(){n()}))}))}().then((function(e){r(e)})).catch((function(e){i(e)}))):r(null)}))}function O(e){N.get().streaming.cacheInitSegments&&(n.info("Init fragment finished loading saving to",L+"'s init cache"),v.save(e.chunk)),n.debug("Append Init fragment",L," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),U(e.chunk)}function F(e){U(e.chunk,e.request)}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u&&(u.append(e,t).then((function(e){Q(e)})).catch((function(e){Q(e)})),e.mediaInfo.type===eb.VIDEO&&de(fb.VIDEO_CHUNK_RECEIVED,{chunk:e}))}function j(e){if(e&&e.length>0)for(var t=0,r=e.length;t<r;t++)n.debug("Buffered range: "+e.start(t)+" - "+e.end(t)+", currentTime = ",D.getTime())}function Q(e){if(e.error)return 22===e.error.code&&function(){if(m=!0,a=.8*le(),n.warn("Quota exceeded, Critical Buffer: "+a),a>0){var e=Math.max(.2*a,1),t=a-e,r=Math.min(N.get().streaming.buffer.bufferTimeAtTopQuality,.9*t),i=Math.min(N.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*t),s={streaming:{buffer:{bufferToKeep:parseFloat(e.toFixed(5)),bufferTimeAtTopQuality:parseFloat(r.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(i.toFixed(5))}}};N.update(s)}}(),void(22!==e.error.code&&ce()||(n.warn("Clearing playback buffer to overcome quota exceed situation"),de(fb.QUOTA_EXCEEDED,{criticalBufferLevel:a,quotaExceededTime:e.chunk.start}),ee($())));if(u&&(W(),m=!1,(p=e.chunk)&&p.endFragment)){p&&!isNaN(p.index)&&(o=Math.max(p.index,o),K());var t=u.getAllBufferRanges();p.segmentType===Sb.MEDIA_SEGMENT_TYPE&&(j(t),H(),function(){if(isNaN(_)||d)return;if(L!==eb.AUDIO&&L!==eb.VIDEO)return void(_=NaN);var e=D.getTime(),t=z(e,0),n=z(_,0);if(t&&n&&t.start===n.start)return void(_=NaN);var r=C.getCurrentRepresentation().segmentDuration,i=z(_,r);if(!i)return;N.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(e-_)>r?_<=i.end&&D.seek(Math.max(_,i.start),!1,!0):e<i.start&&D.seek(i.start,!1,!0)}());var r=!1;h&&(h.indexOf(p)>0&&(r=!0),h=null),p&&!r&&de(fb.BYTES_APPENDED_END_FRAGMENT,{quality:p.quality,startTime:p.start,index:p.index,bufferedRanges:t,segmentType:p.segmentType,mediaType:L})}}function G(){return new Promise((function(e,t){var n=V();if(!n||0===n.length)return H(),void e();ee(n).then((function(){e()})).catch((function(e){t(e)}))}))}function V(e){var t=[],r=u.getAllBufferRanges();if(!r||0===r.length)return t;if(!e&&0!==e||isNaN(e))t.push({start:r.start(0),end:r.end(r.length-1)+.5});else{var i=function(e,t){var n=N.get().streaming.buffer.bufferToKeep,r=t.start(0);if(e-r>n){var i=Math.max(0,e-n),a=w.getRequests({state:Nb.FRAGMENT_MODEL_EXECUTED,time:e,threshold:Xb})[0];if(a&&(i=Math.min(a.startTime,i)),i>0)return{start:r,end:i}}return null}(e,r),a=function(e,t){var r=t.end(t.length-1)+.5,i=ue(e),a=M.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality,s=isNaN(i)?e:Math.min(i,e+a);if(s>=t.end(t.length-1))return null;var o=w.getRequests({state:Nb.FRAGMENT_MODEL_EXECUTED,time:e,threshold:Xb})[0];o&&(s=Math.max(o.startTime+o.duration,s));if(N.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var l=0;l<t.length;l++)if(t.start(l)<=e&&e<=t.end(l)&&t.start(l)<=s&&s<=t.end(l)){var u=s;s=l+1<t.length?t.start(l+1):t.end(l)+1,n.debug("Buffered range ["+t.start(l)+", "+t.end(l)+"] overlaps with targetTime "+e+" and range to be pruned ["+u+", "+r+"], using ["+s+", "+r+"] instead"+(s<r?"":" (no actual pruning)"));break}if(s<t.end(t.length-1))return{start:s,end:r};return null}(e,r);i&&t.push(i),a&&t.push(a)}return t}function H(){(!E||L===eb.TEXT&&k.isTextEnabled())&&W()}function Y(){X()}function q(){X(),_=NaN}function z(e,t){if(!u)return null;var n,r,i=u.getAllBufferRanges(),a=0,s=0,o=null,l=null,c=0,d=isNaN(t)?.15:t;if(null!=i){for(r=0,n=i.length;r<n;r++)if(a=i.start(r),s=i.end(r),null===o)c=Math.abs(a-e),(e>=a&&e<s||c<=d)&&(o=a,l=s);else{if(!((c=a-l)<=d))break;l=s}if(null!==o)return{start:o,end:l}}return null}function W(){if(D){var e=D.getTime()||0;d&&(e=isNaN(_)?0:_);var t=N.get().streaming.gaps.jumpGaps&&!isNaN(N.get().streaming.gaps.smallGapLimit)?N.get().streaming.gaps.smallGapLimit:NaN;i=Math.max(function(e,t){var n;return N.get().streaming.gaps.jumpGaps&&(t=N.get().streaming.gaps.smallGapLimit),null===(n=z(e,t))?0:n.end-e}(e,t),0),de(fb.BUFFER_LEVEL_UPDATED,{mediaType:L,bufferLevel:i}),X()}}function K(){var e=o>=l-1,t=D.getTimeToStreamEnd(M)-i<1e-5;!e&&!t||r||(oe(!0),n.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(M.id," and type ").concat(L)))}function X(){L!==eb.AUDIO&&L!==eb.VIDEO||((!D.getLowLatencyModeEnabled()&&i<N.get().streaming.buffer.stallThreshold||0===i)&&!r?J(nb.BUFFER_EMPTY):(r||i>=N.get().streaming.buffer.stallThreshold||D.getLowLatencyModeEnabled()&&i>0)&&J(nb.BUFFER_LOADED))}function J(e){f===e||e===nb.BUFFER_EMPTY&&0===D.getTime()||L===eb.TEXT&&!k.isTextEnabled()||(f=e,de(fb.BUFFER_LEVEL_STATE_CHANGED,{state:e}),de(e===nb.BUFFER_LOADED?fb.BUFFER_LOADED:fb.BUFFER_EMPTY),n.debug(e===nb.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Z(){u&&L!==eb.TEXT&&(r||ee($()))}function $(){var e=[],t=u.getAllBufferRanges();if(!t||0===t.length)return e;var n=D.getTime(),r=Math.max(0,n-N.get().streaming.buffer.bufferToKeep),i=w.getRequests({state:Nb.FRAGMENT_MODEL_EXECUTED,time:n,threshold:Xb})[0];if(i)r=Math.min(i.startTime,r);else if(0===n&&D.getIsDynamic())return[];if(t.start(0)<=r){for(var a={start:0,end:r},s=0;s<t.length&&t.end(s)<=r;s++)a.end=t.end(s);a.start<a.end&&e.push(a)}return e}function ee(e){return new Promise((function(t,n){if(e&&u&&0!==e.length){var r=[];e.forEach((function(e){r.push(function(e){return new Promise((function(t,n){e.resolve=t,e.reject=n,y.push(e)}))}(e))})),g||te(),Promise.all(r).then((function(){t()})).catch((function(e){n(e)}))}else t()}))}function te(){try{if(0===y.length||!u)return n.debug("Nothing to prune, halt pruning"),y=[],void(g=!1);var e=u.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return n.debug("SourceBuffer is empty (or does not exist), halt pruning"),y=[],void(g=!1);var t=y.shift();n.debug("".concat(L,": Removing buffer from: ").concat(t.start," to ").concat(t.end)),g=!0,D.getTime()<t.end&&oe(!1),u.remove(t).then((function(e){ne(e)})).catch((function(e){ne(e)}))}catch(e){g=!1}}function ne(e){(n.debug("onRemoved buffer from:",e.from,"to",e.to),u)&&(j(u.getAllBufferRanges()),0===y.length&&(g=!1,W()),e.unintended&&(n.warn("Detected unintended removal from:",e.from,"to",e.to,"setting streamprocessor time to",e.from),de(fb.SEEK_TARGET,{time:e.from})),g?te():(E?E=!1:W(),de(fb.BUFFER_CLEARED,{from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:ce(),quotaExceeded:m})))}function re(e){return new Promise((function(t){e&&void 0!==e.MSETimeOffset&&u&&u.updateTimestampOffset?u.updateTimestampOffset(e.MSETimeOffset).then((function(){t()})).catch((function(){t()})):t()}))}function ie(){return u&&!r?u.updateAppendWindow(M):Promise.resolve()}function ae(){++A*(N.get().streaming.wallclockTimeUpdateInterval/1e3)>=N.get().streaming.buffer.bufferPruningInterval&&(A=0,Z())}function se(){X()}function oe(e){(r=e)?de(fb.BUFFERING_COMPLETED):l=Number.POSITIVE_INFINITY}function le(){try{var e,t,n=u.getAllBufferRanges(),r=0;if(!n)return r;for(t=0,e=n.length;t<e;t++)r+=n.end(t)-n.start(t);return r}catch(e){return 0}}function ue(e){try{var t=e,n=u.getAllBufferRanges();if(!n||0===n.length)return NaN;for(var r=0;t===e&&r<n.length;){var i=n.start(r),a=n.end(r);t>=i&&t<=a&&(t=a),r+=1}return t===e?NaN:t}catch(e){}}function ce(){var e=le();return isNaN(e)||e<a}function de(e,t){var n=t||{};b.trigger(e,n,{streamId:M.id,mediaType:L})}function he(e,t){if(a=Number.POSITIVE_INFINITY,f=void 0,l=Number.POSITIVE_INFINITY,o=0,p=null,r=!1,g=!1,m=!1,i=0,A=0,y=[],_=NaN,d=!1,u){var n=u;u=null,e||t||n.abort().then((function(){n.reset(t),n=null}))}E=!1}return t={initialize:function(e){B(e),b.on(fb.INIT_FRAGMENT_LOADED,O,t),b.on(fb.MEDIA_FRAGMENT_LOADED,F,t),b.on(fb.WALLCLOCK_TIME_UPDATED,ae,t),b.on(ob.PLAYBACK_PLAYING,q,t),b.on(ob.PLAYBACK_PROGRESS,H,t),b.on(ob.PLAYBACK_TIME_UPDATED,H,t),b.on(ob.PLAYBACK_RATE_CHANGED,se,t),b.on(ob.PLAYBACK_STALLED,Y,t)},getStreamId:function(){return M.id},getType:function(){return L},getBufferControllerType:function(){return Jb},createBufferSink:P,dischargePreBuffer:function(){if(u&&c&&"function"==typeof c.discharge){var e=c.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+L+"PreBuffer discharge, adding buffer for:",r=0;r<e.length;r++)t+=" start: "+e.start(r)+", end: "+e.end(r)+";";n.debug(t)}else n.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");h=[];for(var i=c.discharge(),a=null,s=0;s<i.length;s++){var o=i[s];if(o.segmentType!==Sb.INIT_SEGMENT_TYPE){var l=v.extract(o.streamId,o.representationId);l&&a!==l&&(h.push(l),u.append(l),a=l)}h.push(o),u.append(o)}c.reset(),c=null}},getBuffer:function(){return u},getBufferLevel:function(){return i},getRangeAt:z,hasBufferAtTime:function(e){try{var t=u.getAllBufferRanges();if(!t||0===t.length)return!1;for(var r=0;r<t.length;){var i=t.start(r),a=t.end(r);if(e>=i&&e<=a)return!0;r+=1}return!1}catch(e){return n.error(e),!1}},pruneBuffer:Z,setMediaSource:B,getMediaSource:function(){return s},appendInitSegmentFromCache:function(e){var t=v.extract(M.id,e);return!!t&&(n.info("Append Init fragment",L," with representationId:",t.representationId," and quality:",t.quality,", data size:",t.bytes.byteLength),U(t),!0)},getIsBufferingCompleted:function(){return r},setIsBufferingCompleted:oe,getIsPruningInProgress:function(){return g},reset:function(e,t){b.off(fb.INIT_FRAGMENT_LOADED,O,this),b.off(fb.MEDIA_FRAGMENT_LOADED,F,this),b.off(fb.WALLCLOCK_TIME_UPDATED,ae,this),b.off(ob.PLAYBACK_PLAYING,q,this),b.off(ob.PLAYBACK_PROGRESS,H,this),b.off(ob.PLAYBACK_TIME_UPDATED,H,this),b.off(ob.PLAYBACK_RATE_CHANGED,se,this),b.off(ob.PLAYBACK_STALLED,Y,this),he(e,t)},prepareForPlaybackSeek:function(){return r&&oe(!1),u.abort()},prepareForReplacementTrackSwitch:function(e){return new Promise((function(t,n){u.abort().then((function(){return ie()})).then((function(){return N.get().streaming.buffer.useChangeTypeForTrackSwitch?u.changeType(e):Promise.resolve()})).then((function(){return G()})).then((function(){oe(!1),t()})).catch((function(e){n(e)}))}))},prepareForNonReplacementTrackSwitch:function(e){return new Promise((function(t,n){ie().then((function(){return N.get().streaming.buffer.useChangeTypeForTrackSwitch?u.changeType(e):Promise.resolve()})).then((function(){t()})).catch((function(e){n(e)}))}))},prepareForForceReplacementQualitySwitch:function(e){return new Promise((function(t,n){u.abort().then((function(){return ie()})).then((function(){return G()})).then((function(){return re(e)})).then((function(){oe(!1),t()})).catch((function(e){n(e)}))}))},updateAppendWindow:ie,getAllRangesWithSafetyFactor:V,getContinuousBufferTimeForTargetTime:ue,clearBuffers:ee,pruneAllSafely:G,updateBufferTimestampOffset:re,setSeekTarget:function(e){_=e},segmentRequestingCompleted:function(e){isNaN(e)||(l=e,K())}},n=_b(T).getInstance().getLogger(t),v=Kb(T).getInstance(),he(),t}Zb.__dashjs_factory_name=Jb;var $b=ib.getClassFactory(Zb),eS="NotFragmentedTextBufferController";function tS(e){e=e||{};var t,n,r,i,a,s,o=this.context,l=cb(o).getInstance(),u=e.textController,c=e.errHandler,d=e.streamInfo,h=e.type;function f(e){i=e}function p(e){var t,r,i;n!==e&&((n=e)&&(t=fb.BUFFERING_COMPLETED,i=r||{},l.trigger(t,i,{streamId:d.id,mediaType:h})))}function A(e){e.chunk.bytes&&!n&&(s.save(e.chunk),a.append(e.chunk),p(!0))}return t={initialize:function(e){f(e)},getStreamId:function(){return d.id},getType:function(){return h},getBufferControllerType:function(){return eS},createBufferSink:function(e){return new Promise((function(t,n){try{(a=Yb(o).create({mediaSource:i,textController:u,eventBus:l})).initializeForFirstUse(d,e),r||(a.getBuffer()&&"function"==typeof a.getBuffer().initialize&&a.getBuffer().initialize(),r=!0),t(a)}catch(e){c.error(new Bb(Ob.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Ob.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h)),n(e)}}))},dischargePreBuffer:function(){},getBuffer:function(){return a},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:f,getMediaSource:function(){return i},appendInitSegmentFromCache:function(e){return null!==s.extract(d.id,e)},getIsBufferingCompleted:function(){return n},setIsBufferingCompleted:p,getIsPruningInProgress:function(){return!1},reset:function(e){l.off(fb.INIT_FRAGMENT_LOADED,A,t),!e&&a&&(a.abort(),a.reset(),a=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return n=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},r=!1,i=null,n=!1,s=Kb(o).getInstance(),l.on(fb.INIT_FRAGMENT_LOADED,A,t),t}tS.__dashjs_factory_name=eS;var nS=ib.getClassFactory(tS);function rS(e){e=e||{};var t,n,r,i,a,s,o,l,u,c,d,h,f,p=this.context,A=cb(p).getInstance(),g=e.dashMetrics,m=e.mediaPlayerModel,v=e.fragmentModel,y=e.abrController,E=e.playbackController,_=e.textController,T=e.type,b=e.bufferController,S=e.representationController,w=e.settings;function C(){h=!0}function I(){h=!1}function k(e){if(!b.getIsBufferingCompleted()){R();var t=isNaN(e)?0:e;a=setTimeout(D,t)}}function R(){a&&(clearTimeout(a),a=null)}function D(){try{if(function(){try{return T===eb.TEXT&&!_.isTextEnabled()||E.isPaused()&&(!E.getStreamController().getInitialPlayback()||!E.getStreamController().getAutoPlay())&&!w.get().streaming.scheduling.scheduleWhilePaused}catch(e){return!1}}())return void R();if(function(){try{return!!h&&(S.getCurrentRepresentationInfo()&&(isNaN(u)||c||(e=n.id,t=y.getMaxAllowedIndexFor(T,e),!(!isNaN(l)&&l==t||(r.info("Top quality "+T+" index has changed from "+l+" to "+t),l=t,0)))||function(){var e=S.getCurrentRepresentationInfo();if(!T||!e)return!0;return g.getCurrentBufferLevel(T)<M()}()))}catch(e){return!1}var e,t}()){var e=!1;f&&(e=y.checkPlaybackQuality(T,n.id)),e||(i=S.getCurrentRepresentationInfo(),d||i.quality!==u||c?(c?(r.debug("Switch track for "+T+", representation id = "+i.id),c=!1):r.debug("Quality has changed, get init request for representationid = "+i.id),A.trigger(fb.INIT_FRAGMENT_NEEDED,{representationId:i.id,sender:t},{streamId:n.id,mediaType:T}),f=!1,d=!1):(r.debug("Media segment needed for ".concat(T," and stream id ").concat(n.id)),A.trigger(fb.MEDIA_FRAGMENT_NEEDED,{},{streamId:n.id,mediaType:T}),f=!0))}else k(E.getLowLatencyModeEnabled()?w.get().streaming.scheduling.lowLatencyTimeout:w.get().streaming.scheduling.defaultTimeout)}catch(e){k(E.getLowLatencyModeEnabled()?w.get().streaming.scheduling.lowLatencyTimeout:w.get().streaming.scheduling.defaultTimeout)}var i}function M(){var e=NaN,t=S.getCurrentRepresentationInfo();return T&&t?(e=T===eb.TEXT?function(){try{if(_.isTextEnabled()){var e=S.getCurrentRepresentationInfo();if(isNaN(e.fragmentDuration)){var t=g.getCurrentSchedulingInfo(nb.SCHEDULING_INFO);return t?t.duration:0}return e.fragmentDuration}return 0}catch(e){return 0}}():T===eb.AUDIO&&s?function(){try{var e=g.getCurrentBufferLevel(eb.VIDEO),t=S.getCurrentRepresentationInfo();return isNaN(t.fragmentDuration)?e+1:Math.max(e+1,t.fragmentDuration)}catch(e){return 0}}():function(){try{var e=S.getCurrentRepresentationInfo().mediaInfo.streamInfo;return y.isPlayingAtTopQuality(e)?e.manifestInfo.duration>=w.get().streaming.buffer.longFormContentDurationThreshold?w.get().streaming.buffer.bufferTimeAtTopQualityLongForm:w.get().streaming.buffer.bufferTimeAtTopQuality:m.getStableBufferTime()}catch(e){return m.getStableBufferTime()}}(),e):e}function L(){N(!0)}function N(e){if(E&&v){var t=v.getRequests({state:Nb.FRAGMENT_MODEL_EXECUTED,time:E.getTime(),threshold:0})[0];t&&E.getTime()>=t.startTime&&((!o.mediaInfo||t.mediaInfo.type===o.mediaInfo.type&&t.mediaInfo.index!==o.mediaInfo.index)&&e&&A.trigger(fb.TRACK_CHANGE_RENDERED,{mediaType:T,oldMediaInfo:o.mediaInfo,newMediaInfo:t.mediaInfo,streamId:n.id}),t.quality===o.quality&&t.adaptationIndex===o.adaptationIndex||!e||(r.debug("Quality change rendered for streamId ".concat(n.id," and type ").concat(T)),A.trigger(fb.QUALITY_CHANGE_RENDERED,{mediaType:T,oldQuality:o.quality,newQuality:t.quality,streamId:n.id})),o={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}}function B(){v.abortRequests(),R()}function x(){w.get().streaming.scheduling.scheduleWhilePaused||k()}function P(e){g.updatePlayListTraceMetrics({playbackspeed:e.playbackRate.toString()})}function O(){f=!0,i=0,u=NaN,o={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},l=NaN,c=!1,d=!1,h=!0}return t={initialize:function(e){s=e,A.on(fb.URL_RESOLUTION_FAILED,B,t),A.on(ob.PLAYBACK_STARTED,x,t),A.on(ob.PLAYBACK_RATE_CHANGED,P,t),A.on(ob.PLAYBACK_TIME_UPDATED,L,t),A.on(ob.MANAGED_MEDIA_SOURCE_START_STREAMING,C,t),A.on(ob.MANAGED_MEDIA_SOURCE_END_STREAMING,I,t)},getType:function(){return T},getStreamId:function(){return n.id},setTimeToLoadDelay:function(e){i=e},getTimeToLoadDelay:function(){return i},setSwitchTrack:function(e){c=e},getSwitchTrack:function(){return c},startScheduleTimer:k,clearScheduleTimer:R,reset:function(){A.off(fb.URL_RESOLUTION_FAILED,B,t),A.off(ob.PLAYBACK_STARTED,x,t),A.off(ob.PLAYBACK_RATE_CHANGED,P,t),A.off(ob.PLAYBACK_TIME_UPDATED,L,t),A.off(ob.MANAGED_MEDIA_SOURCE_START_STREAMING,C,t),A.off(ob.MANAGED_MEDIA_SOURCE_END_STREAMING,I,t),R(),N(!1),O(),n=null},getBufferTarget:M,getPlaybackController:function(){return E},setCheckPlaybackQuality:function(e){f=e},setInitSegmentRequired:function(e){d=e},setLastInitializedQuality:function(e){u=e}},r=_b(p).getInstance().getLogger(t),O(),n=e.streamInfo,t}rS.__dashjs_factory_name="ScheduleController";var iS=ib.getClassFactory(rS),aS=function e(){_class_call_check(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null};function sS(e,t){for(;e.length<t;)e="0"+e;return e}function oS(e){return e?e.split("$$").join("$"):e}function lS(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function uS(e,t,n){var r,i,a,s,o,l,u=t.length;if(!e)return e;for(;;){if((r=e.indexOf("$"+t))<0)return e;if((i=e.indexOf("$",r+u))<0)return e;if((a=e.indexOf("%0",r+u))>r&&a<i)switch(s=e.charAt(i-1),o=parseInt(e.substring(a+2,i-1),10),s){case"d":case"i":case"u":l=sS(n.toString(),o);break;case"x":l=sS(n.toString(16),o);break;case"X":l=sS(n.toString(16),o).toUpperCase();break;case"o":l=sS(n.toString(8),o);break;default:return e}else l=n;e=e.substring(0,r)+l+e.substring(i+1)}}function cS(e,t,n,r,i,a,s,o){var l,u=new aS;return u.representation=e,u.duration=t,u.presentationStartTime=n,u.mediaStartTime=r,u.availabilityStartTime=i.calcAvailabilityStartTimeFromPresentationTime(a,e,s),u.availabilityEndTime=i.calcAvailabilityEndTimeFromPresentationTime(a+t,e,s),u.wallStartTime=i.calcWallTimeForSegment(u,s),u.replacementNumber=(l=o,u.representation.startNumber+l),u.index=o,u}function dS(e,t,n,r){var i=t.adaptation.period;if(isFinite(i.duration)&&i.start+i.duration<=n.presentationStartTime)return!1;if(r){if("INF"===t.availabilityTimeOffset)return!0;var a=e.getClientReferenceTime();return n.availabilityStartTime.getTime()<=a&&(!isFinite(n.availabilityEndTime)||n.availabilityEndTime.getTime()>=a)}return!0}function hS(e,t,n,r){var i,a,s;i=n.segmentDuration,isNaN(i)&&(i=n.adaptation.period.duration),a=parseFloat((n.adaptation.period.start+r*i).toFixed(5)),s=parseFloat((a+i).toFixed(5));var o=cS(n,i,a,e.calcMediaTimeFromPresentationTime(a,n),e,s,t,r);return dS(e,n,o,t)?o:null}function fS(e,t,n,r,i,a,s,o,l,u){var c,d,h=r/a,f=i/a;return c=e.calcPresentationTimeFromMediaTime(h,n),dS(e,n,d=cS(n,f,c,h,e,c+f,t,l),t)?(d.replacementTime=u||r,s=uS(s,"Number",d.replacementNumber),s=uS(s,"Time",d.replacementTime),d.media=s,d.mediaRange=o,d):null}function pS(e){var t,n,r,i,a,s,o=(e=e||{}).eventBus,l=e.events,u=e.abrController,c=e.dashMetrics,d=e.playbackController,h=e.timelineConverter,f=e.type,p=e.streamInfo,A=e.dashConstants,g=e.segmentsController,m=e.isDynamic,v=e.adapter;function y(){return f}function E(){return r}function _(){return s}function T(){n=null,r=!0,i=[],a=null}function b(e){return new Promise((function(t,n){var r=e.hasInitialization(),a=e.hasSegments(),o=[];o.push(g.updateInitData(e,r)),o.push(g.updateSegmentData(e,a)),Promise.all(o).then((function(n){var r;n[0]&&!n[0].error&&(e=function(e,t){if(!t||t.error||!t.representation)return e;return t.representation}(e,n[0])),n[1]&&!n[1].error&&(e=function(e,t){if(!t||t.error)return;var n,r,i,a,s=t.segments,o=[],l=0;for(n=0,r=s?s.length:0;n<r;n++)i=s[n],(a=fS(h,m,e,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,l))&&(o.push(a),a=null,l++);o.length>0&&(e.segments=o);return e}(e,n[1])),(r=e).mediaFinishedInformation=g.getMediaFinishedInformation(r),function(e){if(!E())return;var t,n=c.getCurrentManifestUpdate(),r=!1;if(n){for(var a=0;a<n.representationInfo.length;a++)if((t=n.representationInfo[a]).index===e.index&&t.mediaType===y()){r=!0;break}r||c.addManifestUpdateRepresentationInfo(e,y())}if(function(){for(var e=0,t=i.length;e<t;e++){var n=i[e].segmentInfoType;if(!i[e].hasInitialization()||(n===A.SEGMENT_BASE||n===A.BASE_URL)&&!i[e].segments)return!1}return!0}()){u.setPlaybackQuality(f,p,(l=s,i.indexOf(l)));var o=c.getCurrentDVRInfo(f);o&&c.updateManifestUpdateInfo({latency:o.range.end-d.getTime()}),c.getCurrentRepresentationSwitch(_().adaptation.type)||S(),C()}var l}(e),t()})).catch((function(e){n(e)}))}))}function S(){!function(){if(!(u&&c&&d&&h))throw new Error(eb.MISSING_CONFIG_ERROR)}();var e=new Date,t=_(),n=1e3*d.getTime();t&&c.addRepresentationSwitch(t.adaptation.type,e,n,t.id),o.trigger(ob.REPRESENTATION_SWITCH,{mediaType:f,streamId:p.id,currentRepresentation:t,numberOfRepresentations:i.length},{streamId:p.id,mediaType:f})}function w(e){return null==e||e>=i.length?null:i[e]}function C(e){r=!1,o.trigger(l.DATA_UPDATE_COMPLETED,{data:n,currentRepresentation:s,error:e},{streamId:p.id,mediaType:f})}function I(e){s=e,a=v.convertRepresentationToRepresentationInfo(s)}function k(e){if(e.newDuration){var t=_();if(t&&t.adaptation.period)t.adaptation.period.duration=e.newDuration}}return t={getStreamId:function(){return p.id},getType:y,getData:function(){return n},isUpdating:E,updateData:function(e,t,a,s,o){return new Promise((function(l,u){if(r=!0,i=t,n=e,I(w(o)),a!==eb.VIDEO&&a!==eb.AUDIO&&(a!==eb.TEXT||!s))return C(),void l();for(var c=[],d=0,h=i.length;d<h;d++){var f=i[d];c.push(b(f))}Promise.all(c).then((function(){I(w(o)),l()})).catch((function(e){u(e)}))}))},getCurrentRepresentation:_,getCurrentRepresentationInfo:function(){return a},getRepresentationForQuality:w,prepareQualityChange:function(e){I(w(e)),S()},reset:function(){o.off(ob.MANIFEST_VALIDITY_CHANGED,k,t),T()}},T(),o.on(ob.MANIFEST_VALIDITY_CHANGED,k,t),t}pS.__dashjs_factory_name="RepresentationController";var AS=ib.getClassFactory(pS);function gS(e,t){if((void 0===e?"undefined":_type_of(e))!==t)throw eb.BAD_ARGUMENT_ERROR}function mS(e){if(!(null!==e&&!isNaN(e)&&e%1==0))throw eb.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function vS(e){var t,n,r,i,a,s=(e=e||{}).eventBus,o=e.debug,l=e.urlUtils,u=e.type,c=e.streamInfo,d=e.segmentsController,h=e.timelineConverter,f=e.baseURLController;function p(){return u}function A(){r=null}function g(e,t,n){var r,i,a=f.resolve(n.path),s={};return a&&t!==a.url&&l.isRelative(t)?(r=a.url,i=a.serviceLocation,s=a.queryParams,t&&(r=l.resolve(t,r))):r=t,!l.isRelative(r)&&(e.url=r,e.serviceLocation=i,e.queryParams=s,!0)}function m(e,t){if(null==t)return null;var n=new Ib,r=t.representation,i=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index].Representation_asArray[r.index].bandwidth,a=t.media;return a=uS(a,"Number",t.replacementNumber),a=uS(a,"Time",t.replacementTime),a=oS(a=lS(a=uS(a,"Bandwidth",i),r.id)),n.mediaType=p(),n.type=Sb.MEDIA_SEGMENT_TYPE,n.range=t.mediaRange,n.startTime=t.presentationStartTime,n.mediaStartTime=t.mediaStartTime,n.duration=t.duration,n.timescale=r.timescale,n.availabilityStartTime=t.availabilityStartTime,n.availabilityEndTime=t.availabilityEndTime,n.availabilityTimeComplete=r.availabilityTimeComplete,n.wallStartTime=t.wallStartTime,n.quality=r.index,n.index=t.index,n.mediaInfo=e,n.adaptationIndex=r.adaptation.index,n.representationId=r.id,g(n,a,r)?n:void 0}function v(e,t,i){var a=null;if(!t||!t.segmentInfoType)return a;var s=d.getSegmentByTime(t,i);return s&&(r=s,n.debug("Index for time "+i+" is "+s.index),a=m(e,s)),a}function y(e,t,s){var o=null,l=d.getSegmentByIndex(t,s,r?r.mediaStartTime:-1);if(l)o=m(e,l),r=l;else{if(i&&!a)return n.debug(p()+" No segment found at index: "+s+". Wait for next loop"),null;a=!0}return o}function E(){n.debug("Dynamic stream complete"),a=!0}return t={getCurrentIndex:function(){return r?r.index:-1},getInitRequest:function(e,t){return t?function(e,t,n){var r=new Ib,a=t.adaptation.period,s=a.start;if(r.mediaType=n,r.type=Sb.INIT_SEGMENT_TYPE,r.range=t.range,r.availabilityStartTime=h.calcAvailabilityStartTimeFromPresentationTime(s,t,i),r.availabilityEndTime=h.calcAvailabilityEndTimeFromPresentationTime(s+a.duration,t,i),r.quality=t.index,r.mediaInfo=e,r.representationId=t.id,g(r,t.initialization,t))return r.url=uS(r.url,"Bandwidth",t.bandwidth),r}(e,t,p()):null},getNextSegmentRequest:function(e,t){return t&&t.segmentInfoType?y(e,t,r?r.index+1:0):null},getNextSegmentRequestIdempotent:function(e,t){var n=r?r.index+1:0,i=d.getSegmentByIndex(t,n,r?r.mediaStartTime:-1);return i?m(e,i):null},getSegmentRequestForTime:v,getStreamId:function(){return c.id},getStreamInfo:function(){return c},getType:p,getValidTimeAheadOfTargetTime:function(e,t,n,r){try{if(isNaN(e)||!t||!n)return NaN;if(e<0&&(e=0),isNaN(r)&&(r=.5),v(t,n,e))return e;if(n.adaptation.period.start+n.adaptation.period.duration<e)return NaN;for(var i=isFinite(n.adaptation.period.duration)?n.adaptation.period.start+n.adaptation.period.duration:e+30,a=Math.min(e+r,i),s=NaN,o=null;a<=i;){var l=null;if(a<=i&&(l=v(t,n,a)),l){s=a,o=l;break}a+=r}if(o){var u=o.startTime+o.duration;return e>o.startTime&&u-e>r?e:!isNaN(o.startTime)&&e<o.startTime&&s>o.startTime?o.startTime+.001:Math.min(u-r,s)}return s}catch(e){return NaN}},initialize:function(e){i=e,a=!1,d.initialize(e)},isLastSegmentRequested:function(e,t){if(!e||!r)return!1;if(a)return!0;if(!isFinite(e.adaptation.period.duration))return!1;if(r.presentationStartTime+r.duration>t)return!1;if(e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.numberOfSegments)&&!isNaN(r.index)&&r.index>=e.mediaFinishedInformation.numberOfSegments-1){if(!i||e.segmentInfoType===tb.SEGMENT_TEMPLATE)return!0;if(i&&e.segmentInfoType===tb.SEGMENT_LIST&&e.adaptation.period.nextPeriodId)return!0}return!!(i&&e.adaptation.period.nextPeriodId&&e.segmentInfoType===tb.SEGMENT_TIMELINE&&e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&r&&!isNaN(r.mediaStartTime)&&!isNaN(r.duration)&&r.mediaStartTime+r.duration>=e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(e,t){return t&&t.segmentInfoType?y(e,t,r?r.index:0):null},reset:function(){A(),s.off(ob.DYNAMIC_TO_STATIC,E,t)}},n=o.getLogger(t),A(),s.on(ob.DYNAMIC_TO_STATIC,E,t),t}vS.__dashjs_factory_name="DashHandler";var yS=ib.getClassFactory(vS);function ES(e,t){var n={url:e.url,method:e.method,headers:Object.assign({},e.headers),credentials:e.withCredentials?"include":void 0};return Promise.resolve(t.modifyRequest(n)).then((function(){return Object.assign(e,n,{withCredentials:"include"===n.credentials})}))}function _S(){return{modifyRequest:null,modifyRequestURL:function(e){return e},modifyRequestHeader:function(e,t){return t.url,e}}}_S.__dashjs_factory_name="RequestModifier";var TS=ib.getSingletonFactory(_S);function bS(){var e,t=/^[a-z][a-z0-9+\-_.]*:/i,n=/^https?:\/\//i,r=/^https:\/\//i,i=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,a=function(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},s=function(e,t){var n=o;if(!t)return e;if(!c(e))return e;d(e)&&(n=l),h(e)&&(n=u);var r=n(t),i="/"!==r.charAt(r.length-1)&&"/"!==e.charAt(0)?"/":"";return[r,e].join(i)};function o(e){var t=e.indexOf("/"),n=e.lastIndexOf("/");return-1!==t?n===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,n+1)):""}function l(e){var t=e.match(i);return t?t[1]:""}function u(e){var n=e.match(t);return n?n[0]:""}function c(e){return!t.test(e)}function d(e){return c(e)&&"/"===e.charAt(0)}function h(e){return 0===e.indexOf("//")}return function(){try{new window.URL("x","http://y");e=a}catch(e){}finally{e=e||s}}(),{parseBaseUrl:o,parseOrigin:l,parseScheme:u,isRelative:c,isPathAbsolute:d,isSchemeRelative:h,isHTTPURL:function(e){return n.test(e)},isHTTPS:function(e){return r.test(e)},removeHostname:function(e){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e)[2].substring(1)},resolve:function(t,n){return e(t,n)}}}bS.__dashjs_factory_name="DefaultURLUtils";var SS=ib.getSingletonFactory(bS);function wS(){var e,t=[],n=this.context;function r(n,r,i){var a=function(n){var r;for(r=0;r<t.length;r++)if(t[r].regex.test(n))return t[r].utils;return e}(i||r);return a&&"function"==typeof a[n]?a[n](r,i):e[n](r,i)}return e=SS(n).getInstance(),{registerUrlRegex:function(e,n){t.push({regex:e,utils:n})},parseBaseUrl:function(e){return r("parseBaseUrl",e)},parseOrigin:function(e){return r("parseOrigin",e)},parseScheme:function(e){return r("parseScheme",e)},isRelative:function(e){return r("isRelative",e)},isPathAbsolute:function(e){return r("isPathAbsolute",e)},isSchemeRelative:function(e){return r("isSchemeRelative",e)},isHTTPURL:function(e){return r("isHTTPURL",e)},isHTTPS:function(e){return r("isHTTPS",e)},removeHostname:function(e){return r("removeHostname",e)},resolve:function(e,t){return r("resolve",e,t)}}}wS.__dashjs_factory_name="URLUtils";var CS=ib.getSingletonFactory(wS),IS=function e(){_class_call_check(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};IS.INITIAL_PLAYOUT_START_REASON="initial_playout",IS.SEEK_START_REASON="seek",IS.RESUME_FROM_PAUSE_START_REASON="resume",IS.METRICS_COLLECTION_START_REASON="metrics_collection_start";var kS=function e(){_class_call_check(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};function RS(e,t){var n,r=(e=e||{}).timelineConverter,i=e.dashMetrics;function a(){if(!r)throw new Error(eb.MISSING_CONFIG_ERROR)}function s(e,t){var n,r,i,a,s,l,u,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,d=c.SegmentTimeline,h=c.SegmentURL_asArray,f=0,p=-1;u=e.timescale;var A=!1;for(i=0,a=(n=d.S_asArray).length;i<a&&!A;i++){if(l=0,(r=n[i]).hasOwnProperty("r")&&(l=r.r),r.hasOwnProperty("t")&&(f=r.t),l<0)l=o(e,n[i+1],r,u,f/u);for(s=0;s<=l&&!A;s++)(A=t(f,c,h,r,u,++p,i))&&(e.segmentDuration=r.d/u),f+=r.d}}function o(e,t,n,a,s){var o;if(t&&t.hasOwnProperty("t"))o=t.t/a;else try{var l=0;if(isNaN(e.adaptation.period.start)||isNaN(e.adaptation.period.duration)||!isFinite(e.adaptation.period.duration)){var u=i.getCurrentDVRInfo();l=isNaN(u.end)?0:u.end}else l=e.adaptation.period.start+e.adaptation.period.duration;o=r.calcMediaTimeFromPresentationTime(l,e),e.segmentDuration=n.d/a}catch(e){o=0}return Math.max(Math.ceil((o-s)/(n.d/a))-1,0)}return n={getSegmentByIndex:function(e,n,i){if(a(),!e)return null;var o=null,l=!1;return s(e,(function(n,a,s,u,c,d,h){if(l||i<0){var f=a.media,p=u.mediaRange;return s&&(f=s[h].media||"",p=s[h].mediaRange),o=fS(r,t,e,n,u.d,c,f,p,d,u.tManifest),!0}return n>=i*c-.5*u.d&&(l=!0),!1})),o},getSegmentByTime:function(e,n){if(a(),!e)return null;void 0===n&&(n=null);var i=null,o=r.calcMediaTimeFromPresentationTime(n,e);return s(e,(function(n,a,s,l,u,c,d){var h=parseFloat((o*u).toPrecision(15));if(h<n+l.d&&h>=n){var f=a.media,p=l.mediaRange;return s&&(f=s[d].media||"",p=s[d].mediaRange),i=fS(r,t,e,n,l.d,u,f,p,c,l.tManifest),!0}return!1})),i},getMediaFinishedInformation:function(e){if(!e)return 0;var t,n,r,i,a,s,l,u=(e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList).SegmentTimeline,c=0,d=0,h=0;for(l=e.timescale,i=(t=u.S_asArray).length,r=0;r<i;r++){if(s=0,(n=t[r]).hasOwnProperty("r")&&(s=n.r),n.hasOwnProperty("t")&&(d=(c=n.t)/l),s<0)s=o(e,t[r+1],n,l,d);for(a=0;a<=s;a++)h++,d=(c+=n.d)/l}return{numberOfSegments:h,mediaTimeOfLastSignaledSegment:d}}},n}kS.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",kS.REBUFFERING_REASON="rebuffering",kS.USER_REQUEST_STOP_REASON="user_request",kS.END_OF_PERIOD_STOP_REASON="end_of_period",kS.END_OF_CONTENT_STOP_REASON="end_of_content",kS.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",kS.FAILURE_STOP_REASON="failure",RS.__dashjs_factory_name="TimelineSegmentsGetter";var DS=ib.getClassFactory(RS);function MS(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(eb.MISSING_CONFIG_ERROR)}function i(e,i){if(r(),!e)return null;var a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;i=Math.max(i,0);var s=hS(n,t,e,i);if(s){s.replacementTime=Math.round((i-1)*e.segmentDuration*e.timescale,10);var o=a.media;o=uS(o,"Number",s.replacementNumber),o=uS(o,"Time",s.replacementTime),s.media=o}return s}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){if(r(),!e)return null;var a=e.segmentDuration;if(isNaN(a))return null;var s=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return i(e,Math.floor(s/a))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var n=e.segmentDuration;return isNaN(n)?t.numberOfSegments=1:t.numberOfSegments=Math.ceil(e.adaptation.period.duration/n),t}}}MS.__dashjs_factory_name="TemplateSegmentsGetter";var LS=ib.getClassFactory(MS);function NS(e,t){var n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(eb.MISSING_CONFIG_ERROR)}function i(e,i){if(r(),!e)return null;var a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,s=a.SegmentURL_asArray.length,o=e&&!isNaN(e.startNumber)?e.startNumber:1,l=Math.max(o-1,0),u=Math.max(i-l,0),c=null;if(u<s){var d=a.SegmentURL_asArray[u];(c=hS(n,t,e,i))&&(c.replacementTime=(o+i-1)*e.segmentDuration,c.media=d.media?d.media:"",c.mediaRange=d.mediaRange,c.indexRange=d.indexRange)}return c}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){if(r(),!e)return null;var a=e.segmentDuration;if(isNaN(a))return null;var s=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return i(e,Math.floor(s/a))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,r=e&&!isNaN(e.startNumber)?e.startNumber:1,i=Math.max(r-1,0);return t.numberOfSegments=i+n.SegmentURL_asArray.length,t}}}NS.__dashjs_factory_name="ListSegmentsGetter";var BS=ib.getClassFactory(NS);function xS(e){var t,n=(e=e||{}).timelineConverter;function r(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(eb.MISSING_CONFIG_ERROR)}function i(e,t){if(r(),!e)return null;var n,i=e.segments?e.segments.length:-1;if(t<i&&(n=e.segments[t])&&n.index===t)return n;for(var a=0;a<i;a++)if((n=e.segments[a])&&n.index===t)return n;return null}return t={getSegmentByIndex:i,getSegmentByTime:function(e,t){r();var n=function(e,t){if(!e)return-1;var n,r,i,a,s,o=e.segments,l=o?o.length:null,u=-1;if(o&&l>0)for(s=0;s<l;s++)if(i=(r=o[s]).presentationStartTime,t+(n=(a=r.duration)/2)>=i&&t-n<i+a){u=r.index;break}return u}(e,t);return i(e,n)},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return e&&e.segments?(t.numberOfSegments=e.segments.length,t):t}},t}xS.__dashjs_factory_name="SegmentBaseGetter";var PS=ib.getClassFactory(xS);function OS(e){e=e||{};var t,n,r=this.context,i=e.dashConstants,a=e.type,s=e.segmentBaseController;function o(e){return e?e.segments?n[i.SEGMENT_BASE]:n[e.segmentInfoType]:null}return t={initialize:function(t){n[i.SEGMENT_TIMELINE]=DS(r).create(e,t),n[i.SEGMENT_TEMPLATE]=LS(r).create(e,t),n[i.SEGMENT_LIST]=BS(r).create(e,t),n[i.SEGMENT_BASE]=PS(r).create(e,t)},updateInitData:function(e,t){return t?Promise.resolve():s.getSegmentBaseInitSegment({representation:e,mediaType:a})},updateSegmentData:function(e,t){return t?Promise.resolve():s.getSegmentList({mimeType:e.mimeType,representation:e,mediaType:a})},getSegmentByIndex:function(e,t,n){var r=o(e);return r?r.getSegmentByIndex(e,t,n):null},getSegmentByTime:function(e,t){var n=o(e);return n?n.getSegmentByTime(e,t):null},getMediaFinishedInformation:function(e){var t=o(e);return t?t.getMediaFinishedInformation(e):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},n={},t}OS.__dashjs_factory_name="SegmentsController";var FS=ib.getClassFactory(OS);function US(){return{ntpToUTC:function(e){var t=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(t.getTime()+e).getTime()}}}US.__dashjs_factory_name="TimeUtils";var jS=ib.getSingletonFactory(US);function QS(e){e=e||{};var t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g=this.context,m=cb(g).getInstance(),v=e.streamInfo,y=e.type,E=e.errHandler,_=e.mimeType,T=e.timelineConverter,b=e.adapter,S=e.manifestModel,w=e.mediaPlayerModel,C=e.fragmentModel,I=e.abrController,k=e.playbackController,R=e.mediaController,D=e.textController,M=e.dashMetrics,L=e.settings,N=e.boxParser,B=e.segmentBlacklistController;function x(){return v.id}function P(){return y}function O(){return b.getIsTextTrack(l.getData())}function F(){a=[],i=null,p=0,u=!1,c=!1,d=!1,A=null}function U(e){return!isNaN(e)&&!isNaN(v.duration)&&isFinite(v.duration)&&e>=v.start+v.duration}function j(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.sender)if(k.getIsManifestUpdateInProgress())G();else if((!O()||D.isTextEnabled())&&s&&e.representationId&&!s.appendInitSegmentFromCache(e.representationId)){var n=l.getCurrentRepresentation();if(0===n.range)return void Q();var r=h?h.getInitRequest(i,n):null;r?C.executeRequest(r):t&&(o.setInitSegmentRequired(!0),G())}}function Q(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(k.getIsManifestUpdateInProgress()||s.getIsPruningInProgress())G();else{var a=function(){var e,t=re();if(isNaN(p)||P()===eb.TEXT&&!D.isTextEnabled())return null;if(h){var n=l&&t?l.getRepresentationForQuality(t.quality):null;e=u?h.getSegmentRequestForTime(i,n,p):c?h.repeatSegmentRequest(i,n):h.getNextSegmentRequest(i,n)}return e}();a?(u=!1,c=!1,function(e){isNaN(e.startTime+e.duration)||(p=e.startTime+e.duration);e.delayLoadingTime=(new Date).getTime()+o.getTimeToLoadDelay(),o.setTimeToLoadDelay(0),function(e){var t=e.url;e.range&&(t=t.concat("_",e.range));return B.contains(t)}(e)?(n.warn("Fragment request url ".concat(e.url," for stream id ").concat(v.id," and media type ").concat(y," is on the ignore list and will be skipped")),G()):(n.debug("Next fragment request url for stream id ".concat(v.id," and media type ").concat(y," is ").concat(e.url)),C.executeRequest(e))}(a)):function(e){var t=l.getCurrentRepresentation();if(L.get().streaming.gaps.enableSeekFix&&(u||0===k.getTime())){var a;if(r?r&&t.segmentInfoType===tb.SEGMENT_TIMELINE&&(a=h.getValidTimeAheadOfTargetTime(p,i,t,L.get().streaming.gaps.threshold)):a=h.getValidTimeAheadOfTargetTime(p,i,t,L.get().streaming.gaps.threshold),!isNaN(a)&&a!==p)return void(k.isSeeking()||0===k.getTime()?(n.warn("Adjusting playback time ".concat(a," because of gap in the manifest. Seeking by ").concat(a-p)),k.seek(a,!1,!1)):(n.warn("Adjusting buffering time ".concat(a," because of gap in the manifest. Adjusting time by ").concat(a-p)),ce(a),e&&G()))}if(h.isLastSegmentRequested(t,p)){var c=h.getCurrentIndex();return n.debug("Segment requesting for stream ".concat(v.id," has finished")),m.trigger(fb.STREAM_REQUESTING_COMPLETED,{segmentIndex:c},{streamId:v.id,mediaType:y}),s.segmentRequestingCompleted(c),void o.clearScheduleTimer()}e&&G()}(t)}}function G(){o.startScheduleTimer(k.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}function V(e){e.error||s.getIsBufferingCompleted()||s.updateBufferTimestampOffset(e.currentRepresentation)}function H(e){M.addBufferState(y,e.state,o.getBufferTarget()),e.state!==nb.BUFFER_EMPTY||k.isSeeking()||(n.info("Buffer is empty! Stalling!"),M.pushPlayListTraceMetrics(new Date,kS.REBUFFERING_REASON))}function Y(e){C.syncExecutedRequestsWithBufferedRange(s.getBuffer().getAllBufferRanges(),v.duration),e.quotaExceeded&&e.from>k.getTime()&&ce(e.from),e.hasEnoughSpaceToAppend&&e.quotaExceeded&&o.startScheduleTimer()}function q(e){if(e&&e.lastRequestAppended&&e.lastRequestAppended.url){var t=e.lastRequestAppended.url;e.lastRequestAppended.range&&(t=t.concat("_",e.lastRequestAppended.range)),n.warn("Blacklisting segment with url ".concat(t)),B.add(t)}}function z(e){if(n.debug("Appended bytes for ".concat(e.mediaType," and stream id ").concat(e.streamId)),e.segmentType===Sb.INIT_SEGMENT_TYPE){var t=e.quality;o.setLastInitializedQuality(t),n.info("["+y+"] lastInitializedRepresentationInfo changed to "+e.quality)}A?W(A):o.startScheduleTimer(0)}function W(e){var t=C.getRequests({state:Nb.FRAGMENT_MODEL_LOADING});if(t&&t.length>0)return n.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(A=e);s.updateBufferTimestampOffset(e).then((function(){o.setCheckPlaybackQuality(!1),i.segmentAlignment||i.subSegmentAlignment?o.startScheduleTimer():le(),A=null,d=!1})).catch((function(){A=null,d=!1}))}function K(e){n.info("onFragmentLoadingAbandoned request: "+e.request.url+" has been aborted"),k.isSeeking()||o.getSwitchTrack()||d||(n.info("onFragmentLoadingAbandoned request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),e.request&&e.request.isInitializationRequest()?o.setInitSegmentRequired(!0):ce(e.request.startTime+e.request.duration/2),o.startScheduleTimer(0))}function X(e){n.info("OnFragmentLoadingCompleted for stream id "+v.id+" and media type "+y+" - Url:",e.request?e.request.url:"undefined",e.request.range?", Range:"+e.request.range:""),O()&&o.startScheduleTimer(0),e.error&&e.request.serviceLocation&&function(e){if(n.info("Fragment loading completed with an error"),!e||!e.request||!e.request.type)return;e.request.type===Sb.INIT_SEGMENT_TYPE?j({representationId:e.request.representationId,sender:{}},!1):e.request.type===Sb.MEDIA_SEGMENT_TYPE&&(ce(e.request.startTime+e.request.duration/2),Q({},!1))}(e)}function J(){ce(k.getTime()),ne().startScheduleTimer()}function Z(e){var t=e.currentTrackInfo;if(t){var n=a.find((function(e){return e.index===t.index&&e.lang===t.lang}));n&&te(n).then((function(){s.setIsBufferingCompleted(!1),ce(k.getTime()),o.setInitSegmentRequired(!0),o.startScheduleTimer()}))}}function $(e){ce(e.quotaExceededTime),o.clearScheduleTimer()}function ee(){return s?s.getBuffer():null}function te(e){e===i||e&&i&&e.type!==i.type||(i=e);var t=b.getRealAdaptation(v,i),n=b.getVoRepresentations(i);if(l){var a,s=l.getData(),o=I.getMaxAllowedIndexFor(y,v.id),u=I.getMinAllowedIndexFor(y,v.id),c=null;return null!==s&&s.id===t.id||y===eb.TEXT?a=I.getQualityFor(y,v.id):(c=I.getThroughputHistory().getAverageThroughput(y,r)||I.getInitialBitrateFor(y,v.id),a=I.getQualityForBitrate(i,c,v.id)),void 0!==u&&a<u&&(a=u),a>o&&(a=o),l.updateData(t,n,y,i.isFragmented,a)}return Promise.resolve()}function ne(){return o}function re(e){var t;return void 0!==e?(mS(e),t=l?l.getRepresentationForQuality(e):null):t=l?l.getCurrentRepresentation():null,b.convertRepresentationToRepresentationInfo(t)}function ie(){return!!s&&s.getIsBufferingCompleted()}function ae(e){if(L.get().streaming.enableManifestTimescaleMismatchFix){var t=e.chunk,n=t.bytes,r=re(t.quality),i=l&&r?l.getRepresentationForQuality(r.quality):null;r&&i&&(i.timescale=N.getMediaTimescaleFromMoov(n))}}function se(e){var t=e.chunk,n=t.bytes,r=t.quality,i=re(r),a=l&&i?l.getRepresentationForQuality(i.quality):null;if(i&&a){var s;if(L.get().streaming.parseInbandPrft&&e.request.type===Sb.MEDIA_SEGMENT_TYPE){var o=function(e,t){var n=e.getBoxes("prft"),r=[];return n.forEach((function(e){r.push(function(e,t){var n="unknown";switch(e.flags){case 0:n=tb.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:n=tb.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:n=tb.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var r=1e3*e.ntp_timestamp_sec+e.ntp_timestamp_frac/Math.pow(2,32)*1e3;r=jS(g).getInstance().ntpToUTC(r);var i=e.media_time/t;return{type:n,ntpTimestamp:r,mediaTime:i}}(e,t))})),r}(s=s||N.parse(n),a.timescale);o&&o.length&&m.trigger(ob.INBAND_PRFT,{data:o},{streamId:v.id,mediaType:y})}var u=b.getEventsFor(i.mediaInfo,null,v),c=b.getEventsFor(i,a,v);if(u&&u.length>0||c&&c.length>0){var d=C.getRequests({state:Nb.FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],h=function(e,t,n,r){try{for(var i={},a=[],s=n.concat(r),o=0,u=s.length;o<u;o++)i[s[o].schemeIdUri+"/"+s[o].value]=s[o];var c=e.getBoxes("emsg");if(!c||0===c.length)return a;for(var d=e.getBox("sidx"),h=!d||isNaN(d.earliest_presentation_time)||isNaN(d.timescale)?t&&!isNaN(t.mediaStartTime)?t.mediaStartTime:0:d.earliest_presentation_time/d.timescale,f=Math.max(h,0),p=l.getCurrentRepresentation(),A=0,g=c.length;A<g;A++){var m=b.getEvent(c[A],i,f,p);m&&a.push(m)}return a}catch(e){return[]}}(s=s||N.parse(n),d,u,c);m.trigger(fb.INBAND_EVENTS,{events:h},{streamId:v.id})}}}function oe(){var e=k.getTime();L.get().streaming.buffer.flushBufferAtTrackSwitch&&k.seek(e+.001,!1,!0),ce(e),s.setSeekTarget(e),o.startScheduleTimer()}function le(){var e=k.getTime(),t=s.getContinuousBufferTimeForTargetTime(e);ce(isNaN(t)?e:t),o.startScheduleTimer()}function ue(e){e&&!isNaN(e.time)&&(ce(e.time),s.setSeekTarget(e.time))}function ce(e){p=e,u=!0}return t={initialize:function(n,i,a){f=FS(g).create({events:fb,eventBus:m,streamInfo:v,timelineConverter:T,dashConstants:tb,segmentBaseController:e.segmentBaseController,type:y}),h=yS(g).create({streamInfo:v,type:y,timelineConverter:T,dashMetrics:M,mediaPlayerModel:w,baseURLController:e.baseURLController,errHandler:E,segmentsController:f,settings:L,boxParser:N,events:fb,eventBus:m,errors:Ob,debug:_b(g).getInstance(),requestModifier:TS(g).getInstance(),dashConstants:tb,constants:eb,urlUtils:CS(g).getInstance()}),r=v.manifestInfo.isDynamic,h.initialize(r),I.registerStreamType(y,t),l=AS(g).create({streamInfo:v,type:y,abrController:I,dashMetrics:M,playbackController:k,timelineConverter:T,dashConstants:tb,events:fb,eventBus:m,errors:Ob,isDynamic:r,adapter:b,segmentsController:f}),(s=function(e,t){var n=null;if(!e)return E.error(new Bb(Ob.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Ob.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null;n=e!==eb.TEXT||t?$b(g).create({streamInfo:v,type:e,mediaPlayerModel:w,manifestModel:S,fragmentModel:C,errHandler:E,mediaController:R,representationController:l,adapter:b,textController:D,abrController:I,playbackController:k,settings:L}):nS(g).create({streamInfo:v,type:e,mimeType:_,fragmentModel:C,textController:D,errHandler:E,settings:L});return n}(y,a))&&s.initialize(n),(o=iS(g).create({streamInfo:v,type:y,mimeType:_,adapter:b,dashMetrics:M,mediaPlayerModel:w,fragmentModel:C,abrController:I,playbackController:k,textController:D,mediaController:R,bufferController:s,representationController:l,settings:L})).initialize(i),p=0,u=!1,c=!1},getStreamId:x,getType:P,isUpdating:function(){return!!l&&l.isUpdating()},getBufferController:function(){return s},dischargePreBuffer:function(){s.dischargePreBuffer()},getFragmentModel:function(){return C},getScheduleController:ne,getRepresentationController:function(){return l},getRepresentationInfo:re,getBufferLevel:function(){return s?s.getBufferLevel():0},isBufferingCompleted:ie,createBufferSinks:function(e){var t=ee();return t?Promise.resolve(t):s?s.createBufferSink(i,e):Promise.resolve(null)},updateStreamInfo:function(e){return v=e,ie()?Promise.resolve():s.updateAppendWindow()},getStreamInfo:function(){return v},selectMediaInfo:te,clearMediaInfoArray:function(){a=[]},addMediaInfo:function(e){-1===a.indexOf(e)&&a.push(e)},prepareTrackSwitch:function(){return new Promise((function(e){n.debug("Preparing track switch for type ".concat(y));var t=y===eb.TEXT||L.get().streaming.trackSwitchMode[y]===eb.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&k.getTimeToStreamEnd(v)>L.get().streaming.buffer.stallThreshold;if(s.getIsBufferingCompleted()&&!t)return s.prepareForNonReplacementTrackSwitch(i.codec).then((function(){m.trigger(fb.BUFFERING_COMPLETED,{},{streamId:v.id,mediaType:y})})).catch((function(){m.trigger(fb.BUFFERING_COMPLETED,{},{streamId:v.id,mediaType:y})})),void e();o.clearScheduleTimer(),o.setSwitchTrack(!0),t?(m.trigger(fb.BUFFER_REPLACEMENT_STARTED,{mediaType:y,streamId:v.id},{mediaType:y,streamId:v.id}),C.abortRequests(),s.prepareForReplacementTrackSwitch(i.codec).then((function(){var e=re();return s.updateBufferTimestampOffset(e)})).then((function(){oe(),e()})).catch((function(){oe(),e()}))):s.prepareForNonReplacementTrackSwitch(i.codec).then((function(){le(),e()})).catch((function(){le(),e()}))}))},prepareQualityChange:function(e){A&&n.warning("Canceling queued representation switch to ".concat(A.quality," for ").concat(y)),n.debug("Preparing quality switch for type ".concat(y));var t=e.newQuality;d=!0,o.clearScheduleTimer(),l.prepareQualityChange(t);var r=re(t);e.reason&&e.reason.forceReplace?function(e){C.abortRequests(),m.trigger(fb.BUFFER_REPLACEMENT_STARTED,{mediaType:y,streamId:v.id},{mediaType:y,streamId:v.id}),o.setCheckPlaybackQuality(!1),s.prepareForForceReplacementQualitySwitch(e).then((function(){oe(),A=null,d=!1})).catch((function(){oe(),A=null,d=!1}))}(r):e&&e.reason&&e.reason.forceAbandon?function(e){s.updateBufferTimestampOffset(e).then((function(){C.abortRequests(),c=!0,o.setCheckPlaybackQuality(!1),o.startScheduleTimer(),d=!1,A=null})).catch((function(){A=null,d=!1}))}(r):L.get().streaming.buffer.fastSwitchEnabled?function(e){var t=k.getTime(),n=1.5*(isNaN(e.fragmentDuration)?1:e.fragmentDuration),r=C.getRequests({state:Nb.FRAGMENT_MODEL_EXECUTED,time:t+n,threshold:0})[0];if(r&&!O()){var i=s.getBufferLevel(),a=I.getAbandonmentStateFor(v.id,y);r.quality<e.quality&&i>=n&&a!==nb.ABANDON_LOAD?s.updateBufferTimestampOffset(e).then((function(){C.abortRequests(),ce(t+n),o.setCheckPlaybackQuality(!1),o.startScheduleTimer(),d=!1})).catch((function(){d=!1})):W(e)}else W(e)}(r):W(r),M.pushPlayListTraceMetrics(new Date,kS.REPRESENTATION_SWITCH_STOP_REASON),M.createPlaylistTraceMetrics(r.id,1e3*k.getTime(),k.getPlaybackRate())},getMediaInfo:function(){return i},getMediaSource:function(){return s.getMediaSource()},setMediaSource:function(e){return s.setMediaSource(e,i)},getBuffer:ee,setExplicitBufferingTime:ce,finalisePlayList:function(e,t){M.pushPlayListTraceMetrics(e,t)},probeNextRequest:function(){var e=re(),t=l&&e?l.getRepresentationForQuality(e.quality):null;return h.getNextSegmentRequestIdempotent(i,t)},prepareInnerPeriodPlaybackSeeking:function(e){return new Promise((function(t){if(s.hasBufferAtTime(e.seekTime))return s.pruneBuffer(),U(s.getContinuousBufferTimeForTargetTime(e.seekTime))&&s.setIsBufferingCompleted(!0),void t();o.clearScheduleTimer(),C.abortRequests(),s.prepareForPlaybackSeek().then((function(){var t=s.getAllRangesWithSafetyFactor(e.seekTime);return s.clearBuffers(t)})).then((function(){var n=s.getContinuousBufferTimeForTargetTime(e.seekTime);if(U(n))s.setIsBufferingCompleted(!0),t();else{var r=isNaN(n)?e.seekTime:n;ce(r),s.setSeekTarget(r);var i=[];i.push(s.updateAppendWindow());var a=re();i.push(s.updateBufferTimestampOffset(a)),Promise.all(i).then((function(){o.setInitSegmentRequired(!0),o.setCheckPlaybackQuality(!1),o.startScheduleTimer(),t()}))}})).catch((function(e){n.error(e)}))}))},prepareOuterPeriodPlaybackSeeking:function(){return new Promise((function(e,t){try{o.clearScheduleTimer(),C.abortRequests(),s.prepareForPlaybackSeek().then((function(){return s.pruneAllSafely()})).then((function(){e()}))}catch(e){t(e)}}))},reset:function(e,n){h&&h.reset(),s&&(s.reset(e,n),s=null),o&&(o.reset(),o=null),l&&(l.reset(),l=null),f&&(f=null),I&&I.unRegisterStreamType(x(),y),m.off(fb.DATA_UPDATE_COMPLETED,V,t),m.off(fb.INIT_FRAGMENT_NEEDED,j,t),m.off(fb.MEDIA_FRAGMENT_NEEDED,Q,t),m.off(fb.INIT_FRAGMENT_LOADED,ae,t),m.off(fb.MEDIA_FRAGMENT_LOADED,se,t),m.off(fb.BUFFER_LEVEL_STATE_CHANGED,H,t),m.off(fb.BUFFER_CLEARED,Y,t),m.off(fb.SEEK_TARGET,ue,t),m.off(fb.FRAGMENT_LOADING_ABANDONED,K,t),m.off(fb.FRAGMENT_LOADING_COMPLETED,X,t),m.off(fb.SET_FRAGMENTED_TEXT_AFTER_DISABLED,J,t),m.off(fb.SET_NON_FRAGMENTED_TEXT,Z,t),m.off(fb.QUOTA_EXCEEDED,$,t),m.off(fb.SOURCE_BUFFER_ERROR,q,t),m.off(fb.BYTES_APPENDED_END_FRAGMENT,z,t),F(),y=null,v=null}},n=_b(g).getInstance().getLogger(t),F(),m.on(fb.DATA_UPDATE_COMPLETED,V,t,{priority:cb.EVENT_PRIORITY_HIGH}),m.on(fb.INIT_FRAGMENT_NEEDED,j,t),m.on(fb.MEDIA_FRAGMENT_NEEDED,Q,t),m.on(fb.INIT_FRAGMENT_LOADED,ae,t),m.on(fb.MEDIA_FRAGMENT_LOADED,se,t),m.on(fb.BUFFER_LEVEL_STATE_CHANGED,H,t),m.on(fb.BUFFER_CLEARED,Y,t),m.on(fb.SEEK_TARGET,ue,t),m.on(fb.FRAGMENT_LOADING_ABANDONED,K,t),m.on(fb.FRAGMENT_LOADING_COMPLETED,X,t),m.on(fb.QUOTA_EXCEEDED,$,t),m.on(fb.SET_FRAGMENTED_TEXT_AFTER_DISABLED,J,t),m.on(fb.SET_NON_FRAGMENTED_TEXT,Z,t),m.on(fb.SOURCE_BUFFER_ERROR,q,t),m.on(fb.BYTES_APPENDED_END_FRAGMENT,z,t),t}QS.__dashjs_factory_name="StreamProcessor";var GS=ib.getClassFactory(QS),VS=function e(){_class_call_check(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};function HS(e){var t,n=(e=e||{}).requestModifier;function r(e){var t=new Date,r=e.request,i=new XMLHttpRequest;if(i.open(e.method,e.url,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=t),n&&n.modifyRequestHeader&&(i=n.modifyRequestHeader(i,{url:e.url})),e.headers)for(var a in e.headers){var s=e.headers[a];s&&i.setRequestHeader(a,s)}i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.ontimeout=e.ontimeout,i.timeout=e.timeout,i.send(),e.response=i}return t={load:function(e){n&&n.modifyRequest?ES(e,n).then((function(){return r(e)})):r(e)},abort:function(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}},t}HS.__dashjs_factory_name="XHRLoader";var YS=ib.getClassFactory(HS);function qS(e){e=e||{};var t,n=this.context,r=e.requestModifier,i=e.lowLatencyThroughputModel,a=e.boxParser,s=Vb(n).getInstance();function o(e){var n,o=new Date,c=e.request,d=new Headers;if(c.range&&d.append("Range","bytes="+c.range),e.headers)for(var h in e.headers){var f=e.headers[h];f&&d.append(h,f)}c.requestStartDate||(c.requestStartDate=o),r&&r.modifyRequestHeader&&r.modifyRequestHeader({setRequestHeader:function(e,t){d.append(e,t)}},{url:e.url}),"function"==typeof window.AbortController&&(n=new AbortController,e.abortController=n,n.signal.onabort=e.onabort);var p={method:e.method,headers:d,credentials:e.withCredentials?"include":void 0,signal:n?n.signal:void 0},A=s.get().streaming.abr.fetchThroughputCalculationMode,g=Date.now(),m=0;new Promise((function(e){if(A===eb.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&i&&(m=i.getThroughputCapacityDelayMS(c,1e3*t.getCurrentBufferLevel(c.mediaType))))return setTimeout(e,m);e()})).then((function(){var n=Date.now();fetch(e.url,p).then((function(r){e.response||(e.response={}),e.response.status=r.status,e.response.statusText=r.statusText,e.response.responseURL=r.url,r.ok||e.onerror();var s="",o=!0,d=!1,h=void 0;try{for(var f,p=r.headers.keys()[Symbol.iterator]();!(o=(f=p.next()).done);o=!0){var v=f.value;s+=v+": "+r.headers.get(v)+"\r\n"}}catch(e){d=!0,h=e}finally{try{o||null==p.return||p.return()}finally{if(d)throw h}}if(e.response.responseHeaders=s,!r.body)return r.arrayBuffer().then((function(t){e.response.response=t;var n={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(n),e.onload(),e.onend()}));var y,E,_=parseInt(r.headers.get("Content-Length"),10),T=0,b=!1,S=new Uint8Array,w=0;if(A===eb.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&i){var C=n,I=0,k=_sliced_to_array(r.body.tee(),2),R=k[0],D=k[1];y=R.getReader(),E=[],y.read().then((function r(a){var o=a.value,l=a.done;if(I=Date.now(),o&&o.length){var u=I-C,d=o.length;E.push({chunkDownloadTimeRelativeMS:I-n,chunkDownloadDurationMS:u,chunkBytes:d,kbps:Math.round(8*d/(u/1e3)),bufferLevel:t.getCurrentBufferLevel(c.mediaType)})}if(l){var h=I-n,f=E.reduce((function(e,t){return e+t.chunkBytes}),0);return i.addMeasurement(c,h,E,g,m,s),void e.progress({loaded:f,total:f,lengthComputable:!0,time:i.getEstimatedDownloadDurationMS(c),stream:!0})}return C=Date.now(),y.read().then(r)})),e.reader=D.getReader()}else e.reader=r.body.getReader();var M=[],L=[],N=[],B=!0,x=function(t){var n=t.value;if(t.done){if(S){if(A!==eb.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var r=null,i=null;A===eb.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(r=function(e,t){try{var n,r;n=e.filter((function(t,n){return n<e.length-1})),r=t.filter((function(e,n){return n<t.length-1}));var i=[];if(n.length>1){for(var a=0,s=0,o=0;o<n.length;o++)if(n[o]&&r[o]){var l=r[o].ts-n[o].ts;if(l>1)i.push(8*r[o].bytes/l),s=0;else{0===s&&(s=n[o].ts,a=0);var u=r[o].ts-s;u>1?(a+=r[o].bytes,i.push(8*a/u),s=0):a+=r[o].bytes}}if(i.length>0){var c=i.reduce((function(e,t){return e+t}),0);return c/i.length}}return null}catch(e){return null}}(L,N),r&&(i=8*T/r)):A===eb.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(i=u(M,T)),e.progress({loaded:T,total:isNaN(_)?T:_,lengthComputable:!0,time:i,stream:!0})}e.response.response=S.buffer}return e.onload(),void e.onend()}if(n&&n.length>0){if(S=function(e,t){if(0===e.length)return t;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(S,n),T+=n.length,M.push({ts:Date.now(),bytes:n.length}),A===eb.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&B)a.findLastTopIsoBoxCompleted(["moof"],S,w).found&&(B=!1,L.push({ts:performance.now(),bytes:n.length}));var s=a.findLastTopIsoBoxCompleted(["moov","mdat"],S,w);if(s.found){var o,c=s.lastCompletedOffset+s.size;A!==eb.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||B||(B=!0,N.push({ts:performance.now(),bytes:S.length})),c===S.length?(o=S,S=new Uint8Array):(o=new Uint8Array(S.subarray(0,c)),S=S.subarray(c)),e.progress({data:o.buffer,lengthComputable:!1,noTrace:!0}),w=0}else w=s.lastCompletedOffset,b||(e.progress({lengthComputable:!1,noTrace:!0}),b=!0)}l(e,x)};l(e,x)})).catch((function(t){e.onerror&&e.onerror(t)}))}))}function l(e,t){e.reader.read().then(t).catch((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function u(e,t){try{if((e=e.filter((function(n){return n.bytes>t/4/e.length}))).length>1){var n=0,r=(e[e.length-1].ts-e[0].ts)/e.length;return e.forEach((function(t,i){var a=e[i+1];if(a){var s=a.ts-t.ts;n+=s<r?s:0}})),n}return null}catch(e){return null}}return{load:function(e){r&&r.modifyRequest?ES(e,r).then((function(){return o(e)})):o(e)},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel(),e.onabort()}catch(e){}},calculateDownloadedTime:u,setup:function(e){t=e.dashMetrics}}}qS.__dashjs_factory_name="FetchLoader";var zS=ib.getClassFactory(qS),WS=function(e){_inherits(n,e);var t=_create_super(n);function n(){var e;return _class_call_check(this,n),(e=t.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",e.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",e.CMCD_DATA_GENERATED="cmcdDataGenerated",e}return n}(ab),KS=new WS,XS=function(){function e(){_class_call_check(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}return _create_class(e,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==tb.BASE_URL&&this.segmentInfoType!==tb.SEGMENT_BASE&&!this.indexRange}}]),e}(),JS=function e(){_class_call_check(this,e),this.period=null,this.index=-1,this.type=null},ZS=function e(){_class_call_check(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};ZS.DEFAULT_ID="defaultId";var $S=ZS,ew=function e(){_class_call_check(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},tw=function e(){_class_call_check(this,e),this.schemeIdUri="",this.value=""},nw=function e(){_class_call_check(this,e),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},rw=function e(t,n,r,i){_class_call_check(this,e),this.url=t||"",this.serviceLocation=n||t||"",this.dvb_priority=r||1,this.dvb_weight=i||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};rw.DEFAULT_DVB_PRIORITY=1,rw.DEFAULT_DVB_WEIGHT=1;var iw=rw,aw=function e(){_class_call_check(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},sw=function e(){_class_call_check(this,e),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},ow=function e(){_class_call_check(this,e),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0},lw=function(){function e(){_class_call_check(this,e),this.schemeIdUri=null,this.value=null,this.id=null}return _create_class(e,[{key:"init",value:function(e){return e&&(this.schemeIdUri=e.schemeIdUri?e.schemeIdUri:null,this.value=e.value?e.value:null,this.id=e.id?e.id:null),this}}]),e}(),uw=f(de());function cw(){return{areEqual:function(e,t){return(0,uw.default)(e,t)}}}cw.__dashjs_factory_name="ObjectUtils";var dw=ib.getSingletonFactory(cw),hw=function e(){_class_call_check(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},fw=function(){function e(t){if(_class_call_check(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var n=0;n<t.boxes.length;n++)this.boxes.push(new e(t.boxes[n]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references){this.references=[];for(var r=0;r<t.references.length;r++){var i={reference_type:t.references[r].reference_type,referenced_size:t.references[r].referenced_size,subsegment_duration:t.references[r].subsegment_duration};this.references.push(i)}}break;case"emsg":this.id=t.id,this.version=1===t.version?1:0,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[];for(var a=0,s=t.samples.length;a<s;a++){var o={sample_size:t.samples[a].sample_size,sample_duration:t.samples[a].sample_duration,sample_composition_time_offset:t.samples[a].sample_composition_time_offset};this.samples.push(o)}}break;case"prft":this.version=t.version,this.reference_track_ID=t.reference_track_ID,this.ntp_timestamp_sec=t.ntp_timestamp_sec,this.ntp_timestamp_frac=t.ntp_timestamp_frac,this.media_time=t.media_time,this.flags=t.flags}}return _create_class(e,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],n=0;n<this.boxes.length;n++)this.boxes[n].type===e&&t.push(this.boxes[n]);return t}}]),e}(),pw=fw;function Aw(){var e;function t(t){var r=[];if(!t||!e||"function"!=typeof e.fetchAll)return r;for(var i,a=e.fetchAll(t),s=0,o=a.length;s<o;s++)(i=n(a[s]))&&r.push(i);return r}function n(e){if(!e)return null;var t=new pw(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?n(e.fetch(t)):null},getBoxes:t,setData:function(t){e=t},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var n=t(e.boxes[e.boxes.length-1].type);return n.length>0?n[n.length-1]:null}}}Aw.__dashjs_factory_name="IsoFile";var gw=ib.getClassFactory(Aw),mw=f(he()),vw=function e(t,n,r){_class_call_check(this,e),this.lastCompletedOffset=t,this.found=n,this.size=r};function yw(){var e,t,n=this.context;function r(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=mw.default.parseBuffer(e),r=gw(n).create();return r.setData(t),r}function i(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function a(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}return t={parse:r,findLastTopIsoBoxCompleted:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new vw(0,!1);for(var r,s=_instanceof(t,ArrayBuffer)?new Uint8Array(t):t,o=0;n<s.byteLength;){var l=i(s,n),u=a(s,n+4);if(0===l)break;n+l<=s.byteLength&&(e.indexOf(u)>=0?r=new vw(n,!0,l):o=n+l),n+=l}return r||new vw(o,!1)},getMediaTimescaleFromMoov:function(e){var t=r(e),n=t?t.getBox("mdhd"):void 0;return n?n.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,n,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v=r(e),y=v.getBoxes("moof"),E=v.getBoxes("mfhd");g=v.getBoxes("moof").length,A=E[E.length-1].sequence_number,n=0,s=[];var _=-1,T=-1;for(d=0;d<y.length;d++){var b=y[d],S=b.getChildBoxes("traf");for(u=0;u<S.length;u++){var w=S[u],C=w.getChildBox("tfhd"),I=w.getChildBox("tfdt");a=I.baseMediaDecodeTime;var k=w.getChildBoxes("trun"),R=w.getChildBoxes("subs");for(c=0;c<k.length;c++){var D=k[c];for(n=D.sample_count,p=(C.base_data_offset||0)+(D.data_offset||0),l=0;l<n;l++){t=void 0!==(o=D.samples[l]).sample_duration?o.sample_duration:C.default_sample_duration,i=void 0!==o.sample_size?o.sample_size:C.default_sample_size;var M={dts:a,cts:a+(void 0!==o.sample_composition_time_offset?o.sample_composition_time_offset:0),duration:t,offset:b.offset+p,size:i,subSizes:[i]};if(R)for(h=0;h<R.length;h++){var L=R[h];if(_<L.entry_count-1&&l>T&&(_++,T+=L.entries[_].sample_delta),l==T){M.subSizes=[];var N=L.entries[_];for(f=0;f<N.subsample_count;f++)M.subSizes.push(N.subsamples[f].subsample_size)}}s.push(M),p+=i,a+=t}}m=a-I.baseMediaDecodeTime}}return{sampleList:s,lastSequenceNumber:A,totalDuration:m,numSequences:g}},findInitRange:function(t){var n=null,i=r(t);if(!i)return n;var a=i.getBox("ftyp"),s=i.getBox("moov");return e.debug("Searching for initialization."),s&&s.isComplete&&(n=(a?a.offset:s.offset)+"-"+(s.offset+s.size-1),e.debug("Found the initialization.  Range: "+n)),n},parsePayload:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new vw(0,!1);for(var r,s=_instanceof(t,ArrayBuffer)?new Uint8Array(t):t,o=0;n<s.byteLength;){var l=i(s,n),u=a(s,n+4);if(0===l)break;n+l<=s.byteLength&&(e.indexOf(u)>=0?r=new vw(n,!0,l,u):o=n+l),n+=l}return r||new vw(o,!1)}},e=_b(n).getInstance().getLogger(t),t}yw.__dashjs_factory_name="BoxParser";var Ew=ib.getSingletonFactory(yw),_w=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function Tw(e){var t,n,r,i,a,s,o,l,u=this.context,c=e.adapter,d=e.baseURLController,h=e.streamInfo,f=e.timelineConverter,p=e.debug,A=e.eventBus,g=e.events,m=e.dashConstants,v=CS(u).getInstance();function y(e,t){var r=new hw;r.id=e.id,r.bitrate=e.bandwidth,r.width=e.width,r.height=e.height,r.tilesHor=1,r.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach((function(e){if(_w.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(r.tilesHor=parseInt(t[0],10),r.tilesVert=parseInt(t[1],10))}})),t?s.updateSegmentData(e).then((function(t){!function(e,t,n){var r=[],i=function(e,t){var n,r,i,a,s=[],o=0;for(n=0,r=e.segments.length;n<r;n++)i=e.segments[n],(a=fS(f,c.getIsDynamic(),t,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,o))&&(s.push(a),a=null,o++);return s}(n,t);t.segments=i,e.segmentDuration=t.segments[0].duration,e.readThumbnail=function(e,n){var i=null;r.some((function(t){if(t.start<=e&&t.end>e)return i=t.url,!0})),i?n(i):t.segments.some((function(i){if(i.mediaStartTime<=e&&i.mediaStartTime+i.duration>e){var a=d.resolve(t.path);return o.load({method:"get",url:a.url,request:{range:i.mediaRange,responseType:"arraybuffer"},onload:function(e){var t=l.getSamplesInfo(e.target.response),a=new Blob([e.target.response.slice(t.sampleList[0].offset,t.sampleList[0].offset+t.sampleList[0].size)],{type:"image/jpeg"}),s=window.URL.createObjectURL(a);r.push({start:i.mediaStartTime,end:i.mediaStartTime+i.duration,url:s}),n&&n(s)}}),!0}}))}}(r,e,t)})):(r.startNumber=e.startNumber,r.segmentDuration=e.segmentDuration,r.timescale=e.timescale,r.templateUrl=function(e){var t=v.isRelative(e.media)?v.resolve(e.media,d.resolve(e.path).url):e.media;if(!t)return"";return lS(t,e.id)}(e)),r.tilesHor>0&&r.tilesVert>0&&(r.widthPerTile=r.width/r.tilesHor,r.heightPerTile=r.height/r.tilesVert,n.push(r))}function E(){n=[],i=-1,a=null}return t={getTracks:function(){return n},addTracks:function(){if(h&&c&&(a=c.getMediaInfoForType(h,eb.IMAGE))){var e=c.getVoRepresentations(a);e&&e.length>0&&e.forEach((function(e){(e.segmentInfoType===tb.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media||e.segmentInfoType===tb.SEGMENT_TIMELINE)&&y(e),e.segmentInfoType===tb.SEGMENT_BASE&&y(e,!0)})),n.length>0&&n.sort((function(e,t){return e.bitrate-t.bitrate}))}},reset:E,setTrackByIndex:function(e){n&&0!==n.length&&(e>=n.length&&(e=n.length-1),i=e)},getCurrentTrack:function(){return i<0?null:n[i]},getCurrentTrackIndex:function(){return i},getThumbnailRequestForTime:function(e){for(var t,s=c.getVoRepresentations(a),o=0;o<s.length;o++)if(n[i].id===s[o].id){t=s[o];break}return r.getSegmentRequestForTime(a,t,e)}},E(),o=YS(u).create({}),l=Ew(u).getInstance(),s=FS(u).create({events:g,eventBus:A,streamInfo:h,timelineConverter:f,dashConstants:m,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController,type:eb.IMAGE}),(r=yS(u).create({streamInfo:h,type:eb.IMAGE,timelineConverter:f,segmentsController:s,baseURLController:d,debug:p,eventBus:A,events:g,dashConstants:m,urlUtils:v})).initialize(!!c&&c.getIsDynamic()),t}Tw.__dashjs_factory_name="ThumbnailTracks";var bw=ib.getClassFactory(Tw),Sw=function e(t,n){_class_call_check(this,e),this.url=t||"",this.serviceLocation=n||null,this.queryParams={}},ww=function e(t,n,r){_class_call_check(this,e),this.url=t||"",this.serviceLocation=n||null,this.ttl=r||NaN,this.queryParams={}};function Cw(){var e,t,n,r,i=this.context,a=CS(i).getInstance(),s=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function o(e,t){if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.Representation_asArray&&e.Representation_asArray.length){var n=v(e.Representation_asArray[0]);if(n&&n.length>0&&_w.indexOf(n[0].schemeIdUri)>=0)return t===eb.IMAGE}if(e.ContentComponent_asArray&&e.ContentComponent_asArray.length>0){if(e.ContentComponent_asArray.length>1)return t===eb.MUXED;if(e.ContentComponent_asArray[0].contentType===t)return!0}var r=t===eb.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(t);if(e.Representation_asArray&&e.Representation_asArray.length){var i=e.Representation_asArray[0].codecs;if(r.test(i))return!0}if(e.hasOwnProperty(tb.MIME_TYPE))return r.test(e.mimeType);if(e.Representation_asArray)for(var a,s=0;s<e.Representation_asArray.length;s++)if((a=e.Representation_asArray[s]).hasOwnProperty(tb.MIME_TYPE))return r.test(a.mimeType);return!1}function l(e){if(!e)throw new Error("adaptation is not defined");if(e.hasOwnProperty(tb.SEGMENT_TEMPLATE)||e.hasOwnProperty(tb.SEGMENT_TIMELINE)||e.hasOwnProperty(tb.SEGMENT_LIST)||e.hasOwnProperty(tb.SEGMENT_BASE))return!0;if(e.Representation_asArray&&e.Representation_asArray.length>0){var t=e.Representation_asArray[0];if(t.hasOwnProperty(tb.SEGMENT_TEMPLATE)||t.hasOwnProperty(tb.SEGMENT_TIMELINE)||t.hasOwnProperty(tb.SEGMENT_LIST)||t.hasOwnProperty(tb.SEGMENT_BASE))return!0}return!1}function u(e){return o(e,eb.AUDIO)}function c(e){return o(e,eb.VIDEO)}function d(e){return o(e,eb.TEXT)}function h(e){return o(e,eb.IMAGE)}function f(){return function(e,t){return e.bandwidth-t.bandwidth}}function p(e){return e&&Array.isArray(e.Representation_asArray)&&e.Representation_asArray.sort((function(e,t){return e.bandwidth-t.bandwidth})),e}function A(e,t){return e&&e.Period_asArray&&s(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function g(e){return e&&e.Period_asArray?e.Period_asArray:[]}function m(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===tb.DYNAMIC),t}function v(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map((function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function y(e){if(!e||!e.S_asArray)return NaN;var t=e.S_asArray[0],n=e.S_asArray[1];return t.hasOwnProperty("d")?t.d:n.t-t.t}function E(e,t){if(!e)throw new Error("Period cannot be null or undefined");var n=$S.DEFAULT_ID+"_"+t;return e.hasOwnProperty(tb.ID)&&e.id.length>0&&"__proto__"!==e.id&&(n=e.id),n}function _(e,t,n){var r,i=[];if(!e)return i;for(r=0;r<e.length;r++){var a=new aw;if(a.timescale=1,a.representation=t,!e[r].hasOwnProperty(eb.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");a.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty(tb.TIMESCALE)&&(a.timescale=e[r].timescale),e[r].hasOwnProperty(tb.VALUE)&&(a.value=e[r].value),i.push(a),a.period=n}return i}function T(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return n.some((function(n){if(n){var i=new iw,s=n.__text||n;return a.isRelative(s)&&(r=!0,e.baseUri&&(s=a.resolve(s,e.baseUri))),i.url=s,n.hasOwnProperty(tb.SERVICE_LOCATION)&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=s,n.hasOwnProperty(tb.DVB_PRIORITY)&&(i.dvb_priority=n[tb.DVB_PRIORITY]),n.hasOwnProperty(tb.DVB_WEIGHT)&&(i.dvb_weight=n[tb.DVB_WEIGHT]),n.hasOwnProperty(tb.AVAILABILITY_TIME_OFFSET)&&(i.availabilityTimeOffset=n[tb.AVAILABILITY_TIME_OFFSET]),n.hasOwnProperty(tb.AVAILABILITY_TIME_COMPLETE)&&(i.availabilityTimeComplete="false"!==n[tb.AVAILABILITY_TIME_COMPLETE]),t.push(i),r}})),t}function b(e){var t=new ow;return t.serverUrl=e.__text,e.hasOwnProperty(tb.DEFAULT_SERVICE_LOCATION)&&(t.defaultServiceLocation=e[tb.DEFAULT_SERVICE_LOCATION],t.defaultServiceLocationArray=t.defaultServiceLocation.split(" ")),e.hasOwnProperty(tb.QUERY_BEFORE_START)&&(t.queryBeforeStart="true"===e[tb.QUERY_BEFORE_START].toLowerCase()),e.hasOwnProperty(tb.CLIENT_REQUIREMENT)&&(t.clientRequirement="false"!==e[tb.CLIENT_REQUIREMENT].toLowerCase()),t}return e={getIsTypeOf:o,getIsText:d,getIsFragmented:l,getProducerReferenceTimesForAdaptation:function(e){var t=e&&e.hasOwnProperty(tb.PRODUCERREFERENCETIME_ASARRAY)?e[tb.PRODUCERREFERENCETIME_ASARRAY]:[];(e&&e.hasOwnProperty(tb.REPRESENTATION_ASARRAY)?e[tb.REPRESENTATION_ASARRAY]:[]).forEach((function(e){var n;e.hasOwnProperty(tb.PRODUCERREFERENCETIME_ASARRAY)&&(n=t).push.apply(n,_to_consumable_array(e[tb.PRODUCERREFERENCETIME_ASARRAY]))}));var n=[];return t.forEach((function(e){var t=new sw;e.hasOwnProperty(tb.ID)&&(t[tb.ID]=e[tb.ID],e.hasOwnProperty(tb.WALL_CLOCK_TIME)&&(t[tb.WALL_CLOCK_TIME]=e[tb.WALL_CLOCK_TIME],e.hasOwnProperty(tb.PRESENTATION_TIME)&&(t[tb.PRESENTATION_TIME]=e[tb.PRESENTATION_TIME],e.hasOwnProperty(tb.INBAND)&&(t[tb.INBAND]="false"!==e[tb.INBAND]),e.hasOwnProperty(tb.TYPE)&&(t[tb.TYPE]=e[tb.TYPE]),n.push(t))))})),n},getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(tb.LANG)&&(t=e.lang),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(tb.VIEWPOINT_ASARRAY)&&e[tb.VIEWPOINT_ASARRAY].length?e[tb.VIEWPOINT_ASARRAY].map((function(e){return(new lw).init(e)})):[]},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(tb.ROLE_ASARRAY)&&e[tb.ROLE_ASARRAY].length?e[tb.ROLE_ASARRAY].map((function(e){return(new lw).init(e)})):[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(tb.ACCESSIBILITY_ASARRAY)&&e[tb.ACCESSIBILITY_ASARRAY].length?e[tb.ACCESSIBILITY_ASARRAY].map((function(e){return(new lw).init(e)})):[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(tb.AUDIOCHANNELCONFIGURATION_ASARRAY)&&e[tb.AUDIOCHANNELCONFIGURATION_ASARRAY].length?e[tb.AUDIOCHANNELCONFIGURATION_ASARRAY].map((function(e){return(new lw).init(e)})):[]},getAudioChannelConfigurationForRepresentation:function(e){return e&&e.hasOwnProperty(tb.AUDIOCHANNELCONFIGURATION_ASARRAY)&&e[tb.AUDIOCHANNELCONFIGURATION_ASARRAY].length?e[tb.AUDIOCHANNELCONFIGURATION_ASARRAY].map((function(e){return(new lw).init(e)})):[]},getAdaptationForIndex:function(e,t,n){var r=A(t,n);return r.length>0&&s(e)?r[e]:null},getIndexForAdaptation:function(e,t,n){if(!e)return-1;for(var r=A(t,n),a=0;a<r.length;a++){if(dw(i).getInstance().areEqual(r[a],e))return a}return-1},getAdaptationForId:function(e,t,n){var r,i,a=A(t,n);for(r=0,i=a.length;r<i;r++)if(a[r].hasOwnProperty(tb.ID)&&a[r].id===e)return a[r];return null},getAdaptationsForType:function(e,t,n){var r,i,a=A(e,t),s=[];for(r=0,i=a.length;r<i;r++)o(a[r],n)&&s.push(p(a[r]));return s},getRealPeriods:g,getRealPeriodForIndex:function(e,t){var n=g(t);return n.length>0&&s(e)?n[e]:null},getCodec:function(e,t,n){var r=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=s(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(r=i.mimeType+';codecs="'+i.codecs+'"',n&&void 0!==i.width&&(r+=';width="'+i.width+'";height="'+i.height+'"'))}return r&&(r=r.replace(/\sprofiles=[^;]*/g,"")),r},getSelectionPriority:function(e){try{var t=e&&void 0!==e.selectionPriority?parseInt(e.selectionPriority):1;return isNaN(t)?1:t}catch(e){return 1}},getMimeType:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(tb.CENC_DEFAULT_KID)?e[tb.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e||!Array.isArray(e.Label_asArray))return[];for(var t=[],n=0;n<e.Label_asArray.length;n++)t.push({lang:e.Label_asArray[n].lang,text:e.Label_asArray[n].__text||e.Label_asArray[n]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(tb.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:m,getId:function(e){return e&&e[tb.ID]||null},hasProfile:function(e,t){var n=!1;return e&&e.profiles&&e.profiles.length>0&&(n=-1!==e.profiles.indexOf(t)),n},getDuration:function(e){return e&&e.hasOwnProperty(tb.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=NaN;return e&&e.hasOwnProperty(tb.MINIMUM_UPDATE_PERIOD)&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)},getPublishTime:function(e){return e&&e.hasOwnProperty(tb.PUBLISH_TIME)?new Date(e[tb.PUBLISH_TIME]):null},getRepresentationCount:function(e){return e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){var t=p(e);return(t&&Array.isArray(t.Representation_asArray)?t.Representation_asArray:[]).map((function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}}))},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&s(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t,n,r,i,a=[],o=function(e){if(e&&e.period&&s(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&s(e.index))return p(t.AdaptationSet_asArray[e.index])}}(e);if(o&&o.Representation_asArray){if(e&&e.period&&s(e.period.index)){var u=T(e.period.mpd.manifest);u&&(n=u[0])}for(var c=0,h=o.Representation_asArray.length;c<h;++c){var f=o.Representation_asArray[c],A=new XS;if(A.index=c,A.adaptation=e,f.hasOwnProperty(tb.ID)&&(A.id=f.id),f.hasOwnProperty(tb.CODECS)&&(A.codecs=f.codecs),f.hasOwnProperty(tb.MIME_TYPE)&&(A.mimeType=f[tb.MIME_TYPE]),f.hasOwnProperty(tb.CODEC_PRIVATE_DATA)&&(A.codecPrivateData=f.codecPrivateData),f.hasOwnProperty(tb.BANDWITH)&&(A.bandwidth=f.bandwidth),f.hasOwnProperty(tb.WIDTH)&&(A.width=f.width),f.hasOwnProperty(tb.HEIGHT)&&(A.height=f.height),f.hasOwnProperty(tb.SCAN_TYPE)&&(A.scanType=f.scanType),f.hasOwnProperty(tb.MAX_PLAYOUT_RATE)&&(A.maxPlayoutRate=f.maxPlayoutRate),f.hasOwnProperty(tb.SEGMENT_BASE)?(t=f.SegmentBase,A.segmentInfoType=tb.SEGMENT_BASE):f.hasOwnProperty(tb.SEGMENT_LIST)?(t=f.SegmentList).hasOwnProperty(tb.SEGMENT_TIMELINE)?A.segmentInfoType=tb.SEGMENT_TIMELINE:A.segmentInfoType=tb.SEGMENT_LIST:f.hasOwnProperty(tb.SEGMENT_TEMPLATE)?((t=f.SegmentTemplate).hasOwnProperty(tb.SEGMENT_TIMELINE)?A.segmentInfoType=tb.SEGMENT_TIMELINE:A.segmentInfoType=tb.SEGMENT_TEMPLATE,t.hasOwnProperty(tb.INITIALIZATION_MINUS)&&(A.initialization=t.initialization.split("$Bandwidth$").join(f.bandwidth).split("$RepresentationID$").join(f.id))):A.segmentInfoType=tb.BASE_URL,A.essentialProperties=v(f),t){if(t.hasOwnProperty(tb.INITIALIZATION)){var g=t.Initialization;g.hasOwnProperty(tb.SOURCE_URL)&&(A.initialization=g.sourceURL),g.hasOwnProperty(tb.RANGE)&&(A.range=g.range)}else d(o)&&l(o)&&o.mimeType&&-1===o.mimeType.indexOf("application/mp4")&&(A.range=0);t.hasOwnProperty(tb.TIMESCALE)&&(A.timescale=t.timescale),t.hasOwnProperty(tb.DURATION)?A.segmentDuration=t.duration/A.timescale:f.hasOwnProperty(tb.SEGMENT_TEMPLATE)&&(t=f.SegmentTemplate).hasOwnProperty(tb.SEGMENT_TIMELINE)&&(A.segmentDuration=y(t.SegmentTimeline)/A.timescale),t.hasOwnProperty(tb.MEDIA)&&(A.media=t.media),t.hasOwnProperty(tb.START_NUMBER)&&(A.startNumber=t.startNumber),t.hasOwnProperty(tb.INDEX_RANGE)&&(A.indexRange=t.indexRange),t.hasOwnProperty(tb.PRESENTATION_TIME_OFFSET)&&(A.presentationTimeOffset=t.presentationTimeOffset/A.timescale),t.hasOwnProperty(tb.AVAILABILITY_TIME_OFFSET)?A.availabilityTimeOffset=t.availabilityTimeOffset:n&&void 0!==n.availabilityTimeOffset&&(A.availabilityTimeOffset=n.availabilityTimeOffset),t.hasOwnProperty(tb.AVAILABILITY_TIME_COMPLETE)?A.availabilityTimeComplete="false"!==t.availabilityTimeComplete:n&&void 0!==n.availabilityTimeComplete&&(A.availabilityTimeComplete=n.availabilityTimeComplete)}A.MSETimeOffset=(i=void 0,void 0,i=(r=A).presentationTimeOffset,r.adaptation.period.start-i),A.path=[e.period.index,e.index,c],a.push(A)}}return a},getAdaptationsForPeriod:function(e){var n,r,i,a=e&&s(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,l=[];if(a&&a.AdaptationSet_asArray)for(i=0;i<a.AdaptationSet_asArray.length;i++)r=a.AdaptationSet_asArray[i],n=new JS,r.hasOwnProperty(tb.ID)&&(n.id=r.id),n.index=i,n.period=e,o(r,eb.MUXED)?n.type=eb.MUXED:u(r)?n.type=eb.AUDIO:c(r)?n.type=eb.VIDEO:d(r)?n.type=eb.TEXT:h(r)?n.type=eb.IMAGE:t.warn("Unknown Adaptation stream type"),l.push(n);return l},getRegularPeriods:function(e){var r,i,a=!!e&&m(e.manifest),s=[],o=null,l=null,u=null,c=null;for(i=0,r=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;i<r;i++)(l=e.manifest.Period_asArray[i]).hasOwnProperty(tb.START)?(c=new $S).start=l.start:null!==o&&o.hasOwnProperty(tb.DURATION)&&null!==u?(c=new $S).start=parseFloat((u.start+u.duration).toFixed(5)):0!==i||a||((c=new $S).start=0),null!==u&&isNaN(u.duration)&&(null!==c?u.duration=parseFloat((c.start-u.start).toFixed(5)):t.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==c&&(c.id=E(l,i),c.index=i,c.mpd=e,l.hasOwnProperty(tb.DURATION)&&(c.duration=l.duration),u&&(u.nextPeriodId=c.id),s.push(c),o=l,u=c),l=null,c=null;return 0===s.length||null!==u&&isNaN(u.duration)&&(u.duration=parseFloat((function(e){!function(){if(!n||!n.hasOwnProperty("error"))throw new Error(eb.MISSING_CONFIG_ERROR)}();var t,r=m(e.mpd.manifest);e.mpd.manifest.mediaPresentationDuration?t=e.mpd.manifest.mediaPresentationDuration:e.duration?t=e.duration:r?t=Number.POSITIVE_INFINITY:n.error(new Bb(Ob.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e));return t}(u)-u.start).toFixed(5))),s},getMpd:function(e){var t=new ew;return e&&(t.manifest=e,e.hasOwnProperty(tb.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(tb.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(tb.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(tb.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(tb.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(tb.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(tb.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration),e.hasOwnProperty(tb.PUBLISH_TIME)&&(t.publishTime=new Date(e.publishTime))),t},getEventsForPeriod:function(e){var t,n,i=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,a=i?i.Period_asArray:null,o=a&&e&&s(e.index)?a[e.index].EventStream_asArray:null,l=[];if(o)for(t=0;t<o.length;t++){var u=new aw;if(u.period=e,u.timescale=1,!o[t].hasOwnProperty(eb.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(u.schemeIdUri=o[t][eb.SCHEME_ID_URI],o[t].hasOwnProperty(tb.TIMESCALE)&&(u.timescale=o[t][tb.TIMESCALE]),o[t].hasOwnProperty(tb.VALUE)&&(u.value=o[t][tb.VALUE]),o[t].hasOwnProperty(tb.PRESENTATION_TIME_OFFSET)&&(u.presentationTimeOffset=o[t][tb.PRESENTATION_TIME_OFFSET]),n=0;o[t].Event_asArray&&n<o[t].Event_asArray.length;n++){var c=o[t].Event_asArray[n],d=new nw;d.presentationTime=0,d.eventStream=u,c.hasOwnProperty(tb.PRESENTATION_TIME)&&(d.presentationTime=c.presentationTime);var h=u.presentationTimeOffset?u.presentationTimeOffset/u.timescale:0;d.calculatedPresentationTime=d.presentationTime/u.timescale+e.start-h,c.hasOwnProperty(tb.DURATION)&&(d.duration=c.duration/u.timescale),c.hasOwnProperty(tb.ID)?d.id=c.id:d.id=null,c.Signal&&c.Signal.Binary?d.messageData=r.decodeArray(c.Signal.Binary.toString()):d.messageData=c.messageData||c.__cdata||c.__text,l.push(d)}}return l},getEssentialPropertiesForRepresentation:v,getEventStreamForAdaptationSet:function(e,t,n){var r,i,a;return e&&e.Period_asArray&&t&&t.period&&s(t.period.index)&&(i=e.Period_asArray[t.period.index])&&i.AdaptationSet_asArray&&s(t.index)&&(a=i.AdaptationSet_asArray[t.index])&&(r=a.InbandEventStream_asArray),_(r,null,n)},getEventStreamForRepresentation:function(e,t,n){var r,i,a,o;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&s(t.adaptation.period.index)&&(i=e.Period_asArray[t.adaptation.period.index])&&i.AdaptationSet_asArray&&s(t.adaptation.index)&&(a=i.AdaptationSet_asArray[t.adaptation.index])&&a.Representation_asArray&&s(t.index)&&(o=a.Representation_asArray[t.index])&&(r=o.InbandEventStream_asArray),_(r,t,n)},getUTCTimingSources:function(e){var t=m(e),n=!!e&&e.hasOwnProperty(tb.AVAILABILITY_START_TIME),r=e?e.UTCTiming_asArray:null,i=[];return(t||n)&&r&&r.forEach((function(e){var t=new tw;e.hasOwnProperty(eb.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(tb.VALUE)&&(t.value=e.value.toString(),i.push(t)))})),i},getBaseURLsFromElement:T,getRepresentationSortFunction:f,getContentSteering:function(e){if(e&&e.hasOwnProperty(tb.CONTENT_STEERING_AS_ARRAY))return b(e[tb.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(e){return e&&e.hasOwnProperty(tb.LOCATION_AS_ARRAY)?e[tb.LOCATION_AS_ARRAY].map((function(e){var t=e.__text||e,n=e.hasOwnProperty(tb.SERVICE_LOCATION)?e[tb.SERVICE_LOCATION]:null;return new Sw(t,n)})):[]},getPatchLocation:function(e){return e&&e.hasOwnProperty(tb.PATCH_LOCATION_AS_ARRAY)?e[tb.PATCH_LOCATION_AS_ARRAY].map((function(e){var t=e.__text||e,n=e.hasOwnProperty(tb.SERVICE_LOCATION)?e[tb.SERVICE_LOCATION]:null,r=e.hasOwnProperty(tb.TTL)?1e3*parseFloat(e[tb.TTL]):NaN;return new ww(t,n,r)})):[]},getSuggestedPresentationDelay:function(e){return e&&e.hasOwnProperty(tb.SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null},getAvailabilityStartTime:function(e){return e&&e.hasOwnProperty(tb.AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null},getServiceDescriptions:function(e){var t=[];if(e&&e.hasOwnProperty(tb.SERVICE_DESCRIPTION)){var n=!0,r=!1,i=void 0;try{for(var a,s=e.ServiceDescription_asArray[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,l=null,u=null,c=null,d=null,h=null,f=null,p=null;for(var A in o)o.hasOwnProperty(A)&&(A===tb.ID?l=o[A]:A===tb.SERVICE_DESCRIPTION_SCOPE?u=o[A].schemeIdUri:A===tb.SERVICE_DESCRIPTION_LATENCY?c={target:parseInt(o[A].target),max:parseInt(o[A].max),min:parseInt(o[A].min),referenceId:parseInt(o[A].referenceId)}:A===tb.SERVICE_DESCRIPTION_PLAYBACK_RATE?d={max:parseFloat(o[A].max),min:parseFloat(o[A].min)}:A===tb.SERVICE_DESCRIPTION_OPERATING_QUALITY?h={mediaType:o[A].mediaType,max:parseInt(o[A].max),min:parseInt(o[A].min),target:parseInt(o[A].target),type:o[A].type,maxQualityDifference:parseInt(o[A].maxQualityDifference)}:A===tb.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?f={mediaType:o[A].mediaType,max:parseInt(o[A].max),min:parseInt(o[A].min),target:parseInt(o[A].target)}:A===tb.CONTENT_STEERING&&(p=b(o[A])));t.push({id:l,schemeIdUri:u,latency:c,playbackRate:d,operatingQuality:h,operatingBandwidth:f,contentSteering:p})}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}return t},getSegmentAlignment:function(e){return!(!e||!e.hasOwnProperty(tb.SEGMENT_ALIGNMENT))&&"true"===e[tb.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(e){return!(!e||!e.hasOwnProperty(tb.SUB_SEGMENT_ALIGNMENT))&&"true"===e[tb.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(e){var t={};if(e&&e.hasOwnProperty(tb.SUPPLEMENTAL_PROPERTY_ASARRAY)){var n=!0,r=!1,i=void 0;try{for(var a,s=e.SupplementalProperty_asArray[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;o.hasOwnProperty(eb.SCHEME_ID_URI)&&o.hasOwnProperty(tb.VALUE)&&(t[o[eb.SCHEME_ID_URI]]=o[tb.VALUE])}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}return t},getSupplementalPropertiesAsArrayForAdaptation:function(e){return e&&e.hasOwnProperty(tb.SUPPLEMENTAL_PROPERTY_ASARRAY)&&e.SupplementalProperty_asArray.length?e.SupplementalProperty_asArray.map((function(e){return(new lw).init(e)})):[]},getSupplementalPropertiesForRepresentation:function(e){var t={};if(e&&e.hasOwnProperty(tb.SUPPLEMENTAL_PROPERTY_ASARRAY)){var n=!0,r=!1,i=void 0;try{for(var a,s=e.SupplementalProperty_asArray[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;o.hasOwnProperty(eb.SCHEME_ID_URI)&&o.hasOwnProperty(tb.VALUE)&&(t[o[eb.SCHEME_ID_URI]]=o[tb.VALUE])}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}return t},getSupplementalPropertiesAsArrayForRepresentation:function(e){return e&&e.hasOwnProperty(tb.SUPPLEMENTAL_PROPERTY_ASARRAY)&&e.SupplementalProperty_asArray.length?e.SupplementalProperty_asArray.map((function(e){return(new lw).init(e)})):[]},setConfig:function(e){e&&(e.errHandler&&(n=e.errHandler),e.BASE64&&(r=e.BASE64))}},t=_b(i).getInstance().getLogger(e),e}Cw.__dashjs_factory_name="DashManifestModel";var Iw=ib.getSingletonFactory(Cw),kw="m",Rw="a",Dw="v",Mw="i",Lw="c",Nw="tt",Bw="k",xw="o",Pw="d",Ow="s",Fw="v",Uw="l";function jw(){var e,t,n,r,i,a,s,o,l,u,c=this.context,d=cb(c).getInstance(),h=Vb(c).getInstance();function f(){n={pr:1,nor:null,st:null,sf:null,sid:"".concat(Qb.generateUuid()),cid:null},l={},o={},u={},A()}function p(){A()}function A(){if(a){var e=a.getStreamController();if(e&&"function"==typeof e.getActiveStream){var t=e.getActiveStream();t&&(s=t.getProcessors())}}}function g(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;e[l]&&(n[l]=e[l])}}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}function m(e){var t=h.get().streaming.cmcd.enabledKeys;return e.filter((function(e){return t.includes(e)}))}function v(e){try{return e.type===Sb.MPD_TYPE?((t=y()).ot=kw,t):e.type===Sb.MEDIA_SEGMENT_TYPE?(function(e){u.hasOwnProperty(e)||(u[e]=!1);o.hasOwnProperty(e)||(o[e]=!1);l.hasOwnProperty(e)||(l[e]=!1)}(e.mediaType),function(e){var t,c=y(),d=function(e){try{var t=e.quality,n=e.mediaInfo.bitrateList;return parseInt(n[t].bandwidth/1e3)}catch(e){return null}}(e),f=function(e){try{return isNaN(e.duration)?NaN:Math.round(1e3*e.duration)}catch(e){return null}}(e),p=function(e){try{return 100*parseInt(r.getThroughputHistory().getSafeAverageThroughput(e)/100)}catch(e){return null}}(e.mediaType),A=function(e){try{var t=n.pr,r=i.getCurrentBufferLevel(e);return isNaN(t)||isNaN(r)?null:100*parseInt(r/t*10)}catch(e){return null}}(e.mediaType),g=E(e.mediaType),m=function(e){try{var t=r.getTopBitrateInfoFor(e);return Math.round(t.bitrate/1e3)}catch(e){return null}}(e.mediaType),v=n.pr,_=function(e){if(!s||0===s.length)return;var t=!0,n=!1,r=void 0;try{for(var i,a=s[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.getType()===e)return o.probeNextRequest()}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}(e.mediaType);e.mediaType===eb.VIDEO&&(t=Dw);e.mediaType===eb.AUDIO&&(t=Rw);e.mediaType===eb.TEXT&&(t="application/mp4"===e.mediaInfo.mimeType?Nw:Lw);var T=h.get().streaming.cmcd.rtp;T||(T=function(e){try{var t=a.getPlaybackRate();t||(t=1);var n=e.quality,r=e.mediaType,i=e.mediaInfo,s=e.duration;if(!i)return NaN;var o=E(r);0===o&&(o=500);var l=i.bitrateList[n].bandwidth*s/1e3/(o/t/1e3),u=h.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(h.get().streaming.cmcd.rtpSafetyFactor)?h.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(l*u/100)+1)}catch(e){return NaN}}(e));isNaN(T)||(c.rtp=T);_&&(e.url!==_.url?c.nor=encodeURIComponent(Qb.getRelativeUrl(e.url,_.url)):_.range&&(c.nrr=_.range));d&&(c.br=d);t&&(c.ot=t);isNaN(f)||(c.d=f);isNaN(p)||(c.mtp=p);isNaN(A)||(c.dl=A);isNaN(g)||(c.bl=g);isNaN(m)||(c.tb=m);isNaN(v)||1===v||(c.pr=v);l[e.mediaType]&&(c.bs=!0,l[e.mediaType]=!1);!o[e.mediaType]&&u[e.mediaType]||(c.su=!0,o[e.mediaType]=!1,u[e.mediaType]=!0);return c}(e)):e.type===Sb.INIT_SEGMENT_TYPE?function(){var e=y();return e.ot=Mw,e.su=!0,e}():e.type===Sb.OTHER_TYPE||e.type===Sb.XLINK_EXPANSION_TYPE?function(){var e=y();return e.ot=xw,e}():e.type===Sb.LICENSE?function(e){var t=y();return t.ot=Bw,t}():null}catch(e){return null}var t}function y(){var e={},t=h.get().streaming.cmcd.cid?h.get().streaming.cmcd.cid:n.cid;return e.v=1,e.sid=h.get().streaming.cmcd.sid?h.get().streaming.cmcd.sid:n.sid,e.sid="".concat(e.sid),t&&(e.cid="".concat(t)),isNaN(n.pr)||1===n.pr||null===n.pr||(e.pr=n.pr),n.st&&(e.st=n.st),n.sf&&(e.sf=n.sf),e}function E(e){try{var t=i.getCurrentBufferLevel(e);return isNaN(t)?null:100*parseInt(10*t)}catch(e){return null}}function _(e){try{n.pr=e.playbackRate}catch(e){}}function T(t){try{var r=e.getIsDynamic(t.data)?Uw:Fw,i=t.protocol&&"MSS"===t.protocol?Ow:Pw;n.st="".concat(r),n.sf="".concat(i)}catch(e){}}function b(e){try{e.state&&e.mediaType&&e.state===ob.BUFFER_EMPTY&&(l[e.mediaType]||(l[e.mediaType]=!0),o[e.mediaType]||(o[e.mediaType]=!0))}catch(e){}}function S(){for(var e in l)l.hasOwnProperty(e)&&(l[e]=!0);for(var t in o)o.hasOwnProperty(t)&&(o[t]=!0)}function w(e){try{if(!e)return null;var t=Object.keys(e).sort((function(e,t){return e.localeCompare(t)})),n=t.length,r=t.reduce((function(t,r,i){return"v"===r&&1===e[r]||("string"==typeof e[r]&&"ot"!==r&&"sf"!==r&&"st"!==r?t+="".concat(r,"=").concat(JSON.stringify(e[r])):t+="".concat(r,"=").concat(e[r]),i<n-1&&(t+=",")),t}),"");return r=(r=r.replace(/=true/g,"")).replace(/,\s*$/,"")}catch(e){return null}}return t={getQueryParameter:function(e){try{if(h.get().streaming.cmcd&&h.get().streaming.cmcd.enabled){var t=v(e),n=function(e){try{var t=h.get().streaming.cmcd.enabledKeys;return Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}catch(t){return e}}(t),r=w(n);return d.trigger(KS.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,cmcdString:r}),{key:"CMCD",value:r}}return null}catch(e){return null}},getHeaderParameters:function(e){try{if(h.get().streaming.cmcd&&h.get().streaming.cmcd.enabled){var t=v(e),n=g(t,m(["br","d","ot","tb"])),r=g(t,m(["bl","dl","mtp","nor","nrr","su"])),i=g(t,m(["bs","rtp"])),a=g(t,m(["cid","pr","sf","sid","st","v"])),s={"CMCD-Object":w(n),"CMCD-Request":w(r),"CMCD-Status":w(i),"CMCD-Session":w(a)};return d.trigger(KS.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,headers:s}),s}return null}catch(e){return null}},setConfig:function(e){e&&(e.abrController&&(r=e.abrController),e.dashMetrics&&(i=e.dashMetrics),e.playbackController&&(a=e.playbackController))},reset:function(){d.off(ob.PLAYBACK_RATE_CHANGED,_,this),d.off(ob.MANIFEST_LOADED,T,this),d.off(ob.BUFFER_LEVEL_STATE_CHANGED,b,t),d.off(ob.PLAYBACK_SEEKED,S,t),f()},initialize:function(){d.on(ob.PLAYBACK_RATE_CHANGED,_,t),d.on(ob.MANIFEST_LOADED,T,t),d.on(ob.BUFFER_LEVEL_STATE_CHANGED,b,t),d.on(ob.PLAYBACK_SEEKED,S,t),d.on(ob.PERIOD_SWITCH_COMPLETED,p,t)}},e=Iw(c).getInstance(),f(),t}jw.__dashjs_factory_name="CmcdModel";var Qw=ib.getSingletonFactory(jw),Gw="static",Vw="dynamic",Hw="cmsd-",Yw=Hw+Gw,qw=Hw+Vw,zw="etp",Ww="mb",Kw="ot",Xw="rd",Jw="rtt",Zw="o",$w="stream",eC=[Ww,"st","sf","v"],tC={video:"v",audio:"a",text:"tt",stream:$w},nC=/^[-0-9]/;function rC(){var e,t,n,r,i=this.context,a=cb(i).getInstance();function s(){n={},r={}}function o(e){e&&Object.keys(e).forEach((function(t){eC.includes(t)||delete e[t]}))}function l(e){return!e||"false"!==e.toLowerCase()&&(nC.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}function u(e){try{for(var n={},r=e.split(","),i=0;i<r.length;i++){var a=r[i].split("="),s=a[0],o=l(a[1]);n[s]=o}return n}catch(e){t.error("Failed to parse CMSD-Static response header value:",e)}}function c(e){try{for(var n={},r=e.split(","),i=r[r.length-1].split(";"),a=1;a<i.length;a++){var s=i[a].split("="),o=s[0],u=l(s[1]);n[o]=u}return n}catch(e){return t.error("Failed to parse CMSD-Dynamic response header value:",e),[]}}function d(e){return tC[e]||Zw}function h(e,t,i){var a=e===Gw?n:r,s=a[t]||{},o=a[$w]||{};return s[i]||o[i]}return e={setConfig:function(){},initialize:function(){},reset:function(){s()},parseResponseHeaders:function(e,t){for(var i=null,s=null,l=e.split("\r\n"),h=l.length-1;h>=0;h--){var f=l[h].match(RegExp("^(?<key>[^:]*):\\s*(?<value>.*)$"));if(f&&f.groups){var p=f.groups.key.toLowerCase(),A=f.groups.value;switch(p){case Yw:i=u(A),a.trigger(fb.CMSD_STATIC_HEADER,i);break;case qw:s||(s=c(A))}}}var g=$w;return i&&i[Kw]?g=i[Kw]:t&&(g=d(t)),o(n[g]),o(r[g]),i&&(n[g]=Object.assign(n[g]||{},i)),s&&(r[g]=Object.assign(r[g]||{},s)),{static:i,dynamic:s}},getMaxBitrate:function(e){var t=d(e),n=h(Vw,t,Ww);return n||-1},getEstimatedThroughput:function(e){var t=d(e),n=h(Vw,t,zw);return n||null},getResponseDelay:function(e){var t=d(e),n=h(Vw,t,Xw);return n||null},getRoundTripTime:function(e){var t=d(e),n=h(Vw,t,Jw);return n||null}},t=_b(i).getInstance().getLogger(e),s(),e}rC.__dashjs_factory_name="CmsdModel";var iC=ib.getSingletonFactory(rC);function aC(){var e,t,n=this.context,r={};function i(){t=_b(n).getInstance().getLogger(e)}function a(e){for(var t={},n=0,r=0,i=0,a=0,s=e.length,o=0;o<s;++o)n+=e[o].chunkDownloadTimeRelativeMS,r+=e[o].bufferLevel,i+=e[o].chunkDownloadTimeRelativeMS*e[o].bufferLevel,a+=e[o].chunkDownloadTimeRelativeMS*e[o].chunkDownloadTimeRelativeMS;return t.m=(i-n*r/s)/(a-n*n/s),t.b=r/s-t.m*n/s,function(e){return t.m*e+t.b}}function s(e){var t,n=!0,r=e.reduce((function(e,t){return e+t.bufferLevelAtSegmentEnd}),0)/e.length;return e.forEach((function(e){Math.abs(e.bufferLevelAtSegmentEnd/e.bufferLevelAtSegmentStart)<.95&&(n=!1),e.bufferLevelAtSegmentEnd/r<.8&&(n=!1),t?t>e.bitrate&&(n=!1):t=e.bitrate})),n}return e={setup:i,addMeasurement:function(e,t,n,i,s){e&&e.mediaType&&!r[e.mediaType]&&(r[e.mediaType]=[]);var o=e.mediaInfo.bitrateList.find((function(t){return t.id===e.representationId}));r[e.mediaType].push({index:e.index,repId:e.representationId,mediaType:e.mediaType,requestTimeMS:i,adjustedAvailabilityStartTimeMS:e.availabilityStartTime.getTime(),segDurationMS:1e3*e.duration,chunksDurationMS:n.reduce((function(e,t){return e+t.chunkDownloadDurationMS}),0),segmentBytes:n.reduce((function(e,t){return e+t.chunkBytes}),0),bitrate:o&&o.bandwidth,bitrateList:e.mediaInfo.bitrateList,chunkMeasurements:n,fetchDownloadDurationMS:t,throughputCapacityDelayMS:s,getEstimatedBufferLevel:a(n.slice(1))}),r[e.mediaType].length>10&&r[e.mediaType].shift()},getThroughputCapacityDelayMS:function(e,t){var n=r[e.mediaType]&&r[e.mediaType].slice(-3);return!n||n.length<3?0:s(n)?t/4>250?250:t/4:0},getEstimatedDownloadDurationMS:function(e){var n=r[e.mediaType].slice(-1).pop(),i=r[e.mediaType].slice(-3),a=n.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;n.bufferLevelAtSegmentStart=n.getEstimatedBufferLevel(a/2),n.bufferLevelAtSegmentEnd=n.getEstimatedBufferLevel(a);var o=s(i),l=o?.6:.8;if(n.isBufferStable&&1.05*n.segDurationMS<n.fetchDownloadDurationMS)return n.fetchDownloadDurationMS;if(!o||n.segDurationMS<n.fetchDownloadDurationMS)return.8*n.fetchDownloadDurationMS;if(n.adjustedAvailabilityStartTimeMS<=n.requestTimeMS+n.throughputCapacityDelayMS-n.segDurationMS)return.8*n.fetchDownloadDurationMS;for(var u=n.requestTimeMS+n.throughputCapacityDelayMS-n.adjustedAvailabilityStartTimeMS,c=0,d=0,h=0,f=0;f<n.chunkMeasurements.length;f++){var p=n.chunkMeasurements[f];if(u<d+p.chunkDownloadDurationMS)break;d+=p.chunkDownloadDurationMS,c+=p.chunkBytes,h++}if(u<0&&t.warn("request time was before adjusted availibitly start time"),c&&d&&h>.2*n.chunkMeasurements.length){var A=c/d,g=n.segmentBytes/A;return n.fetchDownloadDurationMS<g?n.fetchDownloadDurationMS*l:g*l}var m=n.bitrate;return n.bitrateList.some((function(e){if(e.bandwidth>n.bitrate)return m=e.bandwidth,!0})),m===n.bitrate?n.fetchDownloadDurationMS*l:l*n.segmentBytes*8*1e3/m}},i(),e}aC.__dashjs_factory_name="LowLatencyThroughputModel";var sC=ib.getSingletonFactory(aC),oC={DEFAULT:.5,STRONG:1,WEAK:0};function lC(e,t,n){var r,i;return i=oC.DEFAULT,(r=n)!==oC.DEFAULT&&r!==oC.STRONG&&r!==oC.WEAK||(i=r),{quality:void 0===e?-1:e,reason:void 0===t?null:t,priority:i}}lC.__dashjs_factory_name="SwitchRequest";var uC=ib.getClassFactory(lC);uC.NO_CHANGE=-1,uC.PRIORITY=oC,ib.updateClassFactory(lC.__dashjs_factory_name,uC);var cC=uC;function dC(e){e=e||{};var t=this.context,n=e.dashMetrics;return{getMaxIndex:function(e){var r=cC(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return r;!function(){if(!n||!n.hasOwnProperty("getCurrentBufferState"))throw new Error(eb.MISSING_CONFIG_ERROR)}();var i=e.getMediaInfo(),a=e.getMediaType(),s=n.getCurrentBufferState(a),o=e.getScheduleController(),l=e.getAbrController(),u=e.getStreamInfo(),c=u?u.id:null,d=u&&u.manifestInfo?u.manifestInfo.isDynamic:null,h=l.getThroughputHistory(),f=h.getSafeAverageThroughput(a,d),p=h.getAverageLatency(a),A=e.useBufferOccupancyABR();return isNaN(f)||!s||A||l.getAbandonmentStateFor(c,a)!==nb.ABANDON_LOAD&&(s.state===nb.BUFFER_LOADED||d)&&(r.quality=l.getQualityForBitrate(i,f,c,p),o.setTimeToLoadDelay(0),r.reason={throughput:f,latency:p}),r},reset:function(){}}}dC.__dashjs_factory_name="ThroughputRule";var hC=ib.getClassFactory(dC);function fC(e){e=e||{};var t,n,r,i=2,a=this.context,s=cb(a).getInstance(),o=e.dashMetrics;function l(){(r={})[eb.VIDEO]={ignoreCount:i},r[eb.AUDIO]={ignoreCount:i}}function u(){l()}function c(e){isNaN(e.startTime)||e.mediaType!==eb.AUDIO&&e.mediaType!==eb.VIDEO||r[e.mediaType].ignoreCount>0&&r[e.mediaType].ignoreCount--}return t={getMaxIndex:function(e){var t=cC(a).create();if(!e||!e.hasOwnProperty("getMediaType"))return t;!function(){if(!o||!o.hasOwnProperty("getCurrentBufferLevel")||!o.hasOwnProperty("getCurrentBufferState"))throw new Error(eb.MISSING_CONFIG_ERROR)}();var i=e.getMediaType(),s=o.getCurrentBufferState(i),l=e.getRepresentationInfo().fragmentDuration,u=e.getStreamInfo(),c=u?u.id:null,d=e.getScheduleController(),h=u&&u.manifestInfo&&u.manifestInfo.isDynamic;if(function(e,t){return!e&&r[t].ignoreCount>0}(d.getPlaybackController().getLowLatencyModeEnabled(),i)||!l)return t;if(s&&s.state===nb.BUFFER_EMPTY)n.debug("["+i+"] Switch to index 0; buffer is empty."),t.quality=0,t.reason="InsufficientBufferRule: Buffer is empty";else{var f=e.getMediaInfo(),p=e.getAbrController(),A=p.getThroughputHistory(),g=o.getCurrentBufferLevel(i),m=A.getAverageThroughput(i,h),v=A.getAverageLatency(i),y=m*(g/l)*.5;t.quality=p.getQualityForBitrate(f,y,c,v),t.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return t},reset:function(){l(),s.off(ob.PLAYBACK_SEEKING,u,t),s.off(fb.BYTES_APPENDED_END_FRAGMENT,c,t)}},n=_b(a).getInstance().getLogger(t),l(),s.on(ob.PLAYBACK_SEEKING,u,t),s.on(fb.BYTES_APPENDED_END_FRAGMENT,c,t),t}fC.__dashjs_factory_name="InsufficientBufferRule";var pC=ib.getClassFactory(fC);function AC(e){e=e||{};var t,n,r,i,a,s=this.context,o=e.mediaPlayerModel,l=e.dashMetrics,u=e.settings;function c(){r={},i={},a=[]}return t={shouldAbandon:function(e){var t=cC(s).create(cC.NO_CHANGE,{name:AC.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return t;var c,d,h=e.getMediaInfo(),f=e.getMediaType(),p=e.getStreamInfo(),A=p?p.id:null,g=e.getCurrentRequest();if(!isNaN(g.index)){c=f,d=g.index,r[c]=r[c]||{},r[c][d]=r[c][d]||{};var m=o.getStableBufferTime();if(l.getCurrentBufferLevel(f)>m)return t;var v=r[f][g.index];if(null===v||null===g.firstByteDate||i.hasOwnProperty(v.id))return t;if(void 0===v.firstByteTime&&(a[f]=[],v.firstByteTime=g.firstByteDate.getTime(),v.segmentDuration=g.duration,v.bytesTotal=g.bytesTotal,v.id=g.index),v.bytesLoaded=g.bytesLoaded,v.elapsedTime=(new Date).getTime()-v.firstByteTime,v.bytesLoaded>0&&v.elapsedTime>0&&function(e,t){a[e]=a[e]||[],a[e].push(t)}(f,Math.round(8*v.bytesLoaded/v.elapsedTime)),a[f].length>=u.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage&&v.elapsedTime>u.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold&&v.bytesLoaded<v.bytesTotal){var y=a[f].reduce((function(e,t){return e+t}),0);if(v.measuredBandwidthInKbps=Math.round(y/a[f].length),v.estimatedTimeOfDownload=+(8*v.bytesTotal/v.measuredBandwidthInKbps/1e3).toFixed(2),v.estimatedTimeOfDownload<v.segmentDuration*u.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier||0===e.getRepresentationInfo().quality)return t;if(!i.hasOwnProperty(v.id)){var E=e.getAbrController(),_=v.bytesTotal-v.bytesLoaded,T=E.getBitrateList(h),b=E.getQualityForBitrate(h,v.measuredBandwidthInKbps*u.get().streaming.abr.bandwidthSafetyFactor,A),S=E.getMinAllowedIndexFor(f,A),w=void 0!==S?Math.max(S,b):b;_>v.bytesTotal*T[w].bitrate/T[E.getQualityFor(f,A)].bitrate&&(t.quality=w,t.reason.throughput=v.measuredBandwidthInKbps,t.reason.fragmentID=v.id,t.reason.rule=this.getClassName(),i[v.id]=v,n.debug("["+f+"] frag id",v.id," is asking to abandon and switch to quality to ",w," measured bandwidth was",v.measuredBandwidthInKbps),delete r[f][v.id])}}else v.bytesLoaded===v.bytesTotal&&delete r[f][v.id]}return t},reset:c},n=_b(s).getInstance().getLogger(t),c(),t}AC.__dashjs_factory_name="AbandonRequestsRule";var gC=ib.getClassFactory(AC);function mC(){var e,t,n=this.context;return e={getMaxIndex:function(e){var r=cC(n).create();if(!e||!e.hasOwnProperty("getDroppedFramesHistory"))return r;var i=e.getDroppedFramesHistory(),a=e.getStreamInfo().id;if(i){var s=i.getFrameHistory(a);if(!s||0===s.length)return r;for(var o=0,l=0,u=cC.NO_CHANGE,c=1;c<s.length;c++)if(s[c]&&(o=s[c].droppedVideoFrames,(l=s[c].totalVideoFrames)>375&&o/l>.15)){u=c-1,t.debug("index: "+u+" Dropped Frames: "+o+" Total Frames: "+l);break}return cC(n).create(u,{droppedFrames:o})}return r}},t=_b(n).getInstance().getLogger(e),e}mC.__dashjs_factory_name="DroppedFramesRule";var vC=ib.getClassFactory(mC);function yC(){var e,t,n=this.context;return e={getMaxIndex:function(e){for(var r=e?e.getSwitchHistory():null,i=r?r.getSwitchRequests():[],a=0,s=0,o=0,l=cC(n).create(),u=0;u<i.length;u++)if(void 0!==i[u]&&(a+=i[u].drops,s+=i[u].noDrops,o+=i[u].dropSize,a+s>=6&&a/s>.075)){l.quality=u>0&&i[u].drops>0?u-1:u,l.reason={index:l.quality,drops:a,noDrops:s,dropSize:o},t.debug("Switch history rule index: "+l.quality+" samples: "+(a+s)+" drops: "+a);break}return l}},t=_b(n).getInstance().getLogger(e),e}yC.__dashjs_factory_name="SwitchHistoryRule";var EC=ib.getClassFactory(yC),_C=10;function TC(e){e=e||{};var t,n,r,i=this.context,a=e.dashMetrics,s=e.mediaPlayerModel,o=cb(i).getInstance();function l(e,t,n){var r=n.reduce((function(e,t,r){return t>n[e]?r:e}),0);if(0===r)return null;var i=Math.max(e,_C+2*t.length),a=(n[r]-1)/(i/_C-1);return{gp:a,Vp:_C/a}}function u(e){var t={},n=e.getMediaInfo().bitrateList.map((function(e){return e.bandwidth})),r=function(e){return e.map((function(e){return Math.log(e)}))}(n);r=r.map((function(e){return e-r[0]+1}));var i=s.getStableBufferTime(),a=l(i,n,r);return a?(t.state=1,t.bitrates=n,t.utilities=r,t.stableBufferTime=i,t.Vp=a.Vp,t.gp=a.gp,t.lastQuality=0,c(t)):t.state=0,t}function c(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function d(e,t){var n=s.getStableBufferTime();if(e.stableBufferTime!==n){var r=l(n,e.bitrates,e.utilities);if(r.Vp!==e.Vp||r.gp!==e.gp){var i=a.getCurrentBufferLevel(t),o=i+e.placeholderBuffer;o-=_C,o*=r.Vp/e.Vp,o+=_C,e.stableBufferTime=n,e.Vp=r.Vp,e.gp=r.gp,e.placeholderBuffer=Math.max(0,o-i)}}}function h(e,t){return e.Vp*(e.utilities[t]+e.gp)}function f(e,t){for(var n=e.bitrates[t],r=e.utilities[t],i=0,a=t-1;a>=0;--a)if(e.utilities[a]<e.utilities[t]){var s=e.bitrates[a],o=e.utilities[a],l=e.Vp*(e.gp+(n*o-s*r)/(n-s));i=Math.max(i,l)}return i}function p(e){var t=e.mediaType===eb.AUDIO?[eb.AUDIO]:r;for(var n in t)r.hasOwnProperty(n)&&2===r[n].state&&(r[n].placeholderBuffer=0)}function A(){for(var e in r)if(r.hasOwnProperty(e)){var t=r[e];0!==t.state&&(t.state=1,c(t))}}function g(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=r[e.chunk.mediaInfo.type];if(t&&0!==t.state){var n=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||n>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=n,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=n,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,v(t,e.chunk.mediaInfo.type)}}}function m(e){if(e&&e.metric===nb.HTTP_REQUEST&&e.value&&e.value.type===Sb.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=r[e.mediaType];t&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),v(t,e.mediaType))}}function v(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=.99,!isNaN(e.lastSegmentFinishTimeMs)){var n=a.getCurrentBufferLevel(t)+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),r=h(e,e.lastQuality),i=Math.max(0,r-n);e.placeholderBuffer=Math.min(i,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function y(e){if(e){var t=r[e.mediaType];t&&0!==t.state&&(t.abrQuality=e.newQuality)}}function E(e){if(e){var t=r[e.mediaType];if(t&&0!==t.state){var n,i=a.getCurrentBufferLevel(e.mediaType);n=t.abrQuality>0?f(t,t.abrQuality):_C;var s=Math.max(0,n-i);t.placeholderBuffer=Math.min(t.placeholderBuffer,s)}}}function _(){r={}}return t={getMaxIndex:function(e){var t=cC(i).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useBufferOccupancyABR")))return t;var s=e.getMediaInfo(),o=e.getMediaType(),l=e.getScheduleController(),p=e.getStreamInfo(),A=e.getAbrController(),g=A.getThroughputHistory(),m=p?p.id:null,v=p&&p.manifestInfo&&p.manifestInfo.isDynamic,y=e.useBufferOccupancyABR();if(t.reason=t.reason||{},!y)return t;l.setTimeToLoadDelay(0);var E=function(e){var t=e.getMediaType(),n=r[t];return n?0!==n.state&&d(n,t):(n=u(e),r[t]=n),n}(e);if(0===E.state)return t;var _,T=a.getCurrentBufferLevel(o),b=g.getAverageThroughput(o,v),S=g.getSafeAverageThroughput(o,v),w=g.getAverageLatency(o);if(t.reason.state=E.state,t.reason.throughput=b,t.reason.latency=w,isNaN(b))return t;switch(E.state){case 1:_=A.getQualityForBitrate(s,S,m,w),t.quality=_,t.reason.throughput=S,E.placeholderBuffer=Math.max(0,f(E,_)-T),E.lastQuality=_,!isNaN(E.lastSegmentDurationS)&&T>=E.lastSegmentDurationS&&(E.state=2);break;case 2:!function(e,t){var n=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){var r=.001*(n-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,r)}}else{var i=.001*(n-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,i)}e.lastCallTimeMs=n,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,d(e,t)}(E,o),_=function(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,a=0;a<n;++a){var s=(e.Vp*(e.utilities[a]+e.gp)-t)/e.bitrates[a];(isNaN(i)||s>=i)&&(i=s,r=a)}return r}(E,T+E.placeholderBuffer);var C=A.getQualityForBitrate(s,S,m,w);_>E.lastQuality&&_>C&&(_=Math.max(C,E.lastQuality));var I=Math.max(0,T+E.placeholderBuffer-h(E,_));I<=E.placeholderBuffer?(E.placeholderBuffer-=I,I=0):(I-=E.placeholderBuffer,E.placeholderBuffer=0,_<A.getMaxAllowedIndexFor(o,m)?l.setTimeToLoadDelay(1e3*I):I=0),t.quality=_,t.reason.throughput=b,t.reason.latency=w,t.reason.bufferLevel=T,t.reason.placeholderBuffer=E.placeholderBuffer,t.reason.delay=I,E.lastQuality=_;break;default:n.debug("BOLA ABR rule invoked in bad state."),t.quality=A.getQualityForBitrate(s,S,m,w),t.reason.state=E.state,t.reason.throughput=S,t.reason.latency=w,E.state=1,c(E)}return t},reset:function(){_(),o.off(ob.BUFFER_EMPTY,p,t),o.off(ob.PLAYBACK_SEEKING,A,t),o.off(ob.METRIC_ADDED,m,t),o.off(ob.QUALITY_CHANGE_REQUESTED,y,t),o.off(ob.FRAGMENT_LOADING_ABANDONED,E,t),o.off(fb.MEDIA_FRAGMENT_LOADED,g,t)}},n=_b(i).getInstance().getLogger(t),_(),o.on(ob.BUFFER_EMPTY,p,t),o.on(ob.PLAYBACK_SEEKING,A,t),o.on(ob.METRIC_ADDED,m,t),o.on(ob.QUALITY_CHANGE_REQUESTED,y,t),o.on(ob.FRAGMENT_LOADING_ABANDONED,E,t),o.on(fb.MEDIA_FRAGMENT_LOADED,g,t),t}TC.__dashjs_factory_name="BolaRule";var bC=ib.getClassFactory(TC);function SC(e){e=e||{};var t,n,r,i,a=this.context,s=e.dashMetrics,o=cb(a).getInstance();function l(e){var t={},n=e.getMediaInfo(),i=n.bitrateList.map((function(e){return e.bandwidth/1e3}));return t.state=1,t.bitrates=i,t.lastQuality=0,function(e){if(!e||!e.type)return;r[e.type]={},r[e.type].w=[],r[e.type].prev_w=[],r[e.type].Q=0,r[e.type].segment_request_start_s=0,r[e.type].segment_download_finish_s=0,r[e.type].B_target=1.5}(n),u(t),t}function u(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,e.lastSegmentUrl=""}function c(){for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];0!==t.state&&(t.state=1,u(t))}}function d(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=n[e.chunk.mediaInfo.type],i=r[e.chunk.mediaInfo.type];if(t&&0!==t.state){var a=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||a>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=a,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=a,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,f(t,i)}}}function h(e){if(e&&e.metric===nb.HTTP_REQUEST&&e.value&&e.value.type===Sb.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=n[e.mediaType],i=r[e.mediaType];t&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),f(t,i))}}function f(e,t){isNaN(e.lastSegmentStart)||isNaN(e.lastSegmentRequestTimeMs)||(t.segment_request_start_s=.001*e.lastSegmentRequestTimeMs,t.segment_download_finish_s=.001*e.lastSegmentFinishTimeMs,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN)}function p(e){if(e&&e.mediaType){var t=n[e.mediaType];t&&0!==t.state&&(t.abrQuality=e.newQuality)}}function A(e,t){if(e.length!==t.length)return-1;for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function g(){n={},r={}}return t={getMaxIndex:function(e){var t,o=cC(a).create(),c=Math.pow(4,.99),d=Math.max(Math.pow(4,1),c*Math.sqrt(4)),h=e.getMediaInfo(),f=e.getMediaType(),p=h.bitrateList.map((function(e){return e.bandwidth})),g=p.length,m=e.getScheduleController(),v=e.getStreamInfo(),y=e.getAbrController(),E=y.getThroughputHistory(),_=v&&v.manifestInfo&&v.manifestInfo.isDynamic,T=e.useL2AABR(),b=s.getCurrentBufferLevel(f,!0),S=E.getSafeAverageThroughput(f,_),w=E.getAverageThroughput(f,_),C=E.getAverageLatency(f),I=e.getVideoModel().getPlaybackRate();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useL2AABR")))return o;if(o.reason=o.reason||{},!T||f===eb.AUDIO)return o;m.setTimeToLoadDelay(0);var k=function(e){var t=e.getMediaType(),r=n[t];return r||(r=l(e),n[t]=r),r}(e);if(0===k.state)return o;var R=r[f];if(!R)return o;if(o.reason.state=k.state,o.reason.throughput=w,o.reason.latency=C,isNaN(w))return o;switch(k.state){case 1:if(t=y.getQualityForBitrate(h,S,v.id,C),o.quality=t,o.reason.throughput=S,k.lastQuality=t,!isNaN(k.lastSegmentDurationS)&&b>=R.B_target){k.state=2,R.Q=c;for(var D=0;D<g;++D)D===k.lastQuality?R.prev_w[D]=1:R.prev_w[D]=0}break;case 2:var M=[],L=s.getCurrentHttpRequest(f).trace.reduce((function(e,t){return e+t.d}),0),N=s.getCurrentHttpRequest(f).trace.reduce((function(e,t){return e+t.b[0]}),0),B=Math.round(8*N/L),x=s.getCurrentHttpRequest(f);if(B<1&&(B=1),x.url===k.lastSegmentUrl||x.type===Sb.INIT_SEGMENT_TYPE)t=k.lastQuality;else{for(var P,O=k.lastSegmentDurationS,F=1,U=0;U<g;++U)p[U]=p[U]/1e3,I*p[U]>B&&(F=-1),R.w[U]=R.prev_w[U]+F*(O/(2*d))*((R.Q+c)*(I*p[U]/B));R.w=function(e){for(var t=e.length,n=!1,r=[],i=0;i<t;++i)r[i]=e[i];for(var a=e.sort((function(e,t){return t-e})),s=0,o=0,l=[],u=0;u<t-1;++u)if((o=((s+=a[u])-1)/(u+1))>=a[u+1]){n=!0;break}n||(o=(s+a[t-1]-1)/t);for(var c=0;c<t;++c)l[c]=Math.max(r[c]-o,0);return l}(R.w);for(var j=0;j<g;++j)M[j]=R.w[j]-R.prev_w[j],R.prev_w[j]=R.w[j];R.Q=Math.max(0,R.Q-O+O*I*((A(p,R.prev_w)+A(p,M))/B));for(var Q=[],G=0;G<g;++G)Q[G]=Math.abs(p[G]-A(R.w,p));(t=Q.indexOf((P=Math).min.apply(P,_to_consumable_array(Q))))>k.lastQuality&&p[k.lastQuality+1]<=B&&(t=k.lastQuality+1),p[t]>=B&&(R.Q=2*Math.max(c,R.Q)),k.lastSegmentUrl=x.url}o.quality=t,o.reason.throughput=w,o.reason.latency=C,o.reason.bufferLevel=b,k.lastQuality=o.quality;break;default:i.debug("L2A ABR rule invoked in bad state."),o.quality=y.getQualityForBitrate(h,S,v.id,C),o.reason.state=k.state,o.reason.throughput=S,o.reason.latency=C,k.state=1,u(k)}return o},reset:function(){g(),o.off(fb.PLAYBACK_SEEKING,c,t),o.off(fb.MEDIA_FRAGMENT_LOADED,d,t),o.off(fb.METRIC_ADDED,h,t),o.off(fb.QUALITY_CHANGE_REQUESTED,p,t)}},i=_b(a).getInstance().getLogger(t),g(),o.on(fb.PLAYBACK_SEEKING,c,t),o.on(fb.MEDIA_FRAGMENT_LOADED,d,t),o.on(fb.METRIC_ADDED,h,t),o.on(fb.QUALITY_CHANGE_REQUESTED,p,t),t}SC.__dashjs_factory_name="L2ARule";var wC=ib.getClassFactory(SC),CC="manual_weight_selection",IC="random_weight_selection",kC="dynamic_weight_selection";function RC(){var e,t,n,r,i,a,s,o,l,u=this.context;function c(){n=null,r=1,i=100,a=0,s=null,o=null,l=kC}function d(){var e=0;if(n)for(var t=0;t<n.length;t++){var r=n[t];r.state.throughput>e&&(e=r.state.throughput)}return e}function h(e,t,n){var r=e.map((function(e,r){return n[r]*Math.pow(e-t[r],2)})).reduce((function(e,t){return e+t}));return(r<0?-1:1)*Math.sqrt(Math.abs(r))}function f(e,t){return h([e.state.throughput,e.state.latency,e.state.rebuffer,e.state.switch],[t.state.throughput,t.state.latency,t.state.rebuffer,t.state.switch],[1,1,1,1])}function p(e,t,n){for(var r=0;r<t.length;r++){var i=t[r],a=f(i,e);A(i,n,Math.exp(-1*Math.pow(a,2)/(2*Math.pow(.1,2))))}}function A(e,t,n){var r=e.state,i=[.01,.01,.01,.01];r.throughput=r.throughput+(t[0]-r.throughput)*i[0]*n,r.latency=r.latency+(t[1]-r.latency)*i[1]*n,r.rebuffer=r.rebuffer+(t[2]-r.rebuffer)*i[2]*n,r.switch=r.switch+(t[3]-r.switch)*i[3]*n}function g(e,t,n,r,i,a,l){s||(s=o[o.length-1]);var u=e.findWeightVector(t,n,r,i,a,l);null!==u&&-1!==u&&(s=u)}return e={getNextQuality:function(e,u,c,f,A,m,v){var y=c,E=f,_=u,T=function(e){if(!n){n=[];var t=e.bitrateList,i=[];a=t[0].bandwidth,t.forEach((function(e){i.push(e.bandwidth),e.bandwidth<a&&(a=e.bandwidth)})),u=i.map((function(e){return Math.pow(e,2)})).reduce((function(e,t){return e+t})),r=Math.sqrt(u);for(var s=0;s<t.length;s++){var l={qualityIndex:s,bitrate:t[s].bandwidth,state:{throughput:t[s].bandwidth/r,latency:0,rebuffer:0,switch:0}};n.push(l)}o=function(e){var t=[],n=function(e){for(var t=[],n=0;n<e;n++){var r=[Math.random()*d(),Math.random(),Math.random(),Math.random()];t.push(r)}return t}(Math.pow(e.length,2));t.push(n[0]);for(var r=[1,1,1,1],i=1;i<e.length;i++){for(var a=null,s=null,o=0;o<n.length;o++){for(var l=n[o],u=null,c=0;c<t.length;c++){var f=h(l,t[c],r);(null===u||f<u)&&(u=f)}(null===s||u>s)&&(a=l,s=u)}t.push(a)}for(var p=null,A=null,g=0;g<t.length;g++){for(var m=0,v=0;v<t.length;v++)g!==v&&(m+=h(t[g],t[v],r));(null===p||m>p)&&(p=m,A=g)}var y=[];y.push(t[A]),t.splice(A,1);for(;t.length>0;){for(var E=null,_=null,T=0;T<t.length;T++){var b=h(y[0],t[T],r);(null===E||b<E)&&(E=b,_=T)}y.push(t[_]),t.splice(_,1)}return y}(n)}var u;return n}(e),b=u/r;b>1&&(b=d()),c/=i,t.debug("getNextQuality called throughput:".concat(b," latency:").concat(c," bufferSize:").concat(f," currentQualityIndex:").concat(m," playbackRate:").concat(A));var S=T[m],w=S.bitrate*v.getSegmentDuration()/_,C=Math.max(0,w-E);if(E-w<v.getMinBuffer())return t.debug("Buffer is low for bitrate= ".concat(S.bitrate," downloadTime=").concat(w," currentBuffer=").concat(E," rebuffer=").concat(C)),function(e,t){var r=0,i=e;if(n)for(var a=0;a<n.length;a++){var s=n[a];s.bitrate<e.bitrate&&s.bitrate>r&&t>s.bitrate&&(r=s.bitrate,i=s)}return i}(S,_).qualityIndex;switch(l){case CC:s=[.4,.4,.4,.4];break;case IC:!function(e){s=function(e,t){for(var n=[],r=Math.sqrt(2/e),i=0;i<t;i++)n.push(Math.random()*r);return s=n}(e.length,4)}(T);break;default:g(v,T,y,E,C,_,A)}for(var I=null,k=null,R=null,D=0;D<T.length;D++){var M=T[D],L=M.state,N=[L.throughput,L.latency,L.rebuffer,L.switch],B=s.slice(),x=v.getNextBufferWithBitrate(M.bitrate,E,_),P=x<v.getMinBuffer();P&&t.debug("Buffer is low for bitrate=".concat(M.bitrate," downloadTime=").concat(w," currentBuffer=").concat(E," nextBuffer=").concat(x)),(M.bitrate>u-1e4||P)&&M.bitrate!==a&&(B[0]=100);var O=h(N,[b,0,0,0],B);(null===I||O<I)&&(I=O,k=M.qualityIndex,R=M)}var F=Math.abs(S.bitrate-R.bitrate)/r;return p(S,T,[b,c,C,F]),p(R,T,[b,0,0,F]),k},reset:function(){c()}},t=_b(u).getInstance().getLogger(e),c(),e}RC.__dashjs_factory_name="LearningAbrController";var DC=ib.getClassFactory(RC),MC=function e(){_class_call_check(this,e),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0};function LC(){var e,t,n,r,i;function a(){t=null,n=null,r=null,i=null}function s(e,t,n,r){var i=new MC;return i.type=e,i.weights.bitrateReward=t||1,i.weights.bitrateSwitchPenalty=1,i.weights.rebufferPenalty=n||1e3,i.weights.latencyPenalty=[],i.weights.latencyPenalty.push({threshold:1.1,penalty:.05*r}),i.weights.latencyPenalty.push({threshold:1e8,penalty:.1*n}),i.weights.playbackSpeedPenalty=r||200,i}function o(e,t,n,r,i){i.bitrateWSum+=i.weights.bitrateReward*e,i.lastBitrate&&(i.bitrateSwitchWSum+=i.weights.bitrateSwitchPenalty*Math.abs(e-i.lastBitrate)),i.lastBitrate=e,i.rebufferWSum+=i.weights.rebufferPenalty*t;for(var a=0;a<i.weights.latencyPenalty.length;a++){var s=i.weights.latencyPenalty[a];if(n<=s.threshold){i.latencyWSum+=s.penalty*n;break}}i.playbackSpeedWSum+=i.weights.playbackSpeedPenalty*Math.abs(1-r),i.totalQoe=i.bitrateWSum-i.bitrateSwitchWSum-i.rebufferWSum-i.latencyWSum-i.playbackSpeedWSum}return e={setupPerSegmentQoe:function(e,a,o){t=s("segment",e,a,o),n=e,r=a,i=o},logSegmentMetrics:function(e,n,r,i){t&&o(e,n,r,i,t)},getPerSegmentQoe:function(){return t},calculateSingleUseQoe:function(e,t,a,l){var u=null;return n&&r&&i&&(u=s("segment",n,r,i)),u?(o(e,t,a,l,u),u.totalQoe):0},reset:function(){a()}},a(),e}LC.__dashjs_factory_name="LoLpQoeEvaluator";var NC=ib.getClassFactory(LC);function BC(e){var t,n,r,i,a,s,o,l=e.targetLatency,u=e.bufferMin,c=e.segmentDuration,d=e.qoeEvaluator;function h(){return c}function f(e,t){var n=h();return t>n?e-n:e+n-t}return t={getMinBuffer:function(){return u},getSegmentDuration:h,getNextBufferWithBitrate:function(e,t,n){return f(t,e*c/n)},getNextBuffer:f,findWeightVector:function(e,t,i,a,s,o){var h=null,p=null,A=null,g=Math.abs(t-r);return e.forEach((function(e){n.forEach((function(n){n[0];var r=n[1],a=n[2],m=(n[3],e.bitrate*c/s),v=f(i,m),y=(0===a?10:1/a)*Math.max(1e-5,m-v),E=(0===r?10:1/r)*e.state.latency,_=d.calculateSingleUseQoe(e.bitrate,y,E,o);(null===h||_>h)&&function(e,t,n){if(e>l+n)return!1;return t>=u}(t,v,g)&&(h=_,p=n,A=e.bitrate)}))})),null===p&&null===A&&(p=-1),r=t,p}},i=[.2,.4,.6,.8,1],a=4,s=i.map((function(e){return[e]})),o=function(e,t,n){if(n===t)return e;for(var r=e.length,a=0;a<r;a++)for(var s=e.shift(),l=0;l<i.length;l++)e.push(s.concat(i[l]));return o(e,t,n+1)},n=o(s,a,1),r=0,t}BC.__dashjs_factory_name="LoLpWeightSelector";var xC=ib.getClassFactory(BC);function PC(e){var t,n,r,i,a=(e=e||{}).dashMetrics,s=this.context;return n={getMaxIndex:function(e){try{var n=cC(s).create(),o=e.getMediaInfo().type,l=e.getAbrController(),u=e.getStreamInfo(),c=l.getQualityFor(o,u.id),d=e.getMediaInfo(),h=a.getCurrentBufferState(o),f=e.getScheduleController(),p=a.getCurrentBufferLevel(o,!0),A=u&&u.manifestInfo?u.manifestInfo.isDynamic:null,g=f.getPlaybackController(),m=g.getCurrentLiveLatency();if(!e.useLoLPABR()||o===eb.AUDIO)return n;m||(m=0);var v=g.getPlaybackRate(),y=l.getThroughputHistory().getSafeAverageThroughput(o,A);if(t.debug("Throughput ".concat(Math.round(y)," kbps")),isNaN(y)||!h)return n;if(l.getAbandonmentStateFor(u.id,o)===nb.ABANDON_LOAD)return n;for(var E=d.bitrateList,_=e.getRepresentationInfo().fragmentDuration,T=E[0].bandwidth/1e3,b=E[E.length-1].bandwidth/1e3,S=0;S<E.length;S++){var w=E[S].bandwidth/1e3;w>b?b=w:w<T&&(T=w)}var C=E[c].bandwidth/1e3,I=a.getCurrentHttpRequest(o,!0),k=(I.tresponse.getTime()-I.trequest.getTime())/1e3,R=k>_?k-_:0;i.setupPerSegmentQoe(_,b,T),i.logSegmentMetrics(C,R,m,v);var D=xC(s).create({targetLatency:1.5,bufferMin:.3,segmentDuration:_,qoeEvaluator:i});return n.quality=r.getNextQuality(d,1e3*y,m,p,v,c,D),n.reason={throughput:y,latency:m},n.priority=cC.PRIORITY.STRONG,f.setTimeToLoadDelay(0),n.quality!==c&&t.debug("[TgcLearningRule]["+o+"] requesting switch to index: ",n.quality,"Average throughput",Math.round(y),"kbps"),n}catch(e){throw e}},reset:function(){r.reset(),i.reset()}},t=_b(s).getInstance().getLogger(n),r=DC(s).create(),i=NC(s).create(),n}PC.__dashjs_factory_name="LoLPRule";var OC=ib.getClassFactory(PC),FC="qualitySwitchRules",UC="abandonFragmentRules";function jC(e){e=e||{};var t,n,r=this.context,i=e.mediaPlayerModel,a=e.customParametersModel,s=e.dashMetrics,o=e.settings;function l(e){return e.filter((function(e){return e.quality>cC.NO_CHANGE}))}function u(e){var t,n,i,a,s,o={},l=null;if(0!==e.length){for(o[cC.PRIORITY.STRONG]={quality:cC.NO_CHANGE,reason:null},o[cC.PRIORITY.WEAK]={quality:cC.NO_CHANGE,reason:null},o[cC.PRIORITY.DEFAULT]={quality:cC.NO_CHANGE,reason:null},t=0,n=e.length;t<n;t+=1)(i=e[t]).quality!==cC.NO_CHANGE&&(o[i.priority].quality===cC.NO_CHANGE||o[i.priority].quality>i.quality)&&(o[i.priority].quality=i.quality,o[i.priority].reason=i.reason||null);return o[cC.PRIORITY.WEAK].quality!==cC.NO_CHANGE&&(l=o[cC.PRIORITY.WEAK]),o[cC.PRIORITY.DEFAULT].quality!==cC.NO_CHANGE&&(l=o[cC.PRIORITY.DEFAULT]),o[cC.PRIORITY.STRONG].quality!==cC.NO_CHANGE&&(l=o[cC.PRIORITY.STRONG]),l&&(a=l.quality,s=l.reason),cC(r).create(a,s)}}return{initialize:function(){t=[],n=[],o.get().streaming.abr.useDefaultABRRules&&(o.get().streaming.abr.ABRStrategy===eb.ABR_STRATEGY_L2A?t.push(wC(r).create({dashMetrics:s,settings:o})):o.get().streaming.abr.ABRStrategy===eb.ABR_STRATEGY_LoLP?t.push(OC(r).create({dashMetrics:s})):(t.push(bC(r).create({dashMetrics:s,mediaPlayerModel:i,settings:o})),t.push(hC(r).create({dashMetrics:s})),o.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&t.push(pC(r).create({dashMetrics:s,settings:o})),o.get().streaming.abr.additionalAbrRules.switchHistoryRule&&t.push(EC(r).create()),o.get().streaming.abr.additionalAbrRules.droppedFramesRule&&t.push(vC(r).create()),o.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&n.push(gC(r).create({dashMetrics:s,mediaPlayerModel:i,settings:o})))),a.getAbrCustomRules().forEach((function(e){e.type===FC&&t.push(e.rule(r).create()),e.type===UC&&n.push(e.rule(r).create())}))},reset:function(){[t,n].forEach((function(e){e&&e.length&&e.forEach((function(e){return e.reset&&e.reset()}))})),t=[],n=[]},getMaxQuality:function(e){return u(l(t.map((function(t){return t.getMaxIndex(e)}))))||cC(r).create()},getMinSwitchRequest:u,shouldAbandonFragment:function(e,t){var i=u(l(n.map((function(n){return n.shouldAbandon(e,t)}))));return i&&(i.reason.forceAbandon=!0),i||cC(r).create()},getQualitySwitchRules:function(){return t}}}jC.__dashjs_factory_name="ABRRulesCollection";var QC=ib.getClassFactory(jC);QC.QUALITY_SWITCH_RULES=FC,QC.ABANDON_FRAGMENT_RULES=UC,ib.updateSingletonFactory(jC.__dashjs_factory_name,QC);var GC=QC;function VC(){var e,t,n,r,i,a,s,o,l=this.context,u=Vb(l).getInstance();function c(){r=[],i=[],a=[],o=[],s=null,t=[]}function d(e,t){var n=-1;e.some((function(e,r){if(e===t)return n=r,!0})),n<0||e.splice(n,1)}function h(e){var t;for(t=0;t<o.length;t++)if(o[t].rulename===e)return t;return-1}function f(e,n){p(e,n);var r=new tw;r.schemeIdUri=e,r.value=n,t.push(r)}function p(e,n){gS(e,"string"),gS(n,"string"),t.forEach((function(r,i){r.schemeIdUri===e&&r.value===n&&t.splice(i,1)}))}return e={getCustomInitialTrackSelectionFunction:function(){return s},setCustomInitialTrackSelectionFunction:function(e){s=e},resetCustomInitialTrackSelectionFunction:function(){s=null},getLicenseResponseFilters:function(){return i},getLicenseRequestFilters:function(){return r},getCustomCapabilitiesFilters:function(){return a},registerCustomCapabilitiesFilter:function(e){a.push(e)},registerLicenseResponseFilter:function(e){i.push(e)},registerLicenseRequestFilter:function(e){r.push(e)},unregisterCustomCapabilitiesFilter:function(e){d(a,e)},unregisterLicenseResponseFilter:function(e){d(i,e)},unregisterLicenseRequestFilter:function(e){d(r,e)},addAbrCustomRule:function(e,t,n){if("string"!=typeof e||e!==GC.ABANDON_FRAGMENT_RULES&&e!==GC.QUALITY_SWITCH_RULES||"string"!=typeof t)throw eb.BAD_ARGUMENT_ERROR;var r=h(t);-1===r?o.push({type:e,rulename:t,rule:n}):(o[r].type=e,o[r].rule=n)},removeAllAbrCustomRule:function(){o=[]},removeAbrCustomRule:function(e){if(e){var t=h(e);-1!==t&&o.splice(t,1)}else o=[]},getAbrCustomRules:function(){return o},addUTCTimingSource:f,removeUTCTimingSource:p,getUTCTimingSources:function(){return t},clearDefaultUTCTimingSources:function(){t=[]},restoreDefaultUTCTimingSources:function(){var e=u.get().streaming.utcSynchronization.defaultTimingSource;f(e.scheme,e.value)},setXHRWithCredentialsForType:function e(t,r){t?n[t]=!!r:Object.keys(n).forEach((function(t){e(t,r)}))},getXHRWithCredentialsForType:function(e){var t=n[e];return void 0===t?n.default:t},setConfig:function(){},reset:function(){c()}},n={default:!1},c(),e}VC.__dashjs_factory_name="CustomParametersModel";var HC=ib.getSingletonFactory(VC);function YC(e){e=e||{};var t,n,r,i,a,s,o,l,u,c,d=this.context,h=e.errHandler,f=e.dashMetrics,p=e.mediaPlayerModel,A=e.requestModifier,g=e.boxParser,m=e.errors,v=e.requestTimeout||0,y=cb(d).getInstance(),E=Vb(d).getInstance();function _(e,t){var m,T=e.request,b=[],S=!0,w=!0,C=new Date,I=C,k=0,R=null,D=null;if(!A||!f||!h)throw new Error("config object is not correct or missing");var M,L=function(e){T.requestStartDate=C,T.requestEndDate=new Date,T.firstByteDate=T.firstByteDate||C,T.fileLoaderType=D;var t=m.response?m.response.responseURL:null,n=m.response?m.response.status:null,r=m.response&&m.response.getAllResponseHeaders?m.response.getAllResponseHeaders():m.response?m.response.responseHeaders:null,i=r&&E.get().streaming.cmsd&&E.get().streaming.cmsd.enabled?o.parseResponseHeaders(r,T.mediaType):null;f.addHttpRequest(T,t,n,r,e?b:null,i)},N=function(e){w=!1,L(e),T.type===Sb.MPD_TYPE&&(f.addManifestUpdate(T),y.trigger(fb.MANIFEST_LOADING_FINISHED,{request:T}))},B=function(){if(R&&(clearTimeout(R),R=null),-1!==n.indexOf(m)&&(n.splice(n.indexOf(m),1),w))if(N(!1),t>0){try{if(E.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&T.type===Sb.MEDIA_SEGMENT_TYPE)p.getRetryAttemptsForType(Sb.MEDIA_SEGMENT_TYPE)===t&&y.trigger(fb.ATTEMPT_BACKGROUND_SYNC)}catch(e){}t--;var r={config:e};i.push(r),r.timeout=setTimeout((function(){-1!==i.indexOf(r)&&(i.splice(i.indexOf(r),1),_(e,t))}),p.getRetryIntervalsForType(T.type))}else{if(T.type===Sb.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;h.error(new Bb(a[T.type],T.url+" is not available",{request:T,response:m.response})),e.error&&e.error(T,"error",m.response.statusText,m.response),e.complete&&e.complete(T,m.response.statusText)}};T.hasOwnProperty("availabilityTimeComplete")&&!1===T.availabilityTimeComplete&&window.fetch&&"arraybuffer"===T.responseType&&T.type===Sb.MEDIA_SEGMENT_TYPE?((M=zS(d).create({requestModifier:A,lowLatencyThroughputModel:u,boxParser:g})).setup({dashMetrics:f}),D=eb.FILE_LOADER_TYPES.FETCH):(M=YS(d).create({requestModifier:A}),D=eb.FILE_LOADER_TYPES.XHR);var x=null,P=A.modifyRequestURL?A.modifyRequestURL(T.url):T.url;if(E.get().streaming.cmcd&&E.get().streaming.cmcd.enabled){var O=E.get().streaming.cmcd.mode;if(O===eb.CMCD_MODE_QUERY){var F=function(e){try{var t=[],n=s.getQueryParameter(e);return n&&t.push(n),t}catch(e){return[]}}(T);P=Qb.addAditionalQueryParameterToUrl(P,F)}else O===eb.CMCD_MODE_HEADER&&(x=s.getHeaderParameters(T))}var U=l.getXHRWithCredentialsForType(T.type);if(T.queryParams){var j=Object.keys(T.queryParams).map((function(e){return{key:e,value:T.queryParams[e]}}));P=Qb.addAditionalQueryParameterToUrl(P,j)}T.url=P,m={url:P,method:Sb.GET,withCredentials:U,request:T,onload:function(){m.response.status>=200&&m.response.status<=299&&(N(!0),e.success&&e.success(m.response.response,m.response.statusText,m.response.responseURL),e.complete&&e.complete(T,m.response.statusText))},onend:B,onerror:B,progress:function(t){var n=new Date;S&&(S=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(T.firstByteDate=n)),t.lengthComputable&&(T.bytesLoaded=t.loaded,T.bytesTotal=t.total),t.noTrace||(b.push({s:I,d:t.time?t.time:n.getTime()-I.getTime(),b:[t.loaded?t.loaded-k:0]}),I=n,k=t.loaded),R&&(clearTimeout(R),R=null),E.get().streaming.fragmentRequestProgressTimeout>0&&(R=setTimeout((function(){c.warn("Abort request "+m.url+" due to progress timeout"),m.response.onabort=null,m.loader.abort(m),B()}),E.get().streaming.fragmentRequestProgressTimeout)),e.progress&&t&&e.progress(t)},onabort:function(){L(!0),R&&(clearTimeout(R),R=null),e.abort&&e.abort(T)},ontimeout:function(e){var t;if(e.lengthComputable){var n=e.loaded/e.total*100;t="Request timeout: loaded: "+e.loaded+", out of: "+e.total+" : "+n.toFixed(3)+"% Completed"}else t="Request timeout: non-computable download size";c.warn(t)},loader:M,timeout:v,headers:x};var Q=(new Date).getTime();if(isNaN(T.delayLoadingTime)||Q>=T.delayLoadingTime)n.push(m),M.load(m);else{var G={httpRequest:m};r.push(G),G.delayTimeout=setTimeout((function(){if(-1!==r.indexOf(G)){r.splice(r.indexOf(G),1);try{C=new Date,I=C,n.push(G.httpRequest),M.load(G.httpRequest)}catch(e){G.httpRequest.onerror()}}}),T.delayLoadingTime-Q)}}return t={load:function(e){e.request?_(e,p.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")},abort:function(){i.forEach((function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),i=[],r.forEach((function(e){return clearTimeout(e.delayTimeout)})),r=[],n.forEach((function(e){e.request.type!==Sb.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e))})),n=[]}},function(){var e;c=_b(d).getInstance().getLogger(t),n=[],r=[],i=[],s=Qw(d).getInstance(),o=iC(d).getInstance(),u=sC(d).getInstance(),l=HC(d).getInstance(),_define_property(e={},Sb.MPD_TYPE,m.DOWNLOAD_ERROR_ID_MANIFEST_CODE),_define_property(e,Sb.XLINK_EXPANSION_TYPE,m.DOWNLOAD_ERROR_ID_XLINK_CODE),_define_property(e,Sb.INIT_SEGMENT_TYPE,m.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),_define_property(e,Sb.MEDIA_SEGMENT_TYPE,m.DOWNLOAD_ERROR_ID_CONTENT_CODE),_define_property(e,Sb.INDEX_SEGMENT_TYPE,m.DOWNLOAD_ERROR_ID_CONTENT_CODE),_define_property(e,Sb.BITSTREAM_SWITCHING_SEGMENT_TYPE,m.DOWNLOAD_ERROR_ID_CONTENT_CODE),_define_property(e,Sb.OTHER_TYPE,m.DOWNLOAD_ERROR_ID_CONTENT_CODE),a=e}(),t}YC.__dashjs_factory_name="HTTPLoader";var qC=ib.getClassFactory(YC);function zC(){var e;function t(){e={}}function n(){t()}return n(),{getLoader:function(t){for(var n in e)if(e.hasOwnProperty(n)&&t.startsWith(n))return e[n];return qC},registerLoader:function(t,n){e[t]=n},unregisterLoader:function(t){e[t]&&delete e[t]},unregisterAllLoader:t,reset:n}}zC.__dashjs_factory_name="SchemeLoaderFactory";var WC=ib.getSingletonFactory(zC);function KC(e){e=e||{};var t,n,r=this.context;return t=WC(r).getInstance(),{load:function(i){if(!n){var a=t.getLoader(i&&i.request?i.request.url:null);n=a(r).create({errHandler:e.errHandler,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,dashMetrics:e.dashMetrics,boxParser:e.boxParser?e.boxParser:null,constants:e.constants?e.constants:null,dashConstants:e.dashConstants?e.dashConstants:null,urlUtils:e.urlUtils?e.urlUtils:null,requestTimeout:isNaN(e.requestTimeout)?0:e.requestTimeout,errors:e.errors})}n.load(i)},abort:function(){n&&n.abort()}}}KC.__dashjs_factory_name="URLLoader";var XC=ib.getClassFactory(KC),JC=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e)).checkForExistenceOnly=!0,r}return n}(Ib),ZC=JC;function $C(e){e=e||{};var t,n,r=this.context,i=e.eventBus,a=e.events,s=e.urlUtils,o=e.errors,l=e.streamId;return t={checkForExistence:function(e){var t=function(t){i.trigger(a.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var r=new ZC(e.url);n.load({request:r,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var r=function(n,r){i.trigger(a.LOADING_COMPLETED,{request:e,response:n||null,error:r||null,sender:t})};e?n.load({request:e,progress:function(n){i.trigger(a.LOADING_PROGRESS,{request:e,stream:n.stream,streamId:l}),n.data&&i.trigger(a.LOADING_DATA_PROGRESS,{request:e,response:n.data||null,error:null,sender:t})},success:function(e){r(e)},error:function(e,t,n){r(void 0,new Bb(o.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,n,t))},abort:function(e){e&&i.trigger(a.LOADING_ABANDONED,{mediaType:e.mediaType,request:e,sender:t})}}):r(void 0,new Bb(o.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,o.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){n&&n.abort()},reset:function(){n&&(n.abort(),n=null)}},n=XC(r).create({errHandler:e.errHandler,errors:o,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:s,constants:eb,boxParser:e.boxParser,dashConstants:e.dashConstants,requestTimeout:e.settings.get().streaming.fragmentRequestTimeout}),t}$C.__dashjs_factory_name="FragmentLoader";var eI=ib.getClassFactory($C);function tI(){return{modifyResponseAsync:function(e){return Promise.resolve(e)}}}tI.__dashjs_factory_name="SegmentResponseModifier";var nI=ib.getSingletonFactory(tI);function rI(e){e=e||{};var t,n,r,i=this.context,a=cb(i).getInstance(),s=e.errHandler,o=e.mediaPlayerModel,l=e.dashMetrics,u=_b(i).getInstance(),c=nI(i).getInstance(),d=e.streamInfo;function h(){return d.id}function f(){for(var e in r)r[e].reset();r={}}function p(e){if(e.sender){var t=e.request,r=e.response,i=t.isInitializationRequest(),s=t.mediaInfo.streamInfo;if(e.error&&(t.mediaType===eb.AUDIO||t.mediaType===eb.VIDEO||t.mediaType===eb.TEXT&&t.mediaInfo.isFragmented)&&a.trigger(fb.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:e.request.serviceLocation}),r&&s){var o=function(e,t,n,r){var i=new VS;return i.streamId=n,i.mediaInfo=t.mediaInfo,i.segmentType=t.type,i.start=t.startTime,i.duration=t.duration,i.end=i.start+i.duration,i.bytes=e,i.index=t.index,i.quality=t.quality,i.representationId=t.representationId,i.endFragment=r,i}(r,t,d.id,e.type!==fb.FRAGMENT_LOADING_PROGRESS);c.modifyResponseAsync(o).then((function(e){a.trigger(i?fb.INIT_FRAGMENT_LOADED:fb.MEDIA_FRAGMENT_LOADED,{chunk:e,request:t},{streamId:s.id,mediaType:t.mediaType})})).catch((function(e){n.error(e),a.trigger(i?fb.INIT_FRAGMENT_LOADED:fb.MEDIA_FRAGMENT_LOADED,{chunk:o,request:t},{streamId:s.id,mediaType:t.mediaType})}))}else n.warn("No "+t.mediaType+" bytes to push or stream is inactive.")}}return t={getStreamId:h,getModel:function(t){var n=r[t];return n||(n=Nb(i).create({streamInfo:d,type:t,dashMetrics:l,fragmentLoader:eI(i).create({dashMetrics:l,mediaPlayerModel:o,errHandler:s,requestModifier:TS(i).getInstance(),settings:e.settings,boxParser:e.boxParser,eventBus:a,events:fb,errors:Ob,dashConstants:e.dashConstants,urlUtils:e.urlUtils,streamId:h()}),debug:u,eventBus:a,events:fb}),r[t]=n),n},reset:function(){a.off(ob.FRAGMENT_LOADING_COMPLETED,p,this),a.off(ob.FRAGMENT_LOADING_PROGRESS,p,this),f()}},n=u.getLogger(t),f(),a.on(ob.FRAGMENT_LOADING_COMPLETED,p,t),a.on(ob.FRAGMENT_LOADING_PROGRESS,p,t),t}rI.__dashjs_factory_name="FragmentController";var iI=ib.getClassFactory(rI),aI=function e(){_class_call_check(this,e),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},sI=function e(){_class_call_check(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function oI(e){var t,n,r=this.context,i=e.streamInfo;function a(e){n.setTrackByIndex(e)}function s(){n&&n.reset()}return t={getStreamId:function(){return i.id},initialize:function(){n.addTracks();var e=n.getTracks();e&&e.length>0&&a(0)},provide:function(e,t){if("function"==typeof t){var r,i,a=n.getCurrentTrack();if(!a||a.segmentDuration<=0||null==e)t(null);else{(i=n.getThumbnailRequestForTime(e))&&(a.segmentDuration=i.duration),r=e%a.segmentDuration;var s=Math.floor(r*a.tilesHor*a.tilesVert/a.segmentDuration),o=new aI;if(o.width=Math.floor(a.widthPerTile),o.height=Math.floor(a.heightPerTile),o.x=Math.floor(s%a.tilesHor)*a.widthPerTile,o.y=Math.floor(s/a.tilesHor)*a.heightPerTile,"readThumbnail"in a)return a.readThumbnail(e,(function(e){o.url=e,t(o)}));if(i)o.url=i.url,a.segmentDuration=NaN;else{var l=Math.floor(e/a.segmentDuration);o.url=function(e,t){var n=t+e.startNumber,r=uS(e.templateUrl,"Number",n);return r=uS(r,"Time",(n-1)*e.segmentDuration*e.timescale),r=uS(r,"Bandwidth",e.bandwidth),oS(r)}(a,l)}t(o)}}},setTrackByIndex:a,getCurrentTrackIndex:function(){return n.getCurrentTrackIndex()},getBitrateList:function(){var e=n.getTracks(),t=0;return e.map((function(e){var n=new sI;return n.mediaType=eb.IMAGE,n.qualityIndex=t++,n.bitrate=e.bitrate,n.width=e.width,n.height=e.height,n}))},reset:s},s(),n=bw(r).create({streamInfo:i,adapter:e.adapter,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:e.debug,eventBus:e.eventBus,events:e.events,dashConstants:e.dashConstants,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController}),t}oI.__dashjs_factory_name="ThumbnailController";var lI=ib.getClassFactory(oI);function uI(e){var t;e=e||{};var n=[],r=cb(this.context).getInstance(),i=e.updateEventName,a=e.addBlacklistEventName;function s(e){-1===n.indexOf(e)&&(n.push(e),r.trigger(i,{entry:e}))}function o(e){s(e.entry)}return t={add:s,contains:function(e){return!!(n.length&&e&&e.length)&&-1!==n.indexOf(e)},reset:function(){n=[]}},a&&r.on(a,o,t),t}uI.__dashjs_factory_name="BlackListController";var cI=ib.getClassFactory(uI),dI=[eb.VIDEO,eb.AUDIO,eb.TEXT,eb.MUXED,eb.IMAGE];function hI(e){e=e||{};var t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y=this.context,E=cb(y).getInstance(),_=CS(y).getInstance(),T=e.manifestModel,b=e.mediaPlayerModel,S=e.dashMetrics,w=e.manifestUpdater,C=e.adapter,I=e.timelineConverter,k=e.capabilities,R=e.errHandler,D=e.abrController,M=e.playbackController,L=e.eventController,N=e.mediaController,B=e.protectionController,x=e.textController,P=e.videoModel,O=e.streamInfo,F=e.settings;function U(e,t){return new Promise((function(i,a){W(),c=!0,X();var s=P.getElement(),o=[];dI.forEach((function(t){(t!==eb.TEXT||e)&&(t!==eb.VIDEO||!s||s&&/^VIDEO$/i.test(s.nodeName))&&o.push(j(t,e))})),Promise.all(o).then((function(){return e=t,new Promise((function(t){var n={},i=r.map((function(t){return t.createBufferSinks(e)}));Promise.all(i).then((function(e){e.forEach((function(e){e&&(n[e.getType()]=e)})),t(n)})).catch((function(){t(n)}))}));var e})).then((function(t){if(c=!1,0===r.length){var a="No streams to play.";R.error(new Bb(Ob.MANIFEST_ERROR_ID_NOSTREAMS_CODE,a,T.getValue())),n.fatal(a)}else J();e&&x.createTracks(O),i(t)})).catch((function(e){a(e)}))}))}function j(t,i){var a,s=C.getAllMediaInfoForType(O,t),u=[],c=null;if(!s||0===s.length)return n.info("No "+t+" data."),Promise.resolve();t===eb.VIDEO&&(o=!0),t===eb.AUDIO&&(l=!0);for(var p=0,m=s.length;p<m;p++)c=s[p],t===eb.TEXT&&c.isEmbedded&&(x.addEmbeddedTrack(O,c),u.push(c)),Q(c)&&N.addTrack(c);if(u.length>0&&(N.setInitialMediaSettingsForType(t,O),x.addMediaInfosToBuffer(O,t,u)),0===(s=s.filter((function(e){return!e.isEmbedded}))).length)return Promise.resolve();if(t===eb.IMAGE)return(h=lI(y).create({streamInfo:O,adapter:C,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:g,eventBus:E,events:fb,dashConstants:tb,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController})).initialize(),Promise.resolve();E.trigger(fb.STREAM_INITIALIZING,{streamInfo:O,mediaInfo:c}),N.setInitialMediaSettingsForType(t,O);var v=function(t,n){var i=t&&t.length>0?t[0]:null,a=d.getModel(i?i.type:null),s=i?i.type:null,l=i?i.mimeType:null,u=i?i.isFragmented:null,c=GS(y).create({streamInfo:O,type:s,mimeType:l,timelineConverter:I,adapter:C,manifestModel:T,mediaPlayerModel:b,fragmentModel:a,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,segmentBaseController:e.segmentBaseController,abrController:D,playbackController:M,mediaController:N,textController:x,errHandler:R,settings:F,boxParser:A,segmentBlacklistController:f});c.initialize(n,o,u),r.push(c);for(var h=0;h<t.length;h++)c.addMediaInfo(t[h]);s===eb.TEXT&&x.addMediaInfosToBuffer(O,s,t,a);return c}(s,i);return(a=N.getCurrentTrackFor(t,O.id))?(D.updateTopQualityIndex(a),v.selectMediaInfo(t===eb.TEXT&&a.isEmbedded?s[0]:a)):Promise.resolve()}function Q(e){var t,r=e?e.type:null;return r===eb.MUXED?(t="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",n.fatal(t),R.error(new Bb(Ob.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,t,T.getValue())),!1):r===eb.TEXT||r===eb.IMAGE||(!(e.contentProtection&&!k.supportsEncryptedMedia())||(R.error(new Bb(Ob.CAPABILITY_MEDIAKEYS_ERROR_CODE,Ob.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),!1))}function G(e){for(var t=r?r.length:0,n=0;n<t;n++){var i=r[n].getFragmentModel();i.abortRequests(),i.resetInitialSettings(),r[n].reset(false,e)}x&&x.deactivateStream(O),r=[],a=!1,s=!1,oe(!1),H(!1),E.trigger(fb.STREAM_DEACTIVATED,{streamInfo:O})}function V(e){G(e),i=!1,o=!1,l=!1,u={},c=!1,m=!1,v=[]}function H(e){m=e}function Y(){return O?O.start:NaN}function q(){return O?O.id:null}function z(){return O}function W(){if(!P||!D)throw new Error(eb.MISSING_CONFIG_ERROR)}function K(e){e.error&&(R.error(e.error),n.fatal(e.error.message))}function X(){if(L){var e=C.getEventsFor(O);e&&e.length>0&&L.addInlineEvents(e,O.id)}}function J(){for(var e=r.length,t=!!u.audio||!!u.video?new Bb(Ob.DATA_UPDATE_FAILED_ERROR_CODE,Ob.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,n=0;n<e;n++)if(r[n].isUpdating()||c)return;if(B){B.clearMediaInfoArray();for(var a=0;a<e&&r[a];a++){var s=r[a].getType(),o=r[a].getMediaInfo();if(s===eb.AUDIO||s===eb.VIDEO||s===eb.TEXT&&o.isFragmented){var l=r[a].getMediaInfo();l&&B.initializeForMedia(l)}}B.handleKeySystemFromManifest()}t?R.error(t):i||(i=!0,P.waitForReadyState(eb.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(function(){E.trigger(fb.STREAM_INITIALIZED,{streamInfo:O})})))}function Z(){var e=re(),t=e.length;if(0!==t){for(var r=0;r<t;r++)if(!e[r].isBufferingCompleted()&&(e[r].getType()===eb.AUDIO||e[r].getType()===eb.VIDEO))return void n.debug("onBufferingCompleted - One streamProcessor has finished but",e[r].getType(),"one is not buffering completed");n.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),s=!0,E.trigger(fb.STREAM_BUFFERING_COMPLETED,{streamInfo:O},{streamInfo:O})}else n.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function $(e){u[e.mediaType]=e.error,J()}function ee(e){L&&L.addInbandEvents(e.events,O.id)}function te(e){return e&&e.type?ne(e.type):null}function ne(e){return e?re().filter((function(t){return t.getType()===e}))[0]:null}function re(){for(var e,t,n=[],i=0;i<r.length;i++)(e=(t=r[i]).getType())!==eb.AUDIO&&e!==eb.VIDEO&&e!==eb.TEXT||n.push(t);return n}function ie(e,t){var n=z(),r=t.getStreamInfo();if(!r||!n)return!0;var i=C.getAdaptationForType(r.index,e,r),a=C.getAdaptationForType(n.index,e,n);return i&&a?!(!ae(a)&&ae(i)):!i&&!a}function ae(e){return!!e&&!!(e.ContentProtection||e.Representation_asArray&&e.Representation_asArray.length>0&&e.Representation_asArray[0].ContentProtection)}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!e.hasOwnProperty("getStreamInfo"))return!1;var r=e.getStreamInfo(),i=n?n.getStreamInfo():z();if(!r||!i)return!1;var a=C.getAdaptationForType(r.index,t,r),s=C.getAdaptationForType(i.index,t,i);if(!a||!s)return!a&&!s;var o=a&&s&&a.mimeType===s.mimeType,l=s.Representation_asArray.map((function(e){return e.codecs})),u=a.Representation_asArray.map((function(e){return e.codecs})),c=u.some((function(e){return l.indexOf(e)>-1})),d=u.some((function(e){return l.some((function(t){return k.codecRootCompatibleWithCodec(t,e)}))}));return c||d&&o}function oe(e){p=e}function le(){return p}return t={initialize:function(){E.on(fb.BUFFERING_COMPLETED,Z,t),E.on(fb.DATA_UPDATE_COMPLETED,$,t),E.on(fb.INBAND_EVENTS,ee,t),B&&(E.on(fb.KEY_ERROR,K,t),E.on(fb.SERVER_CERTIFICATE_UPDATED,K,t),E.on(fb.LICENSE_REQUEST_COMPLETE,K,t),E.on(fb.KEY_SYSTEM_SELECTED,K,t),E.on(fb.KEY_SESSION_CREATED,K,t),E.on(fb.KEY_STATUSES_CHANGED,K,t)),x.initializeForStream(O),E.trigger(fb.STREAM_UPDATED,{streamInfo:O})},getStreamId:function(){return O?O.id:null},activate:function(e,t){return new Promise((function(n,r){if(!a)return le()?(a=!0,E.trigger(fb.STREAM_ACTIVATED,{streamInfo:O}),void n(t)):void function(e,t){return U(e,t)}(e,t).then((function(e){a=!0,E.trigger(fb.STREAM_ACTIVATED,{streamInfo:O}),n(e)})).catch((function(e){r(e)}));n(t)}))},deactivate:G,getIsActive:function(){return a},getDuration:function(){return O?O.duration:NaN},getStartTime:Y,getId:q,getStreamInfo:z,getHasAudioTrack:function(){return l},getHasVideoTrack:function(){return o},startPreloading:function(e,t){return new Promise((function(i,a){le()?a():(n.info("[startPreloading] Preloading next stream with id ".concat(q())),oe(!0),U(e,t).then((function(){for(var e=0;e<r.length&&r[e];e++)r[e].setExplicitBufferingTime(Y()),r[e].getScheduleController().startScheduleTimer();i()})).catch((function(){oe(!1),a()})))}))},initializeForTextWithMediaSource:function(e){return new Promise((function(t,n){j(eb.TEXT,e).then((function(){return function(){var e=ne(eb.TEXT);if(e)return e.createBufferSinks();return Promise.resolve()}()})).then((function(){x.createTracks(O),t()})).catch((function(e){n(e)}))}))},getThumbnailController:function(){return h},getBitrateListFor:function(e){if(W(),e===eb.IMAGE)return h?h.getBitrateList():[];var t=function(e){for(var t=null,n=0;n<r.length;n++)if((t=r[n]).getType()===e)return t.getMediaInfo();return null}(e);return D.getBitrateList(t)},updateData:function(e){return new Promise((function(t){var n=function(e,t){var n=r[e],a=n.getMediaInfo();i.push(n.updateStreamInfo(O));var s=C.getAllMediaInfoForType(O,n.getType());if(s=s.filter((function(e){return!e.isEmbedded}))){n.clearMediaInfoArray();for(var o=0;o<s.length;o++){var l=s[o];n.addMediaInfo(s[o]),C.areMediaInfosEqual(a,l)&&(D.updateTopQualityIndex(l),i.push(n.selectMediaInfo(l)))}}};c=!0,O=e,L&&X();for(var i=[],a=0,s=r.length;a<s;a++)n(a);Promise.all(i).then((function(){for(i=[];v.length>0;){var e=v.pop(),t=e.newMediaInfo,n=te(e.oldMediaInfo);if(!n)return;i.push(n.prepareTrackSwitch()),i.push(n.selectMediaInfo(t))}return Promise.all(i)})).then((function(){c=!1,J(),E.trigger(fb.STREAM_UPDATED,{streamInfo:O}),t()}))}))},reset:function(e){d&&(d.reset(),d=null),D&&O&&D.clearDataForStream(O.id),f&&(f.reset(),f=null),V(e),O=null,E.off(fb.DATA_UPDATE_COMPLETED,$,t),E.off(fb.BUFFERING_COMPLETED,Z,t),E.off(fb.INBAND_EVENTS,ee,t),B&&(E.off(fb.KEY_ERROR,K,t),E.off(fb.SERVER_CERTIFICATE_UPDATED,K,t),E.off(fb.LICENSE_REQUEST_COMPLETE,K,t),E.off(fb.KEY_SYSTEM_SELECTED,K,t),E.off(fb.KEY_SESSION_CREATED,K,t),E.off(fb.KEY_STATUSES_CHANGED,K,t))},getProcessors:re,setMediaSource:function(e){return new Promise((function(t,i){for(var a=[],s=0;s<r.length;)Q(r[s].getMediaInfo())?(a.push(r[s].setMediaSource(e)),s++):(r[s].reset(),r.splice(s,1));Promise.all(a).then((function(){for(var e=0;e<r.length;e++)r[e].dischargePreBuffer();if(0===r.length){var i="No streams to play.";R.error(new Bb(Ob.MANIFEST_ERROR_ID_NOSTREAMS_CODE,i+"nostreams",T.getValue())),n.fatal(i)}t()})).catch((function(e){n.error(e),i(e)}))}))},isMediaCodecCompatible:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return se(e,eb.VIDEO,t)&&se(e,eb.AUDIO,t)},isProtectionCompatible:function(e){return!e||ie(eb.VIDEO,e)&&ie(eb.AUDIO,e)},getPreloaded:le,getIsEndedEventSignaled:function(){return m},setIsEndedEventSignaled:H,getAdapter:function(){return C},getHasFinishedBuffering:function(){return s},setPreloaded:oe,startScheduleControllers:function(){for(var e=r.length,t=0;t<e&&r[t];t++)r[t].getScheduleController().startScheduleTimer()},prepareTrackChange:function(e){if(a&&O){s=!1;var t=e.newMediaInfo,r=T.getValue();C.setCurrentMediaInfo(O.id,t.type,t);var i=te(t);if(i){var o=M.getTime();n.info("Stream -  Process track changed at current time "+o),r.refreshManifestOnSwitchTrack?(v.push(e),w.getIsUpdating()||(n.debug("Stream -  Refreshing manifest for switch track"),w.refreshManifest())):i.selectMediaInfo(t).then((function(){t.type!==eb.VIDEO&&t.type!==eb.AUDIO||D.updateTopQualityIndex(t),i.prepareTrackSwitch()}))}}},prepareQualityChange:function(e){var t=ne(e.mediaType);t&&t.prepareQualityChange(e)}},function(){try{g=_b(y).getInstance(),n=g.getLogger(t),V(),A=Ew(y).getInstance(),f=cI(y).create({updateEventName:fb.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:fb.SEGMENT_LOCATION_BLACKLIST_ADD}),d=iI(y).create({streamInfo:O,mediaPlayerModel:b,dashMetrics:S,errHandler:R,settings:F,boxParser:A,dashConstants:tb,urlUtils:_})}catch(e){throw e}}(),t}hI.__dashjs_factory_name="Stream";var fI=ib.getClassFactory(hI),pI=function e(t){_class_call_check(this,e),this.url=t||null,this.type=Sb.CONTENT_STEERING_TYPE,this.responseType="json"},AI=function e(){_class_call_check(this,e),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]},gI="_DASH_throughput",mI="_DASH_pathway";function vI(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f,p,A=this.context,g=CS(A).getInstance();function m(e){T(e,"baseUrl")}function v(e){T(e,"location")}function y(e){if(e&&e.request&&e.request.serviceLocation&&e.request.requestStartDate&&e.request.requestEndDate&&!isNaN(e.request.bytesTotal)){var t=e.request.serviceLocation,n=e.request.requestEndDate.getTime()-e.request.requestStartDate.getTime();_(t,parseInt(8*e.request.bytesTotal/n*1e3))}}function E(e){e&&e.httpRequest&&e.httpRequest._serviceLocation&&!isNaN(e.throughput)&&_(e.httpRequest._serviceLocation,1e3*e.throughput)}function _(e,t){i[e]||(i[e]=[]),i[e].push(t),i[e].length>4&&i[e].shift()}function T(e,t){if(e&&e.request&&e.request.serviceLocation){var n=e.request.serviceLocation;-1===r[t].all.indexOf(n)&&r[t].all.push(n),r[t].current=n}}function b(){var e=c.getValue(),t=p.getContentSteering(e);return t||(t=h.getServiceDescriptionSettings().contentSteering),t}function S(){return new Promise((function(e){try{var a=b();if(!a||!a.serverUrl)return void e();var o=function(e){var t=e.serverUrl;n&&n.reloadUri&&(t=g.isRelative(n.reloadUri)?g.resolve(n.reloadUri,e.serverUrl):n.reloadUri);var a=[],s=r.baseUrl.all.concat(r.location.all);if(s.length>0){var o=s.map((function(e){var t=function(e){if(!e||!i[e]||0===i[e].length)return-1;var t=i[e].reduce((function(e,t){return e+t}))/i[e].length;return parseInt(t)}(e);return{serviceLocation:e,throughput:t}}));o.sort((function(e,t){return t.throughput-e.throughput}));var l="",u="";o.forEach((function(e,t){0!==t&&(l="".concat(l,","),e.throughput>-1&&(u="".concat(u,","))),l="".concat(l).concat(e.serviceLocation),e.throughput>-1&&(u="".concat(u).concat(e.throughput))})),a.push({key:mI,value:'"'.concat(l,'"')}),a.push({key:gI,value:u})}return t=Qb.addAditionalQueryParameterToUrl(t,a),t}(a),l=new pI(o);s.load({request:l,success:function(t){!function(e){if(!e||!e[tb.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(e[tb.CONTENT_STEERING_RESPONSE.VERSION]))return;(n=new AI).version=e[tb.CONTENT_STEERING_RESPONSE.VERSION],e[tb.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(e[tb.CONTENT_STEERING_RESPONSE.TTL])&&(n.ttl=e[tb.CONTENT_STEERING_RESPONSE.TTL]);e[tb.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(n.reloadUri=e[tb.CONTENT_STEERING_RESPONSE.RELOAD_URI]);e[tb.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(n.pathwayPriority=e[tb.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]);e[tb.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(n.pathwayClones=e[tb.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],n.pathwayClones=n.pathwayClones.filter((function(e){return function(e){return e[tb.CONTENT_STEERING_RESPONSE.BASE_ID]&&e[tb.CONTENT_STEERING_RESPONSE.ID]&&e[tb.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&e[tb.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][tb.CONTENT_STEERING_RESPONSE.HOST]}(e)})));I()}(t),f.trigger(ob.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:n,url:o}),e()},error:function(r,i,a,s){!function(e,r){try{switch(t.warn("Error fetching data from content steering server",e),r.status){case 410:break;case 429:var i=r&&r.getResponseHeader?r.getResponseHeader("retry-after"):null;null!==i&&(n||(n={}),n.ttl=parseInt(i)),I();break;default:I()}}catch(e){t.error(e)}}(r,s),e(r)},complete:function(){r.baseUrl.all=w(r.baseUrl),r.location.all=w(r.location)}})}catch(t){e(t)}}))}function w(e){return e.all&&0!==e.all.length&&e.current?e.all.filter((function(t){return t===e.current})):[]}function C(e){try{var r=[];return e&&0!==e.length&&n&&n.pathwayClones&&0!==n.pathwayClones.length?(n.pathwayClones.forEach((function(t){var n=e.filter((function(e){return t[tb.CONTENT_STEERING_RESPONSE.BASE_ID]===e.serviceLocation})),i=null;if(n&&n.length>0&&(i=n[0]),i){var a=new URL(i.url),s=t[tb.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][tb.CONTENT_STEERING_RESPONSE.HOST];s=Qb.stringHasProtocol(s)?s:"".concat(a.protocol,"//").concat(s);var o={synthesizedUrl:"".concat(s).concat(a.pathname),serviceLocation:t[tb.CONTENT_STEERING_RESPONSE.ID],queryParams:t[tb.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][tb.CONTENT_STEERING_RESPONSE.PARAMS],reference:i};r.push(o)}})),r):r}catch(e){return t.error(e),[]}}function I(){n&&n.ttl&&!isNaN(n.ttl)&&(a&&clearTimeout(a),a=setTimeout((function(){S()}),1e3*n.ttl))}function k(){a&&clearTimeout(a),a=null}function R(){n=null,i={},r={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},k()}return e={reset:function(){R(),f.off(ob.FRAGMENT_LOADING_STARTED,m,e),f.off(ob.MANIFEST_LOADING_STARTED,v,e),f.off(ob.MANIFEST_LOADING_FINISHED,y,e),f.off(ob.THROUGHPUT_MEASUREMENT_STORED,E,e)},setConfig:function(e){e&&(e.adapter&&(p=e.adapter),e.errHandler&&(o=e.errHandler),e.dashMetrics&&(l=e.dashMetrics),e.mediaPlayerModel&&(u=e.mediaPlayerModel),e.requestModifier&&(d=e.requestModifier),e.manifestModel&&(c=e.manifestModel),e.serviceDescriptionController&&(h=e.serviceDescriptionController),e.eventBus&&(f=e.eventBus))},loadSteeringData:S,getCurrentSteeringResponseData:function(){return n},shouldQueryBeforeStart:function(){var e=b();return!!e&&e.queryBeforeStart},getSteeringDataFromManifest:b,stopSteeringRequestTimer:k,getSynthesizedBaseUrlElements:function(e){try{return C(e).map((function(e){var t=new iw(e.synthesizedUrl,e.serviceLocation);return t.queryParams=e.queryParams,t.dvb_priority=e.reference.dvb_priority,t.dvb_weight=e.reference.dvb_weight,t.availabilityTimeOffset=e.reference.availabilityTimeOffset,t.availabilityTimeComplete=e.reference.availabilityTimeComplete,t}))}catch(e){return t.error(e),[]}},getSynthesizedLocationElements:function(e){try{return C(e).map((function(e){var t=new Sw(e.synthesizedUrl,e.serviceLocation);return t.queryParams=e.queryParams,t}))}catch(e){return t.error(e),[]}},initialize:function(){s=XC(A).create({errHandler:o,dashMetrics:l,mediaPlayerModel:u,requestModifier:d,errors:Ob}),f.on(ob.FRAGMENT_LOADING_STARTED,m,e),f.on(ob.MANIFEST_LOADING_STARTED,v,e),f.on(ob.MANIFEST_LOADING_FINISHED,y,e),f.on(ob.THROUGHPUT_MEASUREMENT_STORED,E,e)}},t=_b(A).getInstance().getLogger(e),R(),e}vI.__dashjs_factory_name="ContentSteeringController";var yI=ib.getSingletonFactory(vI);function EI(){var e,t,n,r=this.context,i=Vb(r).getInstance();return e={select:function(e){if(!e||0===e.length)return null;var r=null;return i.get().streaming.applyContentSteering&&(r=function(e){var r=n.getCurrentSteeringResponseData();if(r&&r.pathwayPriority&&r.pathwayPriority.length>0)return function(){var e=function(){var e=n[i],s=r.findIndex((function(t){return t.serviceLocation&&t.serviceLocation===e}));if(-1!==s&&!t.contains(r[s].serviceLocation))return a=r[s],"break";i+=1},n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0,a=null;for(;i<n.length;){if("break"===e())break}return a}(r.pathwayPriority,e);return null}(e)),r||(r=function(e){return e[0]}(e)),r},setConfig:function(e){e.blacklistController&&(t=e.blacklistController),e.contentSteeringController&&(n=e.contentSteeringController)},reset:function(){t.reset()}},t=cI(r).create({updateEventName:fb.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:fb.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),n=yI(r).getInstance(),e}EI.__dashjs_factory_name="LocationSelector";var _I=ib.getClassFactory(EI);function TI(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f,p=this.context,A=cb(p).getInstance(),g=CS(p).getInstance();function m(){n=NaN,s=!1,i=!0,a=!1,v()}function v(){null!==r&&(clearTimeout(r),r=null)}function y(e){v(),a||(isNaN(e)&&!isNaN(n)&&(e=1e3*n),isNaN(e)||(t.debug("Refresh manifest in "+e+" milliseconds."),r=setTimeout(T,e)))}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s=!0;var t=l.getValue(),n=t.url,r=null,i=c.getPatchLocation(t),a=u.select(i),d=null;if(a&&!e)n=a.url,r=a.serviceLocation,d=a.queryParams;else{var f=function(e){var t=c.getLocation(e),n=h.getSynthesizedLocationElements(t);return t.concat(n)}(t),p=u.select(f);p&&(n=p.url,r=p.serviceLocation,d=p.queryParams)}g.isRelative(n)&&(n=g.resolve(n,t.url)),o.load(n,r,d)}function _(e){if(e){if(c.getIsPatch(e)){var r=e;e=l.getValue();var o=c.isPatchValid(e,r),u=o;if(o){var d=c.getPublishTime(e);u=c.applyPatchToManifest(e,r);var h=c.getPublishTime(e);u=d.getTime()!=h.getTime()}if(!u)return t.debug("Patch provided is invalid, performing full manifest refresh"),void E(!0);e.loadedTime=new Date}}else(e=l.getValue()).loadedTime=new Date;if(l.getValue()&&l.getValue().type===tb.DYNAMIC&&e.type===tb.STATIC)return A.trigger(fb.DYNAMIC_TO_STATIC),s=!1,void(a=!0);l.setValue(e);var f=new Date,p=(f.getTime()-e.loadedTime.getTime())/1e3;1e3*(n=c.getManifestUpdatePeriod(e,p))>2147483647&&(n=2147483.647),A.trigger(fb.MANIFEST_UPDATED,{manifest:e}),t.info("Manifest has been refreshed at "+f+"["+f.getTime()/1e3+"] "),i||y()}function T(){i||(s?y(f.get().streaming.manifestUpdateRetryInterval):E())}function b(e){e.error?e.error.code===Ob.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&d.error(e.error):_(e.manifest)}function S(){i=!1,y()}function w(){(i=!f.get().streaming.scheduling.scheduleWhilePaused)&&v()}function C(){s=!1}return e={initialize:function(){m(),A.on(fb.STREAMS_COMPOSED,C,this),A.on(ob.PLAYBACK_STARTED,S,this),A.on(ob.PLAYBACK_PAUSED,w,this),A.on(fb.INTERNAL_MANIFEST_LOADED,b,this)},setManifest:function(e){_(e)},refreshManifest:E,getIsUpdating:function(){return s},setConfig:function(e){e&&(e.manifestModel&&(l=e.manifestModel),e.adapter&&(c=e.adapter),e.manifestLoader&&(o=e.manifestLoader),e.errHandler&&(d=e.errHandler),e.locationSelector&&(u=e.locationSelector),e.settings&&(f=e.settings),e.contentSteeringController&&(h=e.contentSteeringController))},reset:function(){A.off(ob.PLAYBACK_STARTED,S,this),A.off(ob.PLAYBACK_PAUSED,w,this),A.off(fb.STREAMS_COMPOSED,C,this),A.off(fb.INTERNAL_MANIFEST_LOADED,b,this),m()}},t=_b(p).getInstance().getLogger(e),u=_I(p).create(),e}TI.__dashjs_factory_name="ManifestUpdater";var bI=ib.getClassFactory(TI);function SI(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g=this.context,m=cb(g).getInstance(),v=CS(g).getInstance();function y(){o=[],l=[],u=null,c=null,h=null,d=NaN,n=!1,r=!1,f=i.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function E(){i.get().streaming.utcSynchronization.enabled&&!n&&!r&&h&&h.value&&h.schemeIdUri&&!isNaN(d)&&!isNaN(i.get().streaming.utcSynchronization.backgroundAttempts)&&(c&&(Date.now()-c)/1e3<30||(o=[],r=!0,_(isNaN(i.get().streaming.utcSynchronization.backgroundAttempts)?2:i.get().streaming.utcSynchronization.backgroundAttempts)))}function _(e){try{if(e<=0)return void N();var t=Date.now();a[h.schemeIdUri](h.value,(function(n){var r=Date.now(),i=b(t,r,n);o.push(i),_(e-1)}),(function(){N()}))}catch(e){N()}}function T(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!l||0===l.length||e>=l.length)S();else{var t=l[e];if(t)if(a.hasOwnProperty(t.schemeIdUri)){var n=(new Date).getTime();a[t.schemeIdUri](t.value,(function(e){var r=(new Date).getTime(),i=b(n,r,e);h=t,S(i)}),(function(){T(e+1)}))}else T(e+1);else S()}}function b(e,t,n){return n-(t-(t-e)/2)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,t=isNaN(e);t&&i.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function(){var e=s.getLatestMPDRequestHeaderValueByID("Date"),t=null!==e?new Date(e).getTime():Number.NaN;if(isNaN(t))L(!0);else{L(!1,t-Date.now())}}():L(t,e)}function w(e){var t=Date.parse(e);return isNaN(t)&&(t=function(e){var t,n,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&(parseInt(r[6],10)||0),r[7]&&1e3*parseFloat(r[7])||0),r[9]&&r[10]&&(n=60*parseInt(r[9],10)+parseInt(r[10],10),t+=("+"===r[8]?-1:1)*n*60*1e3),new Date(t).getTime()}(e)),t}function C(e){return Date.parse(e)}function I(e){return Date.parse(e)}function k(e,t,n){n()}function R(e,t,n){var r=w(e);isNaN(r)?n():t(r)}function D(e,t,n,r,i){var a,s,o=!1,l=new XMLHttpRequest,u=i?Sb.HEAD:Sb.GET,c=t.match(/\S+/g);if(t=c.shift(),a=function(){o||(o=!0,c.length?D(e,c.join(" "),n,r,i):r())},s=function(){var t,r;200===l.status&&(t=i?l.getResponseHeader("Date"):l.response,r=e(t),isNaN(r)||(n(r),o=!0))},v.isRelative(t)){var d=A.resolve();d&&(t=v.resolve(t,d.url))}l.open(u,t),l.timeout=5e3,l.onload=s,l.onloadend=a,l.send()}function M(e,t,n){D(I,e,t,n,!0)}function L(e,r){if(isNaN(d)||isNaN(r)||e||function(e){try{var n,r=B(e),a=isNaN(f)?30:f,s=isNaN(i.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:i.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,o=isNaN(i.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:i.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,l=isNaN(i.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:i.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;r?(n=Math.min(a*s,o),t.debug("Increasing timeBetweenSyncAttempts to ".concat(n))):(n=Math.max(a/s,l),t.debug("Decreasing timeBetweenSyncAttempts to ".concat(n))),f=n}catch(e){}}(r),!e&&!isNaN(r)){u=Date.now(),n=!1;var a=isNaN(d);d=r,a&&E(),t.debug("Completed UTC sync. Setting client - server offset to ".concat(r))}e&&(h=null,n=!1,p.error(new Bb(Ob.TIME_SYNC_FAILED_ERROR_CODE,Ob.TIME_SYNC_FAILED_ERROR_MESSAGE))),m.trigger(fb.UPDATE_TIME_SYNC_OFFSET,{offset:r}),m.trigger(fb.TIME_SYNCHRONIZATION_COMPLETED)}function N(){if(o&&0!==o.length){var e=o.reduce((function(e,t){return e+t}),0)/o.length;B(e)?t.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(t.debug("Completed background UTC sync. Setting client - server offset to ".concat(e)),d=e,m.trigger(fb.UPDATE_TIME_SYNC_OFFSET,{offset:d})),r=!1,c=Date.now()}}function B(e){try{if(isNaN(d))return!0;var t=i.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(i.get().streaming.utcSynchronization.maximumAllowedDrift)?i.get().streaming.utcSynchronization.maximumAllowedDrift:100;return e>=d-t&&e<=d+t}catch(e){return!0}}return e={initialize:function(){y(),a={"urn:mpeg:dash:utc:http-head:2014":M,"urn:mpeg:dash:utc:http-xsdate:2014":D.bind(null,w),"urn:mpeg:dash:utc:http-iso:2014":D.bind(null,C),"urn:mpeg:dash:utc:direct:2014":R,"urn:mpeg:dash:utc:http-head:2012":M,"urn:mpeg:dash:utc:http-xsdate:2012":D.bind(null,w),"urn:mpeg:dash:utc:http-iso:2012":D.bind(null,C),"urn:mpeg:dash:utc:direct:2012":R,"urn:mpeg:dash:utc:http-ntp:2014":k,"urn:mpeg:dash:utc:ntp:2014":k,"urn:mpeg:dash:utc:sntp:2014":k}},attemptSync:function(e,t){l=e,n||(!function(e){try{if(!e||!i.get().streaming.utcSynchronization.enabled)return!1;var t=isNaN(f)?30:f;return!(u&&t&&!isNaN(t))||(Date.now()-u)/1e3>=t}catch(e){return!0}}(t)?m.trigger(fb.TIME_SYNCHRONIZATION_COMPLETED):(n=!0,T()))},setConfig:function(e){e&&(e.dashMetrics&&(s=e.dashMetrics),e.baseURLController&&(A=e.baseURLController),e.errHandler&&(p=e.errHandler),e.settings&&(i=e.settings))},reset:function(){y(),m.off(fb.ATTEMPT_BACKGROUND_SYNC,E,e)}},t=_b(g).getInstance().getLogger(e),m.on(fb.ATTEMPT_BACKGROUND_SYNC,E,e),e}SI.__dashjs_factory_name="TimeSyncController";var wI=ib.getSingletonFactory(SI);wI.HTTP_TIMEOUT_MS=5e3,ib.updateSingletonFactory(SI.__dashjs_factory_name,wI);var CI=wI;function II(){var e,t,n,r,i,a=this.context,s=cb(a).getInstance();return e={attachMediaSource:function(e){var n=window.URL.createObjectURL(t);return e.setSource(n),"managedMediaSource"===r&&(e.setDisableRemotePlayback(!0),t.addEventListener("startstreaming",(function(){s.trigger(ob.MANAGED_MEDIA_SOURCE_START_STREAMING)})),t.addEventListener("endstreaming",(function(){s.trigger(ob.MANAGED_MEDIA_SOURCE_END_STREAMING)}))),n},createMediaSource:function(){var e="WebKitMediaSource"in window,n="MediaSource"in window;return"ManagedMediaSource"in window?(t=new ManagedMediaSource,r="managedMediaSource",i.info("Created ManagedMediaSource")):n?(t=new MediaSource,r="mediaSource",i.info("Created MediaSource")):e&&(t=new WebKitMediaSource,i.info("Created WebkitMediaSource")),t},detachMediaSource:function(e){e.setSource(null)},setConfig:function(e){e&&e.settings&&(n=e.settings)},setDuration:function e(r){t&&"open"===t.readyState&&(null===r&&isNaN(r)||t.duration!==r&&(r!==1/0||n.get().streaming.buffer.mediaSourceDurationInfinity||(r=Math.pow(2,32)),!function(e){for(var t=e.sourceBuffers,n=0;n<t.length;n++)if(t[n].updating)return!0;return!1}(t)?(i.info("Set MediaSource duration:"+r),t.duration=r):setTimeout(e.bind(null,r),50)))},setSeekable:function(e,n){t&&"function"==typeof t.setLiveSeekableRange&&"function"==typeof t.clearLiveSeekableRange&&"open"===t.readyState&&e>=0&&e<n&&(t.clearLiveSeekableRange(),t.setLiveSeekableRange(e,n))},signalEndOfStream:function(e){if(e&&"open"===e.readyState){for(var t=e.sourceBuffers,n=0;n<t.length;n++){if(t[n].updating)return;if(0===t[n].buffered.length)return}i.info("call to mediaSource endOfStream"),e.endOfStream()}}},i=_b(a).getInstance().getLogger(e),e}II.__dashjs_factory_name="MediaSourceController";var kI=ib.getSingletonFactory(II);function RI(){var e,t,n,r,i,a,s,o,l,u,c,d="urn:mpeg:dash:event:2012",h=1,f="urn:mpeg:dash:event:callback:2015",p=1,A=300,g={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},m=this.context,v=cb(m).getInstance();function y(){if(!s||!o)throw new Error("setConfig function has to be called previously")}function E(){c=!1,n={},r={},i=null,u=!1,a=Date.now()/1e3}function _(){try{null!==i&&c&&(clearInterval(i),i=null,c=!1,function(){try{I(r),I(n)}catch(e){t.error(e)}}())}catch(e){throw e}}function T(){try{if(!u){u=!0;var e=o.getTime(),i=e-a;i=a>0?Math.max(0,i):0,b(r,i,e),b(n,i,e),S(r),S(n),a=e,u=!1}}catch(e){u=!1,t.error(e)}}function b(e,n,r){try{k(e,(function(i){if(void 0!==i){var a=isNaN(i.duration)?0:i.duration;i.calculatedPresentationTime<=r&&i.calculatedPresentationTime+n+a>=r?D(i,ob.EVENT_MODE_ON_START):(R(r,a+n,i.calculatedPresentationTime)||function(e){try{var n=e.eventStream.period.start+e.eventStream.period.duration;return e.calculatedPresentationTime>n}catch(e){return t.error(e),!1}}(i))&&(t.debug("Removing event ".concat(i.id," from period ").concat(i.eventStream.period.id," as it is expired or invalid")),function(e,n){try{var r=n.eventStream.schemeIdUri,i=n.eventStream.period.id,a=n.eventStream.value,s=n.id;e[i][r]=e[i][r].filter((function(e){return a&&e.eventStream.value&&e.eventStream.value!==a||e.id!==s})),0===e[i][r].length&&delete e[i][r]}catch(e){t.error(e)}}(e,i))}}))}catch(e){t.error(e)}}function S(e){try{for(var n in e)e.hasOwnProperty(n)&&0===Object.keys(e[n]).length&&delete e[n]}catch(e){t.error(e)}}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.eventStream.schemeIdUri,i=e.eventStream.value,a=e.id,s=g.DISCARDED;t[r]||(t[r]=[]);var o=t[r].findIndex((function(e){return(!i||e.eventStream.value&&e.eventStream.value===i)&&e.id===a}));if(-1===o)t[r].push(e),e.triggeredReceivedEvent=!1,e.triggeredStartEvent=!1,s=g.ADDED;else if(n){var l=t[r][o];e.triggeredReceivedEvent=l.triggeredReceivedEvent,e.triggeredStartEvent=l.triggeredStartEvent,t[r][o]=e,s=g.UPDATED}return s}function C(e){try{if(e.eventStream.value==h){var n,r=e.calculatedPresentationTime;n=4294967295==e.calculatedPresentationTime?NaN:e.calculatedPresentationTime+e.duration,v.trigger(ob.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:r,newDuration:n,newManifestValidAfter:NaN},{mode:ob.EVENT_MODE_ON_START})}}catch(e){t.error(e)}}function I(e){try{var n=o.getTime();k(e,(function(e){var t=e.eventStream&&e.eventStream.period&&!isNaN(e.eventStream.period.duration)?e.eventStream.period.duration:NaN,r=e.eventStream&&e.eventStream.period&&!isNaN(e.eventStream.period.start)?e.eventStream.period.start:NaN;if(!isNaN(t)&&!isNaN(r)){var i=e.calculatedPresentationTime;Math.abs(i-n)<A&&D(e,ob.EVENT_MODE_ON_START)}}))}catch(e){t.error(e)}}function k(e,n){try{if(e)for(var r=Object.keys(e),i=0;i<r.length;i++)for(var a=e[r[i]],s=Object.keys(a),o=0;o<s.length;o++){a[s[o]].forEach((function(e){void 0!==e&&n(e)}))}}catch(e){t.error(e)}}function R(e,n,r){try{return e-n>r}catch(e){return t.error(e),!1}}function D(e,n){try{var r=o.getTime(),i=e.id;if(n===ob.EVENT_MODE_ON_RECEIVE&&!e.triggeredReceivedEvent)return t.debug("Received event ".concat(i)),e.triggeredReceivedEvent=!0,void v.trigger(e.eventStream.schemeIdUri,{event:e},{mode:n});e.triggeredStartEvent||(e.eventStream.schemeIdUri===d&&e.eventStream.value==h?0===e.duration&&0===e.presentationTimeDelta||(t.debug("Starting manifest refresh event ".concat(i," at ").concat(r)),function(){try{y(),s.refreshManifest()}catch(e){t.error(e)}}()):e.eventStream.schemeIdUri===f&&e.eventStream.value==p?(t.debug("Starting callback event ".concat(i," at ").concat(r)),function(e){try{YS(m).create({}).load({method:"get",url:e,request:{responseType:"arraybuffer"}})}catch(e){t.error(e)}}(e.messageData)):(t.debug("Starting event ".concat(i," from period ").concat(e.eventStream.period.id," at ").concat(r)),v.trigger(e.eventStream.schemeIdUri,{event:e},{mode:n})),e.triggeredStartEvent=!0)}catch(e){t.error(e)}}return e={addInlineEvents:function(e,r){try{if(y(),n[r]||(n[r]={}),e)for(var i=0;i<e.length;i++){var a=e[i];if(!R(o.getTime(),isNaN(a.duration)?0:a.duration,a.calculatedPresentationTime)){var s=w(a,n[r],!0);s===g.ADDED?(t.debug("Added inline event with id ".concat(a.id," from period ").concat(r)),D(a,ob.EVENT_MODE_ON_RECEIVE)):s===g.UPDATED&&t.debug("Updated inline event with id ".concat(a.id," from period ").concat(r))}}}catch(e){throw e}},addInbandEvents:function(e,n){try{y(),r[n]||(r[n]={});for(var i=0;i<e.length;i++){var a=e[i];if(!R(o.getTime(),isNaN(a.duration)?0:a.duration,a.calculatedPresentationTime))w(a,r[n],!1)===g.ADDED?(a.eventStream.schemeIdUri===d&&C(a),t.debug("Added inband event with id ".concat(a.id," from period ").concat(n)),D(a,ob.EVENT_MODE_ON_RECEIVE)):t.debug("Inband event with scheme_id_uri ".concat(a.eventStream.schemeIdUri,", value ").concat(a.eventStream.value,", period id ").concat(n," and event id ").concat(a.id," was ignored because it has been added before."))}T()}catch(e){throw e}},getInbandEvents:function(){return r},getInlineEvents:function(){return n},start:function(){try{y(),t.debug("Start Event Controller");var e=l.get().streaming.eventControllerRefreshDelay;c||isNaN(e)||(c=!0,i=setInterval(T,e))}catch(e){throw e}},setConfig:function(e){try{if(!e)return;e.manifestUpdater&&(s=e.manifestUpdater),e.playbackController&&(o=e.playbackController),e.settings&&(l=e.settings)}catch(e){throw e}},reset:function(){_(),E()}},t=_b(m).getInstance().getLogger(e),E(),e}RI.__dashjs_factory_name="EventController";var DI=ib.getSingletonFactory(RI),MI={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function LI(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y,E,_,T,b,S,w,C,I,k,R,D,M,L,N,B,x,P,O,F,U,j,Q,G,V,H,Y,q,z,W=this.context,K=cb(W).getInstance();function X(){if(!(a&&a.hasOwnProperty("load")&&E&&E.hasOwnProperty("initialize")&&E.hasOwnProperty("reset")&&E.hasOwnProperty("getClientTimeOffset")&&s&&y&&l&&L))throw new Error(eb.MISSING_CONFIG_ERROR)}function J(){!function(){try{var e=o.getStreamsInfo();if(!T&&0===e.length)throw new Error("There are no periods in the MPD");T&&e.length>0&&l.updateManifestUpdateInfo({currentTime:L.getTime(),buffered:M.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:E.getClientTimeOffset()}),_.length>0&&function(e){if(0===e.length)return void t.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.");_=_.filter((function(n){var r=e.filter((function(e){return e.id===n.getId()})).length>0||n.getId()===T.getId();return r||(t.debug("Removing stream ".concat(n.getId())),n.reset(!0)),r}))}(e);for(var n=[],r=0,i=e.length;r<i;r++){var a=e[r];n.push($(a)),l.addManifestUpdateStreamInfo(a)}Promise.all(n).then((function(){return new Promise((function(t,n){T?t():ee(e,t,n)}))})).then((function(){K.trigger(fb.STREAMS_COMPOSED),Ee()})).catch((function(e){throw e}))}catch(e){y.error(new Bb(Ob.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+" nostreamscomposed",s.getValue())),R=!0,Ue()}}()}function Z(){H=!0}function $(e){var t=Pe(e.id);return t?t.updateData(e):(t=fI(W).create({manifestModel:s,mediaPlayerModel:B,dashMetrics:l,manifestUpdater:i,adapter:o,timelineConverter:E,capabilities:n,capabilitiesFilter:r,errHandler:y,baseURLController:h,segmentBaseController:f,textController:S,abrController:A,playbackController:L,eventController:m,mediaController:g,protectionController:b,videoModel:M,streamInfo:e,settings:V}),_.push(t),t.initialize(),Promise.resolve())}function ee(e,n,r){try{he();var i=l.getCurrentDVRInfo().range;if(i.end<i.start){Y&&clearTimeout(Y);var a=Math.min(1e3*(-1*(i.end-i.start)+2),2147483647);return t.debug("Waiting for ".concat(a," ms before playback can start")),K.trigger(fb.AST_IN_FUTURE,{delay:a}),void(Y=setTimeout((function(){ee(e,n,r)}),a))}V.get().streaming.applyProducerReferenceTime&&N.calculateProducerReferenceTimeOffsets(e);var u=e[0].manifestInfo;if(V.get().streaming.applyServiceDescription&&N.applyServiceDescription(u),o.getIsDynamic()){var c=ke(e,u);L.computeAndSetLiveDelay(c,u)}(function(){if(V.get().streaming.applyContentSteering&&d.shouldQueryBeforeStart())return d.loadSteeringData();return Promise.resolve()})().then((function(){var e=s.getValue();e&&h.update(e),te(),n()})).catch((function(e){t.error(e),te(),n()}))}catch(e){r(e)}}function te(){var e=function(){var e;if(o.getIsDynamic()){var n=l.getCurrentDVRInfo();e=(n&&n.range?n.range.end:0)-L.getOriginalLiveDelay();var r=n?n.range:null;if(r){if(isNaN(q)&&-1===q.toString().indexOf("posix:")){var i=we(!0);isNaN(i)||(t.info("Start time from URI parameters: ".concat(i)),e=Math.min(e,i))}else{t.info("Start time provided by the app: ".concat(q));var a=Ce(!0,q);isNaN(a)||(e=Math.min(e,a))}var s=V.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;e=Math.max(e,r.start+s)}}else{if(e=Qe()[0].getStreamInfo().start,isNaN(q)){var u=we(!1);isNaN(u)||(t.info("Start time from URI parameters: ".concat(u)),e=Math.max(e,u))}else{t.info("Start time provided by the app: ".concat(q));var c=Ce(!1,q);isNaN(c)||(e=Math.max(e,c))}}return e}(),n=de(e),r=null!==n?n:_[0];K.trigger(fb.INITIAL_STREAM_SWITCH,{startTime:e}),ne(r,null,e),U||(U=setInterval((function(){!I&&L.getTimeToStreamEnd()<=0&&!L.isSeeking()&&K.trigger(fb.PLAYBACK_ENDED,{isLast:xe().isLast})}),200))}function ne(e,n,r){try{if(I||!e||n===e&&e.getIsActive())return;I=!0,K.trigger(fb.PERIOD_SWITCH_STARTED,{fromStreamInfo:n?n.getStreamInfo():null,toStreamInfo:e.getStreamInfo()});var i=!1;T=e,n&&(i=ue(e,n),n.deactivate(i)),r=isNaN(r)?!i&&n?e.getStreamInfo().start:NaN:r,t.info("Switch to stream ".concat(e.getId(),". Seektime is ").concat(r,", current playback time is ").concat(L.getTime(),". Seamless period switch is set to ").concat(i)),Q=Q.filter((function(e){return e.getId()!==T.getId()})),L.initialize(xe(),!!n),M.getElement()?re(r,i,!1):ie(r,i)}catch(e){I=!1}}function re(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function a(){if(D&&"open"===D.readyState){t.debug("MediaSource is open!"),window.URL.revokeObjectURL(r),D.removeEventListener("sourceopen",a),D.removeEventListener("webkitsourceopen",a),Se();var s=l.getCurrentDVRInfo();u.setSeekable(s.range.start,s.range.end),i?(isNaN(e)||L.seek(e,!0,!0),T.setMediaSource(D).then((function(){T.initializeForTextWithMediaSource(D)}))):ie(e,n)}}function s(){D.addEventListener("sourceopen",a,!1),D.addEventListener("webkitsourceopen",a,!1),r=u.attachMediaSource(M),t.debug("MediaSource attached to element.  Waiting on open...")}D?n?ie(e,n):(u.detachMediaSource(M),s()):(D=u.createMediaSource(),s())}function ie(e,t){T.activate(D,t?j:void 0,e).then((function(t){if(t){var n=Object.keys(t);n.length>0&&t[n[0]].getBuffer().changeType&&(G=!0),j=t}isNaN(e)||(K.trigger(fb.SEEK_TARGET,{time:e},{streamId:T.getId()}),L.seek(e,!1,!0),T.startScheduleControllers()),I=!1,K.trigger(fb.PERIOD_SWITCH_COMPLETED,{toStreamInfo:xe()})}))}function ae(e){var t=de(e.seekTime);t&&t!==T?t&&t!==T&&(se(t),function(e,t){var n=e&&!isNaN(e.seekTime)?e.seekTime:NaN,r=T.getProcessors().map((function(t){return t.prepareOuterPeriodPlaybackSeeking(e)}));Promise.all(r).then((function(){ne(t,T,n)})).catch((function(e){y.error(e)}))}(e,t)):(se(),function(e){T.getProcessors().forEach((function(t){return t.prepareInnerPeriodPlaybackSeeking(e)})),Le(kS.USER_REQUEST_STOP_REASON)}(e)),Ne(IS.SEEK_START_REASON)}function se(){oe()}function oe(){Q&&Q.length>0&&(Q.forEach((function(e){e.deactivate(!0)})),Q=[])}function le(e){if(e.newMediaInfo.streamInfo.id===T.getId()){if(oe(),V.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&e.oldMediaInfo&&e.oldMediaInfo.codec!==e.newMediaInfo.codec){var t=L.getTime();return T.deactivate(!1),void re(t,!1,!1)}T.prepareTrackChange(e)}}function ue(e,t){try{return V.get().streaming.buffer.reuseExistingSourceBuffers&&(t.isProtectionCompatible(e)||H)&&(G&&V.get().streaming.buffer.useChangeTypeForTrackSwitch||t.isMediaCodecCompatible(e,t))}catch(e){return!1}}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;D&&!e.getPreloaded()&&(ue(e,t)&&e.startPreloading(D,j).then((function(){Q.push(e)})))}function de(e){if(isNaN(e))return null;for(var t=_.length,n=0;n<t;n++){var r=_[n];if(e<parseFloat((r.getStartTime()+r.getDuration()).toFixed(5)))return r}return null}function he(){try{var e=o.getIsDynamic(),t=o.getStreamsInfo()[0].manifestInfo,n=L.getTime(),r=E.calcTimeShiftBufferWindow(_,e),i=Te();if(void 0===r.start||void 0===r.end)return;i&&0!==i.length?i.forEach((function(e){l.addDVRInfo(e.getType(),n,t,r)})):l.addDVRInfo(eb.VIDEO,n,t,r)}catch(e){}}function fe(e){if(O&&C){var t=B.getInitialBufferLevel(),n=[eb.TEXT];(isNaN(t)||t<=L.getBufferLevel(n)||o.getIsDynamic()&&t>L.getLiveDelay())&&(O=!1,Ne(IS.INITIAL_PLAYOUT_START_REASON),L.play())}e&&e.mediaType&&l.addBufferLevel(e.mediaType,new Date,1e3*e.bufferLevel)}function pe(e){e.streamInfo.id===T.getId()&&e.reason&&e.reason.forceReplace&&oe(),Pe(e.streamInfo.id).prepareQualityChange(e)}function Ae(){if(o.getIsDynamic()&&0!==L.getOriginalLiveDelay()&&T){var e=o.getStreamsInfo();if(e.length>0){var t=e[0].manifestInfo,n=ke(e,t);L.computeAndSetLiveDelay(n,t)}}}function ge(){if(De()){var e=M.getPlaybackQuality();e&&l.addDroppedFrames(e)}}function me(){t.debug("[onPlaybackStarted]"),!O&&P&&Ne(IS.RESUME_FROM_PAUSE_START_REASON),O&&(O=!1),F&&(F=!1,V.get().streaming.applyContentSteering&&!d.shouldQueryBeforeStart()&&d.loadSteeringData()),P=!1}function ve(e){t.debug("[onPlaybackPaused]"),e.ended||(P=!0,Le(kS.USER_REQUEST_STOP_REASON))}function ye(e){t.debug("Stream with id ".concat(e.streamInfo.id," finished buffering"));var n=e.streamInfo.isLast;D&&n?(t.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),u.signalEndOfStream(D)):Ee()}function Ee(){if(T&&T.getHasFinishedBuffering())for(var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=e||(T||null);if(t){var n=t.getStreamInfo();return _.filter((function(e){var t=e.getStreamInfo();return t.start>n.start&&n.id!==t.id}))}}catch(e){return[]}}(T),t=0;t<e.length;){var n=e[t],r=0===t?T:e[t-1];!n.getPreloaded()&&r.getHasFinishedBuffering()&&D&&ce(n,r),t+=1}}function _e(){U&&(clearInterval(U),U=null)}function Te(){return T?T.getProcessors():[]}function be(e){if(T&&!T.getIsEndedEventSignaled()){T.setIsEndedEventSignaled(!0);var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||(T||null);if(!t)return null;var n=t.getStreamInfo(),r=n.start,i=0,a=-1,s=NaN;for(;i<_.length;){var o=_[i].getStreamInfo(),l=o.start-r;l>0&&(isNaN(s)||l<s)&&n.id!==o.id&&(s=l,a=i),i+=1}if(a>=0)return _[a];return null}();n?(t.debug("StreamController onEnded, found next stream with id ".concat(n.getStreamInfo().id,". Switching from ").concat(T.getStreamInfo().id," to ").concat(n.getStreamInfo().id)),ne(n,T,NaN)):(t.debug("StreamController no next stream found"),T.setIsEndedEventSignaled(!1)),Le(n?kS.END_OF_PERIOD_STOP_REASON:kS.END_OF_CONTENT_STOP_REASON)}e&&e.isLast&&(_e(),d.stopSteeringRequestTimer())}function Se(e){var t=e||xe().manifestInfo.duration;u.setDuration(t)}function we(e){var t=p.getURIFragmentData();if(!t||!t.t)return NaN;var n=Qe()[0].getStreamInfo().start;return t.t=t.t.split(",")[0],Ie(e,t.t,n)}function Ce(e,t){var n=0;e||(n=Qe()[0].getStreamInfo().start);return Ie(e,t,n)}function Ie(e,t,n){var r=o.getRegularPeriods()[0],i=t.toString(),a=-1!==i.indexOf("posix:")?"now"===i.substring(6)?Date.now()/1e3:parseFloat(i.substring(6)):NaN;return e&&!isNaN(a)?E.calcPresentationTimeFromWallTime(new Date(1e3*a),r):parseFloat(i)+n}function ke(e,t){try{var n=NaN;if(t&&!isNaN(t.maxFragmentDuration)&&isFinite(t.maxFragmentDuration))return t.maxFragmentDuration;if(e&&1===e.length){var r,i=e[0],a=[eb.VIDEO,eb.AUDIO,eb.TEXT].reduce((function(e,t){var n=o.getMediaInfoForType(i,t);return n&&!1!==n.isFragmented&&e.push(n),e}),[]).reduce((function(e,t){var n=o.getVoRepresentations(t);return n&&n.length>0&&n.forEach((function(t){t&&e.push(t)})),e}),[]).reduce((function(e,t){var n=o.convertRepresentationToRepresentationInfo(t);return n&&n.fragmentDuration&&!isNaN(n.fragmentDuration)&&e.push(n.fragmentDuration),e}),[]);n=(r=Math).max.apply(r,_to_consumable_array(a))}return isFinite(n)?n:NaN}catch(e){return NaN}}function Re(e){if(e.error)R=!0,Ue();else{t.info("Manifest updated... updating data system wide.");var n=e.manifest;o.updatePeriods(n);var i=o.getUTCTimingSources();!o.getIsDynamic()||i&&0!==i.length||K.trigger(ob.CONFORMANCE_VIOLATION,{level:MI.LEVELS.WARNING,event:MI.EVENTS.NO_UTC_TIMING_ELEMENT});var a=o.getIsDynamic()?i.concat(x.getUTCTimingSources()):i;r.filterUnsupportedFeatures(n).then((function(){h.initialize(n),c.attemptSync(a,o.getIsDynamic())}))}}function De(){return!!T&&T.getHasVideoTrack()}function Me(){return!!T&&T.getHasAudioTrack()}function Le(e,t){t=t||new Date,Te().forEach((function(n){n.finalisePlayList(t,e)})),l.addPlayList()}function Ne(e){l.createPlaylistMetrics(1e3*L.getTime(),e)}function Be(e){if(e.error){var n="";switch(e.error.code){case 1:n="MEDIA_ERR_ABORTED";break;case 2:n="MEDIA_ERR_NETWORK";break;case 3:n="MEDIA_ERR_DECODE",z.counts.mediaErrorDecode+=1;break;case 4:n="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:n="MEDIA_ERR_ENCRYPTED";break;default:n="UNKNOWN"}"MEDIA_ERR_DECODE"===n&&V.get().errors.recoverAttempts.mediaErrorDecode>=z.counts.mediaErrorDecode?function(){t.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var e=L.getTime();T.deactivate(!1),t.warn("MediaSource has been resetted. Resuming playback from time ".concat(e)),re(e,!1,!1)}():(k=!0,e.error.message&&(n+=" ("+e.error.message+")"),e.error.msExtendedCode&&(n+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),t.fatal("Video Element Error: "+n),e.error&&t.fatal(e.error),y.error(new Bb(e.error.code,n)),Ue())}}function xe(){return T?T.getStreamInfo():null}function Pe(e){for(var t=0,n=_.length;t<n;t++)if(_[t].getId()===e)return _[t];return null}function Oe(e){isNaN(e.newDuration)||Se(e.newDuration)}function Fe(){_=[],q=NaN,b=null,I=!1,T=null,k=!1,R=!1,O=!0,F=!0,P=!1,C=!0,U=null,H=!1,G=!1,Q=[],Y=null,z={counts:{mediaErrorDecode:0}}}function Ue(){X(),c.reset(),Le(k||R?kS.FAILURE_STOP_REASON:kS.USER_REQUEST_STOP_REASON);for(var t=0,n=_?_.length:0;t<n;t++){_[t].reset(k)}K.off(ob.PLAYBACK_TIME_UPDATED,ge,e),K.off(ob.PLAYBACK_SEEKING,ae,e),K.off(ob.PLAYBACK_ERROR,Be,e),K.off(ob.PLAYBACK_STARTED,me,e),K.off(ob.PLAYBACK_PAUSED,ve,e),K.off(ob.PLAYBACK_ENDED,be,e),K.off(ob.METRIC_ADDED,je,e),K.off(ob.MANIFEST_VALIDITY_CHANGED,Oe,e),K.off(ob.BUFFER_LEVEL_UPDATED,fe,e),K.off(ob.QUALITY_CHANGE_REQUESTED,pe,e),fb.KEY_SESSION_UPDATED&&K.off(fb.KEY_SESSION_UPDATED,Z,e),K.off(fb.MANIFEST_UPDATED,Re,e),K.off(fb.STREAM_BUFFERING_COMPLETED,ye,e),K.off(fb.TIME_SYNCHRONIZATION_COMPLETED,J,e),K.off(fb.CURRENT_TRACK_CHANGED,le,e),K.off(fb.SETTING_UPDATED_LIVE_DELAY,Ae,e),K.off(fb.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ae,e),h.reset(),i.reset(),m.reset(),l.clearAllCurrentMetrics(),s.setValue(null),a.reset(),E.reset(),v.reset(),D&&(u.detachMediaSource(M),D=null),M=null,b&&(b=null,w=null,s.getValue()&&K.trigger(fb.PROTECTION_DESTROYED,{data:s.getValue().url})),_e(),K.trigger(fb.STREAM_TEARDOWN_COMPLETE),Fe()}function je(e){if(e.metric===nb.DVR_INFO){var t=Me()?eb.AUDIO:eb.VIDEO;e.mediaType===t&&u.setSeekable(e.value.range.start,e.value.range.end)}}function Qe(){return _}return e={initialize:function(t,n){X(),C=t,w=n,E.initialize(),(i=bI(W).create()).setConfig({manifestModel:s,adapter:o,manifestLoader:a,errHandler:y,settings:V,contentSteeringController:d}),i.initialize(),(m=DI(W).getInstance()).setConfig({manifestUpdater:i,playbackController:L,settings:V}),m.start(),c.setConfig({dashMetrics:l,baseURLController:h,errHandler:y,settings:V}),c.initialize(),u.setConfig({settings:V}),b&&(K.trigger(fb.PROTECTION_CREATED,{controller:b}),b.setMediaElement(M.getElement()),w&&b.setProtectionData(w)),function(){K.on(ob.PLAYBACK_TIME_UPDATED,ge,e),K.on(ob.PLAYBACK_SEEKING,ae,e),K.on(ob.PLAYBACK_ERROR,Be,e),K.on(ob.PLAYBACK_STARTED,me,e),K.on(ob.PLAYBACK_PAUSED,ve,e),K.on(ob.PLAYBACK_ENDED,be,e),K.on(ob.METRIC_ADDED,je,e),K.on(ob.MANIFEST_VALIDITY_CHANGED,Oe,e),K.on(ob.BUFFER_LEVEL_UPDATED,fe,e),K.on(ob.QUALITY_CHANGE_REQUESTED,pe,e),fb.KEY_SESSION_UPDATED&&K.on(fb.KEY_SESSION_UPDATED,Z,e);K.on(fb.MANIFEST_UPDATED,Re,e),K.on(fb.STREAM_BUFFERING_COMPLETED,ye,e),K.on(fb.TIME_SYNCHRONIZATION_COMPLETED,J,e),K.on(fb.CURRENT_TRACK_CHANGED,le,e),K.on(fb.SETTING_UPDATED_LIVE_DELAY,Ae,e),K.on(fb.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ae,e)}()},getActiveStreamInfo:xe,addDVRMetric:he,hasVideoTrack:De,hasAudioTrack:Me,getStreamById:Pe,getStreamForTime:de,getTimeRelativeToStreamId:function(e,t){for(var n=null,r=0,i=0,a=null,s=0;s<_.length;s++){if(i=(n=_[s]).getStartTime(),a=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(a)&&(r+=a)}return null},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;X(),q=t,a.load(e)},loadWithManifest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;!function(){if(!i||!i.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}(),q=t,i.setManifest(e)},getActiveStreamProcessors:Te,setConfig:function(e){e&&(e.capabilities&&(n=e.capabilities),e.capabilitiesFilter&&(r=e.capabilitiesFilter),e.manifestLoader&&(a=e.manifestLoader),e.manifestModel&&(s=e.manifestModel),e.mediaPlayerModel&&(B=e.mediaPlayerModel),e.customParametersModel&&(x=e.customParametersModel),e.protectionController&&(b=e.protectionController),e.adapter&&(o=e.adapter),e.dashMetrics&&(l=e.dashMetrics),e.errHandler&&(y=e.errHandler),e.timelineConverter&&(E=e.timelineConverter),e.videoModel&&(M=e.videoModel),e.playbackController&&(L=e.playbackController),e.serviceDescriptionController&&(N=e.serviceDescriptionController),e.contentSteeringController&&(d=e.contentSteeringController),e.textController&&(S=e.textController),e.abrController&&(A=e.abrController),e.mediaController&&(g=e.mediaController),e.settings&&(V=e.settings),e.baseURLController&&(h=e.baseURLController),e.uriFragmentModel&&(p=e.uriFragmentModel),e.segmentBaseController&&(f=e.segmentBaseController))},setProtectionData:function(e){w=e,b&&b.setProtectionData(w)},getIsStreamSwitchInProgress:function(){return I},switchToVideoElement:function(e){T&&(L.initialize(xe()),re(e,!1,!0))},getHasMediaOrInitialisationError:function(){return k||R},getStreams:Qe,getActiveStream:function(){return T},getInitialPlayback:function(){return O},getAutoPlay:function(){return C},reset:Ue},t=_b(W).getInstance().getLogger(e),c=CI(W).getInstance(),u=kI(W).getInstance(),v=Kb(W).getInstance(),Fe(),e}LI.__dashjs_factory_name="StreamController";var NI=ib.getSingletonFactory(LI);function BI(){var e,t,n,r,i,a,s,o,l,u,c,d,h=this.context,f=cb(h).getInstance();function p(){d.debug("Stopping the gap controller"),i&&(clearInterval(i),i=null),function(){f.off(fb.WALLCLOCK_TIME_UPDATED,y,this),f.off(fb.INITIAL_STREAM_SWITCH,v,this),f.off(fb.PLAYBACK_SEEKING,A,this),f.off(fb.BUFFER_REPLACEMENT_STARTED,g,e),f.off(fb.TRACK_CHANGE_RENDERED,m,e)}(),i=null,a=NaN,r=0,u=null,c={}}function A(){u&&(clearTimeout(u),u=null)}function g(e){try{if(e.streamId!==o.getActiveStreamInfo().id||e.mediaType!==eb.VIDEO&&e.mediaType!==eb.AUDIO)return;e.streamId===o.getActiveStreamInfo().id&&(c[e.mediaType]=!0)}catch(e){d.error(e)}}function m(e){e&&e.mediaType&&(c[e.mediaType]=!1)}function v(){i||function(){try{i||(d.debug("Starting the gap controller"),i=setInterval((function(){E()&&_(s.getTime())}),100))}catch(e){}}()}function y(){if(E(n.get().streaming.gaps.enableSeekFix)&&++r>=10){var e=s.getTime();t===e?_(e,!0):(t=e,a=NaN),r=0}}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!o.getActiveStream())return!1;var t,r,i=Object.keys(c).some((function(e){return c[e]})),a=!!e&&(t=o.getActiveStream(),r=parseFloat((t.getStartTime()+t.getDuration()).toFixed(5)),s.getTime()+n.get().streaming.gaps.threshold>=r);return!i&&n.get().streaming.gaps.jumpGaps&&o.getActiveStreamProcessors().length>0&&(!s.isSeeking()||a)&&!s.isPaused()&&!o.getIsStreamSwitchInProgress()&&!o.getHasMediaOrInitialisationError()}function _(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.get().streaming.gaps.enableStallFix,c=n.get().streaming.gaps.stallSeek,h=n.get().streaming.gaps.smallGapLimit,f=n.get().streaming.gaps.jumpLargeGaps,p=l.getBufferRange(),A=NaN,g=!1;if(t=function(e,t){try{if(!e||e.length<=1&&t>0)return NaN;for(var r=NaN,i=0;isNaN(r)&&i<e.length;){var a=i>0?e.end(i-1):0;t<e.start(i)&&a-t<n.get().streaming.gaps.threshold&&(r=i),i+=1}return r}catch(e){return null}}(p,e),!isNaN(t)){var m=p.start(t),v=m-e;v>0&&(v<=h||f)&&(A=m)}var y=s.getTimeToStreamEnd();if(isNaN(A)&&r&&isFinite(y)&&!isNaN(y)&&y<h&&(A=parseFloat(s.getStreamEndTime().toFixed(5)),g=!0),i&&isNaN(A)&&r&&isNaN(t)&&function(e,t){for(var n=0,r=e.length;n<r;n++)if(t>=e.start(n)&&t<=e.end(n))return!0;return!1}(p,e)&&(0===c?(d.warn("Toggle play pause to break stall"),l.pause(),l.play()):(d.warn("Jumping ".concat(c,"s to break stall")),A=e+c)),A>0&&a!==A&&A>e&&!u){var E=A-e;if(g){var _=o.getStreamForTime(A),T=_&&!!_.getPreloaded();d.warn("Jumping to end of stream because of gap from ".concat(e," to ").concat(A,". Gap duration: ").concat(E)),s.seek(A,!0,T)}else{var b=s.getIsDynamic(),S=t>0?p.end(t-1):e,w=b?1e3*Math.max(0,E-.1):0;u=window.setTimeout((function(){s.seek(A,!0,!0),d.warn("Jumping gap occuring in period ".concat(o.getActiveStream().getStreamId()," starting at ").concat(S," and ending at ").concat(A,". Jumping by: ").concat(A-S)),u=null}),w)}a=A}}return e={reset:p,setConfig:function(e){e&&(e.settings&&(n=e.settings),e.playbackController&&(s=e.playbackController),e.streamController&&(o=e.streamController),e.videoModel&&(l=e.videoModel))},initialize:function(){!function(){f.on(fb.WALLCLOCK_TIME_UPDATED,y,this),f.on(fb.INITIAL_STREAM_SWITCH,v,this),f.on(fb.PLAYBACK_SEEKING,A,this),f.on(fb.BUFFER_REPLACEMENT_STARTED,g,e),f.on(fb.TRACK_CHANGE_RENDERED,m,e)}()}},d=_b(h).getInstance().getLogger(e),p(),e}BI.__dashjs_factory_name="GapController";var xI=ib.getSingletonFactory(BI);function PI(){var e,t,n,r,i,a,s,o,l,u,c=this.context,d=cb(c).getInstance();function h(){t=!1;var e=Qb.parseUserAgent();n=e&&e.browser&&e.browser.name&&"safari"===e.browser.name.toLowerCase()}function f(){t=!1}function p(e){if(e.streamId===a.getActiveStreamInfo().id&&l){var t=s.getLiveDelay();s.getBufferLevel()>t/2&&(l=!1)}}function A(e){e.streamId===a.getActiveStreamInfo().id&&(l=e.state===nb.BUFFER_EMPTY)}function g(){o.getCatchupModeEnabled()||r.setPlaybackRate(1)}function m(){s.getIsDynamic()&&o.getCatchupModeEnabled()&&(o.getCatchupPlaybackRates().max>0||o.getCatchupPlaybackRates().min<0)&&!s.isPaused()&&!s.isSeeking()&&function(){try{return!(!s.getTime()>0||t)&&(y()===eb.LIVE_CATCHUP_MODE_LOLP?function(e,t){try{return Math.abs(v())>0||e<t}catch(e){return!1}}(s.getBufferLevel(),i.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(v())>0}catch(e){return!1}}())}catch(e){return!1}}()&&function(){if(t)return;if(r){var e,a=r.getPlaybackRate(),c=o.getCatchupPlaybackRates(),d=s.getBufferLevel(),h=v(),f=o.getCatchupMaxDrift();if(!isNaN(f)&&f>0&&h>f)u.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),t=!0,s.seekToCurrentLive(!0,!1);else{var p=s.getCurrentLiveLatency(),A=s.getLiveDelay();if(y()===eb.LIVE_CATCHUP_MODE_LOLP)e=function(e,t,n,r,i){var a;if(i<r){var s=Math.abs(e.min),o=5*(i-r);a=1-s+2*s/(1+Math.pow(Math.E,-o)),u.debug("[LoL+ playback control_buffer-based] bufferLevel: "+i+", newRate: "+a)}else{var l=.02;if(Math.abs(t-n)<=l*n)a=1;else{var c=t-n,d=c<0?Math.abs(e.min):e.max,h=5*c;a=1-d+2*d/(1+Math.pow(Math.E,-h))}u.debug("[LoL+ playback control_latency-based] latency: "+t+", newRate: "+a)}return a}(c,p,A,i.get().streaming.liveCatchup.playbackBufferMin,d);else e=function(e,t,n,r){if(l)return 1;var i=t-n,a=i<0?Math.abs(e.min):e.max,o=5*i,u=2*a/(1+Math.pow(Math.E,-o)),c=1-a+u;s.getPlaybackStalled()&&r<=n/2&&i>0&&(c=1);return c}(c,p,A,d);var g=n?.25:.02/(.5/c.max);e&&Math.abs(a-e)>=g&&(u.debug("[CatchupController]: Setting playback rate to ".concat(e)),r.setPlaybackRate(e))}}}()}function v(){return s.getCurrentLiveLatency()-s.getLiveDelay()}function y(){var e=i.get().streaming.liveCatchup.playbackBufferMin;return i.get().streaming.liveCatchup.mode!==eb.LIVE_CATCHUP_MODE_LOLP||null===e||isNaN(e)?eb.LIVE_CATCHUP_MODE_DEFAULT:eb.LIVE_CATCHUP_MODE_LOLP}function E(){o.getCatchupPlaybackRates(!0)}return e={reset:function(){d.off(ob.BUFFER_LEVEL_UPDATED,p,e),d.off(ob.BUFFER_LEVEL_STATE_CHANGED,A,e),d.off(ob.PLAYBACK_PROGRESS,m,e),d.off(ob.PLAYBACK_TIME_UPDATED,m,e),d.off(ob.PLAYBACK_SEEKED,f,e),d.off(fb.SETTING_UPDATED_CATCHUP_ENABLED,g,e),d.off(fb.SETTING_UPDATED_PLAYBACK_RATE_MIN,E,e),d.off(fb.SETTING_UPDATED_PLAYBACK_RATE_MAX,E,e),d.off(ob.STREAM_INITIALIZED,E,e),h(),r.setPlaybackRate(1,!0)},setConfig:function(e){e&&(e.settings&&(i=e.settings),e.videoModel&&(r=e.videoModel),e.streamController&&(a=e.streamController),e.playbackController&&(s=e.playbackController),e.mediaPlayerModel&&(o=e.mediaPlayerModel))},initialize:function(){d.on(ob.BUFFER_LEVEL_UPDATED,p,e),d.on(ob.BUFFER_LEVEL_STATE_CHANGED,A,e),d.on(ob.PLAYBACK_PROGRESS,m,e),d.on(ob.PLAYBACK_TIME_UPDATED,m,e),d.on(ob.PLAYBACK_SEEKED,f,e),d.on(fb.SETTING_UPDATED_CATCHUP_ENABLED,g,e),d.on(fb.SETTING_UPDATED_PLAYBACK_RATE_MIN,E,e),d.on(fb.SETTING_UPDATED_PLAYBACK_RATE_MAX,E,e),d.on(ob.STREAM_INITIALIZED,E,e),E()}},u=_b(c).getInstance().getLogger(e),h(),e}PI.__dashjs_factory_name="CatchupController";var OI=ib.getSingletonFactory(PI),FI=[eb.SERVICE_DESCRIPTION_DVB_LL_SCHEME],UI="video",jI="audio",QI="any",GI="all";function VI(){var e,t,n,r,i,a=this.context;function s(){t={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},n=[]}function o(e,n,i){try{t[e][n]=i/1e3}catch(e){r.error(e)}}return e={getServiceDescriptionSettings:function(){return t},getProducerReferenceTimeOffsets:function(){return n},calculateProducerReferenceTimeOffsets:function(e){try{var t=[];if(e&&e.length>0){var a=[eb.VIDEO,eb.AUDIO,eb.TEXT],s=i.getAvailabilityStartTime()/1e3;e.forEach((function(e){var n=a.reduce((function(t,n){return t=t.concat(i.getAllMediaInfoForType(e,n))}),[]).reduce((function(t,n){return i.getProducerReferenceTimes(e,n).forEach((function(r){var a=i.getVoRepresentations(n);if(a&&a.length>0&&a[0].adaptation&&a[0].segmentInfoType===tb.SEGMENT_TEMPLATE){var o=a[0],l=new Date(r[tb.WALL_CLOCK_TIME]).getTime()/1e3-(r[tb.PRESENTATION_TIME]/o[tb.TIMESCALE]-o[tb.PRESENTATION_TIME_OFFSET]+e.start),u=s-l;t.push({id:r[tb.ID],to:u})}})),t}),[]);t=t.concat(n)}))}n=t}catch(e){r.error(e),n=[]}},applyServiceDescription:function(e){if(e&&e.serviceDescriptions){var i=e.serviceDescriptions.filter((function(e){return FI.includes(e.schemeIdUri)})),a=e.serviceDescriptions.filter((function(e){return null==e.schemeIdUri})),s=i.length>0?i[i.length-1]:a[a.length-1];s&&(s.latency&&s.latency.target>0&&function(e){var i;i=e.schemeIdUri===eb.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function(e){var t=e.latency.target/1e3,n=!isNaN(e.latency.max)&&e.latency.max>e.latency.target?(e.latency.max-e.latency.target+500)/1e3:NaN,r=e.latency.referenceId||NaN;return{liveDelay:t,maxDrift:n,referenceId:r}}(e):function(e){var t=e.latency.target/1e3,n=!isNaN(e.latency.max)&&e.latency.max>e.latency.target?(e.latency.max-e.latency.target+500)/1e3:NaN,r=e.latency.referenceId||NaN;return{liveDelay:t,maxDrift:n,referenceId:r}}(e);if(n.length>0){var a=function(e){var t,r=0,i=n.filter((function(t){return t.id===e.referenceId}));0===i.length?(r=n.length>0?n[0].to:0,t=n[0].id||NaN):(r=i[0].to||0,t=i[0].id||NaN);return{to:r,id:t}}(i),s=a.to,o=a.id;t.liveDelay=i.liveDelay-s,t.liveCatchup.maxDrift=i.maxDrift,r.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(s," from ProducerReferenceTime element with id ").concat(o,".\n                Live Delay: ").concat(i.liveDelay-s,", Live catchup max drift: ").concat(i.maxDrift,"\n            "))}else t.liveDelay=i.liveDelay,t.liveCatchup.maxDrift=i.maxDrift,r.debug("Found latency properties coming from service description: Live Delay: ".concat(i.liveDelay,", Live catchup max drift: ").concat(i.maxDrift))}(s),s.playbackRate&&function(e){var n=e.playbackRate.min?Math.round(1e3*(e.playbackRate.min-1))/1e3:NaN,i=e.playbackRate.max?Math.round(1e3*(e.playbackRate.max-1))/1e3:NaN;t.liveCatchup.playbackRate.min=n,t.liveCatchup.playbackRate.max=i,r.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(n)),r.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(i))}(s),s.operatingQuality,s.operatingBandwidth&&function(e){if(!e||!e.operatingBandwidth||!e.operatingBandwidth.mediaType||e.operatingBandwidth.mediaType===GI)return;var t={};t.minBandwidth=e.operatingBandwidth.min,t.maxBandwidth=e.operatingBandwidth.max,t.targetBandwidth=e.operatingBandwidth.target;var n=[];e.operatingBandwidth.mediaType===UI||e.operatingBandwidth.mediaType===jI?n.push(e.operatingBandwidth.mediaType):e.operatingBandwidth.mediaType===QI&&(n.push(jI),n.push(UI));n.forEach((function(e){isNaN(t.minBandwidth)||o("minBitrate",e,t.minBandwidth),isNaN(t.maxBandwidth)||o("maxBitrate",e,t.maxBandwidth),isNaN(t.targetBandwidth)||o("initialBitrate",e,t.targetBandwidth)}))}(s),s.contentSteering&&function(e){t.contentSteering=e.contentSteering}(s))}},reset:function(){s()},setConfig:function(e){e&&e.adapter&&(i=e.adapter)}},r=_b(a).getInstance().getLogger(e),s(),e}VI.__dashjs_factory_name="ServiceDescriptionController";var HI=ib.getSingletonFactory(VI),YI=f(Ie()),qI=f(_e());function zI(){var e,t,n,r,i,a,s,o,l=this.context,u=cb(l).getInstance();function c(e,t){return e&&n[t]&&n[t][e]?n[t][e].list:[]}function d(e,t){return e&&n[t]&&n[t][e]?n[t][e].current:null}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.streamInfo){var i=e.type,s=e.streamInfo.id,l=d(i,s);if(n[s]&&n[s][i]&&(n[s][i].current=e,n[s][i].current&&(i!==eb.TEXT&&!A(e,l)||i===eb.TEXT&&e.isFragmented)&&u.trigger(fb.CURRENT_TRACK_CHANGED,{oldMediaInfo:l,newMediaInfo:e,switchMode:r.get().streaming.trackSwitchMode[i]},{streamId:s}),!t)){var c=function(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration,codec:e.codec},n=t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0;return n?t:null}(e);if(!c||!n[s][i].storeLastSettings)return;c.roles&&(c.role=c.roles[0],delete c.roles),c.accessibility&&(c.accessibility=c.accessibility[0]),c.audioChannelConfiguration&&(c.audioChannelConfiguration=c.audioChannelConfiguration[0]),a[i]=c,o.setSavedMediaSettings(i,c)}}}function f(e,t){e&&t&&(i[e]=t)}function p(e){return e?i[e]:null}function A(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=JSON.stringify(e.viewpointsWithSchemeIdUri)===JSON.stringify(t.viewpointsWithSchemeIdUri),a=e.lang===t.lang,s=e.codec===t.codec,o=e.roles.toString()===t.roles.toString(),l=JSON.stringify(e.rolesWithSchemeIdUri)===JSON.stringify(t.rolesWithSchemeIdUri),u=e.accessibility.toString()===t.accessibility.toString(),c=JSON.stringify(e.accessibilitiesWithSchemeIdUri)===JSON.stringify(t.accessibilitiesWithSchemeIdUri),d=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString(),h=JSON.stringify(e.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(t.audioChannelConfigurationsWithSchemeIdUri);return n&&s&&r&&i&&a&&o&&l&&u&&c&&d&&h}function g(){n={},a={},i={audio:null,video:null,text:null}}function m(e,t,n){var r=[];return e.forEach((function(e){t(n,e)&&r.push(e)})),0!==r.length?r:e}function v(e,t){return!e.lang||_instanceof(e.lang,RegExp)?t.lang.match(e.lang):""!==t.lang&&(0,qI.extendedFilter)(t.lang,(0,YI.default)(e.lang)).length>0}function y(e,t){return void 0===e.index||null===e.index||t.index===e.index}function E(e,t){return!e.viewpoint||e.viewpoint===t.viewpoint}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e.role||!!t.roles.filter((function(t){return t===e.role}))[0]||t.type===eb.AUDIO&&n}function T(e,t){return e.accessibility?!!t.accessibility.filter((function(t){return t===e.accessibility}))[0]:!t.accessibility.length}function b(e,t){return!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter((function(t){return t===e.audioChannelConfiguration}))[0]}function S(e,t){return!e.codec||e.codec===t.codec}function w(e){var t,n=0,r=[];return e.forEach((function(e){(t=Math.max.apply(Math,e.bitrateList.map((function(e){return e.bandwidth}))))>n?(n=t,r=[e]):t===n&&r.push(e)})),r}function C(e){var t,n=1/0,r=[];return e.forEach((function(e){var i=e.bitrateList.reduce((function(e,t){var n=Math.max(1,t.width*t.height);return e+t.bandwidth/n}),0);(t=i/e.bitrateList.length)<n?(n=t,r=[e]):t===n&&r.push(e)})),r}function I(e){var t,n=0,r=[];return e.forEach((function(e){(t=e.representationCount)>n?(n=t,r=[e]):t===n&&r.push(e)})),r}function k(e,n){if(e===eb.TEXT)return n[0];var i,a=r.get().streaming.selectionModeForInitialTrack,o=s.getCustomInitialTrackSelectionFunction();if(o&&"function"==typeof o)i=o(n);else switch(a){case eb.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:i=function(e){var t=function(e){var t=0,n=[];return e.forEach((function(e){isNaN(e.selectionPriority)||(e.selectionPriority>t?(t=e.selectionPriority,n=[e]):e.selectionPriority===t&&n.push(e))})),n}(e);t.length>1&&(t=w(t));t.length>1&&(t=I(t));return t}(n);break;case eb.TRACK_SELECTION_MODE_HIGHEST_BITRATE:i=function(e){var t=w(e);t.length>1&&(t=I(t));return t}(n);break;case eb.TRACK_SELECTION_MODE_FIRST_TRACK:i=R(n);break;case eb.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:i=function(e){var t=C(e);t.length>1&&(t=w(t));return t}(n);break;case eb.TRACK_SELECTION_MODE_WIDEST_RANGE:i=function(e){var t=I(e);t.length>1&&(t=w(e));return t}(n);break;default:t.warn("Track selection mode ".concat(a," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),i=R(n)}return i.length>0?i[0]:n[0]}function R(e){return e[0]}return e={setInitialMediaSettingsForType:function(e,t){var n=a[e]||p(e),r=c(e,t.id),i=[];n||((n=o.getSavedMediaSettings(e))&&delete n.codec,f(e,n)),r&&0!==r.length&&(n&&(i=m(i=Array.from(r),v,n),i=m(i,y,n),i=m(i,E,n),e===eb.AUDIO&&a[e]||(i=m(i,_,n)),i=m(i,T,n),i=m(i,b,n),i=m(i,S,n)),0===i.length?h(k(e,r),!0):i.length>1?h(k(e,i)):h(i[0]))},addTrack:function(e){if(e){var t=e.type;if((i=t)===eb.AUDIO||i===eb.VIDEO||i===eb.TEXT||i===eb.IMAGE){var i,a,s=e.streamInfo.id;n[s]||(n[s]={audio:{list:[],storeLastSettings:a=r.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:a,current:null},text:{list:[],storeLastSettings:a,current:null},image:{list:[],storeLastSettings:a,current:null}});for(var o=n[s][t].list,l=0,u=o.length;l<u;++l)if(A(o[l],e))return;o.push(e)}}},getTracksFor:c,getCurrentTrackFor:d,isCurrentTrack:function(e){if(!e)return!1;var t=e.type,r=e.streamInfo.id;return n[r]&&n[r][t]&&A(n[r][t].current,e)},setTrack:h,selectInitialTrack:k,setInitialSettings:f,getInitialSettings:p,getTracksWithHighestBitrate:w,getTracksWithHighestEfficiency:C,getTracksWithWidestRange:I,isTracksEqual:A,matchSettings:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=!1;if(e.lang){if(_instanceof(e.lang,RegExp))r=t.lang.match(e.lang);else if(""!==t.lang){var i=(0,YI.default)(e.lang);i&&(r=(0,qI.extendedFilter)(t.lang,i).length>0)}}else r=!0;var a=void 0===e.index||null===e.index||t.index===e.index,s=!e.viewpoint||e.viewpoint===t.viewpoint,o=!e.role||!!t.roles.filter((function(t){return t===e.role}))[0],l=!e.accessibility||!!t.accessibility.filter((function(t){return t===e.accessibility}))[0],u=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter((function(t){return t===e.audioChannelConfiguration}))[0];return r&&a&&s&&(o||t.type===eb.AUDIO&&n)&&l&&u}catch(e){return!1}},matchSettingsLang:v,matchSettingsIndex:y,matchSettingsViewPoint:E,matchSettingsRole:_,matchSettingsAccessibility:T,matchSettingsAudioChannelConfig:b,saveTextSettingsDisabled:function(){o.setSavedMediaSettings(eb.TEXT,null)},setConfig:function(e){e&&(e.domStorage&&(o=e.domStorage),e.settings&&(r=e.settings),e.customParametersModel&&(s=e.customParametersModel))},reset:g},t=_b(l).getInstance().getLogger(e),g(),e}zI.__dashjs_factory_name="MediaController";var WI=ib.getSingletonFactory(zI);ib.updateSingletonFactory(zI.__dashjs_factory_name,WI);var KI=WI,XI=NaN,JI=function e(t,n){_class_call_check(this,e),this.data={baseUrls:t||null,selectedIdx:n||XI},this.children=[]};function ZI(){var e,t,n,r,i=this.context,a=dw(i).getInstance();function s(e,t,n){var r=l(n);e[t]?a.areEqual(r,e[t].data.baseUrls)||(e[t].data.baseUrls=r,e[t].data.selectedIdx=XI):e[t]=new JI(r)}function o(e){!function(){if(!n||!n.hasOwnProperty("getBaseURLsFromElement")||!n.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var r=l(e);a.areEqual(r,t.data.baseUrls)||(t.data.baseUrls=r,t.data.selectedIdx=XI),e&&e.Period_asArray&&e.Period_asArray.forEach((function(e,r){s(t.children,r,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach((function(e,i){s(t.children[r].children,i,e),e.Representation_asArray&&e.Representation_asArray.sort(n.getRepresentationSortFunction()).forEach((function(e,n){s(t.children[r].children[i].children,n,e)}))}))}))}function l(e){var t=n.getBaseURLsFromElement(e),i=r.getSynthesizedBaseUrlElements(t);return i&&i.length>0&&(t=t.concat(i)),t}function u(e,n){var r=n||t;e(r.data),r.children&&r.children.forEach((function(t){return u(e,t)}))}function c(){t=new JI}return e={reset:c,update:function(e){o(e)},getForPath:function(e){var n=t,r=[n.data];return e&&e.forEach((function(e){(n=n.children[e])&&r.push(n.data)})),r.filter((function(e){return e.baseUrls.length}))},invalidateSelectedIndexes:function(e){u((function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=XI)}))},setConfig:function(e){e.adapter&&(n=e.adapter),e.contentSteeringController&&(r=e.contentSteeringController)},getBaseUrls:function(e){return l(e)}},c(),e}ZI.__dashjs_factory_name="BaseURLTreeModel";var $I=ib.getClassFactory(ZI);function ek(e){var t,n=(e=e||{}).blacklistController;return t={select:function(e){return e&&function(e){var t,n,r=0,i=[],a=0;if(n=e.sort((function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n})).filter((function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority})),n.length)return n.length>1&&(n.forEach((function(e){r+=e.dvb_weight,i.push(r)})),t=Math.floor(Math.random()*(r-1)),i.every((function(e,n){return a=n,!(t<e)}))),n[a]}((t=[],e.filter((function(e){return!n.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)})).filter((function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)}))));var t}},t}ek.__dashjs_factory_name="DVBSelector";var tk=ib.getClassFactory(ek);function nk(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n,r=0;return e&&e.some((function(e,n){return r=n,!t.contains(e.serviceLocation)}))&&(n=e[r]),n}}}nk.__dashjs_factory_name="BasicSelector";var rk=ib.getClassFactory(nk);function ik(){var e,t,n,r=this.context;function i(){for(var e=function(){var e=t[i],s=r.findIndex((function(t){return t.serviceLocation&&t.serviceLocation===e}));if(-1!==s&&!n.contains(r[s].serviceLocation))return a=s,"break";i+=1},t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0,a=NaN;i<t.length;){if("break"===e())break}return a}return e={selectBaseUrlIndex:function(e){var n=NaN;if(isNaN(e.selectedIdx)){var r=t.getSteeringDataFromManifest();r&&r.defaultServiceLocationArray.length>0&&(n=i(r.defaultServiceLocationArray,e.baseUrls))}var a=t.getCurrentSteeringResponseData();return e.baseUrls&&e.baseUrls.length&&a&&a.pathwayPriority&&a.pathwayPriority.length&&(n=i(a.pathwayPriority,e.baseUrls)),n},setConfig:function(e){e.blacklistController&&(n=e.blacklistController),e.contentSteeringController&&(t=e.contentSteeringController)}},t=yI(r).getInstance(),e}ik.__dashjs_factory_name="ContentSteeringSelector";var ak=ib.getClassFactory(ik);function sk(){var e,t,n,r,i,a,s=this.context,o=cb(s).getInstance(),l=Vb(s).getInstance();function u(){t.reset()}return e={chooseSelector:function(e){gS(e,"boolean"),a=e?r:n},select:function(e){if(e){if(l.get().streaming.applyContentSteering){var t=i.selectBaseUrlIndex(e);isNaN(t)||-1===t||(e.selectedIdx=t)}if(!isNaN(e.selectedIdx))return e.baseUrls[e.selectedIdx];var r=a.select(e.baseUrls);return r?(e.selectedIdx=e.baseUrls.indexOf(r),r):(o.trigger(fb.URL_RESOLUTION_FAILED,{error:new Bb(Ob.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,Ob.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(a===n&&u()))}},reset:u,setConfig:function(e){e.selector&&(a=e.selector),e.contentSteeringSelector&&(i=e.contentSteeringSelector)}},t=cI(s).create({updateEventName:fb.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:fb.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),n=rk(s).create({blacklistController:t}),r=tk(s).create({blacklistController:t}),(i=ak(s).create()).setConfig({blacklistController:t}),a=n,e}sk.__dashjs_factory_name="BaseURLSelector";var ok=ib.getClassFactory(sk);function lk(){var e,t,n,r,i,a=this.context,s=cb(a).getInstance(),o=CS(a).getInstance();function l(e){n.invalidateSelectedIndexes(e.entry)}function u(e){n.update(e),r.chooseSelector(t.getIsDVB(e)),s.trigger(ob.BASE_URLS_UPDATED,{baseUrls:c(e)})}function c(e){return n.getBaseUrls(e)}return e={reset:function(){n.reset(),r.reset()},initialize:function(e){n.setConfig({adapter:t,contentSteeringController:i}),u(e)},resolve:function(e){var t=n.getForPath(e).reduce((function(e,t){var n=r.select(t);return n?(o.isRelative(n.url)?e.url=o.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e.availabilityTimeOffset=n.availabilityTimeOffset,e.availabilityTimeComplete=n.availabilityTimeComplete,e.queryParams=n.queryParams,e):new iw}),new iw);if(!o.isRelative(t.url))return t},setConfig:function(e){e.baseURLTreeModel&&(n=e.baseURLTreeModel),e.baseURLSelector&&(r=e.baseURLSelector),e.adapter&&(t=e.adapter),e.contentSteeringController&&(i=e.contentSteeringController)},getBaseUrls:c,update:u},n=$I(a).create(),r=ok(a).create(),s.on(fb.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,l,e),e}lk.__dashjs_factory_name="BaseURLController";var uk=ib.getClassFactory(lk),ck=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this)).url=e||null,i.type=r||null,i.mediaType=eb.STREAM,i.responseType="",i}return n}(Ib),dk=ck;function hk(e){e=e||{};var t=this.context,n=cb(t).getInstance(),r=XC(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,errors:Ob});return{load:function(e,t,i){var a=function(r,a){t.resolved=!0,t.resolvedContent=r||null,n.trigger(fb.XLINK_ELEMENT_LOADED,{element:t,resolveObject:i,error:r||a?null:new Bb(Ob.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,Ob.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})};if("urn:mpeg:dash:resolve-to-zero:2013"===e)a(null,!0);else{var s=new dk(e,Sb.XLINK_EXPANSION_TYPE);r.load({request:s,success:function(e){a(e)},error:function(){a(null)}})}},reset:function(){r&&(r.abort(),r=null)}}}hk.__dashjs_factory_name="XlinkLoader";var fk=ib.getClassFactory(hk);var pk=function(e){e=e||{},function(){void 0===e.escapeMode&&(e.escapeMode=!0);void 0===e.attributePrefix&&(e.attributePrefix="_");e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0);e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0);void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0);e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1);e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1);void 0===e.ignoreRoot&&(e.ignoreRoot=!1)}();var t={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function n(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function r(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function i(e,t,n,r){for(var i=0;i<e.length;i++){var a=e[i];if("string"==typeof a){if(a==r)break}else if(_instanceof(a,RegExp)){if(a.test(r))break}else if("function"==typeof a&&a(t,n,r))break}return i!=e.length}function a(t,n,r){if("property"===e.arrayAccessForm)_instanceof(t[n],Array)?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]];!_instanceof(t[n],Array)&&e.arrayAccessFormPaths.length>0&&i(e.arrayAccessFormPaths,t,n,r)&&(t[n]=[t[n]])}function s(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");if(n.setHours(t[3],t[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function o(n,r,a,s){return!(r==t.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||i(e.xmlElementsFilter,n,a,s)}function l(r,u){if(r.nodeType==t.DOCUMENT_NODE){for(var c=new Object,d=r.childNodes,h=0;h<d.length;h++){if((p=d[h]).nodeType==t.ELEMENT_NODE)if(e.ignoreRoot)c=l(p);else(c={})[A=n(p)]=l(p)}return c}if(r.nodeType==t.ELEMENT_NODE){(c=new Object).__cnt=0;var f=[];for(d=r.childNodes,h=0;h<d.length;h++){var p,A=n(p=d[h]);if(p.nodeType!=t.COMMENT_NODE){var g=u+"."+A;if(o(c,p.nodeType,A,g))if(c.__cnt++,null==c[A]){var m=l(p,g);if("#text"!=A||/[^\s]/.test(m))(v={})[A]=m,f.push(v);c[A]=m,a(c,A,g)}else{null!=c[A]&&(_instanceof(c[A],Array)||(c[A]=[c[A]],a(c,A,g)));var v;m=l(p,g);if("#text"!=A||/[^\s]/.test(m))(v={})[A]=m,f.push(v);c[A][c[A].length]=m}}}c.__children=f;for(var y=n(r),E=0;E<r.attributes.length;E++){var _=r.attributes[E];c.__cnt++;for(var T=_.value,b=0,S=e.matchers.length;b<S;b++){var w=e.matchers[b];w.test(_,y)&&(T=w.converter(_.value))}c[e.attributePrefix+_.name]=T}var C=function(e){return e.prefix}(r);return null!=C&&""!=C&&(c.__cnt++,c.__prefix=C),null!=c["#text"]&&(c.__text=c["#text"],_instanceof(c.__text,Array)&&(c.__text=c.__text.join("\n")),e.stripWhitespaces&&(c.__text=c.__text.trim()),delete c["#text"],"property"==e.arrayAccessForm&&delete c["#text_asArray"],c.__text=function(t,n,r){if(e.datetimeAccessFormPaths.length>0){var a=r.split(".#")[0];return i(e.datetimeAccessFormPaths,t,n,a)?s(t):t}return t}(c.__text,A,u+"."+A)),null!=c["#cdata-section"]&&(c.__cdata=c["#cdata-section"],delete c["#cdata-section"],"property"==e.arrayAccessForm&&delete c["#cdata-section_asArray"]),0==c.__cnt&&"text"==e.emptyNodeForm?c="":1==c.__cnt&&null!=c.__text?c=c.__text:1!=c.__cnt||null==c.__cdata||e.keepCData?c.__cnt>1&&null!=c.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==c.__text||""==c.__text.trim())&&delete c.__text:c=c.__cdata,delete c.__cnt,!e.enableToStringFunc||null==c.__text&&null==c.__cdata||(c.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),c}if(r.nodeType==t.TEXT_NODE||r.nodeType==t.CDATA_SECTION_NODE)return r.nodeValue}function u(t,n,i,a){var s="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=i)for(var o=0;o<i.length;o++){var l=i[o],u=t[l];e.escapeMode&&(u=r(u)),s+=" "+l.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?s+='"'+u+'"':s+="'"+u+"'"}return s+=a?"/>":">"}function c(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function d(t,n){return!!("property"==e.arrayAccessForm&&(r=n.toString(),i="_asArray",-1!==r.indexOf(i,r.length-i.length))||0==n.toString().indexOf(e.attributePrefix)||0==n.toString().indexOf("__")||_instanceof(t[n],Function));var r,i}function h(e){var t=0;if(_instanceof(e,Object))for(var n in e)d(e,n)||t++;return t}function f(t,n,r){return 0==e.jsonPropertiesFilter.length||""==r||i(e.jsonPropertiesFilter,t,n,r)}function p(t){var n=[];if(_instanceof(t,Object))for(var r in t)-1==r.toString().indexOf("__")&&0==r.toString().indexOf(e.attributePrefix)&&n.push(r);return n}function A(t){var n="";return _instanceof(t,Object)?n+=function(t){var n="";return null!=t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?n+=r(t.__text):n+=t.__text),n}(t):null!=t&&(e.escapeMode?n+=r(t):n+=t),n}function g(e,t){return""===e?t:e+"."+t}function m(e,t,n,r){var i="";if(0==e.length)i+=u(e,t,n,!0);else for(var a=0;a<e.length;a++)i+=u(e[a],t,p(e[a]),!1),i+=v(e[a],g(r,t)),i+=c(e[a],t);return i}function v(e,t){var n="";if(h(e)>0)for(var r in e)if(!d(e,r)&&(""==t||f(e,r,g(t,r)))){var i=e[r],a=p(i);if(null==i||null==i)n+=u(i,r,a,!0);else if(_instanceof(i,Object))if(_instanceof(i,Array))n+=m(i,r,a,t);else if(_instanceof(i,Date))n+=u(i,r,a,!1),n+=i.toISOString(),n+=c(i,r);else{h(i)>0||null!=i.__text||null!=i.__cdata?(n+=u(i,r,a,!1),n+=v(i,g(t,r)),n+=c(i,r)):n+=u(i,r,a,!0)}else n+=u(i,r,a,!1),n+=A(i),n+=c(i,r)}return n+=A(e)}this.parseXmlString=function(e){if(void 0===e)return null;var t;if(window.DOMParser){var n=new window.DOMParser;try{(t=n.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:_instanceof(e,Array)?e:[e]},this.toXmlDateTime=function(e){return _instanceof(e,Date)?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?s(e):e},this.xml2json=function(e){return l(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return v(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}},Ak="onLoad";function gk(e){e=e||{};var t,n,r,i,a,s,o=this.context,l=cb(o).getInstance(),u=CS(o).getInstance();function c(e,t,n){var r,i,a={};a.elements=e,a.type=t,a.resolveType=n,0===a.elements.length&&h(a);for(var o=0;o<a.elements.length;o++)r=a.elements[o],i=u.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,s.load(i,r,a)}function d(e){var t,n,r="";if(t=e.element,n=e.resolveObject,t.resolvedContent){var i=0;0===t.resolvedContent.indexOf("<?xml")&&(i=t.resolvedContent.indexOf("?>")+2),r=t.resolvedContent.substr(0,i)+"<response>"+t.resolvedContent.substr(i)+"</response>",t.resolvedContent=a.xml_str2json(r)}(function(e){var t;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0})(n)&&h(n)}function h(e){var t,n,a=[];if(function(e){var t,n,a,s,o,l,u=[];for(s=e.elements.length-1;s>=0;s--){if(n=(t=e.elements[s]).type+"_asArray",t.resolvedContent){if(t.resolvedContent)for(o=0;o<t.resolvedContent[n].length;o++)a=t.resolvedContent[n][o],u.push(a)}else delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],u.push(t.originalContent);for(t.parentElement[n].splice(t.index,1),l=0;l<u.length;l++)t.parentElement[n].splice(t.index+l,0,u[l]);u=[]}e.elements.length>0&&r.run(i)}(e),"onActuate"===e.resolveType&&l.trigger(fb.XLINK_READY,{manifest:i}),e.resolveType===Ak)switch(e.type){case tb.PERIOD:for(t=0;t<i[tb.PERIOD+"_asArray"].length;t++)(n=i[tb.PERIOD+"_asArray"][t]).hasOwnProperty(tb.ADAPTATION_SET+"_asArray")&&(a=a.concat(f(n[tb.ADAPTATION_SET+"_asArray"],n,tb.ADAPTATION_SET,Ak))),n.hasOwnProperty(tb.EVENT_STREAM+"_asArray")&&(a=a.concat(f(n[tb.EVENT_STREAM+"_asArray"],n,tb.EVENT_STREAM,Ak)));c(a,tb.ADAPTATION_SET,Ak);break;case tb.ADAPTATION_SET:l.trigger(fb.XLINK_READY,{manifest:i})}}function f(e,t,n,r){var i,a,s,o=[];for(a=e.length-1;a>=0;a--)(i=e[a]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===i["xlink:href"]&&e.splice(a,1);for(a=0;a<e.length;a++)(i=e[a]).hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===r&&(s=p(i["xlink:href"],t,n,a,r,i),o.push(s));return o}function p(e,t,n,r,i,a){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:a,resolvedContent:null,resolved:!1}}return t={resolveManifestOnLoad:function(e){a=new pk({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:n}),(i=e).Period_asArray?c(f(i.Period_asArray,i,tb.PERIOD,Ak),tb.PERIOD,Ak):l.trigger(fb.XLINK_READY,{manifest:i})},setMatchers:function(e){e&&(n=e)},setIron:function(e){e&&(r=e)},reset:function(){l.off(fb.XLINK_ELEMENT_LOADED,d,t),s&&(s.reset(),s=null)}},l.on(fb.XLINK_ELEMENT_LOADED,d,t),s=fk(o).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),t}gk.__dashjs_factory_name="XlinkController";var mk=ib.getClassFactory(gk);function vk(e){function t(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function n(e,n,r){for(var i=0,a=e.length;i<a;++i){var s=e[i];if(n[s.name])if(r[s.name]){if(s.merge){var o=n[s.name],l=r[s.name];"object"==typeof o&&"object"==typeof l?t(o,l):r[s.name]=o+l}}else r[s.name]=n[s.name]}}function r(e,t){for(var i=0,a=e.children.length;i<a;++i){var s=e.children[i],o=t[s.name+"_asArray"];if(o)for(var l=0,u=o.length;l<u;++l){var c=o[l];n(e.properties,t,c),r(s,c)}}}return{run:function(t){if(null===t||"object"!=typeof t)return t;if(t.Period_asArray&&"period"in e)for(var n=e.period,i=t.Period_asArray,a=0,s=i.length;a<s;++a){var o=i[a];if(r(n,o),"adaptationset"in e){var l=o.AdaptationSet_asArray;if(l)for(var u=e.adaptationset,c=0,d=l.length;c<d;++c)r(u,l[c])}}return t}}}vk.__dashjs_factory_name="ObjectIron";var yk=ib.getClassFactory(vk),Ek=function(){function e(t,n){_class_call_check(this,e),this._test=t,this._converter=n}return _create_class(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}(),_k=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.call(this,(function(e,t){var n,r=(_define_property(n={},tb.MPD,[tb.ID,tb.PROFILES]),_define_property(n,tb.PERIOD,[tb.ID]),_define_property(n,tb.BASE_URL,[tb.SERVICE_LOCATION,tb.BYTE_RANGE]),_define_property(n,tb.SEGMENT_BASE,[tb.INDEX_RANGE]),_define_property(n,tb.INITIALIZATION,[tb.RANGE]),_define_property(n,tb.REPRESENTATION_INDEX,[tb.RANGE]),_define_property(n,tb.SEGMENT_LIST,[tb.INDEX_RANGE]),_define_property(n,tb.BITSTREAM_SWITCHING,[tb.RANGE]),_define_property(n,tb.SEGMENT_URL,[tb.MEDIA_RANGE,tb.INDEX_RANGE]),_define_property(n,tb.SEGMENT_TEMPLATE,[tb.INDEX_RANGE,tb.MEDIA,tb.INDEX,tb.INITIALIZATION_MINUS,tb.BITSTREAM_SWITCHING_MINUS]),_define_property(n,tb.ASSET_IDENTIFIER,[tb.VALUE,tb.ID]),_define_property(n,tb.EVENT_STREAM,[tb.VALUE]),_define_property(n,tb.ADAPTATION_SET,[tb.PROFILES,tb.MIME_TYPE,tb.SEGMENT_PROFILES,tb.CODECS,tb.CONTENT_TYPE]),_define_property(n,tb.FRAME_PACKING,[tb.VALUE,tb.ID]),_define_property(n,tb.AUDIO_CHANNEL_CONFIGURATION,[tb.VALUE,tb.ID]),_define_property(n,tb.CONTENT_PROTECTION,[tb.VALUE,tb.ID]),_define_property(n,tb.ESSENTIAL_PROPERTY,[tb.VALUE,tb.ID]),_define_property(n,tb.SUPPLEMENTAL_PROPERTY,[tb.VALUE,tb.ID]),_define_property(n,tb.INBAND_EVENT_STREAM,[tb.VALUE,tb.ID]),_define_property(n,tb.ACCESSIBILITY,[tb.VALUE,tb.ID]),_define_property(n,tb.ROLE,[tb.VALUE,tb.ID]),_define_property(n,tb.RATING,[tb.VALUE,tb.ID]),_define_property(n,tb.VIEWPOINT,[tb.VALUE,tb.ID]),_define_property(n,tb.CONTENT_COMPONENT,[tb.CONTENT_TYPE]),_define_property(n,tb.REPRESENTATION,[tb.ID,tb.DEPENDENCY_ID,tb.MEDIA_STREAM_STRUCTURE_ID]),_define_property(n,tb.SUBSET,[tb.ID]),_define_property(n,tb.METRICS,[tb.METRICS_MINUS]),_define_property(n,tb.REPORTING,[tb.VALUE,tb.ID]),n);if(r.hasOwnProperty(t)){var i=r[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1}),(function(e){return String(e)}))}return n}(Ek),Tk=_k,bk=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,Sk=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.call(this,(function(e){for(var t=[tb.MIN_BUFFER_TIME,tb.MEDIA_PRESENTATION_DURATION,tb.MINIMUM_UPDATE_PERIOD,tb.TIMESHIFT_BUFFER_DEPTH,tb.MAX_SEGMENT_DURATION,tb.MAX_SUBSEGMENT_DURATION,tb.SUGGESTED_PRESENTATION_DELAY,tb.START,eb.START_TIME,tb.DURATION],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return bk.test(e.value);return!1}),(function(e){var t=bk.exec(e),n=31536e3*parseFloat(t[3]||0)+2592e3*parseFloat(t[5]||0)+86400*parseFloat(t[7]||0)+3600*parseFloat(t[9]||0)+60*parseFloat(t[11]||0)+parseFloat(t[13]||0);return void 0!==t[1]&&(n=-n),n}))}return n}(Ek),wk=Sk,Ck=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,Ik=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.call(this,(function(e){return Ck.test(e.value)}),(function(e){var t,n=Ck.exec(e);if(t=Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10),n[6]&&parseInt(n[6],10)||0,n[7]&&1e3*parseFloat(n[7])||0),n[9]&&n[10]){var r=60*parseInt(n[9],10)+parseInt(n[10],10);t+=("+"===n[8]?-1:1)*r*60*1e3}return new Date(t)}))}return n}(Ek),kk=Ik,Rk=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,Dk=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.call(this,(function(e){return Rk.test(e.value)}),(function(e){return parseFloat(e)}))}return n}(Ek),Mk=Dk,Lk=f(Ie()),Nk=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.call(this,(function(e,t){var n,r=(_define_property(n={},tb.ADAPTATION_SET,[tb.LANG]),_define_property(n,tb.REPRESENTATION,[tb.LANG]),_define_property(n,tb.CONTENT_COMPONENT,[tb.LANG]),_define_property(n,tb.LABEL,[tb.LANG]),_define_property(n,tb.GROUP_LABEL,[tb.LANG]),n);if(r.hasOwnProperty(t)){var i=r[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1}),(function(e){var t=(0,Lk.default)(e);return t||String(e)}))}return n}(Ek),Bk=Nk,xk=function(){function e(t){_class_call_check(this,e);var n;this._name=t,this._merge=(n=t)&&n.length&&n.charAt(0)===n.charAt(0).toUpperCase()}return _create_class(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}(),Pk=function(){function e(t,n,r){var i=this;_class_call_check(this,e),this._name=t||"",this._properties=[],this._children=r||[],Array.isArray(n)&&n.forEach((function(e){i._properties.push(new xk(e))}))}return _create_class(e,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}(),Ok=function(e){_inherits(n,e);var t=_create_super(n);function n(){_class_call_check(this,n);var e=[tb.PROFILES,tb.WIDTH,tb.HEIGHT,tb.SAR,tb.FRAMERATE,tb.AUDIO_SAMPLING_RATE,tb.MIME_TYPE,tb.SEGMENT_PROFILES,tb.CODECS,tb.MAXIMUM_SAP_PERIOD,tb.START_WITH_SAP,tb.MAX_PLAYOUT_RATE,tb.CODING_DEPENDENCY,tb.SCAN_TYPE,tb.FRAME_PACKING,tb.AUDIO_CHANNEL_CONFIGURATION,tb.CONTENT_PROTECTION,tb.ESSENTIAL_PROPERTY,tb.ESSENTIAL_PROPERTY+"_asArray",tb.SUPPLEMENTAL_PROPERTY,tb.INBAND_EVENT_STREAM];return t.call(this,tb.ADAPTATION_SET,e,[new Pk(tb.REPRESENTATION,e,[new Pk(tb.SUB_REPRESENTATION,e)])])}return n}(Pk),Fk=function(e){_inherits(n,e);var t=_create_super(n);function n(){_class_call_check(this,n);var e=[tb.SEGMENT_BASE,tb.SEGMENT_TEMPLATE,tb.SEGMENT_LIST];return t.call(this,tb.PERIOD,e,[new Pk(tb.ADAPTATION_SET,e,[new Pk(tb.REPRESENTATION,e)])])}return n}(Pk);function Uk(e){e=e||{};var t,n,r,i,a,s=this.context,o=e.debug;return t={parse:function(e){var t,r=window.performance.now();if(!(t=i.xml_str2json(e)))throw new Error("parsing the manifest failed");var s=window.performance.now();t.Patch?((t=t.Patch).add_asArray&&t.add_asArray.forEach((function(e){return a.run(e)})),t.replace_asArray&&t.replace_asArray.forEach((function(e){return a.run(e)}))):(t=t.MPD,a.run(t));var o=window.performance.now();return n.info("Parsing complete: ( xml2json: "+(s-r).toPrecision(3)+"ms, objectiron: "+(o-s).toPrecision(3)+"ms, total: "+((o-r)/1e3).toPrecision(3)+"s)"),t.protocol="DASH",t},getMatchers:function(){return r},getIron:function(){return a}},n=o.getLogger(t),r=[new wk,new kk,new Mk,new Bk,new Tk],i=new pk({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:r}),a=yk(s).create({adaptationset:new Ok,period:new Fk}),t}Uk.__dashjs_factory_name="DashParser";var jk=ib.getClassFactory(Uk);function Qk(e){e=e||{};var t,n,r,i,a,s=this.context,o=e.debug,l=e.settings,u=cb(s).getInstance(),c=CS(s).getInstance(),d=e.mssHandler,h=e.errHandler;function f(e){u.trigger(fb.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}return t={load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=new Date,p=new dk(e,Sb.MPD_TYPE);t&&(p.serviceLocation=t),h&&(p.queryParams=h),p.requestStartDate||(p.requestStartDate=f),u.trigger(fb.MANIFEST_LOADING_STARTED,{request:p}),r.load({request:p,success:function(t,r,h){var f,p,A;if(i)if(h&&h!==e?(p=c.parseBaseUrl(h),f=h):(c.isRelative(e)&&(e=c.resolve(e,window.location.href)),p=c.parseBaseUrl(e)),"No Content"!=r)if(null===a&&(a=function(e){var t=null;return e.indexOf("SmoothStreamingMedia")>-1?(d&&(t=d.createMssParser(),d.createMssFragmentProcessor(),d.registerEvents()),t):e.indexOf("MPD")>-1||e.indexOf("Patch")>-1?jk(s).create({debug:o}):t}(t)),null!==a){i.setMatchers(a.getMatchers()),i.setIron(a.getIron());try{A=a.parse(t)}catch(t){return void u.trigger(fb.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Bb(Ob.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Ob.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))})}if(A){if(A.url=f||e,A.originalUrl||(A.originalUrl=A.url),l&&l.get().streaming.enableManifestDurationMismatchFix&&A.mediaPresentationDuration&&A.Period_asArray.length>1){var g=A.Period_asArray.reduce((function(e,t){return e+t.duration}),0);!isNaN(g)&&A.mediaPresentationDuration>g&&(n.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),A.mediaPresentationDuration=g)}A.baseUri=p,A.loadedTime=new Date,i.resolveManifestOnLoad(A),u.trigger(fb.ORIGINAL_MANIFEST_LOADED,{originalManifest:t})}else u.trigger(fb.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Bb(Ob.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Ob.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))})}else u.trigger(fb.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Bb(Ob.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Ob.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))});else u.trigger(fb.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(t,n,r){u.trigger(fb.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new Bb(Ob.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,Ob.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(e,", ").concat(r))})}})},reset:function(){u.off(fb.XLINK_READY,f,t),d&&d.reset(),i&&(i.reset(),i=null),r&&(r.abort(),r=null)}},n=o.getLogger(t),u.on(fb.XLINK_READY,f,t),r=XC(s).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:c,constants:eb,dashConstants:tb,errors:Ob,requestTimeout:e.settings.get().streaming.manifestRequestTimeout}),i=mk(s).create({errHandler:h,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),a=null,t}Qk.__dashjs_factory_name="ManifestLoader";var Gk=ib.getClassFactory(Qk);function Vk(){var e=this.context,t=cb(e).getInstance();return{error:function(e){t.trigger(fb.ERROR,{error:e})}}}Vk.__dashjs_factory_name="ErrorHandler";var Hk=ib.getSingletonFactory(Vk),Yk=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function qk(){var e="ManagedMediaSource"in window,t="WebKitMediaSource"in window,n="MediaSource"in window;return e||t||n}function zk(){var e,t,n;return e={setConfig:function(e){e&&e.settings&&(t=e.settings)},supportsMediaSource:qk,supportsEncryptedMedia:function(){return n},supportsCodec:function(e,n){return n!==eb.AUDIO&&n!==eb.VIDEO?Promise.resolve(!0):function(e,n){return t.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(e.codec&&n===eb.AUDIO||n===eb.VIDEO&&e.codec&&e.width&&e.height&&e.bitrate&&e.framerate)}(e,n)?function(e,t){return new Promise((function(n){if(e&&e.codec){var r={type:"media-source"};r[t]={},r[t].contentType=e.codec,r[t].width=e.width,r[t].height=e.height,r[t].bitrate=parseInt(e.bitrate),r[t].framerate=parseFloat(e.framerate),navigator.mediaCapabilities.decodingInfo(r).then((function(e){n(e.supported)})).catch((function(){n(!1)}))}else n(!1)}))}(e,n):function(e){return new Promise((function(t){if(e&&e.codec){var n=e.codec;e.width&&e.height&&(n+=';width="'+e.width+'";height="'+e.height+'"'),"ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(n)||"MediaSource"in window&&MediaSource.isTypeSupported(n)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(n)?t(!0):t(!1)}else t(!1)}))}(e)},setEncryptedMediaSupported:function(e){n=e},supportsEssentialProperty:function(e){try{return-1!==_w.indexOf(e.schemeIdUri)}catch(e){return!0}},codecRootCompatibleWithCodec:function(e,t){for(var n,r=e.split(".")[0],i=0===t.indexOf(r),a=0;a<Yk.length;a++)if(Yk[a].codec===r){n=Yk[a];break}return n?i||n.compatibleCodecs.some((function(e){return 0===t.indexOf(e)})):i}},n=!1,e}zk.__dashjs_factory_name="Capabilities";var Wk=ib.getSingletonFactory(zk);function Kk(){var e,t,n,r,i,a,s=this.context,o=cb(s).getInstance();function l(e,r){if(!r||!r.Period_asArray||0===r.Period_asArray.length)return Promise.resolve();var i=[];return r.Period_asArray.forEach((function(r){i.push(function(e,r){return new Promise((function(i){if(e&&e.AdaptationSet_asArray&&0!==e.AdaptationSet_asArray.length){var s=[];e.AdaptationSet_asArray.forEach((function(e){t.getIsTypeOf(e,r)&&s.push(function(e,r){return new Promise((function(i){if(e.Representation_asArray&&0!==e.Representation_asArray.length){var s=[],o=[];e.Representation_asArray.forEach((function(i,a){var l=t.getCodec(e,a,!1),u=function(e,t,n){switch(e){case eb.VIDEO:return function(e,t){var n=e.width||null,r=e.height||null,i=e.frameRate||null,a=e.bandwidth||null;return{codec:t,width:n,height:r,framerate:i,bitrate:a}}(t,n);case eb.AUDIO:return function(e,t){var n=e.audioSamplingRate||null,r=e.bandwidth||null;return{codec:t,bitrate:r,samplerate:n}}(t,n);default:return null}}(r,i,l);o.push(u),s.push(n.supportsCodec(u,r))})),Promise.all(s).then((function(t){e.Representation_asArray=e.Representation_asArray.filter((function(e,n){return t[n]||a.debug("[Stream] Codec ".concat(o[n].codec," not supported ")),t[n]})),i()})).catch((function(){i()}))}else i()}))}(e,r))})),Promise.all(s).then((function(){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){var t=e.Representation_asArray&&e.Representation_asArray.length>0;return t||(o.trigger(fb.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:e}),a.warn("AdaptationSet has been removed because of no supported Representation")),t})),i()})).catch((function(){i()}))}else i()}))}(r,e))})),Promise.all(i)}return e={setConfig:function(e){e&&(e.adapter&&(t=e.adapter),e.capabilities&&(n=e.capabilities),e.settings&&(r=e.settings),e.customParametersModel&&(i=e.customParametersModel))},filterUnsupportedFeatures:function(e){return new Promise((function(s){var o=[];o.push(l(eb.VIDEO,e)),o.push(l(eb.AUDIO,e)),Promise.all(o).then((function(){r.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(e){if(!e||!e.Period_asArray||0===e.Period_asArray.length)return;e.Period_asArray.forEach((function(e){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){return!e.Representation_asArray||0===e.Representation_asArray.length||(e.Representation_asArray=e.Representation_asArray.filter((function(e){var r=t.getEssentialPropertiesForRepresentation(e);if(r&&r.length>0)for(var i=0;i<r.length;){if(!n.supportsEssentialProperty(r[i]))return a.debug("[Stream] EssentialProperty not supported: "+r[i].schemeIdUri),!1;i+=1}return!0})),e.Representation_asArray&&e.Representation_asArray.length>0)}))}))}(e),function(e){var t=i.getCustomCapabilitiesFilters();if(!t||0===t.length||!e||!e.Period_asArray||0===e.Period_asArray.length)return;e.Period_asArray.forEach((function(e){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){return!e.Representation_asArray||0===e.Representation_asArray.length||(e.Representation_asArray=e.Representation_asArray.filter((function(e){return!t.some((function(t){return!t(e)}))})),e.Representation_asArray&&e.Representation_asArray.length>0)}))}))}(e),s()})).catch((function(){s()}))}))}},a=_b(s).getInstance().getLogger(e),e}Kk.__dashjs_factory_name="CapabilitiesFilter";var Xk=ib.getSingletonFactory(Kk),Jk=function e(){_class_call_check(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Zk(){var e,t;return e={initialize:function(e){if(t=new Jk,!e)return null;var n=e.indexOf("#");if(-1!==n)for(var r=e.substr(n+1).split("&"),i=0,a=r.length;i<a;++i){var s=r[i],o=s.indexOf("=");if(-1!==o){var l=s.substring(0,o);t.hasOwnProperty(l)&&(t[l]=s.substr(o+1))}}},getURIFragmentData:function(){return t}},e}Zk.__dashjs_factory_name="URIFragmentModel";var $k=ib.getSingletonFactory(Zk);function eR(){var e,t=this.context,n=cb(t).getInstance();return{getValue:function(){return e},setValue:function(t){e=t,t&&n.trigger(fb.MANIFEST_LOADED,{data:t})}}}eR.__dashjs_factory_name="ManifestModel";var tR=ib.getSingletonFactory(eR),nR=-.5;function rR(){var e,t,n,r,i=this.context,a=Vb(i).getInstance();function s(e,n){return isNaN(e)?0:e>0?(n&&t.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):e<nR?(n&&t.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(nR,": ").concat(-50,"% playback speed.")),nR):e}function o(e,n){return isNaN(e)?0:e<0?(n&&t.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):e>1?(n&&t.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):e}function l(){var e=a.get().streaming.buffer.stableBufferTime>0?a.get().streaming.buffer.stableBufferTime:a.get().streaming.buffer.fastSwitchEnabled?20:12,t=n.getLiveDelay();return!isNaN(t)&&t>0?Math.min(e,t):e}return e={getCatchupMaxDrift:function(){if(!isNaN(a.get().streaming.liveCatchup.maxDrift)&&a.get().streaming.liveCatchup.maxDrift>0)return a.get().streaming.liveCatchup.maxDrift;var e=r.getServiceDescriptionSettings();return e&&e.liveCatchup&&!isNaN(e.liveCatchup.maxDrift)&&e.liveCatchup.maxDrift>0?e.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==a.get().streaming.liveCatchup.enabled?a.get().streaming.liveCatchup.enabled:n.getInitialCatchupModeActivated()},getStableBufferTime:l,getInitialBufferLevel:function(){var e=a.get().streaming.buffer.initialBufferLevel;return isNaN(e)||e<0?0:Math.min(l(),e)},getRetryAttemptsForType:function(e){var t=isNaN(a.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:a.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return n.getLowLatencyModeEnabled()?a.get().streaming.retryAttempts[e]*t:a.get().streaming.retryAttempts[e]},getRetryIntervalsForType:function(e){var t=isNaN(a.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:a.get().streaming.retryIntervals.lowLatencyReductionFactor;return n.getLowLatencyModeEnabled()?a.get().streaming.retryIntervals[e]/t:a.get().streaming.retryIntervals[e]},getCatchupPlaybackRates:function(e){var t=a.get().streaming.liveCatchup.playbackRate;if(!isNaN(t.min)||!isNaN(t.max))return{min:s(t.min,e),max:o(t.max,e)};var n=r.getServiceDescriptionSettings();if(n&&n.liveCatchup&&(!isNaN(n.liveCatchup.playbackRate.min)||!isNaN(n.liveCatchup.playbackRate.max))){var i=n.liveCatchup.playbackRate;return{min:s(i.min,e),max:o(i.max,e)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(e,t){try{var n=a.get().streaming.abr[e][t];if(!isNaN(n)&&-1!==n)return n;var i=r.getServiceDescriptionSettings();return i&&i[e]&&!isNaN(i[e][t])?i[e][t]:-1}catch(e){return-1}},setConfig:function(e){e.playbackController&&(n=e.playbackController),e.serviceDescriptionController&&(r=e.serviceDescriptionController)},reset:function(){}},t=_b(i).getInstance().getLogger(e),e}rR.__dashjs_factory_name="MediaPlayerModel";var iR=ib.getSingletonFactory(rR);function aR(e){var t=(e=e||{}).abrController,n=e.switchHistory,r=e.droppedFramesHistory,i=e.currentRequest,a=e.useBufferOccupancyABR,s=e.useL2AABR,o=e.useLoLPABR,l=e.streamProcessor?e.streamProcessor.getScheduleController():null,u=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null,c=e.videoModel?e.videoModel:null;function d(){return u?u.mediaInfo:null}return{getMediaType:function(){var e=d();return e?e.type:null},getMediaInfo:d,getDroppedFramesHistory:function(){return r},getCurrentRequest:function(){return i},getSwitchHistory:function(){return n},getStreamInfo:function(){var e=d();return e?e.streamInfo:null},getScheduleController:function(){return l},getAbrController:function(){return t},getRepresentationInfo:function(){return u},useBufferOccupancyABR:function(){return a},useL2AABR:function(){return s},useLoLPABR:function(){return o},getVideoModel:function(){return c}}}aR.__dashjs_factory_name="RulesContext";var sR=ib.getClassFactory(aR);function oR(){var e=[],t=[];return{push:function(n){n.newValue===cC.NO_CHANGE&&(n.newValue=n.oldValue),e[n.oldValue]||(e[n.oldValue]={noDrops:0,drops:0,dropSize:0});var r=n.newValue-n.oldValue,i=r<0?1:0,a=i?-r:0,s=i?0:1;if(e[n.oldValue].drops+=i,e[n.oldValue].dropSize+=a,e[n.oldValue].noDrops+=s,t.push({idx:n.oldValue,noDrop:s,drop:i,dropSize:a}),t.length>8){var o=t.shift();e[o.idx].drops-=o.drop,e[o.idx].dropSize-=o.dropSize,e[o.idx].noDrops-=o.noDrop}},getSwitchRequests:function(){return e},reset:function(){e=[],t=[]}}}oR.__dashjs_factory_name="SwitchRequestHistory";var lR=ib.getClassFactory(oR);function uR(){var e={},t={},n={};return{push:function(r,i,a){if(i){e[r]||(e[r]=[],t[r]=0,n[r]=0);var s=a&&a.droppedVideoFrames?a.droppedVideoFrames:0,o=a&&a.totalVideoFrames?a.totalVideoFrames:0,l=s-t[r];t[r]=s;var u=o-n[r];n[r]=o;var c=e[r];isNaN(i)||(c[i]?(c[i].droppedVideoFrames+=l,c[i].totalVideoFrames+=u):c[i]={droppedVideoFrames:l,totalVideoFrames:u})}},getFrameHistory:function(t){return e[t]},clearForStream:function(r){try{delete e[r],delete t[r],delete n[r]}catch(e){}},reset:function(){e={},t={},n={}}}}uR.__dashjs_factory_name="DroppedFramesHistory";var cR=ib.getClassFactory(uR);function dR(e){var t,n,r,i,a,s=this.context,o=3,l=4,u=4,c=1.3,d=1.3,h=(e=e||{}).settings,f=cb(s).getInstance();function p(e,t,n,r){var i=Math.pow(.5,n/r.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var a=Math.pow(.5,n/r.slow);e.slowEstimate=(1-a)*t+a*e.slowEstimate,e.totalWeight+=n}function A(e,s,f){return h.get().streaming.abr.movingAverageMethod!==eb.MOVING_AVERAGE_SLIDING_WINDOW?function(e,t){var n=e?a.throughputHalfLife:a.latencyHalfLife,s=e?r[t]:i[t];if(!s||s.totalWeight<=0)return NaN;var o=s.fastEstimate/(1-Math.pow(.5,s.totalWeight/n.fast)),l=s.slowEstimate/(1-Math.pow(.5,s.totalWeight/n.slow));return e?Math.min(o,l):Math.max(o,l)}(e,s):function(e,r,i){var a=function(e,r,i){var a,s;if(e?(a=t[r],s=i?o:l):(a=n[r],s=u),a){if(s>=a.length)s=a.length;else if(e)for(var h=1;h<s;++h){var f=a[a.length-h]/a[a.length-h-1];if((f>=d||f<=1/c)&&(s+=1)===a.length)break}}else s=0;return s}(e,r,i),s=e?t:n,h=s[r];if(0===a||!h||0===h.length)return NaN;return(h=h.slice(-a)).reduce((function(e,t){return e+t}))/h.length}(e,s,f)}function g(e,t){return A(!0,e,t)}function m(e){t[e]=t[e]||[],n[e]=n[e]||[],r[e]=r[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},i[e]=i[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function v(){t={},n={},r={},i={}}var y={push:function(e,s,o){if(s.trace&&s.trace.length){var l=s.tresponse.getTime()-s.trequest.getTime()||1,u=s._tfinish.getTime()-s.tresponse.getTime()||1,c=s.trace.reduce((function(e,t){return e+t.b[0]}),0),d=0,A=0;if(d=s._fileLoaderType&&s._fileLoaderType===eb.FILE_LOADER_TYPES.FETCH?s.trace.reduce((function(e,t){return e+t.d}),0):o?u:l+u,0!==d&&(A=Math.round(8*c/d)),s.cmsd){var g=s.cmsd.dynamic&&s.cmsd.dynamic.etp?s.cmsd.dynamic.etp:null;if(g){var v=h.get().streaming.cmsd.abr.etpWeightRatio;v>0&&v<=1&&(A=A*(1-v)+g*v)}}if(m(e),function(e,t,n){return e===eb.VIDEO?n<h.get().streaming.cacheLoadThresholds[eb.VIDEO]:e===eb.AUDIO?n<h.get().streaming.cacheLoadThresholds[eb.AUDIO]:void 0}(e,0,u)){if(t[e].length>0&&!t[e].hasCachedEntries)return;t[e].hasCachedEntries=!0}else t[e]&&t[e].hasCachedEntries&&function(e){delete t[e],delete n[e],delete r[e],delete i[e],m(e)}(e);t[e].push(A),f.trigger(ob.THROUGHPUT_MEASUREMENT_STORED,{throughput:A,mediaType:e,httpRequest:s}),t[e].length>20&&t[e].shift(),n[e].push(l),n[e].length>20&&n[e].shift(),p(r[e],A,.001*u,a.throughputHalfLife),p(i[e],l,1,a.latencyHalfLife)}},getAverageThroughput:g,getSafeAverageThroughput:function(e,t){var n=g(e,t);return isNaN(n)||(n*=h.get().streaming.abr.bandwidthSafetyFactor),n},getAverageLatency:function(e){return A(!1,e)},reset:v};return a={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},v(),y}dR.__dashjs_factory_name="ThroughputHistory";var hR=ib.getClassFactory(dR);function fR(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y,E,_,T,b,S,w,C,I=this.context,k=_b(I).getInstance(),R=cb(I).getInstance();function D(){i={},a={},o={},s={},y={},T={},b={},S={},void 0===u&&(u=!1),E&&E.reset(),v=void 0,E=void 0,_=void 0,clearTimeout(l),l=null}function M(t){var i=t.request.mediaType,a=t.streamId;if(i&&a&&s[a]&&C.get().streaming.abr.autoSwitchBitrate[i]){var u=s[a][i];if(u){var c=sR(I).create({abrController:e,streamProcessor:u,currentRequest:t.request,useBufferOccupancyABR:T[i],useL2AABR:b[i],useLoLPABR:S[i],videoModel:f}),d=n.shouldAbandonFragment(c,a);if(d.quality>cC.NO_CHANGE)u.getFragmentModel().getRequests({state:Nb.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(o[a][i].state=nb.ABANDON_LOAD,y[a][i].reset(),y[a][i].push({oldValue:P(i,a),newValue:d.quality,confidence:1,reason:d.reason}),O(i,r.getActiveStreamInfo(),d.quality,d.reason),clearTimeout(l),l=setTimeout((function(){o[a][i].state=nb.ALLOW_LOAD,l=null}),C.get().streaming.abandonLoadTimeout))}}}function L(e){e.mediaType===eb.VIDEO&&(void 0!==v&&E.push(e.streamId,v,f.getPlaybackQuality()),v=e.newQuality)}function N(e){var n,r;e.metric!==nb.HTTP_REQUEST||!e.value||e.value.type!==Sb.MEDIA_SEGMENT_TYPE||e.mediaType!==eb.AUDIO&&e.mediaType!==eb.VIDEO||_.push(e.mediaType,e.value,C.get().streaming.abr.useDeadTimeLatency),e.metric!==nb.BUFFER_LEVEL||e.mediaType!==eb.AUDIO&&e.mediaType!==eb.VIDEO||(n=e.mediaType,r=.001*e.value.level,C.get().streaming.abr.ABRStrategy===eb.ABR_STRATEGY_DYNAMIC&&function(e,n){try{var r=p.getStableBufferTime(),i=r,a=.5*r,s=T[e],o=n>(s?a:i);T[e]=o,o!==s&&(o?t.info("["+e+"] switching from throughput to buffer occupancy ABR rule (buffer: "+n.toFixed(3)+")."):t.info("["+e+"] switching from buffer occupancy to throughput ABR rule (buffer: "+n.toFixed(3)+")."))}catch(e){t.error(e)}}(n,r))}function B(e,n){try{var r;return i[n]=i[n]||{},i[n].hasOwnProperty(e)||(i[n][e]=0),r=function(e,t){var n=i[t][e],r=n;if(!s[t]||!s[t][e])return r;var a=x(e,t);void 0!==a&&(r=Math.max(n,a));var o=function(e,t){try{var n=p.getAbrBitrateParameter("maxBitrate",e);return n>-1?j(s[t][e].getMediaInfo(),n,t):void 0}catch(e){return}}(e,t);void 0!==o&&(r=Math.min(r,o));return r}(e,n),r=function(e,t,n){var r=i[n][t],a=C.get().streaming.abr.maxRepresentationRatio[t];if(isNaN(a)||a>=1||a<0)return e;return Math.min(e,Math.round(r*a))}(r,e,n),r=function(e,t,n){if(t!==eb.VIDEO||!C.get().streaming.abr.limitBitrateByPortal||!s[n]||!s[n][t])return e;u||G();var r=s[n][t].getStreamInfo(),i=h.getAdaptationForType(r.index,t,r).Representation_asArray,a=e;if(c>0&&d>0){for(;a>0&&i[a]&&c<i[a].width&&c-i[a-1].width<i[a].width-c;)a-=1;for(;a<i.length-1&&i[a].width===i[a+1].width;)a+=1}return a}(r,e,n),C.get().streaming.cmsd.enabled&&C.get().streaming.cmsd.abr.applyMb&&(r=function(e,n,r){if("video"!==n)return e;var i=g.getMaxBitrate(n);if(i<0)return e;var a=U(r,"audio",P("audio",r));i-=a?a.bitrate/1e3:0;var o=j(s[r][n].getMediaInfo(),i,r);return t.debug("Stream ID: "+r+" ["+n+"] Apply max bit rate from CMSD: "+i),Math.min(e,o)}(r,e,n)),r}catch(e){return}}function x(e,t){try{return function(e,t){try{var n=p.getAbrBitrateParameter("minBitrate",e);if(n>-1){var r=s[t][e].getMediaInfo(),i=Q(r),a=j(r,n,t);return i[a]&&a<i.length-1&&i[a].bitrate<1e3*n&&a++,a}return}catch(e){return}}(e,t)}catch(e){return}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(t||(t=r.getActiveStreamInfo().id),e&&s[t]&&s[t][e])if(t)return a[t]=a[t]||{},a[t].hasOwnProperty(e)||(a[t][e]=0),a[t][e];return 0}catch(e){return 0}}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t&&t.id&&e){var i=t.id,a=P(e,i);mS(n);var s=B(e,i);n!==a&&n>=0&&n<=s&&F(e,a,n,s,r,i)}}function F(e,n,r,i,o,l){if(e&&s[l]&&s[l][e]){var u=s[l][e].getStreamInfo(),c=u&&u.manifestInfo&&u.manifestInfo.isDynamic,d=w.getCurrentBufferLevel(e);t.info("Stream ID: "+l+" ["+e+"] switch from "+n+" to "+r+"/"+i+" (buffer: "+d+") "+(o?JSON.stringify(o):".")),a[l]=a[l]||{},a[l][e]=r;var h=U(l,e,r);R.trigger(fb.QUALITY_CHANGE_REQUESTED,{oldQuality:n,newQuality:r,reason:o,streamInfo:u,bitrateInfo:h,maxIdx:i,mediaType:e},{streamId:u.id,mediaType:e});var f=_.getAverageThroughput(e,c);isNaN(f)||m.setSavedBitrateSettings(e,f)}}function U(e,t,n){if(t&&s&&s[e]&&s[e][t]){var r=Q(s[e][t].getMediaInfo());return r[n]?r[n]:null}return null}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e&&e.type?s[n][e.type].getRepresentationInfo():null;if(C.get().streaming.abr.useDeadTimeLatency&&r&&i&&i.fragmentDuration){r/=1e3;var a=i.fragmentDuration;if(r>a)return 0;t*=1-r/a}for(var o=Q(e),l=o.length-1;l>=0;l--){if(1e3*t>=o[l].bitrate)return l}return 0}function Q(e){var t=[];if(!e||!e.bitrateList)return t;for(var n,r=e.bitrateList,i=e.type,a=0,s=r.length;a<s;a++)(n=new sI).mediaType=i,n.qualityIndex=a,n.bitrate=r[a].bandwidth,n.width=r[a].width,n.height=r[a].height,n.scanType=r[a].scanType,t.push(n);return t}function G(){if(f){var e=C.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;c=f.getClientWidth()*e,d=f.getClientHeight()*e}}return e={initialize:function(){E=cR(I).create(),_=hR(I).create({settings:C}),(n=GC(I).create({dashMetrics:w,customParametersModel:A,mediaPlayerModel:p,settings:C})).initialize(),R.on(ob.QUALITY_CHANGE_RENDERED,L,e),R.on(ob.METRIC_ADDED,N,e),R.on(fb.LOADING_PROGRESS,M,e)},isPlayingAtTopQuality:function(e){var t=e?e.id:null,n=P(eb.AUDIO,t),r=P(eb.VIDEO,t);return n===B(eb.AUDIO,t)&&r===B(eb.VIDEO,t)},updateTopQualityIndex:function(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return i[n]=i[n]||{},i[n][t]=r,r},clearDataForStream:function(e){E&&E.clearForStream(e),s[e]&&delete s[e],y[e]&&delete y[e],o[e]&&delete o[e]},getThroughputHistory:function(){return _},getBitrateList:Q,getQualityForBitrate:j,getTopBitrateInfoFor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||(t=r.getActiveStreamInfo().id),e&&s&&s[t]&&s[t][e]){var n=B(e,t),i=Q(s[t][e].getMediaInfo());return i[n]?i[n]:null}return null},getMinAllowedIndexFor:x,getMaxAllowedIndexFor:B,getInitialBitrateFor:function(e,t){if(function(){if(!m||!m.hasOwnProperty("getSavedBitrateSettings"))throw new Error(eb.MISSING_CONFIG_ERROR)}(),e===eb.TEXT)return NaN;var n=m.getSavedBitrateSettings(e),r=p.getAbrBitrateParameter("initialBitrate",e),i=C.get().streaming.abr.initialRepresentationRatio[e];if(-1===r)if(i>-1){var a=s[t][e].getStreamInfo(),o=h.getAdaptationForType(a.index,e,a).Representation_asArray;if(Array.isArray(o))r=o[Math.max(Math.round(o.length*i)-1,0)].bandwidth/1e3;else r=0}else r=isNaN(n)?e===eb.VIDEO?1e3:100:n;return r},getQualityFor:P,getAbandonmentStateFor:function(e,t){return o[e]&&o[e][t]?o[e][t].state:null},setPlaybackQuality:O,checkPlaybackQuality:function(t,r){try{if(!(t&&s&&s[r]&&s[r][t]))return!1;if(E){var i=f.getPlaybackQuality();i&&E.push(r,v,i)}if(!C.get().streaming.abr.autoSwitchBitrate[t])return!1;var a=P(t,r),l=sR(I).create({abrController:e,switchHistory:y[r][t],droppedFramesHistory:E,streamProcessor:s[r][t],currentValue:a,useBufferOccupancyABR:T[t],useL2AABR:b[t],useLoLPABR:S[t],videoModel:f}),u=x(t,r),c=B(t,r),d=n.getMaxQuality(l),h=d.quality;return void 0!==u&&(h>cC.NO_CHANGE?h:a)<u&&(h=u),h>c&&(h=c),y[r][t].push({oldValue:a,newValue:h}),h>cC.NO_CHANGE&&h!==a&&(o[r][t].state===nb.ALLOW_LOAD||h<a)&&(F(t,a,h,c,d.reason,r),!0)}catch(e){return!1}},setElementSize:G,setWindowResizeEventCalled:function(e){u=e},registerStreamType:function(e,t){var n=t.getStreamInfo().id;s[n]||(s[n]={}),y[n]||(y[n]={}),o[n]||(o[n]={}),y[n][e]=lR(I).create(),s[n][e]=t,o[n][e]={},o[n][e].state=nb.ALLOW_LOAD,function(e){var t=C.get().streaming.abr.ABRStrategy;t===eb.ABR_STRATEGY_L2A?(T[e]=!1,S[e]=!1,b[e]=!0):t===eb.ABR_STRATEGY_LoLP?(T[e]=!1,S[e]=!0,b[e]=!1):t===eb.ABR_STRATEGY_BOLA?(T[e]=!0,S[e]=!1,b[e]=!1):t===eb.ABR_STRATEGY_THROUGHPUT?(T[e]=!1,S[e]=!1,b[e]=!1):t===eb.ABR_STRATEGY_DYNAMIC&&(T[e]=!(!T||!T[e])&&T[e],S[e]=!1,b[e]=!1)}(e),e===eb.VIDEO&&G()},unRegisterStreamType:function(e,t){try{s[e]&&s[e][t]&&delete s[e][t],y[e]&&y[e][t]&&delete y[e][t],o[e]&&o[e][t]&&delete o[e][t]}catch(e){}},setConfig:function(e){e&&(e.streamController&&(r=e.streamController),e.domStorage&&(m=e.domStorage),e.mediaPlayerModel&&(p=e.mediaPlayerModel),e.customParametersModel&&(A=e.customParametersModel),e.cmsdModel&&(g=e.cmsdModel),e.dashMetrics&&(w=e.dashMetrics),e.adapter&&(h=e.adapter),e.videoModel&&(f=e.videoModel),e.settings&&(C=e.settings))},reset:function(){D(),R.off(fb.LOADING_PROGRESS,M,e),R.off(ob.QUALITY_CHANGE_RENDERED,L,e),R.off(ob.METRIC_ADDED,N,e),n&&n.reset()}},t=k.getLogger(e),D(),e}fR.__dashjs_factory_name="AbrController";var pR=ib.getSingletonFactory(fR);pR.QUALITY_DEFAULT=0,ib.updateSingletonFactory(fR.__dashjs_factory_name,pR);var AR=pR,gR=new Map([[eb.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[eb.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[eb.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[eb.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function mR(){var e,t,n,r,i,a,s,o,l=this.context,u=cb(l).getInstance(),c=[];function d(){n&&(n.playbackRate=1,n.removeEventListener("canplay",d))}function h(){return c.length>0}function f(){if(n&&h()&&0===n.playbackRate){var e=document.createEvent("Event");e.initEvent("waiting",!0,!1),n.dispatchEvent(e)}}function p(e,t){n&&n.addEventListener(e,t)}function A(e,t){n&&n.removeEventListener(e,t)}function g(){return n?n.readyState:NaN}function m(){return n?n.buffered:null}function v(e,t,r,i,a){if(n)for(var s=0;s<n.textTracks.length;s++)if(n.textTracks[s].kind===e&&(!t||n.textTracks[s].label==t)&&n.textTracks[s].language===r&&n.textTracks[s].isTTML===i&&n.textTracks[s].isEmbedded===a)return n.textTracks[s];return null}function y(e,t){return e===eb.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||g()>=e?(t(),null):function(e,t){var n=function(){A(e,n),t(e)};return p(e,n),{func:n,event:e}}(gR.get(e),t)}return e={addEventListener:p,addTextTrack:function(e,t,r,i,a){if(!n)return null;var s=v(e,t,r,i,a);return s||((s=n.addTextTrack(e,t,r)).isEmbedded=a,s.isTTML=i),s},appendChild:function(e){n&&(n.appendChild(e),void 0!==e.isTTML&&(n.textTracks[n.textTracks.length-1].isTTML=e.isTTML,n.textTracks[n.textTracks.length-1].isEmbedded=e.isEmbedded))},getBufferRange:m,getClientHeight:function(){return n?n.clientHeight:NaN},getClientWidth:function(){return n?n.clientWidth:NaN},getElement:function(){return n},getEnded:function(){return n?n.ended:null},getPlaybackQuality:function(){if(!n)return null;var e="webkitDroppedFrameCount"in n&&"webkitDecodedFrameCount"in n,t=null;return"getVideoPlaybackQuality"in n?t=n.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:n.webkitDroppedFrameCount,totalVideoFrames:n.webkitDroppedFrameCount+n.webkitDecodedFrameCount,creationTime:new Date}),t},getPlaybackRate:function(){return n?n.playbackRate:null},getPlayedRanges:function(){return n?n.played:null},getReadyState:g,getSource:function(){return n?n.src:null},getTTMLRenderingDiv:function(){return a},getTextTrack:v,getTextTracks:function(){return n?n.textTracks:[]},getTime:function(){return n?isNaN(r)?n.currentTime:r:null},getVideoHeight:function(){return n?n.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(n){var e=n.parentNode.host||n.parentNode;return e?n.getBoundingClientRect().left-e.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(n){var e=n.parentNode.host||n.parentNode;return e?n.getBoundingClientRect().top-e.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return n?n.videoWidth:NaN},getVttRenderingDiv:function(){return s},initialize:function(){u.on(fb.PLAYBACK_PLAYING,f,this)},isPaused:function(){return n?n.paused:null},isSeeking:function(){return n?n.seeking||!isNaN(r):null},isStalled:h,pause:function(){n&&(n.pause(),n.autoplay=!1)},play:function(){if(n){n.autoplay=!0;var e=n.play();e&&e.catch&&"undefined"!=typeof Promise&&e.catch((function(e){"NotAllowedError"===e.name&&u.trigger(fb.PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing (".concat(e,")"))}))}},removeChild:function(e){n&&n.removeChild(e)},removeEventListener:A,reset:function(){clearTimeout(o),u.off(fb.PLAYBACK_PLAYING,f,this)},setCurrentTime:function(e,t){n&&(i&&i.func&&i.event&&A(i.event,i.func),r=e,i=y(eb.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(function(){if(n)if(n.currentTime!==r)try{r=t?function(e){var t=m(),n=e,r=9999999999;if(t)for(var i=0;i<t.length;i++){var a=t.start(i),s=t.end(i),o=Math.abs(a-e),l=Math.abs(s-e);if(e>=a&&e<=s)return e;o<r&&(r=o,n=a),l<r&&(r=l,n=s)}return n}(r):r,isNaN(r)||(n.currentTime=r),r=NaN}catch(e){0===n.readyState&&e.code===e.INVALID_STATE_ERR&&(o=setTimeout((function(){n.currentTime=r,r=NaN}),400))}else r=NaN})))},setElement:function(e){if(!(null==e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw"element is not video or audio DOM type!";(n=e)&&(n.preload="auto")},setPlaybackRate:function(e){n&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&n.readyState<=2&&e>0?n.addEventListener("canplay",d):n.playbackRate=e)},setSource:function(e){n&&(e?n.src=e:(n.removeAttribute("src"),n.load()))},setStallState:function(e,t){!function(e,t){t?function(e){if(null===e||!n||n.seeking||-1!==c.indexOf(e))return;c.push(e)}(e):function(e){var t=c.indexOf(e);if(null===e)return;-1!==t&&c.splice(t,1)}(e)}(e,t)},setTTMLRenderingDiv:function(e){(a=e).style.position="absolute",a.style.display="flex",a.style.overflow="hidden",a.style.pointerEvents="none",a.style.top=0,a.style.left=0},setVttRenderingDiv:function(e){s=e},waitForReadyState:y,setDisableRemotePlayback:function(e){n&&(n.disableRemotePlayback=e)}},t=_b(l).getInstance().getLogger(e),r=NaN,e}mR.__dashjs_factory_name="VideoModel";var vR=ib.getSingletonFactory(mR),yR=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],ER="dashjs_?_bitrate",_R="dashjs_?_settings",TR="localStorage",bR="lastBitrate",SR="lastMediaSettings";function wR(e){e=e||{};var t,n,r,i=this.context,a=e.settings;function s(e){if(void 0!==r)return r;r=!1;var t;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return n.warn("DOMStorage access denied: "+e.message),r}if(!t||e!==TR&&"sessionStorage"!==e)return r;try{t.setItem("1","1"),t.removeItem("1"),r=!0}catch(e){n.warn("DOMStorage is supported, but cannot be used: "+e.message)}return r}function o(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function l(e,t){return s(e)&&a.get().streaming[t+"CachingInfo"].enabled}function u(){if(!a)throw new Error(eb.MISSING_CONFIG_ERROR)}return t={getSavedBitrateSettings:function(e){if(u(),!a.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var t=NaN;if(l(TR,bR)){var r=ER.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(r))||{},s=(new Date).getTime()-parseInt(i.timestamp,10)>=a.get().streaming.lastBitrateCachingInfo.ttl||!1,o=parseFloat(i.bitrate);isNaN(o)||s?s&&localStorage.removeItem(r):(t=o,n.debug("Last saved bitrate for "+e+" was "+o))}catch(e){return null}}return t},setSavedBitrateSettings:function(e,t){if(l(TR,bR)&&t){var r=ER.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({bitrate:t.toFixed(3),timestamp:o()}))}catch(e){n.error(e.message)}}},getSavedMediaSettings:function(e){if(u(),!a.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var t=null;if(l(TR,SR)){var n=_R.replace(/\?/,e);try{var r=JSON.parse(localStorage.getItem(n))||{},i=(new Date).getTime()-parseInt(r.timestamp,10)>=a.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;t=r.settings,i&&(localStorage.removeItem(n),t=null)}catch(e){return null}}return t},setSavedMediaSettings:function(e,t){if(l(TR,SR)){var r=_R.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({settings:t,timestamp:o()}))}catch(e){n.error(e.message)}}}},n=_b(i).getInstance().getLogger(t),s(TR)&&yR.forEach((function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){n.error(e.message)}}})),t}wR.__dashjs_factory_name="DOMStorage";var CR=ib.getSingletonFactory(wR),IR="__VERSION__";function kR(){return IR}function RR(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f=this.context;function p(e,n,i,a){var s=null,l=e?h.resolve(e.path):null,u=a||{init:!0,url:l?l.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:n};t.debug("Start searching for initialization.");var c=m(u);o.load({request:c,success:function(t){if(u.bytesLoaded=u.range.end,!(s=r.findInitRange(t)))return u.range.end=u.bytesLoaded+u.bytesToLoad,p(e,n,i,u);e.range=s,i(e)},error:function(){i(e)}}),t.debug("Perform init search: "+u.url)}function A(e,n,i,a,s,l){if(i&&(void 0===i.start||void 0===i.end)){var u=i?i.toString().split("-"):null;i=u?{start:parseFloat(u[0]),end:parseFloat(u[1])}:null}s=s||g;var c=null,d=null,f=!!i,p=e?h.resolve(e.path):null,v={init:!1,url:p?p.url:void 0,range:f?i:{start:0,end:1500},searching:!f,bytesLoaded:l?l.bytesLoaded:0,bytesToLoad:1500,mediaType:n},y=m(v);o.load({request:y,success:function(i){var o=v.bytesToLoad,l=i.byteLength;if(v.bytesLoaded=v.range.end-v.range.start,c=r.parse(i),(d=c.getBox("sidx"))&&d.isComplete){var u,h,f=d.references;if(null!=f&&f.length>0&&(u=1===f[0].reference_type),u){var p,g,m,y;t.debug("Initiate multiple SIDX load."),v.range.end=v.range.start+d.size;var E=[],_=0,T=(d.offset||v.range.start)+d.size,b=function(t){t?(E=E.concat(t),++_>=g&&(E.sort((function(e,t){return e.startTime-t.startTime<0?-1:0})),s(E,e,a))):s(null,e,a)};for(p=0,g=f.length;p<g;p++)m=T,y=T+f[p].referenced_size-1,T+=f[p].referenced_size,A(e,n,{start:m,end:y},a,b,v)}else t.debug("Parsing segments from SIDX. representation "+n+" - id: "+e.id+" for range : "+v.range.start+" - "+v.range.end),h=function(e,t){for(var n,r,i,a,s=e.references,o=s.length,l=e.timescale,u=e.earliest_presentation_time,c=t.range.start+e.offset+e.first_offset+e.size,d=[],h=0;h<o;h++)i=s[h].subsegment_duration,a=s[h].referenced_size,(n=new aS).duration=i,n.startTime=u,n.timescale=l,r=c+a-1,n.mediaRange=c+"-"+r,d.push(n),u+=i,c+=a;return d}(d,v),s(h,e,a)}else{if(d)v.range.start=d.offset||v.range.start,v.range.end=v.range.start+(d.size||o);else{if(l<v.bytesLoaded)return void s(null,e,a);var S=c.getLastBox();S&&S.size?(v.range.start=S.offset+S.size,v.range.end=v.range.start+o):v.range.end+=o}A(e,n,v.range,a,null,v)}},error:function(){s(null,e,a)}}),t.debug("Perform SIDX load for type ".concat(n," : ").concat(v.url," with range ").concat(v.range.start," - ").concat(v.range.end))}function g(e,t,n){n({segments:e,representation:t,error:e?void 0:new Bb(l.SEGMENT_BASE_LOADER_ERROR_CODE,l.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function m(e){if(e.url){var t=new Ib;return t.setInfo(e),t}}return e={setConfig:function(o){o.baseURLController&&(h=o.baseURLController),o.dashMetrics&&(a=o.dashMetrics),o.mediaPlayerModel&&(s=o.mediaPlayerModel),o.errHandler&&(n=o.errHandler),o.boxParser&&(r=o.boxParser),o.debug&&(t=o.debug.getLogger(e)),o.requestModifier&&(i=o.requestModifier),o.errors&&(l=o.errors),o.urlUtils&&(d=o.urlUtils),o.constants&&(u=o.constants),o.dashConstants&&(c=o.dashConstants)},initialize:function(){o=XC(f).create({errHandler:n,dashMetrics:a,mediaPlayerModel:s,requestModifier:i,boxParser:r,errors:l,urlUtils:d,constants:u,dashConstants:c})},loadInitialization:function(e,t){return new Promise((function(n){p(e,t,n)}))},loadSegments:function(e,t,n){return new Promise((function(r){A(e,t,n,r)}))},reset:function(){o&&(o.abort(),o=null)}}}RR.__dashjs_factory_name="SegmentBaseLoader";var DR=ib.getSingletonFactory(RR);function MR(e){var t;e=e||{};var n=new DataView(e.data),r=0;function i(e,t){var i=!0,a=0;if(void 0===t&&(t=!1),e.tag>16777215?(n.getUint32(r)!==e.tag&&(i=!1),a=4):e.tag>65535?(256*n.getUint16(r)+n.getUint8(r+2)!==e.tag&&(i=!1),a=3):e.tag>255?(n.getUint16(r)!==e.tag&&(i=!1),a=2):(n.getUint8(r)!==e.tag&&(i=!1),a=1),!i&&e.required&&!t)throw new Error("required tag not found");return i&&(r+=a),i}function a(e){var t=1,i=128,a=-1,s=0,o=n.getUint8(r),l=0;for(l=0;l<8;l+=1){if((o&i)===i){s=void 0===e?o&~i:o,a=l;break}i>>=1}for(l=0;l<a;l+=1,t+=1)s=s<<8|255&n.getUint8(r+t);return r+=t,s}return t={getPos:function(){return r},setPos:function(e){r=e},consumeTag:i,consumeTagAndSize:function(e,t){var n=i(e,t);return n&&a(),n},parseTag:function(e){var n;return i(e),n=a(),t[e.parse](n)},skipOverElement:function(e,t){var n,s=i(e,t);return s&&(n=a(),r+=n),s},getMatroskaCodedNum:a,getMatroskaFloat:function(e){var t;switch(e){case 4:t=n.getFloat32(r),r+=4;break;case 8:t=n.getFloat64(r),r+=8}return t},getMatroskaUint:function(e){if(e>4)return function(e){for(var t=Math.floor(Number.MAX_SAFE_INTEGER/256),i=0,a=0;a<e;a+=1){if(i>t)throw new Error("Value exceeds safe integer limit");i*=256;var s=n.getUint8(r+a);if(i>Number.MAX_SAFE_INTEGER-s)throw new Error("Value exceeds safe integer limit");i+=s}return r+=e,i}(e);for(var t=0,i=0;i<e;i+=1)t<<=8,t|=255&n.getUint8(r+i);return r+=e,t>>>0},moreData:function(){return r<n.byteLength}},t}MR.__dashjs_factory_name="EBMLParser";var LR=ib.getClassFactory(MR);function NR(){var e,t,n,r,i,a,s,o,l,u,c=this.context;function d(e,r,i,a){var s,o,l,u,d,h,f,p;for(l=[],d=0,h=(o=function(e){var t,r,i=[],a=LR(c).create({data:e});for(a.consumeTagAndSize(n.Segment.Cues);a.moreData()&&a.consumeTagAndSize(n.Segment.Cues.CuePoint,!0);){for((t={}).CueTime=a.parseTag(n.Segment.Cues.CuePoint.CueTime),t.CueTracks=[];a.moreData()&&a.consumeTag(n.Segment.Cues.CuePoint.CueTrackPositions,!0);){var s=a.getMatroskaCodedNum(),o=a.getPos();if((r={}).Track=a.parseTag(n.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===r.Track)throw new Error("Cue track cannot be 0");r.ClusterPosition=a.parseTag(n.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),t.CueTracks.push(r),a.setPos(o+s)}if(0===t.CueTracks.length)throw new Error("Mandatory cuetrack not found");i.push(t)}if(0===i.length)throw new Error("mandatory cuepoint not found");return i}(e)).length;d<h;d+=1)u=new aS,s=0,s=d<o.length-1?o[d+1].CueTime-o[d].CueTime:a-o[d].CueTime,u.duration=s,u.startTime=o[d].CueTime,u.timescale=1e3,f=o[d].CueTracks[0].ClusterPosition+r,p=d<o.length-1?o[d+1].CueTracks[0].ClusterPosition+r-1:i-1,u.mediaRange=f+"-"+p,l.push(u);return t.debug("Parsed cues: "+l.length+" cues."),l}function h(e){var t=new Ib;return t.setInfo(e),t}return e={setConfig:function(n){if(!(n.baseURLController&&n.dashMetrics&&n.mediaPlayerModel&&n.errHandler))throw new Error(eb.MISSING_CONFIG_ERROR);u=n.baseURLController,a=n.dashMetrics,s=n.mediaPlayerModel,r=n.errHandler,l=n.errors,t=n.debug.getLogger(e),i=n.requestModifier},initialize:function(){o=XC(c).create({errHandler:r,dashMetrics:a,mediaPlayerModel:s,requestModifier:i,errors:l})},loadInitialization:function(e,n){return new Promise((function(r){var i=null,a=e?u.resolve(e.path):null,s=e?e.range.split("-"):null,l={range:{start:s?parseFloat(s[0]):null,end:s?parseFloat(s[1]):null},request:i,url:a?a.url:void 0,init:!0,mediaType:n};t.info("Start loading initialization."),i=h(l);o.load({request:i,success:function(){r(e)},error:function(){r(e)}}),t.debug("Perform init load: "+l.url)}))},loadSegments:function(e,r,i){return new Promise((function(a){var s=null,f=e?u.resolve(e.path):null,p=f?f.url:void 0;s=h({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:s,url:p,init:!1,mediaType:r}),t.debug("Parsing ebml header");o.load({request:s,success:function(r){!function(e,r,i,a){if(e&&0!==e.byteLength){var s,l,u,f,p=LR(c).create({data:e}),A=i?i.split("-"):null,g=null,m={url:r,range:{start:A?parseFloat(A[0]):null,end:A?parseFloat(A[1]):null},request:g};for(t.debug("Parse EBML header: "+m.url),p.skipOverElement(n.EBML),p.consumeTag(n.Segment),u=p.getMatroskaCodedNum(),u+=p.getPos(),f=p.getPos();p.moreData()&&!p.consumeTagAndSize(n.Segment.Info,!0);)if(!(p.skipOverElement(n.Segment.SeekHead,!0)||p.skipOverElement(n.Segment.Tracks,!0)||p.skipOverElement(n.Segment.Cues,!0)||p.skipOverElement(n.Void,!0)))throw new Error("no valid top level element found");for(;void 0===s;){var v=p.getMatroskaCodedNum(!0),y=p.getMatroskaCodedNum();v===n.Segment.Info.Duration.tag?s=p[n.Segment.Info.Duration.parse](y):p.setPos(p.getPos()+y)}g=h(m),o.load({request:g,success:function(e){l=d(e,f,u,s),a(l)},error:function(){t.error("Download Error: Cues "+m.url),a(null)}}),t.debug("Perform cues load: "+m.url+" bytes="+m.range.start+"-"+m.range.end)}else a(null)}(r,p,i,(function(t){a({segments:t,representation:e,error:t?void 0:new Bb(l.SEGMENT_BASE_LOADER_ERROR_CODE,l.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}))},error:function(){a({representation:e,error:new Bb(l.SEGMENT_BASE_LOADER_ERROR_CODE,l.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})}))},reset:function(){o&&(o.abort(),o=null)}},n={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},e}NR.__dashjs_factory_name="WebmSegmentBaseLoader";var BR=ib.getSingletonFactory(NR);function xR(e){e=e||{};var t,n,r,i=this.context,a=e.eventBus,s=e.events,o=e.dashMetrics,l=e.mediaPlayerModel,u=e.errHandler,c=e.baseURLController,d=e.debug,h=e.boxParser,f=e.requestModifier,p=e.errors;function A(e){return"webm"===(e?e.split("/")[1]:"").toLowerCase()}return t={initialize:function(){n.initialize(),r.initialize()},getSegmentBaseInitSegment:function(e){return A(e.representation.mimeType)?r.loadInitialization(e.representation,e.mediaType):n.loadInitialization(e.representation,e.mediaType)},getSegmentList:function(e){return A(e.mimeType)?r.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null):n.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null)},reset:function(){n.reset(),r.reset()}},n=DR(i).getInstance(),r=BR(i).getInstance(),n.setConfig({baseURLController:c,dashMetrics:o,mediaPlayerModel:l,errHandler:u,eventBus:a,events:s,errors:p,debug:d,boxParser:h,requestModifier:f}),r.setConfig({baseURLController:c,dashMetrics:o,mediaPlayerModel:l,errHandler:u,eventBus:a,events:s,errors:p,debug:d,requestModifier:f}),t}xR.__dashjs_factory_name="SegmentBaseController";var PR=ib.getSingletonFactory(xR),OR=function e(){_class_call_check(this,e),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},FR=function e(){_class_call_check(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},UR=function e(){_class_call_check(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},jR=function e(){_class_call_check(this,e),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null},QR=function(){function e(t){var n=this;_class_call_check(this,e),this.valid="/"==t[0],this.path=t.split("/").filter((function(e){return 0!==e.length})).map((function(e){var t={name:e},r=e.indexOf("[");if(-1!=r){t.name=e.substring(0,r);var i=e.substring(r+1,e.length-1);n.valid=n.valid&&-1==i.indexOf("[");var a=i.indexOf("=");-1!=a?(t.attribute={name:i.substring(1,a),value:i.substring(a+1)},-1!=["'",'"'].indexOf(t.attribute.value[0])&&(t.attribute.value=t.attribute.value.substring(1,t.attribute.value.length-1))):t.position=parseInt(i,10)-1}return t}))}return _create_class(e,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return"text()"===this.path[this.path.length-1].name}},{key:"getMpdTarget",value:function(e,t){for(var n=this,r=function(){i=a;var e=n.path[s];if(o=e.name,s!==n.path.length-1||!o.startsWith("@")&&"text()"!==o){var t=i[o+"_asArray"]||[];if(0===t.length&&i[o]&&t.push(i[o]),e.position)a=t[e.position]||null;else if(e.attribute){var r=e.attribute;a=t.filter((function(e){return e[r.name]==r.value}))[0]||null}else a=t[0]||null}s++},i=null,a=e,s=1,o="MPD";s<this.path.length&&null!==a;)r();return null===a?null:o.startsWith("@")?{name:o.substring(1),leaf:a,target:a}:"text()"===o?{name:"__text",leaf:a,target:a}:{name:o,leaf:a,target:t?i:a}}}]),e}(),GR=function(){function e(t,n,r){_class_call_check(this,e),this.action=t,this.xpath=n,this.value=r,this.position=null}return _create_class(e,[{key:"getMpdTarget",value:function(e){var t="remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position;return this.xpath.getMpdTarget(e,t)}}]),e}();function VR(){var e,t,n=this.context;return e={getIsPatch:function(e){return e&&e.hasOwnProperty(tb.ORIGINAL_MPD_ID)||!1},getPublishTime:function(e){return e&&e.hasOwnProperty(tb.PUBLISH_TIME)?new Date(e[tb.PUBLISH_TIME]):null},getOriginalPublishTime:function(e){return e&&e.hasOwnProperty(tb.ORIGINAL_PUBLISH_TIME)?new Date(e[tb.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(e){return e&&e[tb.ORIGINAL_MPD_ID]||null},getPatchOperations:function(e){return e?(e.__children||[]).map((function(e){var n=Object.keys(e)[0];if("add"!==n&&"remove"!==n&&"replace"!==n)return t.warn("Ignoring node of invalid action: ".concat(n)),null;var r=e[n],i=r.sel;if("add"===n&&r.type){if(!r.type.startsWith("@"))return t.warn("Ignoring add action for prefixed namespace declaration: ".concat(r.type,"=").concat(r.__text)),null;i="".concat(i,"/").concat(r.type)}var a=new QR(i);if(!a.isValid())return t.warn("Ignoring action with invalid selector: ".concat(n," - ").concat(i)),null;var s=null;a.findsAttribute()||a.findsTextReplace()?s=r.__text||"":"remove"!==n&&(s=r.__children.reduce((function(e,t){var n=Object.keys(t)[0];return"#text"!==n&&(e[n]=e[n]||[],e[n].push(t[n])),e}),{}));var o=new GR(n,a,s);return"add"===n&&(o.position=r.pos),o})).filter((function(e){return!!e})):[]}},t=_b(n).getInstance().getLogger(e),e}VR.__dashjs_factory_name="PatchManifestModel";var HR=ib.getSingletonFactory(VR),YR=f(Ie());function qR(){var e,t,n,r,i,a,s,o=this.context;function l(e,n,a){var s,o=t.getAdaptationsForType(r[0].mpd.manifest,e,n);if(!o||0===o.length)return null;if(o.length>1&&a){var l=d(a,n);if(i[a.id]&&i[a.id][n])for(var c=0,h=o.length;c<h;c++)if(u(i[a.id][n],l[c]))return o[c];for(var f=0,p=o.length;f<p;f++)if(s=o[f],t.getRolesForAdaptation(s).filter((function(e){return e.value===tb.MAIN}))[0])return o[f]}return o[0]}function u(e,t){if(!e||!t)return!1;var n=e.id===t.id,r=e.codec===t.codec,i=e.viewpoint===t.viewpoint,a=JSON.stringify(e.viewpointsWithSchemeIdUri)===JSON.stringify(t.viewpointsWithSchemeIdUri),s=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),l=JSON.stringify(e.rolesWithSchemeIdUri)===JSON.stringify(t.rolesWithSchemeIdUri),u=e.accessibility.toString()===t.accessibility.toString(),c=JSON.stringify(e.accessibilitiesWithSchemeIdUri)===JSON.stringify(t.accessibilitiesWithSchemeIdUri),d=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString(),h=JSON.stringify(e.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(t.audioChannelConfigurationsWithSchemeIdUri);return n&&r&&i&&a&&s&&o&&l&&u&&c&&d&&h}function c(e,n,r,i,s,o){var l,u,c,d,h,f,p=[];if(!i||0===i.length)return[];var A=t.getAdaptationsForPeriod(n);for(d=0,f=i.length;d<f;d++)if(l=i[d],u=v(A[c=t.getIndexForAdaptation(l,e,r.index)]),o){var g=u.accessibility.length;for(h=0;h<g;h++)if(u){var m=u.accessibility[h];if(0===m.indexOf("cea-608:")){var E=m.substring(8).split(";");if("CC"===E[0].substring(0,2))for(h=0;h<E.length;h++)u||(u=v.call(this,A[c])),y(u,E[h].substring(0,3),E[h].substring(4)),p.push(u),u=null;else for(h=0;h<E.length;h++)u||(u=v.call(this,A[c])),y(u,"CC"+(h+1),E[h]),p.push(u),u=null}else 0===m.indexOf("cea-608")&&(y(u,a.CC1,"eng"),p.push(u),u=null)}}else s===a.IMAGE?(u.type=a.IMAGE,p.push(u),u=null):u&&p.push(u);return p}function d(e,n,i){var s=r,o=i,l=[];if(o)_(),s=h(o);else{if(!(r.length>0))return l;o=r[0].mpd.manifest}var u=m(e,s),d=t.getAdaptationsForType(o,e?e.index:null,n);return l=c(o,u,e,d,n),n===a.TEXT&&(d=t.getAdaptationsForType(o,e?e.index:null,a.VIDEO),l=l.concat(c(o,u,e,d,n,!0))),l}function h(e){var n=f(e);return t.getRegularPeriods(n)}function f(e){var n=A(e);return t.getMpd(n)}function p(){r=[],i={}}function A(e){return e||(r.length>0?r[0].mpd.manifest:null)}function g(e){try{var n=m(e.streamInfo,r),i=t.getAdaptationsForPeriod(n);return e&&e.streamInfo&&void 0!==e.streamInfo.id&&i?i[e.index]:null}catch(e){return null}}function m(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];if(e&&e.id===i.id)return i}return null}function v(e){if(!e)return null;var n,r,i,a,o,l=new FR,u=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];if(l.id=e.id,l.index=e.index,l.type=e.type,l.streamInfo=E(e.period),l.representationCount=t.getRepresentationCount(u),l.labels=t.getLabelsForAdaptation(u),l.lang=t.getLanguageForAdaptation(u),l.segmentAlignment=t.getSegmentAlignment(u),l.subSegmentAlignment=t.getSubSegmentAlignment(u),n=t.getViewpointForAdaptation(u),l.viewpoint=n.length?n[0].value:void 0,l.viewpointsWithSchemeIdUri=n,o=t.getAccessibilityForAdaptation(u),l.accessibility=o.map((function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==s&&(n=t?"cea-608:"+t:"cea-608",l.embeddedCaptions=!0),n})),l.accessibilitiesWithSchemeIdUri=o,r=t.getAudioChannelConfigurationForAdaptation(u),l.audioChannelConfiguration=r.map((function(e){return e.value})),l.audioChannelConfigurationsWithSchemeIdUri=r,0===l.audioChannelConfiguration.length&&Array.isArray(u.Representation_asArray)&&u.Representation_asArray.length>0&&(i=t.getAudioChannelConfigurationForRepresentation(u.Representation_asArray[0]),l.audioChannelConfiguration=i.map((function(e){return e.value})),l.audioChannelConfigurationsWithSchemeIdUri=i),a=t.getRolesForAdaptation(u),l.roles=a.map((function(e){return e.value})),l.rolesWithSchemeIdUri=a,l.codec=t.getCodec(u),l.mimeType=t.getMimeType(u),l.contentProtection=t.getContentProtectionData(u),l.bitrateList=t.getBitrateListForAdaptation(u),l.selectionPriority=t.getSelectionPriority(u),l.contentProtection){var c=l.contentProtection.map((function(e){return t.getKID(e)})).filter((function(e){return null!==e}));if(c.length){var d=c[0];l.contentProtection.forEach((function(e){e.keyId=d}))}}if(l.isText=t.getIsText(u),l.supplementalProperties=t.getSupplementalPropertiesForAdaptation(u),(!l.supplementalProperties||0===Object.keys(l.supplementalProperties).length)&&Array.isArray(u.Representation_asArray)&&u.Representation_asArray.length>0){var h=u.Representation_asArray.map((function(e){return t.getSupplementalPropertiesForRepresentation(e)}));h.every((function(e){return JSON.stringify(e)===JSON.stringify(h[0])}))&&(l.supplementalProperties=h[0])}if(l.supplementalPropertiesAsArray=t.getSupplementalPropertiesAsArrayForAdaptation(u),(!l.supplementalPropertiesAsArray||0===l.supplementalPropertiesAsArray.length)&&Array.isArray(u.Representation_asArray)&&u.Representation_asArray.length>0){var f=u.Representation_asArray.map((function(e){return t.getSupplementalPropertiesAsArrayForRepresentation(e)}));f.every((function(e){return JSON.stringify(e)===JSON.stringify(f[0])}))&&(l.supplementalPropertiesAsArray=f[0])}return l.isFragmented=t.getIsFragmented(u),l.isEmbedded=!1,l}function y(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=a.TEXT,e.codec="cea-608-in-SEI",e.isEmbedded=!0,e.isFragmented=!1;var r=(0,YR.default)(n);e.lang=r||n,e.roles=["caption"],e.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function E(e){var n,r,i=new UR;return i.id=e.id,i.index=e.index,i.start=e.start,i.duration=e.duration,i.manifestInfo=(n=e.mpd,(r=new jR).dvrWindowSize=n.timeShiftBufferDepth,r.loadedTime=n.manifest.loadedTime,r.availableFrom=n.availabilityStartTime,r.minBufferTime=n.manifest.minBufferTime,r.maxFragmentDuration=n.maxSegmentDuration,r.duration=t.getDuration(n.manifest),r.isDynamic=t.getIsDynamic(n.manifest),r.serviceDescriptions=t.getServiceDescriptions(n.manifest),r.protocol=n.manifest.protocol,r),i.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(i.start+i.duration-i.manifestInfo.duration)<1,i}function _(){if(!a)throw new Error("setConfig function has to be called previously")}function T(e){return r.length>0?r[0].mpd.manifest.Period_asArray[e]:null}function b(e,t,n){var r,i,a,s,o;if(e)for(r=e.AdaptationSet_asArray,s=0;s<r.length;s+=1)for(a=r[s].Representation_asArray,o=0;o<a.length;o+=1)if(t===(i=a[o]).id)return n?o:i;return null}return e={getBandwidthForRepresentation:function(e,t){var n;return(n=b(T(t),e))?n.bandwidth:null},getIndexForRepresentation:function(e,t){return function(e,t){var n=b(e,t,!0);return null!==n?n:-1}(T(t),e)},getMaxIndexForBufferType:function(e,n){return function(e,n){var r,i,a,s;if(!e||!n)return-1;for(i=e.AdaptationSet_asArray,s=0;s<i.length;s+=1)if(a=(r=i[s]).Representation_asArray,t.getIsTypeOf(r,n))return a.length;return-1}(T(n),e)},convertRepresentationToRepresentationInfo:function(e){if(e){var n=new OR,r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],i=t.getRepresentationFor(e.index,r);return n.id=e.id,n.quality=e.index,n.bandwidth=t.getBandwidth(i),n.fragmentDuration=e.segmentDuration||(e.segments&&e.segments.length>0?e.segments[0].duration:NaN),n.MSETimeOffset=e.MSETimeOffset,n.mediaInfo=v(e.adaptation),n}return null},getStreamsInfo:function(e,t){var n=[],i=r;if(e&&(_(),i=h(e)),i.length>0){(!t||t>i.length)&&(t=i.length);for(var a=0;a<t;a++)n.push(E(i[a]))}return n},getMediaInfoForType:function(e,n){if(0===r.length||!e)return null;var i=m(e,r);if(!i)return null;var a=t.getAdaptationsForPeriod(i),s=l(e.index,n,e);return s?v(a[t.getIndexForAdaptation(s,r[0].mpd.manifest,e.index)]):null},getAllMediaInfoForType:d,getAdaptationForType:l,getRealAdaptation:function(e,n){var i,a,s=m(e,r);return i=n?n.id:null,r.length>0&&s&&(a=i?t.getAdaptationForId(i,r[0].mpd.manifest,s.index):t.getAdaptationForIndex(n?n.index:null,r[0].mpd.manifest,s.index)),a},getProducerReferenceTimes:function(e,n){var i,a,s=m(e,r);return i=n?n.id:null,r.length>0&&s&&(a=i?t.getAdaptationForId(i,r[0].mpd.manifest,s.index):t.getAdaptationForIndex(n?n.index:null,r[0].mpd.manifest,s.index)),a?t.getProducerReferenceTimesForAdaptation(a):[]},getRealPeriodByIndex:function(e){return t.getRealPeriodForIndex(e,r[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(e){try{return t.getEssentialPropertiesForRepresentation(e)}catch(e){return[]}},getVoRepresentations:function(e){var n=g(e);return t.getRepresentationsForAdaptation(n)},getEventsFor:function(e,n,i){var a=[];if(r.length>0){var s=r[0].mpd.manifest;if(_instanceof(e,UR)){var o=m(e,r);a=t.getEventsForPeriod(o)}else if(_instanceof(e,FR)){var l=m(i,r);a=t.getEventStreamForAdaptationSet(s,g(e),l)}else if(_instanceof(e,OR)){var u=m(i,r);a=t.getEventStreamForRepresentation(s,n,u)}}return a},getEvent:function(e,t,n,r){try{if(!e||!t||isNaN(n)||!r)return null;var i=e.scheme_id_uri,a=e.value;if(!t[i+"/"+a])return null;var s,o=new nw,l=e.timescale||1,u=r.adaptation.period.start,c=t[i+"/"+a],d=isNaN(r.presentationTimeOffset)?isNaN(c.presentationTimeOffset)?0:c.presentationTimeOffset:r.presentationTimeOffset,h=e.presentation_time_delta/l;s=0===e.version?u+n-d+h:u-d+h;var f=e.event_duration/l,p=e.id,A=e.message_data;return o.eventStream=c,o.eventStream.value=a,o.eventStream.timescale=l,o.duration=f,o.id=p,o.calculatedPresentationTime=s,o.messageData=A,o.presentationTimeDelta=h,o}catch(e){return null}},getMpd:f,setConfig:function(e){e&&(e.constants&&(a=e.constants),e.cea608parser&&(s=e.cea608parser),e.errHandler&&t.setConfig({errHandler:e.errHandler}),e.BASE64&&t.setConfig({BASE64:e.BASE64}))},updatePeriods:function(e){if(!e)return null;_(),r=h(e)},getIsTextTrack:function(e){return t.getIsText(e)},getUTCTimingSources:function(){var e=A();return t.getUTCTimingSources(e)},getSuggestedPresentationDelay:function(){var e=r.length>0?r[0].mpd:null;return t.getSuggestedPresentationDelay(e)},getAvailabilityStartTime:function(e){var n=f(e);return t.getAvailabilityStartTime(n)},getIsTypeOf:function(e,n){return t.getIsTypeOf(e,n)},getIsDynamic:function(e){var n=A(e);return t.getIsDynamic(n)},getDuration:function(e){var n=A(e);return t.getDuration(n)},getRegularPeriods:h,getContentSteering:function(e){return t.getContentSteering(e)},getLocation:function(e){return t.getLocation(e)},getPatchLocation:function(e){var n=t.getPatchLocation(e),r=t.getPublishTime(e);return n&&0!==n.length&&r?n.filter((function(e){return isNaN(e.ttl)||r.getTime()+e.ttl>(new Date).getTime()})):[]},getManifestUpdatePeriod:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getManifestUpdatePeriod(e,n)},getPublishTime:function(e){return t.getPublishTime(e)},getIsDVB:function(e){return t.hasProfile(e,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(e){return n.getIsPatch(e)},getBaseURLsFromElement:function(e){return t.getBaseURLsFromElement(e)},getRepresentationSortFunction:function(){return t.getRepresentationSortFunction()},getCodec:function(e,n,r){return t.getCodec(e,n,r)},getPeriodById:function(e){if(!e||0===r.length)return null;var t=r.filter((function(t){return t.id===e}));return t&&t.length>0?t[0]:null},setCurrentMediaInfo:function(e,t,n){i[e]=i[e]||{},i[e][t]=i[e][t]||{},i[e][t]=n},isPatchValid:function(e,r){var i=t.getId(e),a=n.getMpdId(r),s=t.getPublishTime(e),o=n.getPublishTime(r),l=n.getOriginalPublishTime(r);return!!(i&&a&&i==a&&s&&l&&s.getTime()==l.getTime()&&o&&s.getTime()<o.getTime())},applyPatchToManifest:function(e,t){n.getPatchOperations(t).forEach((function(t){var n=t.getMpdTarget(e);if(null!==n){var r=n.name,i=n.target,a=n.leaf;if(t.xpath.findsAttribute()||"__text"===r)switch(t.action){case"add":case"replace":i[r]=t.value;break;case"remove":delete i[r]}else{var s=(i[r+"_asArray"]||[]).indexOf(a),o="prepend"===t.position||"before"===t.position;if(("remove"===t.action||"replace"===t.action)&&(delete i[r],-1!=s)){var l=i[r+"_asArray"];l.splice(s,1),l.length>1?i[r]=l:1==l.length?i[r]=l[0]:delete i[r+"_asArray"]}"add"!==t.action&&"replace"!==t.action||Object.keys(t.value).forEach((function(e){var n=t.value[e],a=i[e+"_asArray"]||[];if(0===a.length&&i[e]&&a.push(i[e]),0===a.length)a=n;else{var l=a.length;l=e==r&&-1!=s?s+(o?0:1)+("replace"==t.action?-1:0):o?0:a.length,a.splice.apply(a,[l,0].concat(n))}i[e+"_asArray"]=a,i[e]=1==a.length?a[0]:a}))}}}))},areMediaInfosEqual:u,reset:p},t=Iw(o).getInstance(),n=HR(o).getInstance(),p(),e}qR.__dashjs_factory_name="DashAdapter";var zR=ib.getSingletonFactory(qR),WR=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"round10",value:function(e,t){return function(e,t,n){if(void 0===n||0==+n)return Math[e](t);if(t=+t,n=+n,null===t||isNaN(t)||!("number"==typeof n&&n%1==0))return NaN;return t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))}("round",e,t)}}]),e}();var KR=function e(){_class_call_check(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},XR=function e(){_class_call_check(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null},JR=function e(){_class_call_check(this,e),this.t=null,this.level=null},ZR=function e(){_class_call_check(this,e),this.target=null,this.state=nb.BUFFER_EMPTY},$R=function e(){_class_call_check(this,e),this.time=null,this.range=null,this.manifestInfo=null},eD=function e(){_class_call_check(this,e),this.time=null,this.droppedFrames=null},tD=function e(){_class_call_check(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},nD=function e(){_class_call_check(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},rD=function e(){_class_call_check(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},iD=function e(){_class_call_check(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},aD=function e(){_class_call_check(this,e),this.loadingRequests=[],this.executedRequests=[]};function sD(e){var t,n,r=(e=e||{}).settings,i=this.context,a=cb(i).getInstance();function s(){a.trigger(fb.METRICS_CHANGED)}function o(e){a.trigger(fb.METRIC_CHANGED,{mediaType:e}),s()}function l(e,t,n){a.trigger(fb.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),o(e)}function u(e,t,n){a.trigger(fb.METRIC_ADDED,{mediaType:e,metric:t,value:n}),o(e)}function c(e,t){var r=null;return e?(n.hasOwnProperty(e)?r=n[e]:t||(r=new KR,n[e]=r),r):r}function d(e,t,n){var i=c(e);null!==i&&(i[t].push(n),i[t].length>r.get().streaming.metrics.maxListDepth&&i[t].shift())}function h(e,t,n){d(e,t,n),u(e,t,n)}return t={clearCurrentMetricsForType:function(e){delete n[e],o(e)},clearAllCurrentMetrics:function(){n={},s()},getMetricsFor:c,addHttpRequest:function e(t,n,r,i,a,s,o,l,u,c,d,f,p,A,g,m,v){var y=new Sb;s&&s!==i&&(e(t,null,r,i,a,null,null,l,u,null,null,null,p,null,null,m,v),y.actualurl=s),y.tcpid=n,y.type=r,y.url=i,y.range=l,y.trequest=u,y.tresponse=c,y.responsecode=f,y.cmsd=v,y._tfinish=d,y._stream=t,y._mediaduration=p,y._quality=a,y._responseHeaders=A,y._serviceLocation=o,y._fileLoaderType=m,g?g.forEach((function(e){!function(e,t,n,r){var i=new wb;i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n}(y,e.s,e.d,e.b)})):(delete y.interval,delete y.trace),h(t,nb.HTTP_REQUEST,y)},addRepresentationSwitch:function(e,t,n,r,i){var a=new XR;a.t=t,a.mt=n,a.to=r,i?a.lto=i:delete a.lto,h(e,nb.TRACK_SWITCH,a)},addBufferLevel:function(e,t,n){var r=new JR;r.t=t,r.level=n,h(e,nb.BUFFER_LEVEL,r)},addBufferState:function(e,t,n){var r=new ZR;r.target=n,r.state=t,h(e,nb.BUFFER_STATE,r)},addDVRInfo:function(e,t,n,r){var i=new $R;i.time=t,i.range=r,i.manifestInfo=n,h(e,nb.DVR_INFO,i)},addDroppedFrames:function(e,t){var n=new eD,r=c(e).DroppedFrames;t&&(n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n||h(e,nb.DROPPED_FRAMES,n))},addSchedulingInfo:function(e,t,n,r,i,a,s,o,l){var u=new iD;u.mediaType=e,u.t=t,u.type=n,u.startTime=r,u.availabilityStartTime=i,u.duration=a,u.quality=s,u.range=o,u.state=l,h(e,nb.SCHEDULING_INFO,u)},addRequestsQueue:function(e,t,n){var r=new aD;r.loadingRequests=t,r.executedRequests=n,c(e).RequestsQueue=r,u(e,nb.REQUESTS_QUEUE,r)},addManifestUpdate:function(e,t,n,r,i,a,s,o,l,c){var h=new tD;h.mediaType=e,h.type=t,h.requestTime=n,h.fetchTime=r,h.availabilityStartTime=i,h.presentationStartTime=a,h.clientTimeOffset=s,h.currentTime=o,h.buffered=l,h.latency=c,d(eb.STREAM,nb.MANIFEST_UPDATE,h),u(e,nb.MANIFEST_UPDATE,h)},updateManifestUpdateInfo:function(e,t){if(e){for(var n in t)e[n]=t[n];l(e.mediaType,nb.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,n,r,i){if(e){var a=new nD;a.id=t,a.index=n,a.start=r,a.duration=i,e.streamInfo.push(a),l(e.mediaType,nb.MANIFEST_UPDATE_STREAM_INFO,e)}},addManifestUpdateRepresentationInfo:function(e,t,n,r,i,a,s,o){if(e&&e.representationInfo){var u=new rD;u.id=t,u.index=n,u.streamIndex=r,u.mediaType=i,u.startNumber=s,u.fragmentInfoType=o,u.presentationTimeOffset=a,e.representationInfo.push(u),l(e.mediaType,nb.MANIFEST_UPDATE_TRACK_INFO,e)}},addPlayList:function(e){e.trace&&Array.isArray(e.trace)?e.trace.forEach((function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel})):delete e.trace,h(eb.STREAM,nb.PLAY_LIST,e)},addDVBErrors:function(e){h(eb.STREAM,nb.DVB_ERRORS,e)}},n={},t}sD.__dashjs_factory_name="MetricsModel";var oD=ib.getSingletonFactory(sD);function lD(e){e=e||{};var t,n,r,i,a=this.context,s=e.metricsModel;function o(e){var t=s.getMetricsFor(e,!0);if(!t)return null;var n,r=t.HttpList,i=null;if(!r||r.length<=0)return null;for(n=r.length-1;n>=0;){if(r[n].responsecode){i=r[n];break}n--}return i}function l(e){var t=s.getMetricsFor(e,!0);return t&&t.HttpList?t.HttpList:[]}function u(e,t){if(!e)return null;var n=e[t];return n&&0!==n.length?n[n.length-1]:null}return t={getCurrentRepresentationSwitch:function(e){return u(s.getMetricsFor(e,!0),nb.TRACK_SWITCH)},getCurrentBufferState:function(e){return u(s.getMetricsFor(e,!0),nb.BUFFER_STATE)},getCurrentBufferLevel:function(e){var t=u(s.getMetricsFor(e,!0),nb.BUFFER_LEVEL);return t?WR.round10(t.level/1e3,-3):0},getCurrentHttpRequest:o,getHttpRequests:l,getCurrentDroppedFrames:function(){return u(s.getMetricsFor(eb.VIDEO,!0),nb.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return u(s.getMetricsFor(e,!0),nb.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return u(e?s.getMetricsFor(e,!0):s.getMetricsFor(eb.VIDEO,!0)||s.getMetricsFor(eb.AUDIO,!0),nb.DVR_INFO)},getCurrentManifestUpdate:function(){return u(s.getMetricsFor(eb.STREAM),nb.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){if(!t)return null;var n={},r=o(e);r&&(n=Qb.parseHttpHeaders(r._responseHeaders));var i=n[t.toLowerCase()];return void 0===i?null:i},getLatestMPDRequestHeaderValueByID:function(e){if(!e)return null;var t,n,r,i={};for(r=(t=l(eb.STREAM)).length-1;r>=0;r--)if((n=t[r]).type===Sb.MPD_TYPE){i=Qb.parseHttpHeaders(n._responseHeaders);break}var a=i[e.toLowerCase()];return void 0===a?null:a},addRepresentationSwitch:function(e,t,n,r,i){s.addRepresentationSwitch(e,t,n,r,i)},addDVRInfo:function(e,t,n,r){s.addDVRInfo(e,t,n,r)},updateManifestUpdateInfo:function(e){var t=this.getCurrentManifestUpdate();s.updateManifestUpdateInfo(t,e)},addManifestUpdateStreamInfo:function(e){if(e){var t=this.getCurrentManifestUpdate();s.addManifestUpdateStreamInfo(t,e.id,e.index,e.start,e.duration)}},addManifestUpdateRepresentationInfo:function(e,t){if(e){var n=this.getCurrentManifestUpdate();s.addManifestUpdateRepresentationInfo(n,e.id,e.index,e.streamIndex,t,e.presentationTimeOffset,e.startNumber,e.fragmentInfoType)}},addManifestUpdate:function(e){s.addManifestUpdate(eb.STREAM,e.type,e.requestStartDate,e.requestEndDate)},addHttpRequest:function(e,t,n,r,i,a){s.addHttpRequest(e.mediaType,null,e.type,e.url,e.quality,t,e.serviceLocation||null,e.range||null,e.requestStartDate,e.firstByteDate,e.requestEndDate,n,e.duration,r,i,e.fileLoaderType,a)},addSchedulingInfo:function(e,t){s.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t)},addRequestsQueue:function(e,t,n){s.addRequestsQueue(e,t,n)},addBufferLevel:function(e,t,n){s.addBufferLevel(e,t,n)},addBufferState:function(e,t,n){s.addBufferState(e,t,n)},addDroppedFrames:function(e){s.addDroppedFrames(eb.VIDEO,e)},addPlayList:function(){i&&(s.addPlayList(i),i=null)},addDVBErrors:function(e){s.addDVBErrors(e)},createPlaylistMetrics:function(e,t){(i=new IS).start=new Date,i.mstart=e,i.starttype=t},createPlaylistTraceMetrics:function(e,t,i){!0===n&&(n=!1,(r=new kS).representationid=e,r.start=new Date,r.mstart=t,r.playbackspeed=null!==i?i.toString():null)},updatePlayListTraceMetrics:function(e){if(r)for(var t in r)r[t]=e[t]},pushPlayListTraceMetrics:function(e,t){if(!1===n&&i&&r&&r.start){var a=r.start,s=e.getTime()-a.getTime();r.duration=s,r.stopreason=t,i.trace.push(r),n=!0}},clearAllCurrentMetrics:function(){s.clearAllCurrentMetrics()}},s=s||oD(a).getInstance({settings:e.settings}),n=!0,r=null,i=null,t}lD.__dashjs_factory_name="DashMetrics";var uD=ib.getSingletonFactory(lD);function cD(){var e,t,n,r,i=this.context,a=cb(i).getInstance(),s=Vb(i).getInstance();function o(e){r=e}function l(e,t,n,r){var i,a=t.adaptation.period.mpd,s=a.availabilityStartTime;if(r)i=n&&a.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(s.getTime()+1e3*(e+a.timeShiftBufferDepth)):a.availabilityEndTime;else if(n){var o=t.availabilityTimeOffset;i=new Date(s.getTime()+1e3*(e-o))}else i=s;return i}function u(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*r)/1e3}function c(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)}function d(e){var n={start:NaN,end:NaN},r=e[0].getAdapter().getRegularPeriods()[0],i=u(new Date,r);if(!e||0===e.length)return{range:n,now:i};e.forEach((function(e){var r=e.getAdapter(),a=r.getMediaInfoForType(e.getStreamInfo(),eb.VIDEO)||r.getMediaInfoForType(e.getStreamInfo(),eb.AUDIO),s=r.getVoRepresentations(a)[0],o={start:NaN,end:NaN};if(s)if(s.segmentInfoType===tb.SEGMENT_TIMELINE)o=function(e){var n,r,i,a,s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],o=t.getRepresentationFor(e.index,s),l=o.SegmentTemplate||o.SegmentList,u=l.SegmentTimeline,d=l.timescale,h=u.S_asArray,f={start:0,end:0},p=h[0].t,A=!isNaN(p),g=A?p:0,m=0;A&&(f.start=c(g/d,e));for(i=0,a=h.length;i<a;i++)r=0,(n=h[i]).hasOwnProperty("r")&&(r=n.r),m+=n.d*(1+r);return f.end=c((g+m)/d,e),f}(s);else{var l=s.adaptation.period;o.start=l.start,o.end=Math.max(i,l.start+l.duration)}!isNaN(o.start)&&(isNaN(n.start)||n.start>o.start)&&(n.start=o.start),!isNaN(o.end)&&(isNaN(n.end)||n.end<o.end)&&(n.end=o.end)})),n.end=Math.min(i,n.end);var a=f(e,n.end,!0);return n.end=isNaN(a)?n.end:a,n.start=r&&r.mpd&&r.mpd.timeShiftBufferDepth&&!isNaN(r.mpd.timeShiftBufferDepth)&&!isNaN(n.end)?Math.max(n.end-r.mpd.timeShiftBufferDepth,n.start):n.start,n.start=f(e,n.start),{range:n,now:i}}function h(e,t){n=e-t.end}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var r=0,i=!1,a=NaN;!i&&r<e.length;){var s=e[r].getStreamInfo();s.start<=t&&(!isFinite(s.duration)||s.start+s.duration>=t)?(a=t,i=!0):!n&&s.start>t&&(isNaN(a)||s.start<a)?a=s.start:n&&s.start+s.duration<t&&(isNaN(a)||s.start+s.duration>a)&&(a=s.start+s.duration),r+=1}return a}catch(e){return t}}function p(e){void 0===e.offset||isNaN(e.offset)||o(e.offset/1e3)}function A(){r=0,n=0}function g(){a.off(fb.UPDATE_TIME_SYNC_OFFSET,p,this),A()}return e={initialize:function(){A(),a.on(fb.UPDATE_TIME_SYNC_OFFSET,p,this)},getClientTimeOffset:function(){return r},setClientTimeOffset:o,getClientReferenceTime:function(){return Date.now()-1e3*n+1e3*r},calcAvailabilityStartTimeFromPresentationTime:function(e,t,n){return l(e,t,n)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,n){return l(e,t,n,!0)},calcPresentationTimeFromWallTime:u,calcPresentationTimeFromMediaTime:c,calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcWallTimeForSegment:function(e,t){var n,r,i;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i},calcTimeShiftBufferWindow:function(e,t){if(!t)return function(e){var t={start:NaN,end:NaN},n=0,r=NaN;return e.forEach((function(e){var t=e.getStreamInfo();n+=t.duration,(isNaN(r)||t.start<r)&&(r=t.start)})),t.start=r,t.end=r+n,t}(e);if(s.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var n=d(e);return h(n.now,n.range),n.range}return function(e){var t={start:NaN,end:NaN};if(!e||0===e.length)return t;var n=e[0].getAdapter().getRegularPeriods()[0],r=u(new Date,n),i=n.mpd.timeShiftBufferDepth,o=isNaN(i)?0:r-i;t.start=f(e,o),t.end=!isNaN(t.start)&&r<t.start?r:f(e,r,!0),!isNaN(i)&&t.end<r-i&&(t.end=NaN);if(s.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var l=d(e);if(l.range.end<t.start)return a.trigger(ob.CONFORMANCE_VIOLATION,{level:MI.LEVELS.WARNING,event:MI.EVENTS.INVALID_DVR_WINDOW}),h(l.now,l.range),l.range}return t}(e)},reset:g},t=Iw(i).getInstance(),g(),e}cD.__dashjs_factory_name="TimelineConverter";var dD=ib.getSingletonFactory(cD),hD=f(ke()),fD=f(he()),pD=function(e){_inherits(n,e);var t=_create_super(n);function n(){var e;return _class_call_check(this,n),(e=t.call(this)).captionData=null,e.label=null,e.defaultTrack=!1,e.kind=null,e.isFragmented=!1,e.isEmbedded=!1,e.isTTML=null,e}return n}(FR),AD=pD;function gD(){return{customTimeRangeArray:[],length:0,add:function(e,t){var n;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function(e){return mS(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function(e){return mS(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}gD.__dashjs_factory_name="CustomTimeRanges";var mD=ib.getClassFactory(gD);function vD(){var e=0;function t(e){for(var t="",n=0;n<e.length;++n){t+=e[n].uchar}return t.length-t.replace(/^\s+/,"").length}function n(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function r(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function i(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?r(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?r(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function a(e){return e.replace(/^\s+/g,"")}function s(e){return e.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(r,o,l,u){var c,d,h=null,f=!1,p=-1,A={start:o,end:l,spans:[]},g="style_cea608_white_black",m={},v={},y=[];for(c=0;c<15;++c){var E=u.rows[c],_="",T=null;if(!1===E.isEmpty()){var b=t(E.chars);null===h&&(h={x:b,y1:c,y2:c+1,p:[]}),b!==p&&f&&(h.p.push(A),A={start:o,end:l,spans:[]},h.y2=c,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===m.hasOwnProperty(h.name)?(y.push(h),m[h.name]=h):m[h.name].p.contat(h.p),h={x:b,y1:c,y2:c+1,p:[]});for(var S=0;S<E.chars.length;++S){var w=E.chars[S],C=w.penState;if(null===T||!C.equals(T)){_.trim().length>0&&(A.spans.push({name:g,line:_,row:c}),_="");var I="style_cea608_"+C.foreground+"_"+C.background;C.underline&&(I+="_underline"),C.italics&&(I+="_italics"),v.hasOwnProperty(I)||(v[I]=JSON.parse(JSON.stringify(C))),T=C,g=I}_+=w.uchar}_.trim().length>0&&A.spans.push({name:g,line:_,row:c}),f=!0,p=b}else f=!1,p=-1,h&&(h.p.push(A),A={start:o,end:l,spans:[]},h.y2=c,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===m.hasOwnProperty(h.name)?(y.push(h),m[h.name]=h):m[h.name].p.contat(h.p),h=null)}h&&(h.p.push(A),h.y2=c+1,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===m.hasOwnProperty(h.name)?(y.push(h),m[h.name]=h):m[h.name].p.contat(h.p),h=null);var k=[];for(c=0;c<y.length;++c){var R=y[c],D="sub_cea608_"+e++,M=document.createElement("div");M.id=D;var L=n(R);M.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+L;var N=document.createElement("div");N.className="paragraph bodyStyle",N.style.cssText=i(r);var B=document.createElement("div");B.className="cueUniWrapper",B.style.cssText="unicode-bidi: normal; direction: ltr;";for(var x=0;x<R.p.length;++x){var P=R.p[x],O=0;for(d=0;d<P.spans.length;++d){var F=P.spans[d];if(F.line.length>0){if(0!==d&&O!=F.row){var U=document.createElement("br");U.className="lineBreak",B.appendChild(U)}var j=!1;O===F.row&&(j=!0),O=F.row;var Q=v[F.name],G=document.createElement("span");G.className="spanPadding "+F.name+" customSpanColor",G.style.cssText=i(r,Q),0!==d&&j?d===P.spans.length-1?G.textContent=s(F.line):G.textContent=F.line:P.spans.length>1&&d<P.spans.length-1&&F.row===P.spans[d+1].row?G.textContent=a(F.line):G.textContent=F.line.trim(),B.appendChild(G)}}}N.appendChild(B),M.appendChild(N);var V={bodyStyle:["%",90]};for(var H in v)v.hasOwnProperty(H)&&(V[H]=["%",90]);k.push({type:"html",start:o,end:l,cueHTMLElement:M,cueID:D,cellResolution:[32,15],isFromCEA608:!0,fontSize:V,lineHeight:{},linePadding:{}})}return k}}}vD.__dashjs_factory_name="EmbeddedTextHtmlRender";var yD=ib.getSingletonFactory(vD),ED=f(he()),_D=f(le());function TD(e){var t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v=e.errHandler,y=e.manifestModel,E=e.mediaController,_=e.videoModel,T=e.textTracks,b=e.vttParser,S=e.vttCustomRenderingParser,w=e.ttmlParser,C=e.streamInfo,I=e.settings,k=this.context,R=cb(k).getInstance(),D=!1;function M(){s=null,l=NaN,u=[],c=null,o=!1,a=[],i=null}function L(e){var t=new AD;for(var n in e)t[n]=e[n];t.labels=e.labels,t.defaultTrack=function(e){var t=!1;h.length>1&&e.isEmbedded?t=e.id&&e.id===eb.CC1:1===h.length?e.id&&"string"==typeof e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===h.length&&(t=e.index===a[0].index);return t}(e),t.isFragmented=e.isFragmented,t.isEmbedded=!!e.isEmbedded,t.isTTML=function(e){return e.codec&&e.codec.search(eb.STPP)>=0||e.mimeType&&e.mimeType.search(eb.TTML)>=0}(e),t.kind=function(e,t){var n=e.roles&&e.roles.length>0?t[e.roles[0]]:t.caption;return n=n===t.caption||n===t.subtitle?n:t.caption,n}(e,{subtitle:"subtitles",caption:"captions"}),T.addTextTrack(t)}function N(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&x(t.bytes,t)}function B(e){d=e}function x(e,a){var u=a.mediaInfo,m=u.type,E=u.mimeType,_=u.codec||E;_?-1!==u.codec.indexOf("application/mp4")?function(e,a,u){var h;if("InitializationSegment"===a.segmentType)o=!0,l=r.getMediaTimescaleFromMoov(e);else{if(!o)return;(h=r.getSamplesInfo(e).sampleList).length>0&&(c=h[0].cts-a.start*l),u.search(eb.STPP)>=0?function(e,r,a){var o,u;for(i=null!==i?i:F(a),o=0;o<r.length;o++){var c=r[o],h=c.cts,f=O(),p=f+h/l,A=p+c.duration/l;t.buffered.add(p,A);var g=new DataView(e,c.offset,c.subSizes[0]),m=ED.default.Utils.dataViewToString(g,eb.UTF8),v=[],E=c.offset+c.subSizes[0];for(u=1;u<c.subSizes.length;u++){var _=new Uint8Array(e,E,c.subSizes[u]),b=String.fromCharCode.apply(null,_);v.push(b),E+=c.subSizes[u]}try{var S=y.getValue().ttmlTimeIsRelative?h/l:0,w=i.parse(m,S,h/l,(h+c.duration)/l,v);T.addCaptions(d,f,w)}catch(e){s.removeExecutedRequestsBeforeTime(),this.remove(),n.error("TTML parser error: "+e.message)}}}(e,h,u):function(e,r){var i,a,s,o=[];for(i=0;i<r.length;i++){var u=r[i];u.cts-=c;var h=O()+u.cts/l,f=h+u.duration/l;t.buffered.add(h,f);var p=e.slice(u.offset,u.offset+u.size),A=ED.default.parseBuffer(p);for(a=0;a<A.boxes.length;a++){var g=A.boxes[a];if(n.debug("VTT box1: "+g.type),"vtte"!==g.type&&"vttc"===g.type){n.debug("VTT vttc boxes.length = "+g.boxes.length);var m={styles:{}};for(s=0;s<g.boxes.length;s++){var v=g.boxes[s];if(n.debug("VTT box2: "+v.type),"payl"===v.type)m.start=u.cts/l,m.end=(u.cts+u.duration)/l,m.data=v.cue_text;else if("sttg"===v.type&&v.settings&&""!==v.settings)try{var y=v.settings.split(" ");m.styles=b.getCaptionStyles(y)}catch(e){}}m&&m.data&&(o.push(m),n.debug("VTT  ".concat(m.start," - ").concat(m.end," :  ").concat(m.data)))}}}o.length>0&&T.addCaptions(d,0,o)}(e,h)}}(e,a,_):m===eb.VIDEO?function(e,t){var i,a;if(t.segmentType===Sb.INIT_SEGMENT_TYPE)0===f&&(f=r.getMediaTimescaleFromMoov(e));else if(t.segmentType===Sb.MEDIA_SEGMENT_TYPE){if(0===f)return void n.warn("CEA-608: No timescale for embeddedTextTrack yet");var s=(a=r.getSamplesInfo(e)).lastSequenceNumber,o=Math.trunc(t.start),l=Math.trunc(t.end);if(g[0]||g[1]||function(){for(var e,t=0;t<h.length;t++){if(-1===(e=T.getTrackIdxForId(h[t].id)))return void n.warn("CEA-608: data before track is ready.");var r=P(e);g[t]=new _D.default.Cea608Parser(t+1,{newCue:r},null)}}(),f){if(function(e,t,n,r,i){if(null===e||null===t||null===r||null===i)return!1;if(t===e)return r!==i;return t!==e+n}(p,s,a.numSequences,A,o))for(i=0;i<g.length;i++)g[i]&&g[i].reset();for(var u=function(e,t){if(0===t.length)return null;for(var n={splits:[],fields:[[],[]]},r=new DataView(e),i=0;i<t.length;i++)for(var a=t[i],s=_D.default.findCea608Nalus(r,a.offset,a.size),o=null,l=0,u=0;u<s.length;u++)for(var c=_D.default.extractCea608DataFromRange(r,s[u]),d=0;d<2;d++)if(c[d].length>0){a.cts!==o?l=0:l+=1;var h=O();n.fields[d].push([a.cts+h*f,c[d],l]),o=a.cts}return n.fields.forEach((function(e){e.sort((function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]}))})),n}(e,a.sampleList),c=0;c<g.length;c++){var d=u.fields[c],m=g[c];if(m)for(i=0;i<d.length;i++)m.addData(d[i][0]/f,d[i][1])}p=s,A=l}}}(e,a):function(e,n,r){var i,a,s=new DataView(e,0,e.byteLength);a=ED.default.Utils.dataViewToString(s,eb.UTF8);try{i=F(r).parse(a,0),T.addCaptions(T.getCurrentTrackIdx(),0,i),t.buffered&&t.buffered.add(n.start,n.end)}catch(e){v.error(new Bb(Ob.TIMED_TEXT_ERROR_ID_PARSE_CODE,Ob.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,a))}}(e,a,_):n.error("No text type defined")}function P(e){return function(t,n,r){var i;i=_.getTTMLRenderingDiv()?m.createHTMLCaptionsFromScreen(_.getElement(),t,n,r):[{start:t,end:n,data:r.getDisplayText(),styles:{}}],i&&T.addCaptions(e,0,i)}}function O(){return isNaN(t.timestampOffset)?0:t.timestampOffset}function F(e){var t;return e.search(eb.VTT)>=0?t=I.get().streaming.text.webvtt.customRenderingEnabled&&S?S:b:(e.search(eb.TTML)>=0||e.search(eb.STPP)>=0)&&(t=w),t}function U(e){h.forEach((function(t){var n=T.getTrackIdxForId(t.id);n>=0&&T.deleteCuesFromTrackIdx(n,e.from,e.to)}))}return t={initialize:function(){D||(h=[],d=null,f=0,g=[],p=null,A=null,D=!0,m=yD(k).getInstance(),R.on(fb.VIDEO_CHUNK_RECEIVED,N,t),R.on(fb.BUFFER_CLEARED,U,t))},addMediaInfos:function(e,n,r){if(a=a.concat(n),e===eb.TEXT&&n[0].isFragmented&&!n[0].isEmbedded){s=r,t.buffered=mD(k).create(),u=E.getTracksFor(eb.TEXT,C.id).filter((function(e){return e.isFragmented}));for(var i=E.getCurrentTrackFor(eb.TEXT,C.id),o=0;o<u.length;o++)if(u[o]===i){B(o);break}}for(var l=0;l<n.length;l++)L(n[l])},resetMediaInfos:function(){a=[]},getStreamId:function(){return C.id},append:x,abort:function(){},addEmbeddedTrack:function(e){if(D&&e)if(e.id===eb.CC1||e.id===eb.CC3){for(var t=0;t<h.length;t++)if(h[t].id===e.id)return;h.push(e)}else n.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function(){R.off(fb.VIDEO_CHUNK_RECEIVED,N,t),R.off(fb.BUFFER_CLEARED,U,t),T&&T.deleteAllTextTracks(),D=!1,h=[],g=[null,null],p=null,A=null},getConfig:function(){return{fragmentModel:s,fragmentedTracks:u,videoModel:_}},setCurrentFragmentedTrackIdx:B,remove:function(e,n){void 0===e&&e===n&&(e=t.buffered.start(0),n=t.buffered.end(t.buffered.length-1)),t.buffered.remove(e,n),T.deleteCuesFromTrackIdx(d,e,n)},reset:function(){M(),a=[],r=null}},n=_b(k).getInstance().getLogger(t),r=Ew(k).getInstance(),M(),t}TD.__dashjs_factory_name="TextSourceBuffer";var bD=ib.getClassFactory(TD),SD=f(Pe()),wD=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function CD(e){var t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y=this.context,E=cb(y).getInstance(),_=e.videoModel,T=e.streamInfo,b=e.settings;function S(e,t,n,r,i,a){var s=0,o=0;e/t>n/r?s=(o=t)/r*n:o=(s=e)/n*r;var l,u,c=0,d=0;return s/o>i?(d=o,c=o*i):(c=s,d=s/i),l=(e-c)/2,u=(t-d)/2,a?{x:l+.1*c,y:u+.1*d,w:.8*c,h:.8*d}:{x:l,y:u,w:c,h:d}}function w(e,t){var n=_.getClientWidth(),r=_.getClientHeight(),i=_.getVideoWidth(),a=_.getVideoHeight(),s=_.getVideoRelativeOffsetTop(),h=_.getVideoRelativeOffsetLeft();if(0!==i&&0!==a){var f=i/a,g=!1;e.isFromCEA608&&(f=3.5/3,g=!0);var v=S.call(this,n,r,i,a,f,g),y=v.w,T=v.h,b=v.x,w=v.y;if(y!=u||T!=c||b!=o||w!=l||t){if(o=b+h,l=w+s,u=y,c=T,d){var C=d.style;C&&(C.left=o+"px",C.top=l+"px",C.width=u+"px",C.height=c+"px",C.zIndex=p&&document[p]||A?m:null,E.trigger(ob.CAPTION_CONTAINER_RESIZE))}var I=e.activeCues;if(I)for(var k=I.length,R=0;R<k;++R){var D=I[R];D.scaleCue(D)}}}}function C(e){var t,n,r,i,a,s=u,o=c;if(e.cellResolution){var l=[s/e.cellResolution[0],o/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){n=(e.linePadding[t]*l[0]).toString();for(var h=document.getElementsByClassName("spanPadding"),f=0;f<h.length;f++)h[f].style.cssText=h[f].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n),h[f].style.cssText=h[f].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.fontSize){for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){"%"===e.fontSize[t][0]?r=e.fontSize[t][1]/100:"c"===e.fontSize[t][0]&&(r=e.fontSize[t][1]),n=(r*l[1]).toString(),a="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var p=0;p<a.length;p++)a[p].style.cssText=a[p].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){"%"===e.lineHeight[t][0]?i=e.lineHeight[t][1]/100:"c"===e.fontSize[t][0]&&(i=e.lineHeight[t][1]),n=(i*l[1]).toString(),a=document.getElementsByClassName(t);for(var A=0;A<a.length;A++)a[A].style.cssText=a[A].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}}}if(e.isd){var g=document.getElementById(e.cueID);g&&d.removeChild(g),k(e)}}function I(e,t){var n=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;if(n.test(t)){var i=n.exec(t),a=parseInt(i[4],10)-1;return"data:image/png;base64,"+btoa(e.images[a])}if(r.test(t)){var s=r.exec(t)[1];return"data:image/png;base64,"+e.embeddedImages[s]}return t}function k(e){if(d){var t=document.createElement("div");d.appendChild(t),g=(0,SD.renderHTML)(e.isd,t,(function(t){return I(e,t)}),d.clientHeight,d.clientWidth,!1,(function(e){n.info("renderCaption :",e)}),g,!0),t.id=e.cueID,E.trigger(ob.CAPTION_RENDERED,{captionDiv:t,currentTrackIdx:s})}}function R(e,t){if(!b.get().streaming.text.extendSegmentedCues)return!1;if(!t.cues||0===t.cues.length)return!1;var n=t.cues[t.cues.length-1];return!(n.endTime<e.startTime)&&(!!function(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];if(JSON.stringify(e[i])!==JSON.stringify(t[i]))return!1}return!0}(n,e,wD)&&(n.endTime=Math.max(n.endTime,e.endTime),!0))}function D(e,t){t&&t.forEach((function(t){t.kind&&"image"===t.kind&&(t.src=I(e,t.src)),D(e,t.contents)}))}function M(e,t,r){var i=P(e);if(i&&Array.isArray(r)&&0!==r.length)for(var a=0;a<r.length;a++){var s=void 0,o=r[a];i.cellResolution=o.cellResolution,i.isFromCEA608=o.isFromCEA608,isNaN(o.start)||isNaN(o.end)||(s="html"===o.type&&d?L(o,t,i):o.data?N(o,t,i):null);try{if(s){U(i,s)||(b.get().streaming.text.webvtt.customRenderingEnabled?(i.manualCueList||(i.manualCueList=[]),i.manualCueList.push(s)):R(s,i)||i.addCue(s));var l=b.get().streaming.buffer.bufferToKeep;Q(i,0,_.getTime()-l)}else n.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(e){throw G(i),i.addCue(s),e}}}function L(e,t,i){var a=this,h=new r(e.start+t,e.end+t,"");return h.cueHTMLElement=e.cueHTMLElement,h.isd=e.isd,h.images=e.images,h.embeddedImages=e.embeddedImages,h.cueID=e.cueID,h.scaleCue=C.bind(a),h.cellResolution=e.cellResolution,h.lineHeight=e.lineHeight,h.linePadding=e.linePadding,h.fontSize=e.fontSize,d.style.left=o+"px",d.style.top=l+"px",d.style.width=u+"px",d.style.height=c+"px",h.isd&&D(h,h.isd.contents),h.onenter=function(){i.mode===eb.TEXT_SHOWING&&(this.isd?(k(this),n.debug("Cue enter id:"+this.cueID)):(d.appendChild(this.cueHTMLElement),C.call(a,this),E.trigger(ob.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:s})))},h.onexit=function(){if(d)for(var e=d.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(n.debug("Cue exit id:"+e[t].id),d.removeChild(e[t]),--t)},h}function N(e,t,i){var a=new r(e.start-t,e.end-t,e.data);if(a.cueID="".concat(a.startTime,"_").concat(a.endTime),a.isActive=!1,e.styles)try{void 0!==e.styles.align&&"align"in a&&(a.align=e.styles.align),void 0!==e.styles.line&&"line"in a&&(a.line=e.styles.line),void 0!==e.styles.snapToLines&&"snapToLines"in a&&(a.snapToLines=e.styles.snapToLines),void 0!==e.styles.position&&"position"in a&&(a.position=e.styles.position),void 0!==e.styles.size&&"size"in a&&(a.size=e.styles.size)}catch(e){n.error(e)}return a.onenter=function(){i.mode===eb.TEXT_SHOWING&&E.trigger(ob.CAPTION_RENDERED,{currentTrackIdx:s})},a}function B(e){if(h)for(var t=h.childNodes,n=0;n<t.length;++n)t[n].id===e.cueID&&(h.removeChild(t[n]),--n)}function x(){var e=_.getTextTracks(),t=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;o.manualMode===eb.TEXT_SHOWING&&t.push(o)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}function P(e){return e>=0&&i[e]?_.getTextTrack(i[e].kind,i[e].id,i[e].lang,i[e].isTTML,i[e].isEmbedded):null}function O(e){var t=this;if(e!==s){var n=P(s=e);F.call(this,n),f&&(clearInterval(f),f=null),n&&"html"===n.renderingType&&(w.call(this,n,!0),window.ResizeObserver?(v=new window.ResizeObserver((function(){w.call(t,n,!0)}))).observe(_.getElement()):f=setInterval(w.bind(this,n),500))}}function F(e){Y.call(this),e&&"html"===e.renderingType?V.call(this):H.call(this)}function U(e,t){if(!e.cues)return!1;for(var n=0;n<e.cues.length;n++)if(e.cues[n].startTime===t.startTime&&e.cues[n].endTime===t.endTime)return!0;return!1}function j(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return!!e&&((isNaN(t)||(r?e.startTime:e.endTime)>=t)&&(isNaN(n)||(r?e.endTime:e.startTime)<=n))}function Q(e,t,n){var r,i;if(!(n<t)&&(e&&(e.cues||e.manualCueList))){var a=e.cues&&e.cues.length>0?"native":"custom",s="native"===a?e.cues:e.manualCueList;if(!s||0===s.length)return;for(var o=s.length-1;o>=0;o--)!j(s[o],t,n,!0)||(r=s[o],i=void 0,i=_.getTime(),r.startTime>=i&&r.endTime<=i)||("native"===a?e.removeCue(s[o]):(B(s[o]),delete e.manualCueList[o]))}}function G(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e&&(e.cues||e.manualCueList)){var i=e.cues&&e.cues.length>0?"native":"custom",a="native"===i?e.cues:e.manualCueList;if(!a||0===a.length)return;for(var s=a.length-1;s>=0;s--)j(a[s],t,n,r)&&("native"===i?(a[s].onexit&&a[s].onexit(),e.removeCue(a[s])):(B(a[s]),delete e.manualCueList[s]))}}function V(){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,r=_.getElement();try{r&&(r.id?t.insertRule("#"+r.id+"::cue {background: transparent}",0):0!==r.classList.length?t.insertRule("."+r.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){n.info(""+e.message)}}}function H(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function Y(){if(d)for(;d.firstChild;)d.removeChild(d.firstChild)}return t={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(r=window.VTTCue||window.TextTrackCue,i=[],a=[],s=-1,o=0,l=0,u=0,c=0,d=null,h=null,f=null,A=!1,m=2147483647,g=null,void 0!==document.fullscreenElement?p="fullscreenElement":void 0!==document.webkitIsFullScreen?p="webkitIsFullScreen":document.msFullscreenElement?p="msFullscreenElement":document.mozFullScreen&&(p="mozFullScreen"))},getStreamId:function(){return T.id},addTextTrack:function(e){i.push(e)},addCaptions:M,createTracks:function(){i.sort((function(e,t){return e.index-t.index})),d=_.getTTMLRenderingDiv(),h=_.getVttRenderingDiv();for(var e,t,n,r,o,l,u=-1,c=0;c<i.length;c++){var f=(e=i[c],t=void 0,n=void 0,r=void 0,o=void 0,l=void 0,t=e.kind,n=void 0!==e.id?e.id:e.lang,r=e.lang,o=e.isTTML,l=e.isEmbedded,_.addTextTrack(t,n,r,o,l));a.push(f),i[c].defaultTrack&&(f.default=!0,u=c);var p=P(c);p&&(p.mode=eb.TEXT_SHOWING,d&&(i[c].isTTML||i[c].isEmbedded)?p.renderingType="html":p.renderingType="default"),M(c,0,i[c].captionData),E.trigger(ob.TEXT_TRACK_ADDED)}if(O.call(this,u),u>=0){var A=function(){var e=P(u);e&&"html"===e.renderingType&&w.call(this,e,!0),E.off(ob.PLAYBACK_METADATA_LOADED,A,this)};E.on(ob.PLAYBACK_METADATA_LOADED,A,this);for(var g=0;g<i.length;g++){var m=P(g);m&&(m.mode=g===u?eb.TEXT_SHOWING:eb.TEXT_HIDDEN,m.manualMode=g===u?eb.TEXT_SHOWING:eb.TEXT_HIDDEN)}}E.trigger(fb.TEXT_TRACKS_QUEUE_INITIALIZED,{index:s,tracks:i,streamId:T.id})},getCurrentTrackIdx:function(){return s},setCurrentTrackIdx:O,getTrackIdxForId:function(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].id===e){t=n;break}return t},getCurrentTrackInfo:function(){return i[s]},setModeForTrackIdx:function(e,t){var n=P(e);n&&n.mode!==t&&(n.mode=t),n&&n.manualMode!==t&&(n.manualMode=t)},deleteCuesFromTrackIdx:function(e,t,n){var r=P(e);r&&G(r,t,n)},deleteAllTextTracks:function(){for(var e=a?a.length:0,t=0;t<e;t++){var n=P(t);n&&G.call(this,n,T.start,T.start+T.duration,!1)}a=[],i=[],f&&(clearInterval(f),f=null),v&&_&&(v.unobserve(_.getElement()),v=null),s=-1,Y.call(this)},deleteTextTrack:function(e){_.removeChild(a[e]),a.splice(e,1)},manualCueProcessing:function(e){var t=x();if(t&&t.length>0){var n=t[0].manualCueList;n&&n.length>0&&n.forEach((function(t){t.startTime<=e&&t.endTime>=e&&!t.isActive?(t.isActive=!0,WebVTT.processCues(window,[t],h,t.cueID)):t.isActive&&(t.startTime>e||t.endTime<e)&&(t.isActive=!1,B(t))}))}},disableManualTracks:function(){var e=x();if(e&&e.length>0){var t=e[0].manualCueList;t&&t.length>0&&t.forEach((function(e){if(e.isActive&&(e.isActive=!1,h))for(var t=h.childNodes,n=0;n<t.length;++n)t[n].id===e.cueID&&(h.removeChild(t[n]),--n)}))}}},n=_b(y).getInstance().getLogger(t),t}CD.__dashjs_factory_name="TextTracks";var ID=ib.getClassFactory(CD);function kD(){var e,t,n,r,i,a,s=this.context;function o(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function l(e){var t=e.split(r),n=t[1].split(a);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:u(n)}}function u(e){var t={};return e.forEach((function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1],r=!1;n&&-1!=n.search(/%/)&&(r=!0,n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line="auto"===n?n:parseInt(n,10),r&&(t.snapToLines=!1)),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}})),t}function c(e,t){for(var n,i=t,a="",s="";""!==e[i]&&i<e.length;)i++;if((n=i-t)>1)for(var o=0;o<n;o++){if((s=e[t+o]).match(r)){a="";break}a+=s,o!==n-1&&(a+="\n")}else(s=e[t]).match(r)||(a=s);return a}return e={parse:function(e){var a,s,u=[];if(!e)return u;a=(e=e.split(n)).length,s=-1;for(var d=0;d<a;d++){var h=e[d];if(h.length>0&&"WEBVTT"!==h&&h.match(r)){var f=l(h),p=f.cuePoints,A=f.styles,g=c(e,d+1),m=o(p[0].replace(i,"")),v=o(p[1].replace(i,""));!isNaN(m)&&!isNaN(v)&&m>=s&&v>m?""!==g?(s=m,u.push({start:m,end:v,data:g,styles:A})):t.error("Skipping cue due to empty/malformed cue text"):t.error("Skipping cue due to incorrect cue timing")}}return u},getCaptionStyles:u},t=_b(s).getInstance().getLogger(e),n=/(?:\r\n|\r|\n)/gm,r=/-->/,i=/(^[\s]+|[\s]+$)/g,a=/\s\b/g,e}kD.__dashjs_factory_name="VTTParser";var RD=ib.getSingletonFactory(kD);function DD(){var e,t;return e={parse:function(e){var n=[];return t.oncue=function(e){e.start=e.startTime,e.end=e.endTime,e.data=e.text,e.styles={align:e.align,line:e.line,position:e.position,size:e.size},n.push(e)},t.parse(e),n}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(t=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch(e){}}(),e}DD.__dashjs_factory_name="VttCustomRenderingParser";var MD=ib.getSingletonFactory(DD),LD=f(Pe());function ND(){var e,t,n=this.context,r=cb(n).getInstance(),i=0;return e={parse:function(e,n,a,s,o){var l,u,c,d="",h=[],f={},p={},A="",g="",m={onOpenTag:function(e,n,i){if(i[" imagetype"]&&!i[" imageType"]&&(r.trigger(ob.CONFORMANCE_VIOLATION,{level:MI.LEVELS.ERROR,event:MI.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),i[" imageType"]=i[" imagetype"]),"image"===n&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===e)){if(!i[" imageType"]||"PNG"!==i[" imageType"].value)return void t.warn("smpte-tt imageType != PNG. Discarded");A=i["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){A&&(p[A]=g.trim()),g="",A=""},onText:function(e){A&&(g+=e)}};if(!e)throw d="no ttml data to parse",new Error(d);f.data=e,r.trigger(fb.TTML_TO_PARSE,f);var v=(0,LD.fromXML)(f.data,(function(e){d=e}),m);r.trigger(fb.TTML_PARSED,{ttmlString:f.data,ttmlDoc:v});var y,E=v.getMediaTimeEvents();for(c=0;c<E.length;c++){var _=(0,LD.generateISD)(v,E[c],(function(e){d=e}));_.contents.some((function(e){return e.contents.length}))&&(l=E[c]+n)<(u=E[c+1]+n)&&h.push({start:l,end:u,type:"html",cueID:(y=void 0,y="cue_TTML_"+i,i++,y),isd:_,images:o,embeddedImages:p})}if(""!==d)throw t.error(d),new Error(d);return h}},t=_b(n).getInstance().getLogger(e),e}ND.__dashjs_factory_name="TTMLParser";var BD=ib.getSingletonFactory(ND);function xD(e){var t,n,r,i,a,s,o,l,u,c,d,h,f=this.context,p=e.adapter,A=e.errHandler,g=e.manifestModel,m=e.mediaController,v=e.videoModel,y=e.settings;function E(e){var t=e.tracks,r=e.index,i=e.streamId;if(!1===y.get().streaming.text.defaultEnabled&&!b()||h)S(i,-1);else{var a=m.getCurrentTrackFor(eb.TEXT,i);if(a){var s={lang:a.lang,role:a.roles[0],index:a.index,codec:a.codec,accessibility:a.accessibility[0]};t.some((function(e,t){if(m.matchSettings(s,e))return S(i,t),r=t,!0}))}u=!1}n[i].lastEnabledIndex=r,l.trigger(ob.TEXT_TRACKS_ADDED,{enabled:b(),index:r,tracks:t,streamId:i}),d=!0}function _(e){try{var t=e.streamId;if(!i[t]||isNaN(e.time))return;i[t].manualCueProcessing(e.time)}catch(e){}}function T(e){try{var t=e.streamId;if(!i[t])return;i[t].disableManualTracks()}catch(e){}}function b(){var e=!0;return u&&!c&&(e=!1),e}function S(e,t){(u=-1===t)&&m&&m.saveTextSettingsDisabled();var n=w(e);if(n!==t&&i[e]){i[e].disableManualTracks(),i[e].setModeForTrackIdx(n,eb.TEXT_HIDDEN),i[e].setCurrentTrackIdx(t),i[e].setModeForTrackIdx(t,eb.TEXT_SHOWING);var a=i[e].getCurrentTrackInfo();a&&a.isFragmented&&!a.isEmbedded?function(e,t,n){if(!r[e])return;for(var a=r[e].getConfig().fragmentedTracks,s=0;s<a.length;s++){var o=a[s];if(t.lang===o.lang&&(o.id?t.id===o.id:t.index===o.index)){var u=m.getCurrentTrackFor(eb.TEXT,e);(o.id?u.id!==o.id:u.index!==o.index)?(i[e].deleteCuesFromTrackIdx(n),r[e].setCurrentFragmentedTrackIdx(s)):-1===n&&l.trigger(fb.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:e,mediaType:eb.TEXT})}}}(e,a,n):a&&!a.isFragmented&&function(e,t){l.trigger(fb.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:t},{streamId:e,mediaType:eb.TEXT})}(e,a),m.setTrack(a)}}function w(e){return i[e].getCurrentTrackIdx()}function C(){r={},i={},n={},u=!0,d=!1,h=!1}return t={deactivateStream:function(e){if(e){var t=e.id;r[t]&&r[t].resetMediaInfos(),i[t]&&i[t].deleteAllTextTracks()}},initialize:function(){l.on(fb.TEXT_TRACKS_QUEUE_INITIALIZED,E,t),y.get().streaming.text.webvtt.customRenderingEnabled&&(l.on(fb.PLAYBACK_TIME_UPDATED,_,t),l.on(fb.PLAYBACK_SEEKING,T,t))},initializeForStream:function(e){var t=e.id,l=ID(f).create({videoModel:v,settings:y,streamInfo:e});l.initialize(),i[t]=l;var u=bD(f).create({errHandler:A,adapter:p,manifestModel:g,mediaController:m,videoModel:v,textTracks:l,vttParser:a,vttCustomRenderingParser:s,ttmlParser:o,streamInfo:e,settings:y});u.initialize(),r[t]=u,n[t]={},n[t].lastEnabledIndex=-1},createTracks:function(e){var t=e.id;i[t]&&i[t].createTracks()},getTextSourceBuffer:function(e){var t=e.id;if(r&&r[t])return r[t]},getAllTracksAreDisabled:function(){return u},addEmbeddedTrack:function(e,t){var n=e.id;r[n]&&r[n].addEmbeddedTrack(t)},enableText:function(e,t){return gS(t,"boolean"),b()!==t&&(t&&S(e,n[e].lastEnabledIndex),t||(n[e].lastEnabledIndex=w(e),d?S(e,-1):h=!0)),!0},isTextEnabled:b,setTextTrack:S,getCurrentTrackIdx:w,enableForcedTextStreaming:function(e){return gS(e,"boolean"),c=e,!0},addMediaInfosToBuffer:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=e.id;r[a]&&r[a].addMediaInfos(t,n,i)},reset:function(){C(),l.off(fb.TEXT_TRACKS_QUEUE_INITIALIZED,E,t),y.get().streaming.text.webvtt.customRenderingEnabled&&(l.off(fb.PLAYBACK_TIME_UPDATED,_,t),l.off(fb.PLAYBACK_SEEKING,T,t)),Object.keys(r).forEach((function(e){r[e].resetEmbedded(),r[e].reset()}))}},c=!1,d=!1,h=!1,a=RD(f).getInstance(),s=MD(f).getInstance(),o=BD(f).getInstance(),l=cb(f).getInstance(),C(),t}xD.__dashjs_factory_name="TextController";var PD=ib.getClassFactory(xD);function OD(){var e,t,n,r,i,a,s,o,l,u,c,d,h,f,p,A,g,m,v,y,E,_,T,b,S,w,C,I,k,R,D,M,L,N,B,x,P,O,F,U="You must first call initialize() and set a source before calling this method",j="You must first call initialize() and set a valid source and view before calling this method",Q="You must first call attachView() to set the video element before calling this method",G="You must first call attachSource() with a valid source before calling this method",V="MediaPlayer not initialized!",H=this.context,Y=cb(H).getInstance(),q=Vb(H).getInstance(),z=_b(H).getInstance({settings:q});function W(){le(null),se(null),r=null,f&&(f.reset(),f=null),p&&(p.reset(),p=null),y&&y.reset(),q.reset(),g&&(g.reset(),g=null)}function K(){return!!n&&!!x.getElement()}function X(){return kR()}function J(){if(!s)throw j;return I.isPaused()}function Z(){if(!s)throw j;return I.getIsDynamic()}function $(e){var t=S&&S.hasVideoTrack()?eb.VIDEO:eb.AUDIO,n=M.getCurrentDVRInfo(t);if(!n)return 0;var r=I.getOriginalLiveDelay(),i=n.range.start+e;return i>n.range.end-r&&(i=n.range.end-r),i}function ee(e){if(!s)throw j;var t=ae().currentTime;if(void 0!==e)t=S.getTimeRelativeToStreamId(t,e);else if(I.getIsDynamic()){var n=S&&S.hasVideoTrack()?eb.VIDEO:eb.AUDIO,r=M.getCurrentDVRInfo(n);t=null===r||0===t?0:Math.max(0,t-r.range.start)}return t}function te(){if(!s)throw j;var e=ae().duration;if(I.getIsDynamic()){var t=S&&S.hasVideoTrack()?eb.VIDEO:eb.AUDIO,n=M.getCurrentDVRInfo(t);e=n?n.range.end-n.range.start:0}return e}function ne(e){gS(e,"boolean"),o=e}function re(){y.restoreDefaultUTCTimingSources()}function ie(){return M}function ae(){if(!x.getElement())throw Q;return x.getElement()}function se(e){if(!i)throw V;x.setElement(e),e&&(he(),function(){if(p)return;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(H).create();p=t.createMetricsReporting({debug:z,eventBus:Y,mediaElement:ae(),adapter:m,dashMetrics:M,mediaPlayerModel:v,events:fb,constants:eb,metricsConstants:nb})}}(),function(){if(A)return;var e=dashjs.MssHandler;"function"==typeof e&&(Ob.extend(e.errors),A=e(H).create({eventBus:Y,mediaPlayerModel:v,dashMetrics:M,manifestModel:L,playbackController:I,streamController:S,protectionController:f,baseURLController:_,errHandler:E,events:fb,constants:eb,debug:z,initSegmentType:Sb.INIT_SEGMENT_TYPE,BASE64:hD.default,ISOBoxer:fD.default,settings:q}))}(),S&&S.switchToVideoElement(l)),s&&ce(),Ae(l)}function oe(e){if(!a)throw U;var t=S.getActiveStreamInfo();return t?h.getTracksFor(e,t.id):[]}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!i)throw V;"string"==typeof e&&P.initialize(e),null==t&&(t=NaN),isNaN(t)||(t=Math.max(0,t)),l=t,n=e,(a||s)&&ce(),K()&&Ae(l)}function ue(){if(!a)throw U;var e=S.getActiveStreamInfo();return e?S.getStreamById(e.id):null}function ce(){s=!1,a=!1,m.reset(),S.reset(),C.reset(),D.reset(),I.reset(),k.reset(),R.reset(),u.reset(),h.reset(),F.reset(),f&&(q.get().streaming.protection.keepProtectionMediaKeys?f.stop():(f.reset(),f=null,he())),w.reset(),N.reset(),B.reset()}function de(){return Gk(H).create({debug:z,errHandler:E,dashMetrics:M,mediaPlayerModel:v,requestModifier:TS(H).getInstance(),mssHandler:A,settings:q})}function he(){if(f)return f;var e=dashjs.Protection;if("function"==typeof e){var t=e(H).create();return fb.extend(e.events),ob.extend(e.events,{publicOnly:!0}),Ob.extend(e.errors),T||(T=Wk(H).getInstance()),f=t.createProtectionSystem({debug:z,errHandler:E,videoModel:x,customParametersModel:y,capabilities:T,eventBus:Y,events:fb,BASE64:hD.default,constants:eb,cmcdModel:N,settings:q})}return null}function fe(){if(!i)throw V;if(g)return g;var e=dashjs.OfflineController;if("function"==typeof e){fb.extend(e.events),ob.extend(e.events,{publicOnly:!0}),Ob.extend(e.errors);var t=de(),n=bI(H).create();return n.setConfig({manifestModel:L,adapter:m,manifestLoader:t,errHandler:E,contentSteeringController:R}),g=e(H).create({debug:z,manifestUpdater:n,baseURLController:_,manifestLoader:t,manifestModel:L,mediaPlayerModel:v,abrController:u,playbackController:I,adapter:m,errHandler:E,dashMetrics:M,timelineConverter:d,segmentBaseController:F,schemeLoaderFactory:c,eventBus:Y,events:fb,errors:Ob,constants:eb,settings:q,dashConstants:tb,urlUtils:CS(H).getInstance()})}return null}function pe(e){var t=S&&S.hasVideoTrack()?eb.VIDEO:eb.AUDIO,n=M.getCurrentDVRInfo(t);return n?e+(n.manifestInfo.availableFrom.getTime()/1e3+n.range.start):0}function Ae(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;g&&g.resetRecords(),!a&&n&&(a=!0,t.info("Streaming Initialized"),e=de(),S||(S=NI(H).getInstance()),w||(w=PD(H).create({errHandler:E,manifestModel:L,adapter:m,mediaController:h,videoModel:x,settings:q})),b.setConfig({capabilities:T,customParametersModel:y,adapter:m,settings:q,manifestModel:L,errHandler:E}),S.setConfig({capabilities:T,capabilitiesFilter:b,manifestLoader:e,manifestModel:L,mediaPlayerModel:v,customParametersModel:y,protectionController:f,textController:w,adapter:m,dashMetrics:M,errHandler:E,timelineConverter:d,videoModel:x,playbackController:I,serviceDescriptionController:k,contentSteeringController:R,abrController:u,mediaController:h,settings:q,baseURLController:_,uriFragmentModel:P,segmentBaseController:F}),C.setConfig({settings:q,playbackController:I,streamController:S,videoModel:x,timelineConverter:d,adapter:m}),I.setConfig({streamController:S,serviceDescriptionController:k,dashMetrics:M,adapter:m,videoModel:x,timelineConverter:d,settings:q}),D.setConfig({streamController:S,playbackController:I,mediaPlayerModel:v,videoModel:x,settings:q}),u.setConfig({streamController:S,domStorage:O,mediaPlayerModel:v,customParametersModel:y,cmsdModel:B,dashMetrics:M,adapter:m,videoModel:x,settings:q}),N.setConfig({abrController:u,dashMetrics:M,playbackController:I}),B.setConfig({}),u.initialize(),S.initialize(o,r),w.initialize(),C.initialize(),D.initialize(),N.initialize(),B.initialize(),R.initialize(),F.initialize(),"string"==typeof n?S.load(n,i):S.loadWithManifest(n,i)),!s&&K()&&(s=!0,t.info("Playback Initialized"))}return e={initialize:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;T||(T=Wk(H).getInstance()).setConfig({settings:q}),E||(E=Hk(H).getInstance()),T.supportsMediaSource()?(i||(i=!0,d=dD(H).getInstance(),u||(u=AR(H).getInstance()).setConfig({settings:q}),c||(c=WC(H).getInstance()),I||(I=bb(H).getInstance()),h||(h=KI(H).getInstance()),S||(S=NI(H).getInstance()),C||(C=xI(H).getInstance()),D||(D=OI(H).getInstance()),k||(k=HI(H).getInstance()),R||(R=yI(H).getInstance()),b||(b=Xk(H).getInstance()),m=zR(H).getInstance(),L=tR(H).getInstance(),N=Qw(H).getInstance(),B=iC(H).getInstance(),M=uD(H).getInstance({settings:q}),O=CR(H).getInstance({settings:q}),m.setConfig({constants:eb,cea608parser:$T.default,errHandler:E,BASE64:hD.default}),_||(_=uk(H).create()),_.setConfig({adapter:m,contentSteeringController:R}),k.setConfig({adapter:m}),F||(F=PR(H).getInstance({dashMetrics:M,mediaPlayerModel:v,errHandler:E,baseURLController:_,events:fb,eventBus:Y,debug:z,boxParser:Ew(H).getInstance(),requestModifier:TS(H).getInstance(),errors:Ob})),h.setConfig({domStorage:O,settings:q,customParametersModel:y}),v.setConfig({playbackController:I,serviceDescriptionController:k}),R.setConfig({adapter:m,errHandler:E,dashMetrics:M,mediaPlayerModel:v,manifestModel:L,serviceDescriptionController:k,eventBus:Y,requestModifier:TS(H).getInstance()}),re(),ne(void 0===r||r),fe()),e&&se(e),n&&le(n,a),t.info("[dash.js "+X()+"] MediaPlayer has been initialized")):E.error(new Bb(Ob.CAPABILITY_MEDIASOURCE_ERROR_CODE,Ob.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(e){e&&(e.capabilities&&(T=e.capabilities),e.capabilitiesFilter&&(b=e.capabilitiesFilter),e.streamController&&(S=e.streamController),e.textController&&(w=e.textController),e.gapController&&(C=e.gapController),e.playbackController&&(I=e.playbackController),e.serviceDescriptionController&&(k=e.serviceDescriptionController),e.contentSteeringController&&(R=e.contentSteeringController),e.catchupController&&(D=e.catchupController),e.mediaPlayerModel&&(v=e.mediaPlayerModel),e.customParametersModel&&(y=e.customParametersModel),e.abrController&&(u=e.abrController),e.schemeLoaderFactory&&(c=e.schemeLoaderFactory),e.mediaController&&(h=e.mediaController),e.settings&&(q=e.settings))},on:function(e,t,n,r){Y.on(e,t,n,r)},off:function(e,t,n){Y.off(e,t,n)},extend:function(e,t,n){ib.extend(e,t,n,H)},attachView:se,attachSource:le,isReady:K,preload:function(){if(!x.getElement()&&!a){if(!n)throw G;Ae(l)}},play:function(){if(!s)throw j;(!o||J()&&s)&&I.play(!0)},isPaused:J,pause:function(){if(!s)throw j;I.pause()},isSeeking:function(){if(!s)throw j;return I.isSeeking()},isDynamic:Z,getLowLatencyModeEnabled:function(){if(!s)throw j;return I.getLowLatencyModeEnabled()},seek:function(e){if(!s)throw j;if(gS(e,"number"),isNaN(e))throw eb.BAD_ARGUMENT_ERROR;e<0&&(e=0);var t=I.getIsDynamic()?$(e):e,n=ae();!I.getIsDynamic()&&n.duration&&(t=Math.min(n.duration,t)),I.seek(t,!1,!1,!0)},seekToOriginalLive:function(){s&&Z()&&I.seekToOriginalLive()},setPlaybackRate:function(e){ae().playbackRate=e},getPlaybackRate:function(){return ae().playbackRate},setMute:function(e){gS(e,"boolean"),ae().muted=e},isMuted:function(){return ae().muted},setVolume:function(e){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw eb.BAD_ARGUMENT_ERROR;ae().volume=e},getVolume:function(){return ae().volume},time:ee,duration:te,timeAsUTC:function(){if(!s)throw j;return ee()<0?NaN:pe(ee())},durationAsUTC:function(){if(!s)throw j;return pe(te())},getActiveStream:ue,getDVRWindowSize:function(){var e=S&&S.hasVideoTrack()?eb.VIDEO:eb.AUDIO,t=M.getCurrentDVRInfo(e);return t?t.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:$,getAvailableBaseUrls:function(){var e=L.getValue();return e?_.getBaseUrls(e):[]},getAvailableLocations:function(){var e=L.getValue();if(!e)return[];var t=m.getLocation(e),n=R.getSynthesizedLocationElements(t);return t.concat(n)},getTargetLiveDelay:function(){if(!s)throw j;return I.getOriginalLiveDelay()},convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())},formatUTC:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Date(1e3*e),a=i.toLocaleDateString(t),s=i.toLocaleTimeString(t,{hour12:n});return r?s+" "+a:s},getVersion:X,getDebug:function(){return z},getBufferLength:function(e){var n=[eb.VIDEO,eb.AUDIO,eb.TEXT];if(e){if(-1!==n.indexOf(e)){var r=ie().getCurrentBufferLevel(e);return r||NaN}return t.warn("getBufferLength requested for invalid type"),NaN}var i=n.map((function(e){return oe(e).length>0?ie().getCurrentBufferLevel(e):Number.MAX_VALUE})).reduce((function(e,t){return Math.min(e,t)}));return i===Number.MAX_VALUE?NaN:i},getTTMLRenderingDiv:function(){return x?x.getTTMLRenderingDiv():null},getVideoElement:ae,getSource:function(){if(!n)throw G;return n},updateSource:function(e){n=e,S.load(n)},getCurrentLiveLatency:function(){if(!i)throw V;return s?I.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(e){if(!a)throw U;return u.getTopBitrateInfoFor(e)},setAutoPlay:ne,getAutoPlay:function(){return o},getDashMetrics:ie,getQualityFor:function(e){if(!a)throw U;if(e===eb.IMAGE){var t=ue();if(!t)return-1;var n=t.getThumbnailController();return n?n.getCurrentTrackIndex():-1}return u.getQualityFor(e)},setQualityFor:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a)throw U;if(e===eb.IMAGE){var r=ue();if(!r)return;var i=r.getThumbnailController();i&&i.setTrackByIndex(t)}u.setPlaybackQuality(e,S.getActiveStreamInfo(),t,{forceReplace:n})},updatePortalSize:function(){u.setElementSize(),u.setWindowResizeEventCalled(!0)},enableText:function(e){var t=S.getActiveStreamInfo();return!(!t||!w)&&w.enableText(t.id,e)},enableForcedTextStreaming:function(e){return!(!S.getActiveStreamInfo()||!w)&&w.enableForcedTextStreaming(e)},isTextEnabled:function(){var e=S.getActiveStreamInfo();return!(!e||!w)&&w.isTextEnabled(e)},setTextTrack:function(e){if(!s)throw j;var t=S.getActiveStreamInfo();t&&w&&w.setTextTrack(t.id,e)},getBitrateInfoListFor:function(e){if(!a)throw U;var t=ue();return t?t.getBitrateListFor(e):[]},getStreamsFromManifest:function(e){if(!a)throw U;return m.getStreamsInfo(e)},getTracksFor:oe,getTracksForTypeFromManifest:function(e,t,n){if(!a)throw U;return(n=n||m.getStreamsInfo(t,1)[0])?m.getAllMediaInfoForType(n,e,t):[]},getCurrentTrackFor:function(e){if(!a)throw U;var t=S.getActiveStreamInfo();return h.getCurrentTrackFor(e,t.id)},setInitialMediaSettingsFor:function(e,t){if(!i)throw V;h.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){if(!i)throw V;return h.getInitialSettings(e)},setCurrentTrack:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a)throw U;h.setTrack(e,t)},addABRCustomRule:function(e,t,n){y.addAbrCustomRule(e,t,n)},removeABRCustomRule:function(e){y.removeAbrCustomRule(e)},removeAllABRCustomRule:function(){y.removeAllAbrCustomRule()},getABRCustomRules:function(){return y.getAbrCustomRules()},getAverageThroughput:function(e){var t=u.getThroughputHistory(),n=I.getIsDynamic();return t?t.getAverageThroughput(e,n):0},retrieveManifest:function(e,t){var n=de(),r=this,i=function(e){e.error?t(null,e.error):t(e.manifest),Y.off(fb.INTERNAL_MANIFEST_LOADED,i,r),n.reset()};Y.on(fb.INTERNAL_MANIFEST_LOADED,i,r),P.initialize(e),n.load(e)},addUTCTimingSource:function(e,t){y.addUTCTimingSource(e,t)},removeUTCTimingSource:function(e,t){y.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function(){y.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:re,setXHRWithCredentialsForType:function(e,t){y.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return y.getXHRWithCredentialsForType(e)},getProtectionController:function(){return he()},attachProtectionController:function(e){f=e},setProtectionData:function(e){r=e,S&&S.setProtectionData(r)},registerLicenseRequestFilter:function(e){y.registerLicenseRequestFilter(e)},registerLicenseResponseFilter:function(e){y.registerLicenseResponseFilter(e)},unregisterLicenseRequestFilter:function(e){y.unregisterLicenseRequestFilter(e)},unregisterLicenseResponseFilter:function(e){y.unregisterLicenseResponseFilter(e)},registerCustomCapabilitiesFilter:function(e){y.registerCustomCapabilitiesFilter(e)},unregisterCustomCapabilitiesFilter:function(e){y.unregisterCustomCapabilitiesFilter(e)},setCustomInitialTrackSelectionFunction:function(e){y.setCustomInitialTrackSelectionFunction(e)},resetCustomInitialTrackSelectionFunction:function(){y.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(e){if(!x.getElement())throw Q;x.setTTMLRenderingDiv(e)},attachVttRenderingDiv:function(e){if(!x.getElement())throw Q;x.setVttRenderingDiv(e)},getCurrentTextTrackIndex:function(){var e=S.getActiveStreamInfo();if(e&&w)return w.getCurrentTrackIdx(e.id)},provideThumbnail:function(e,t){if("function"==typeof t)if(e<0)t(null);else{var n=I.getIsDynamic()?$(e):e,r=S.getStreamForTime(n);if(null!==r){var i=r.getThumbnailController();if(i)return i.provide(n,t);t(null)}else t(null)}},getDashAdapter:function(){return m},getOfflineController:function(){return fe()},triggerSteeringRequest:function(){if(R)return R.loadSteeringData()},getCurrentSteeringResponseData:function(){if(R)return R.getCurrentSteeringResponseData()},getSettings:function(){return q.get()},updateSettings:function(e){q.update(e)},resetSettings:function(){q.reset()},reset:W,destroy:function(){W(),ib.deleteSingletonInstances(H)}},t=z.getLogger(e),i=!1,s=!1,a=!1,o=!0,l=NaN,f=null,g=null,r=null,m=null,F=null,fb.extend(ob),v=iR(H).getInstance(),y=HC(H).getInstance(),x=vR(H).getInstance(),P=$k(H).getInstance(),e}OD.__dashjs_factory_name="MediaPlayer";var FD=ib.getClassFactory(OD);FD.events=ob,FD.errors=Ob,ib.updateClassFactory(OD.__dashjs_factory_name,FD);var UD=FD;f(Fe());var jD="undefined"!=typeof window&&window||global,QD=jD.dashjs;QD||(QD=jD.dashjs={}),QD.MediaPlayer=UD,QD.FactoryMaker=ib,QD.Debug=_b,QD.Version=kR();var GD=function e(){_class_call_check(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};GD.SSL_CONNECTION_FAILED_PREFIX="SSL",GD.DNS_RESOLUTION_FAILED="C00",GD.HOST_UNREACHABLE="C01",GD.CONNECTION_REFUSED="C02",GD.CONNECTION_ERROR="C03",GD.CORRUPT_MEDIA_ISOBMFF="M00",GD.CORRUPT_MEDIA_OTHER="M01",GD.BASE_URL_CHANGED="F00",GD.BECAME_REPORTER="S00";var VD=GD;function HD(e){var t,n,r=(e=e||{}).eventBus,i=e.dashMetrics,a=e.metricsConstants,s=e.events;function o(e){var t=new VD;if(n){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.mpdurl||(t.mpdurl=n.originalUrl||n.url),t.terror||(t.terror=new Date),i.addDVBErrors(t)}}function l(e){e.error||(n=e.manifest)}function u(e){o({errorcode:VD.BASE_URL_CHANGED,servicelocation:e.entry})}function c(){o({errorcode:VD.BECAME_REPORTER})}function d(e){if(e.metric===a.HTTP_REQUEST)(0===(t=e.value).responsecode||null==t.responsecode||t.responsecode>=400||t.responsecode<100||t.responsecode>=600)&&o({errorcode:t.responsecode||VD.CONNECTION_ERROR,url:t.url,terror:t.tresponse,servicelocation:t._serviceLocation});var t}function h(e){var t;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=VD.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=VD.CORRUPT_MEDIA_OTHER;break;default:return}o({errorcode:t})}return t={initialize:function(){r.on(s.MANIFEST_UPDATED,l,t),r.on(s.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,u,t),r.on(s.METRIC_ADDED,d,t),r.on(s.METRIC_UPDATED,d,t),r.on(s.PLAYBACK_ERROR,h,t),r.on(KS.BECAME_REPORTING_PLAYER,c,t)},reset:function(){r.off(s.MANIFEST_UPDATED,l,t),r.off(s.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,u,t),r.off(s.METRIC_ADDED,d,t),r.off(s.METRIC_UPDATED,d,t),r.off(s.PLAYBACK_ERROR,h,t),r.off(KS.BECAME_REPORTING_PLAYER,c,t)}}}HD.__dashjs_factory_name="DVBErrorsTranslator";var YD=dashjs.FactoryMaker.getSingletonFactory(HD);function qD(e){e=e||{};var t,n,r=!1,i=this.context,a=e.mediaElement;return t={initialize:function(e){e&&e.length&&(e.forEach((function(e){var t=e.starttime,r=t+e.duration;n.add(t,r)})),r=!!e[0]._useWallClockTime)},reset:function(){n.clear()},isEnabled:function(){var e,t=n.length;if(!t)return!0;e=r?(new Date).getTime()/1e3:a.currentTime;for(var i=0;i<t;i+=1){var s=n.start(i),o=n.end(i);if(s<=e&&e<o)return!0}return!1}},n=mD(i).create(),t}qD.__dashjs_factory_name="RangeController";var zD=dashjs.FactoryMaker.getClassFactory(qD);function WD(){return{serialise:function e(t){var n,r,i=[],a=[];for(n in t)if(t.hasOwnProperty(n)&&0!==n.indexOf("_")){if(null==(r=t[n])&&(r=""),Array.isArray(r)){if(!r.length)continue;a=[],r.forEach((function(t){var n="Object"!==Object.prototype.toString.call(t).slice(8,-1);a.push(n?t:e(t))})),r=a.map(encodeURIComponent).join(",")}else"string"==typeof r?r=encodeURIComponent(r):_instanceof(r,Date)?r=r.toISOString():"number"==typeof r&&(r=Math.round(r));i.push(n+"="+r)}return i.join("&")}}}WD.__dashjs_factory_name="MetricSerialiser";var KD=dashjs.FactoryMaker.getSingletonFactory(WD);function XD(){var e,t,n,r=window.crypto||window.msCrypto,i=Uint32Array,a=Math.pow(2,8*i.BYTES_PER_ELEMENT)-1,s=10;function o(){r&&(e||(e=new i(s)),r.getRandomValues(e),t=0)}return n={random:function(n,i){var s;return n||(n=0),i||(i=1),r?(t===e.length&&o(),s=e[t]/a,t+=1):s=Math.random(),s*(i-n)+n}},o(),n}XD.__dashjs_factory_name="RNG";var JD=dashjs.FactoryMaker.getSingletonFactory(XD);function ZD(e){var t;e=e||{};var n,r,i,a,s,o,l,u=this.context,c=[],d=e.metricsConstants;function h(){a=!1,s=!1,o=null,l=null}return t={report:function(e,t){Array.isArray(t)||(t=[t]),s&&l.isEnabled()&&t.forEach((function(t){var i=n.serialise(t);e!==d.DVB_ERRORS&&(i="metricname=".concat(e,"&").concat(i)),function(e,t,n){var i=new XMLHttpRequest;i.withCredentials=r.getXHRWithCredentialsForType(d.HTTP_REQUEST_DVB_REPORTING_TYPE);var a=function(){var e=c.indexOf(i);-1!==e&&(c.splice(e,1),i.status>=200&&i.status<300?t&&t():n&&n())};c.push(i);try{i.open("GET",e),i.onloadend=a,i.onerror=a,i.send()}catch(e){i.onerror()}}(i="".concat(o,"?").concat(i),null,(function(){s=!1}))}))},initialize:function(e,t){var n;if(l=t,!(o=e.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");a||((n=e.dvb_probability)&&(1e3===n||n/1e3>=i.random())&&(s=!0),a=!0)},reset:function(){h()}},n=KD(u).getInstance(),i=JD(u).getInstance(),r=HC(u).getInstance(),h(),t}ZD.__dashjs_factory_name="DVBReporting";var $D=dashjs.FactoryMaker.getClassFactory(ZD);function eM(e){e=e||{};var t,n={"urn:dvb:dash:reporting:2014":$D},r=this.context,i=e.debug?e.debug.getLogger(t):{},a=e.metricsConstants,s=e.mediaPlayerModel||{};return t={create:function(e,t){var o;try{(o=n[e.schemeIdUri](r).create({metricsConstants:a,mediaPlayerModel:s})).initialize(e,t)}catch(t){o=null,i.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(e.schemeIdUri," (").concat(t.message,")"))}return o},register:function(e,t){n[e]=t},unregister:function(e){delete n[e]}}}eM.__dashjs_factory_name="ReportingFactory";var tM=dashjs.FactoryMaker.getSingletonFactory(eM);function nM(e){var t=[],n=tM(this.context).getInstance(e);return{initialize:function(e,r){e.some((function(e){var i=n.create(e,r);if(i)return t.push(i),!0}))},reset:function(){t.forEach((function(e){return e.reset()})),t=[]},report:function(e,n){t.forEach((function(t){return t.report(e,n)}))}}}nM.__dashjs_factory_name="ReportingController";var rM=dashjs.FactoryMaker.getClassFactory(nM);function iM(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}iM.__dashjs_factory_name="HandlerHelpers";var aM=dashjs.FactoryMaker.getSingletonFactory(iM);function sM(e){var t,n,r,i,a;e=e||{};var s=this.context,o=aM(s).getInstance(),l=[],u=e.metricsConstants;function c(){var e=function(){try{return Object.keys(l).map((function(e){return l[e]})).reduce((function(e,t){return e.level<t.level?e:t}))}catch(e){return}}();e&&a!==e.t&&(a=e.t,t.report(r,e))}return{initialize:function(e,a,s){a&&(n=o.validateN(s),t=a,r=o.reconstructFullMetricName(e,s),i=setInterval(c,n))},reset:function(){clearInterval(i),i=null,n=0,t=null,a=null},handleNewMetric:function(e,t,n){e===u.BUFFER_LEVEL&&(l[n]=t)}}}sM.__dashjs_factory_name="BufferLevelHandler";var oM=dashjs.FactoryMaker.getClassFactory(sM);var lM=dashjs.FactoryMaker.getClassFactory((function(e){var t,n=(e=e||{}).eventBus,r=e.metricsConstants;function i(){n.off(KS.METRICS_INITIALISATION_COMPLETE,i,this),n.trigger(KS.BECAME_REPORTING_PLAYER)}return{initialize:function(e,r){r&&(t=r,n.on(KS.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function(){t=null},handleNewMetric:function(e,n){e===r.DVB_ERRORS&&t&&t.report(e,n)}}}));function uM(e){var t,n,r,i,a;e=e||{};var s=[],o=aM(this.context).getInstance(),l=e.metricsConstants;function u(){var e=s;e.length&&t&&t.report(i,e),s=[]}return{initialize:function(e,s,l,c){s&&(n=o.validateN(l),t=s,c&&c.length&&(r=c),i=o.reconstructFullMetricName(e,l,c),a=setInterval(u,n))},reset:function(){clearInterval(a),a=null,n=null,r=null,s=[],t=null},handleNewMetric:function(e,t){e===l.HTTP_REQUEST&&(r&&r!==t.type||s.push(t))}}}uM.__dashjs_factory_name="HttpListHandler";var cM=dashjs.FactoryMaker.getClassFactory(uM);function dM(){var e,t;return{initialize:function(n,r){e=n,t=r},reset:function(){t=null,e=void 0},handleNewMetric:function(n,r){n===e&&t&&t.report(e,r)}}}dM.__dashjs_factory_name="GenericMetricHandler";var hM=dashjs.FactoryMaker.getClassFactory(dM);function fM(e){var t,n=(e=e||{}).debug?e.debug.getLogger(t):{},r=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,i=this.context,a={BufferLevel:oM,DVBErrors:lM,HttpList:cM,PlayList:hM,RepSwitchList:hM,TcpList:hM};return t={create:function(t,s){var o,l=t.match(r);if(l){try{(o=a[l[1]](i).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(l[1],s,l[3],l[5])}catch(e){o=null,n.error("MetricsHandlerFactory: Could not create handler for type ".concat(l[1]," with args ").concat(l[3],", ").concat(l[5]," (").concat(e.message,")"))}return o}},register:function(e,t){a[e]=t},unregister:function(e){delete a[e]}}}fM.__dashjs_factory_name="MetricsHandlerFactory";var pM=dashjs.FactoryMaker.getSingletonFactory(fM);function AM(e){e=e||{};var t,n=[],r=this.context,i=e.eventBus,a=e.events,s=pM(r).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function o(e){n.forEach((function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)}))}return t={initialize:function(e,r){e.split(",").forEach((function(e,t,i){var a;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var o=i[t+1];o&&-1===o.indexOf("(")&&-1!==o.indexOf(")")&&(e+=","+o,delete i[t+1])}(a=s.create(e,r))&&n.push(a)})),i.on(a.METRIC_ADDED,o,t),i.on(a.METRIC_UPDATED,o,t)},reset:function(){i.off(a.METRIC_ADDED,o,t),i.off(a.METRIC_UPDATED,o,t),n.forEach((function(e){return e.reset()})),n=[]}}}AM.__dashjs_factory_name="MetricsHandlersController";var gM=dashjs.FactoryMaker.getClassFactory(AM);function mM(e){var t,n,r;e=e||{};var i=this.context;function a(){t&&t.reset(),n&&n.reset(),r&&r.reset()}return{initialize:function(s){try{(r=zD(i).create({mediaElement:e.mediaElement})).initialize(s.Range),(n=rM(i).create({debug:e.debug,metricsConstants:e.metricsConstants,mediaPlayerModel:e.mediaPlayerModel})).initialize(s.Reporting,r),(t=gM(i).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(s.metrics,n)}catch(e){throw a(),e}},reset:a}}mM.__dashjs_factory_name="MetricsController";var vM=dashjs.FactoryMaker.getClassFactory(mM),yM=function e(){_class_call_check(this,e),this.metrics="",this.Range=[],this.Reporting=[]},EM=function e(){_class_call_check(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},_M=function e(){_class_call_check(this,e),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function TM(e){var t=(e=e||{}).adapter,n=e.constants;return{getMetrics:function(e){var r=[];return e&&e.Metrics_asArray&&e.Metrics_asArray.forEach((function(i){var a=new yM,s=t.getIsDynamic(e);i.hasOwnProperty("metrics")&&(a.metrics=i.metrics,i.Range_asArray&&i.Range_asArray.forEach((function(r){var i=new EM;i.starttime=function(e,r,i){var a,s,o=0;return r?o=t.getAvailabilityStartTime(e)/1e3:(a=t.getRegularPeriods(e)).length&&(o=a[0].start),s=o,i&&i.hasOwnProperty(n.START_TIME)&&(s+=i.starttime),s}(e,s,r),r.hasOwnProperty("duration")?i.duration=r.duration:i.duration=t.getDuration(e),i._useWallClockTime=s,a.Range.push(i)})),i.Reporting_asArray&&(i.Reporting_asArray.forEach((function(e){var t=new _M;e.hasOwnProperty(n.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value),e.hasOwnProperty(n.DVB_REPORTING_URL)&&(t.dvb_reportingUrl=e[n.DVB_REPORTING_URL]),e.hasOwnProperty(n.DVB_PROBABILITY)&&(t.dvb_probability=e[n.DVB_PROBABILITY]),a.Reporting.push(t))})),r.push(a)))})),r}}}TM.__dashjs_factory_name="ManifestParsing";var bM=dashjs.FactoryMaker.getSingletonFactory(TM);function SM(e){var t;e=e||{};var n={},r=this.context,i=e.eventBus,a=e.events;function s(t){if(!t.error){var a=Object.keys(n);bM(r).getInstance({adapter:e.adapter,constants:e.constants}).getMetrics(t.manifest).forEach((function(t){var i=JSON.stringify(t);if(n.hasOwnProperty(i))a.splice(i,1);else try{var s=vM(r).create(e);s.initialize(t),n[i]=s}catch(e){}})),a.forEach((function(e){n[e].reset(),delete n[e]})),i.trigger(KS.METRICS_INITIALISATION_COMPLETE)}}function o(){Object.keys(n).forEach((function(e){n[e].reset()})),n={}}return t={reset:function(){i.off(a.MANIFEST_UPDATED,s,t),i.off(a.STREAM_TEARDOWN_COMPLETE,o,t)}},i.on(a.MANIFEST_UPDATED,s,t),i.on(a.STREAM_TEARDOWN_COMPLETE,o,t),t}SM.__dashjs_factory_name="MetricsCollectionController";var wM=dashjs.FactoryMaker.getClassFactory(SM);function CM(){var e=this.context;return{createMetricsReporting:function(t){return YD(e).getInstance({eventBus:t.eventBus,dashMetrics:t.dashMetrics,metricsConstants:t.metricsConstants,events:t.events}).initialize(),wM(e).create(t)},getReportingFactory:function(){return tM(e).getInstance()},getMetricsHandlerFactory:function(){return pM(e).getInstance()}}}CM.__dashjs_factory_name="MetricsReporting";var IM=dashjs.FactoryMaker.getClassFactory(CM);IM.events=KS,dashjs.FactoryMaker.updateClassFactory(CM.__dashjs_factory_name,IM);var kM=IM,RM={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},DM=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"!==r.schemeIdUri.toLowerCase()||"cenc"!==r.value.toLowerCase()&&"cbcs"!==r.value.toLowerCase()||(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,n){var r=e.parsePSSHList(n);return t&&r.hasOwnProperty(t.uuid.toLowerCase())?r[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?(e.pssh.__text=e.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),t.decodeArray(e.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(e){if(null==e)return[];for(var t=new DataView(e.buffer||e),n={},r=0;;){var i,a,s=void 0,o=r;if(r>=t.buffer.byteLength)break;if(i=r+t.getUint32(r),r+=4,1886614376===t.getUint32(r))if(r+=4,0===(a=t.getUint8(r))||1===a){r++,r+=3,s="";var l=void 0,u=void 0;for(l=0;l<4;l++)s+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=4,s+="-",l=0;l<2;l++)s+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,s+="-",l=0;l<2;l++)s+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,s+="-",l=0;l<2;l++)s+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,s+="-",l=0;l<6;l++)s+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;r+=6,r+=4,n[s=s.toLowerCase()]=t.buffer.slice(o,i),r=i}else r=i;else r=i}return n}},{key:"getLicenseServerUrlFromMediaInfo",value:function(e,t){try{var n=function(){var n=e[r];if(n&&n.contentProtection&&n.contentProtection.length>0){var a=n.contentProtection.filter((function(e){return e.schemeIdUri&&e.schemeIdUri===t}));if(a&&a.length>0)for(var s=0;s<a.length&&!i;){for(var o=a[s],l=0;l<RM.attributes.length&&!i;){for(var u=0,c=RM.attributes[l];u<RM.prefixes.length&&!i;){var d=RM.prefixes[u];o[c]&&o[c].__prefix&&o[c].__prefix===d&&o[c].__text&&(i=o[c].__text),u+=1}l+=1}s+=1}}r+=1};if(!e||0===e.length)return null;for(var r=0,i=null;r<e.length&&!i;)n();return i}catch(e){return null}}}]),e}(),MM=DM,LM=function e(t,n){_class_call_check(this,e),this.contentType=t,this.robustness=n},NM=function e(t,n,r,i,a){_class_call_check(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),n&&n.length&&(this.videoCapabilities=n),this.distinctiveIdentifier=r,this.persistentState=i,this.sessionTypes=a},BM=function(e){_inherits(n,e);var t=_create_super(n);function n(){var e;return _class_call_check(this,n),(e=t.call(this)).MEDIA_KEYERR_CODE=100,e.MEDIA_KEYERR_UNKNOWN_CODE=101,e.MEDIA_KEYERR_CLIENT_CODE=102,e.MEDIA_KEYERR_SERVICE_CODE=103,e.MEDIA_KEYERR_OUTPUT_CODE=104,e.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,e.MEDIA_KEYERR_DOMAIN_CODE=106,e.MEDIA_KEY_MESSAGE_ERROR_CODE=107,e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,e.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,e.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,e.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,e.KEY_SESSION_CREATED_ERROR_CODE=113,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,e.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",e.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",e.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",e.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",e.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",e.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",e.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",e.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",e.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",e.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",e.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",e}return n}(xb),xM=new BM,PM=function e(t,n,r,i,a,s,o,l){_class_call_check(this,e),this.url=t,this.method=n,this.responseType=r,this.headers=i,this.withCredentials=a,this.messageType=s,this.sessionId=o,this.data=l},OM=function e(t,n,r){_class_call_check(this,e),this.url=t,this.headers=n,this.data=r};function FM(e){var t,n,r,i,a,s,o,l,u,c,d,h=(e=e||{}).protectionKeyController,f=e.protectionModel,p=e.eventBus,A=e.events,g=e.debug,m=e.BASE64,v=e.constants,y=[],E=e.cmcdModel,_=e.settings,T=e.customParametersModel;function b(){if(!(p&&p.hasOwnProperty("on")&&h&&h.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function S(e,t){l||u?l&&w():function(e,t){if(!u){u=!0;var r,i=[];e=e.sort((function(t,n){return(a&&a[t.ks.systemString]&&a[t.ks.systemString].priority>=0?a[t.ks.systemString].priority:e.length)-(a&&a[n.ks.systemString]&&a[n.ks.systemString].priority>=0?a[n.ks.systemString].priority:e.length)}));for(var s=0;s<e.length;s++){var o=L(e[s]);i.push({ks:e[s].ks,configs:[o],protData:e[s].protData})}f.requestKeySystemAccess(i).then((function(e){var t=(r=e.data).mksa&&r.mksa.selectedSystemString?r.mksa.selectedSystemString:r.keySystem.systemString;return n.info("DRM: KeySystem Access Granted for system string ("+t+")!  Selecting key system..."),f.selectKeySystem(r)})).then((function(e){if(l=e,u=!1,f){p.trigger(A.KEY_SYSTEM_SELECTED,{data:r});var t=R(l);t&&t.serverCertificate&&t.serverCertificate.length>0&&f.setServerCertificate(m.decodeArray(t.serverCertificate).buffer),w()}})).catch((function(e){l=null,u=!1,t||p.trigger(A.KEY_SYSTEM_SELECTED,{data:null,error:new Bb(xM.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,xM.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+e.error)})}))}}(e,t)}function w(){for(var e,t=0;t<r.length;t++)for(e=0;e<r[t].length;e++)if(l===r[t][e].ks){C(r[t][e]);break}r=[]}function C(e){if(h.isClearKey(l)&&e.protData&&e.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(e.protData.clearkeys).length){var t={kids:Object.keys(e.protData.clearkeys)};e.initData=(new TextEncoder).encode(JSON.stringify(t))}e.sessionId?I(e):null!==e.initData&&k(e)}function I(e){b(),f.loadKeySession(e)}function k(e){var t=MM.getPSSHForKeySystem(l,e?e.initData:null);if(t){if(function(e){if(!e)return!1;try{for(var t=f.getSessions(),n=0;n<t.length;n++)if(t[n].getKeyId()===e)return!0;return!1}catch(e){return!1}}(e.keyId))return;if(D(t))return;try{e.initData=t,f.createKeySession(e)}catch(e){p.trigger(A.KEY_SESSION_CREATED,{data:null,error:new Bb(xM.KEY_SESSION_CREATED_ERROR_CODE,xM.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e&&e.initData?f.createKeySession(e):p.trigger(A.KEY_SESSION_CREATED,{data:null,error:new Bb(xM.KEY_SESSION_CREATED_ERROR_CODE,xM.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(l?l.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function R(e){if(e){var t=e.systemString;if(a)return t in a?a[t]:null}return null}function D(e){if(!e)return!1;try{for(var t=f.getAllInitData(),r=0;r<t.length;r++)if(h.initDataEquals(e,t[r]))return n.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch(e){return!1}}function M(e){b(),e?(f.setMediaElement(e),p.on(A.NEED_KEY,Q,t)):null===e&&(f.setMediaElement(e),p.off(A.NEED_KEY,Q,t))}function L(e){var t=e.protData,n=[],r=[],a=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:o,s=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:o,l=e.sessionType,u=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",c=t&&t.persistentState?t.persistentState:"temporary"===l?"optional":"required";return i.forEach((function(e){e.type===v.AUDIO?n.push(new LM(e.codec,a)):e.type===v.VIDEO&&r.push(new LM(e.codec,s))})),new NM(n,r,u,c,[l])}function N(e){e.error?p.trigger(A.KEY_STATUSES_CHANGED,{data:null,error:e.error}):n.debug("DRM: key status = "+e.status)}function B(e){n.debug("DRM: onKeyMessage");var t=e.data;p.trigger(A.KEY_MESSAGE,{data:t});var r=t.messageType?t.messageType:"license-request",a=t.message,s=t.sessionToken,o=R(l),u=h.getLicenseServerModelInstance(l,o,r),c={sessionToken:s,messageType:r};if(a&&0!==a.byteLength){if(!u)return n.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+s.getSessionId()),void x(c);if(h.isClearKey(l)){var d=h.processClearKeyLicenseRequest(l,o,a);if(d&&d.keyPairs&&d.keyPairs.length>0)return n.debug("DRM: ClearKey license request handled by application!"),x(c),void f.updateKeySession(s,d)}!function(e,t,n){var r=e.sessionToken,a=e.messageType?e.messageType:"license-request",s={sessionToken:r,messageType:a},o=l?l.systemString:null,u=function(e,t,n,r,a){var s=null,o=r.message;if(e&&e.serverURL){var u=e.serverURL;"string"==typeof u&&""!==u?s=u:"object"==typeof u&&u.hasOwnProperty(t)&&(s=u[t])}else if(e&&e.laURL&&""!==e.laURL)s=e.laURL;else if(!(s=MM.getLicenseServerUrlFromMediaInfo(i,l.schemeIdURI))&&!h.isClearKey(l)){var c=MM.getPSSHData(n.initData);(s=l.getLicenseServerURLFromInitData(c))||(s=r.laURL)}return s=a.getServerURLFromMessage(s,o,t),s}(n,a,r,e,t);if(!u)return void x(s,new Bb(xM.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,xM.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));var c={},d=!1;n&&F(c,n.httpRequestHeaders);var p=e.message,A=l.getRequestHeadersFromMessage(p);F(c,A),Object.keys(c).forEach((function(e){"authorization"===e.toLowerCase()&&(d=!0)})),n&&"boolean"==typeof n.withCredentials&&(d=n.withCredentials);var g=function(e){if(f)if(e.status>=200&&e.status<=299){var n=Qb.parseHttpHeaders(e.getAllResponseHeaders?e.getAllResponseHeaders():null),i=new OM(e.responseURL,n,e.response);j(T.getLicenseResponseFilters(),i).then((function(){var n=t.getLicenseMessage(i.data,o,a);null!==n?(x(s),f.updateKeySession(r,n)):U(e,s,o,a,t)}))}else U(e,s,o,a,t)},m=function(e){x(s,new Bb(xM.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,xM.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+o+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},v=function(e){x(s,new Bb(xM.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,xM.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+o+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},y=l.getLicenseRequestFromMessage(p),E=t.getHTTPMethod(a),b=t.getResponseType(o,a),S=n&&!isNaN(n.httpTimeout)?n.httpTimeout:8e3,w=r.getSessionId()||null,C=new PM(u,E,b,c,d,a,w,y),I=isNaN(_.get().streaming.retryAttempts[Sb.LICENSE])?3:_.get().streaming.retryAttempts[Sb.LICENSE];j(T.getLicenseRequestFilters(),C).then((function(){P(C,I,S,g,m,v)}))}(t,u,o)}else x(c,new Bb(xM.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,xM.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function x(e,t){p.trigger(A.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function P(e,t,r,i,a,s){var o=new XMLHttpRequest;if(_.get().streaming.cmcd&&_.get().streaming.cmcd.enabled&&_.get().streaming.cmcd.mode===eb.CMCD_MODE_QUERY){var l=E.getQueryParameter({url:e.url,type:Sb.LICENSE});l&&(e.url=Qb.addAditionalQueryParameterToUrl(e.url,[l]))}for(var u in o.open(e.method,e.url,!0),o.responseType=e.responseType,o.withCredentials=e.withCredentials,r>0&&(o.timeout=r),e.headers)o.setRequestHeader(u,e.headers[u]);if(_.get().streaming.cmcd&&_.get().streaming.cmcd.enabled&&_.get().streaming.cmcd.mode===eb.CMCD_MODE_HEADER){var h=E.getHeaderParameters({url:e.url,type:Sb.LICENSE});if(h)for(var f in h){var g=h[f];g&&o.setRequestHeader(f,g)}}var m=function(){t--;var n=isNaN(_.get().streaming.retryIntervals[Sb.LICENSE])?1e3:_.get().streaming.retryIntervals[Sb.LICENSE];d=setTimeout((function(){P(e,t,r,i,a,s)}),n)};o.onload=function(){c=null,this.status>=200&&this.status<=299||t<=0?i(this):(n.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+t),m())},o.ontimeout=o.onerror=function(){c=null,t<=0?s(this):(n.warn("License request network request failed . Retrying it... Pending retries: "+t),m())},o.onabort=function(){a(this)},p.trigger(A.LICENSE_REQUEST_SENDING,{url:e.url,headers:e.headers,payload:e.data,sessionId:e.sessionId}),c=o,o.send(e.data)}function O(){c&&(c.onloadend=c.onerror=c.onprogress=void 0,c.abort(),c=null),d&&(clearTimeout(d),d=null)}function F(e,t){if(t)for(var n in t)e[n]=t[n]}function U(e,t,n,r,i){var a="NONE",s=null;e.response&&(a=i.getErrorResponse(e.response,n,r),s={serverResponse:e.response||null,responseCode:e.status||null,responseText:e.statusText||null}),x(t,new Bb(xM.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,xM.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+n+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+a,s))}function j(e,t){return e?e.reduce((function(e,n){return e.then((function(){return n(t)}))}),Promise.resolve()):Promise.resolve()}function Q(e,t){if(!_.get().streaming.protection.ignoreEmeEncryptedEvent){if(n.debug("DRM: onNeedKey"),"cenc"!==e.key.initDataType)return void n.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);if(0===i.length&&(n.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(t=void 0===t?1:t+1)<5))return void y.push(setTimeout((function(){Q(e,t)}),500));var o=e.key.initData;if(ArrayBuffer.isView(o)&&(o=o.buffer),l){var u=MM.getPSSHForKeySystem(l,o);if(u&&D(u))return}n.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(o)));var c=h.getSupportedKeySystemsFromSegmentPssh(o,a,s);if(0===c.length)return void n.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function(e){r.push(e),S(e,!1)}(c)}}return t={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");b(),i.push(e)},clearMediaInfoArray:function(){i=[]},handleKeySystemFromManifest:function(){if(i&&0!==i.length){var e=[];i.forEach((function(t){var n=h.getSupportedKeySystemsFromContentProtection(t.contentProtection,a,s);n.length>0&&(0===e.length&&(e=n),r.push(n))})),e&&e.length>0&&S(e,!0)}},createKeySession:k,loadKeySession:I,removeKeySession:function(e){b(),f.removeKeySession(e)},closeKeySession:function(e){b(),f.closeKeySession(e)},setServerCertificate:function(e){b(),f.setServerCertificate(e)},setMediaElement:M,setSessionType:function(e){s=e},setRobustnessLevel:function(e){o=e},setProtectionData:function(e){a=e,h.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function(e){return b(),h.getSupportedKeySystemsFromContentProtection(e,a,s)},getKeySystems:function(){return h?h.getKeySystems():[]},setKeySystems:function(e){h&&h.setKeySystems(e)},stop:function(){O(),f&&f.stop()},reset:function(){p.off(A.INTERNAL_KEY_MESSAGE,B,t),p.off(A.INTERNAL_KEY_STATUS_CHANGED,N,t),b(),O(),M(null),l=null,u=!1,f&&(f.reset(),f=null),y.forEach((function(e){return clearTimeout(e)})),y=[],i=[],r=[]}},n=g.getLogger(t),r=[],i=[],s="temporary",o="",c=null,d=null,p.on(A.INTERNAL_KEY_MESSAGE,B,t),p.on(A.INTERNAL_KEY_STATUS_CHANGED,N,t),t}FM.__dashjs_factory_name="ProtectionController";var UM=ib.getClassFactory(FM),jM=function e(t,n){_class_call_check(this,e),this.keyID=t,this.key=n},QM=function(){function e(t,n){if(_class_call_check(this,e),n&&"persistent"!==n&&"temporary"!==n)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return _create_class(e,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type);var i=JSON.stringify(n),a=i.length,s=new ArrayBuffer(a),o=new Uint8Array(s);for(e=0;e<a;e++)o[e]=i.charCodeAt(e);return s}}]),e}(),GM=QM,VM=new(function(){function e(){_class_call_check(this,e),this.init()}return _create_class(e,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),e}()),HM="e2719d58-a985-b3c9-781a-b030af78d30e",YM=VM.CLEARKEY_KEYSTEM_STRING,qM="urn:uuid:"+HM;function zM(e){var t,n=(e=e||{}).BASE64;return t={uuid:HM,schemeIdURI:qM,systemString:YM,getInitData:function(e,t){try{var r=MM.parseInitDataFromContentProtection(e,n);if(!r&&t){var i=function(e){try{var t=e.replace(/-/g,"");return t=btoa(t.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join("")),t.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch(e){return null}}(t["cenc:default_KID"]),a={kids:[i]};r=(new TextEncoder).encode(JSON.stringify(a))}return r}catch(e){return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(e){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],a=0;a<r.kids.length;a++){var s=r.kids[a],o=e.clearkeys&&e.clearkeys.hasOwnProperty(s)?e.clearkeys[s]:null;if(!o)throw new Error("DRM: ClearKey keyID ("+s+") is not known!");i.push(new jM(s,o))}n=new GM(i)}return n}},t}zM.__dashjs_factory_name="KeySystemClearKey";var WM=dashjs.FactoryMaker.getSingletonFactory(zM),KM="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",XM=VM.CLEARKEY_KEYSTEM_STRING,JM="urn:uuid:"+KM;function ZM(e){var t,n=e.BASE64,r=e.debug.getLogger(t);return t={uuid:KM,schemeIdURI:JM,systemString:XM,getInitData:function(e){return MM.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),a=[],s=0;s<i.kids.length;s++){var o=i.kids[s],l=e.clearkeys&&e.clearkeys.hasOwnProperty(o)?e.clearkeys[o]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+o+") is not known!");a.push(new jM(o,l))}n=new GM(a),r.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return n}},t}ZM.__dashjs_factory_name="KeySystemW3CClearKey";var $M=dashjs.FactoryMaker.getSingletonFactory(ZM),eL="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",tL=VM.WIDEVINE_KEYSTEM_STRING,nL="urn:uuid:"+eL;function rL(e){var t=(e=e||{}).BASE64;return{uuid:eL,schemeIdURI:nL,systemString:tL,getInitData:function(e){return MM.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}rL.__dashjs_factory_name="KeySystemWidevine";var iL=dashjs.FactoryMaker.getSingletonFactory(rL),aL="9a04f079-9840-4286-ab92-e65be0885f95",sL=VM.PLAYREADY_KEYSTEM_STRING,oL="urn:uuid:"+aL;function lL(e){var t,n="utf-16",r=(e=e||{}).BASE64,i=e.settings;function a(){if(!r||!r.hasOwnProperty("decodeArray")||!r.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return t={uuid:aL,schemeIdURI:oL,systemString:sL,getInitData:function(e){var t,n,i,s,o,l=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),c=0,d=null;if(a(),!e)return null;if("pssh"in e)return MM.parseInitDataFromContentProtection(e,r);if("pro"in e)d=r.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;d=r.decodeArray(e.prheader.__text)}return t=d.length,n=4+l.length+u.length+4+t,i=new ArrayBuffer(n),s=new Uint8Array(i),(o=new DataView(i)).setUint32(c,n),c+=4,s.set(l,c),c+=l.length,s.set(u,c),c+=u.length,o.setUint32(c,t),c+=4,s.set(d,c),c+=t,s.buffer},getRequestHeadersFromMessage:function(e){var t,r,a={},s=new DOMParser;if(i&&i.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===n&&e&&e.byteLength%2==1)return a["Content-Type"]="text/xml; charset=utf-8",a;var o="utf-16"===n?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,o);for(var l=(r=s.parseFromString(t,"application/xml")).getElementsByTagName("name"),u=r.getElementsByTagName("value"),c=0;c<l.length;c++)a[l[c].childNodes[0].nodeValue]=u[c].childNodes[0].nodeValue;return a.hasOwnProperty("Content")&&(a["Content-Type"]=a.Content,delete a.Content),a.hasOwnProperty("Content-Type")||(a["Content-Type"]="text/xml; charset=utf-8"),a},getLicenseRequestFromMessage:function(e){var t=null,s=new DOMParser;if(i&&i.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===n&&e&&e.byteLength%2==1)return e;var o="utf-16"===n?new Uint16Array(e):new Uint8Array(e);a();var l=String.fromCharCode.apply(null,o),u=s.parseFromString(l,"application/xml");if(!u.getElementsByTagName("PlayReadyKeyMessage")[0])return e;var c=u.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return c&&(t=r.decode(c)),t},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,a=0;a<n;a++){var s=t.getUint16(r,!0);r+=2;var o=t.getUint16(r,!0);if(r+=2,1===s){var l=e.slice(r,r+o),u=String.fromCharCode.apply(null,new Uint16Array(l)),c=i.parseFromString(u,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var d=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(d)return d}if(c.getElementsByTagName("LUI_URL")[0]){var h=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(h)return h}}else r+=o}return null},getCDMData:function(e){var t,n,i,s;if(a(),!e)return null;for(t=[],s=0;s<e.length;++s)t.push(e.charCodeAt(s)),t.push(0);for(t=String.fromCharCode.apply(null,t),t=r.encode(t),n='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",t),i=[],s=0;s<n.length;++s)i.push(n.charCodeAt(s)),i.push(0);return new Uint8Array(i).buffer},setPlayReadyMessageFormat:function(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');n=e}},t}lL.__dashjs_factory_name="KeySystemPlayReady";var uL=dashjs.FactoryMaker.getSingletonFactory(lL);function cL(e){var t=(e=e||{}).BASE64,n={};return n[VM.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[VM.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,r){return function(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),n[r].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}}}cL.__dashjs_factory_name="DRMToday";var dL=dashjs.FactoryMaker.getSingletonFactory(cL);function hL(){var e="http://schemas.xmlsoap.org/soap/envelope/";function t(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}function n(n){if(window.DOMParser){var r=t(n),i=(new window.DOMParser).parseFromString(r,"text/xml"),a=i?i.getElementsByTagNameNS(e,"Envelope")[0]:null,s=a?a.getElementsByTagNameNS(e,"Body")[0]:null;if(s?s.getElementsByTagNameNS(e,"Fault")[0]:null)return null}return n}function r(n){var r="",i="",a="",s=-1,o=-1;if(window.DOMParser){var l=t(n),u=(new window.DOMParser).parseFromString(l,"text/xml"),c=u?u.getElementsByTagNameNS(e,"Envelope")[0]:null,d=c?c.getElementsByTagNameNS(e,"Body")[0]:null,h=d?d.getElementsByTagNameNS(e,"Fault")[0]:null,f=h?h.getElementsByTagName("detail")[0]:null,p=f?f.getElementsByTagName("Exception")[0]:null,A=null;if(null===h)return l;r=(A=h.getElementsByTagName("faultstring")[0].firstChild)?A.nodeValue:null,null!==p&&(i=(A=p.getElementsByTagName("StatusCode")[0])?A.firstChild.nodeValue:null,s=(a=(A=p.getElementsByTagName("Message")[0])?A.firstChild.nodeValue:null)?a.lastIndexOf("[")+1:-1,o=a?a.indexOf("]"):-1,a=a?a.substring(s,o):"")}var g="code: ".concat(i,", name: ").concat(r);return a&&(g+=", message: ".concat(a)),g}return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return n.call(this,e)},getErrorResponse:function(e){return r.call(this,e)}}}hL.__dashjs_factory_name="PlayReady";var fL=ib.getSingletonFactory(hL);function pL(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}pL.__dashjs_factory_name="Widevine";var AL=dashjs.FactoryMaker.getSingletonFactory(pL);function gL(){var e;return e={getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),a=r.k.replace(/=/g,"");t.push(new jM(i,a))}return new GM(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},e}gL.__dashjs_factory_name="ClearKey";var mL=dashjs.FactoryMaker.getSingletonFactory(gL);function vL(){var e,t,n,r,i,a,s,o,l=this.context;function u(e,t){return t&&e in t?t[e]:null}function c(e,t){return e&&e.sessionId?e.sessionId:t&&t.sessionId?t.sessionId:null}function d(e,t){return e&&e.sessionType?e.sessionType:t}return e={initialize:function(){var e;r=[],e=uL(l).getInstance({BASE64:i,settings:a}),r.push(e),e=iL(l).getInstance({BASE64:i}),r.push(e),e=WM(l).getInstance({BASE64:i}),r.push(e),s=e,e=$M(l).getInstance({BASE64:i,debug:t}),r.push(e),o=e},setProtectionData:function(e){for(var t,n,i=0;i<r.length;i++){var a=r[i];a.hasOwnProperty("init")&&a.init((t=a.systemString,n=void 0,n=null,e&&(n=t in e?e[t]:null),n))}},isClearKey:function(e){return e===s||e===o},initDataEquals:function(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1},getKeySystems:function(){return r},setKeySystems:function(e){r=e},getKeySystemBySystemString:function(e){for(var t=0;t<r.length;t++)if(r[t].systemString===e)return r[t];return null},getSupportedKeySystemsFromContentProtection:function(e,t,n){var i,a,s,o,l=[];if(e){var h=MM.findCencContentProtection(e);for(s=0;s<r.length;++s){var f=u((a=r[s]).systemString,t);for(o=0;o<e.length;++o)if((i=e[o]).schemeIdUri.toLowerCase()===a.schemeIdURI){var p=a.getInitData(i,h);l.push({ks:r[s],keyId:i.keyId,initData:p,protData:f,cdmData:a.getCDMData(f?f.cdmData:null),sessionId:c(f,i),sessionType:d(f,n)})}}}return l},getSupportedKeySystemsFromSegmentPssh:function(e,t,n){for(var i,a=[],s=MM.parsePSSHList(e),o=0;o<r.length;++o){var l=u((i=r[o]).systemString,t);i.uuid in s&&a.push({ks:i,initData:s[i.uuid],protData:l,cdmData:i.getCDMData(l?l.cdmData:null),sessionId:c(l),sessionType:d(l,n)})}return a},getLicenseServerModelInstance:function(e,t,n){if("license-release"===n||"individualization-request"===n)return null;var r=null;return t&&t.hasOwnProperty("drmtoday")?r=dL(l).getInstance({BASE64:i}):e.systemString===VM.WIDEVINE_KEYSTEM_STRING?r=AL(l).getInstance():e.systemString===VM.PLAYREADY_KEYSTEM_STRING?r=fL(l).getInstance():e.systemString===VM.CLEARKEY_KEYSTEM_STRING&&(r=mL(l).getInstance()),r},processClearKeyLicenseRequest:function(e,t,r){try{return e.getClearKeysFromProtectionData(t,r)}catch(e){return n.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(r){r&&(r.debug&&(t=r.debug,n=t.getLogger(e)),r.BASE64&&(i=r.BASE64),r.settings&&(a=r.settings))}},e}vL.__dashjs_factory_name="ProtectionKeyController";var yL=dashjs.FactoryMaker.getSingletonFactory(vL),EL=function(e){_inherits(n,e);var t=_create_super(n);function n(){var e;return _class_call_check(this,n),(e=t.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",e.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",e.KEY_ADDED="public_keyAdded",e.KEY_ERROR="public_keyError",e.KEY_MESSAGE="public_keyMessage",e.KEY_SESSION_CLOSED="public_keySessionClosed",e.KEY_SESSION_CREATED="public_keySessionCreated",e.KEY_SESSION_REMOVED="public_keySessionRemoved",e.KEY_STATUSES_CHANGED="public_keyStatusesChanged",e.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",e.KEY_SYSTEM_SELECTED="public_keySystemSelected",e.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",e.LICENSE_REQUEST_SENDING="public_licenseRequestSending",e.NEED_KEY="needkey",e.PROTECTION_CREATED="public_protectioncreated",e.PROTECTION_DESTROYED="public_protectiondestroyed",e.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",e.TEARDOWN_COMPLETE="protectionTeardownComplete",e.VIDEO_ELEMENT_SELECTED="videoElementSelected",e.KEY_SESSION_UPDATED="public_keySessionUpdated",e}return n}(ab),_L=new EL,TL=function e(t,n){_class_call_check(this,e),this.initData=t,this.initDataType=n},bL=function e(t,n,r,i){_class_call_check(this,e),this.sessionToken=t,this.message=n,this.defaultURL=r,this.messageType=i||"license-request"},SL=function e(t,n){_class_call_check(this,e),this.keySystem=t,this.ksConfiguration=n},wL={};function CL(e){e=e||{};var t,n,r,i,a,s,o,l,u=this.context,c=e.eventBus,d=e.events,h=e.debug;function f(e,t,n,r){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var i="Insecure origins are not allowed";return c.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:i}),void r({error:i})}var a=e[t].protData&&e[t].protData.systemStringPriority?e[t].protData.systemStringPriority:null,s=e[t].configs,o=e[t].ks,l=o.systemString;(function(e,t){return new Promise((function(n,r){p(e,t,0,n,r)}))})(a||(wL[l]?wL[l]:[l]),s).then((function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,r=new SL(o,t);r.mksa=e,c.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:r}),n({data:r})})).catch((function(i){if(t+1<e.length)f(e,t+1,n,r);else{var a="Key system access denied! ";c.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:a+i.message}),r({error:a+i.message})}}))}function p(e,t,r,i,a){var s=e[r];n.debug("Requesting key system access for system string ".concat(s)),navigator.requestMediaKeySystemAccess(s,t).then((function(e){e.selectedSystemString=s,i(e)})).catch((function(n){r+1<e.length?p(e,t,r+1,i,a):a(n)}))}function A(e){if(!e||!e.session)return Promise.resolve;var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function g(e){for(var t=0;t<s.length;t++)if(s[t]===e){s.splice(t,1);break}}function m(e){var t,n;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:n=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:n=e[1])),{status:t,keyId:n}}function v(e,t){var r={session:e,keyId:t.keyId,initData:t.initData,sessionId:t.sessionId,sessionType:t.sessionType,handleEvent:function(e){switch(e.type){case"keystatuseschange":c.trigger(d.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach((function(){var e=m(arguments);if("expired"===e.status)c.trigger(d.INTERNAL_KEY_STATUS_CHANGED,{error:new Bb(xM.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,xM.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});else c.trigger(d.INTERNAL_KEY_STATUS_CHANGED,e)}));break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;c.trigger(d.INTERNAL_KEY_MESSAGE,{data:new bL(this,t,void 0,e.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return e.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){var t=!1;return e.keyStatuses.forEach((function(){"usable"===m(arguments).status&&(t=!0)})),t}};return e.addEventListener("keystatuseschange",r),e.addEventListener("message",r),e.closed.then((function(){g(r),n.debug("DRM: Session closed.  SessionID = "+r.getSessionId()),c.trigger(d.KEY_SESSION_CLOSED,{data:r.getSessionId()})})),s.push(r),r}return t={getAllInitData:function(){for(var e=[],t=0;t<s.length;t++)s[t].initData&&e.push(s[t].initData);return e},getSessions:function(){return s},requestKeySystemAccess:function(e){return new Promise((function(t,n){f(e,0,t,n)}))},selectKeySystem:function(e){return new Promise((function(t,n){e.mksa.createMediaKeys().then((function(t){return r=e.keySystem,a=t,i?i.setMediaKeys(a):Promise.resolve()})).then((function(){t(r)})).catch((function(){n({error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))}))},setMediaElement:function(e){i!==e&&(i&&(i.removeEventListener("encrypted",o),i.setMediaKeys&&i.setMediaKeys(null)),(i=e)&&(i.addEventListener("encrypted",o),i.setMediaKeys&&a&&i.setMediaKeys(a)))},setServerCertificate:function(e){if(!r||!a)throw new Error("Can not set server certificate until you have selected a key system");a.setServerCertificate(e).then((function(){n.info("DRM: License server certificate successfully updated."),c.trigger(d.SERVER_CERTIFICATE_UPDATED)})).catch((function(e){c.trigger(d.SERVER_CERTIFICATE_UPDATED,{error:new Bb(xM.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,xM.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})}))},createKeySession:function(e){if(!r||!a)throw new Error("Can not create sessions until you have selected a key system");var t=a.createSession(e.sessionType),i=v(t,e),s=r.systemString===VM.CLEARKEY_KEYSTEM_STRING&&(e.initData||e.protData&&e.protData.clearkeys)?VM.INITIALIZATION_DATA_TYPE_KEYIDS:VM.INITIALIZATION_DATA_TYPE_CENC;t.generateRequest(s,e.initData).then((function(){n.debug("DRM: Session created.  SessionID = "+i.getSessionId()),c.trigger(d.KEY_SESSION_CREATED,{data:i})})).catch((function(e){g(i),c.trigger(d.KEY_SESSION_CREATED,{data:null,error:new Bb(xM.KEY_SESSION_CREATED_ERROR_CODE,xM.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))},updateKeySession:function(e,t){var n=e.session;l.isClearKey(r)&&(t=t.toJWK()),n.update(t).then((function(){c.trigger(d.KEY_SESSION_UPDATED)})).catch((function(t){c.trigger(d.KEY_ERROR,{error:new Bb(xM.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))},loadKeySession:function(e){if(!r||!a)throw new Error("Can not load sessions until you have selected a key system");for(var t=e.sessionId,i=0;i<s.length;i++)if(t===s[i].sessionId)return void n.warn("DRM: Ignoring session ID because we have already seen it!");var o=a.createSession(e.sessionType),l=v(o,e);o.load(t).then((function(e){e?(n.debug("DRM: Session loaded.  SessionID = "+l.getSessionId()),c.trigger(d.KEY_SESSION_CREATED,{data:l})):(g(l),c.trigger(d.KEY_SESSION_CREATED,{data:null,error:new Bb(xM.KEY_SESSION_CREATED_ERROR_CODE,xM.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+t+")")}))})).catch((function(e){g(l),c.trigger(d.KEY_SESSION_CREATED,{data:null,error:new Bb(xM.KEY_SESSION_CREATED_ERROR_CODE,xM.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+t+")! "+e.name)})}))},removeKeySession:function(e){e.session.remove().then((function(){n.debug("DRM: Session removed.  SessionID = "+e.getSessionId()),c.trigger(d.KEY_SESSION_REMOVED,{data:e.getSessionId()})}),(function(t){c.trigger(d.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionId()+"). "+t.name})}))},closeKeySession:function(e){A(e).catch((function(t){g(e),c.trigger(d.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionId()+") "+t.name})}))},stop:function(){for(var e,t=0;t<s.length;t++)(e=s[t]).getUsable()||(A(e),g(e))},reset:function(){var e,t,n=s.length;if(0!==n)for(var r=0;r<n;r++)e=s[r],t=e,A(e),g(t),0===s.length&&(i?(i.removeEventListener("encrypted",o),i.setMediaKeys(null).then((function(){c.trigger(d.TEARDOWN_COMPLETE)}))):c.trigger(d.TEARDOWN_COMPLETE));else c.trigger(d.TEARDOWN_COMPLETE)}},n=h.getLogger(t),r=null,i=null,a=null,s=[],l=yL(u).getInstance(),o={handleEvent:function(e){if("encrypted"===e.type&&e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;c.trigger(d.NEED_KEY,{key:new TL(t,e.initDataType)})}}},t}wL[VM.PLAYREADY_KEYSTEM_STRING]=[VM.PLAYREADY_KEYSTEM_STRING,VM.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],wL[VM.WIDEVINE_KEYSTEM_STRING]=[VM.WIDEVINE_KEYSTEM_STRING],wL[VM.CLEARKEY_KEYSTEM_STRING]=[VM.CLEARKEY_KEYSTEM_STRING],CL.__dashjs_factory_name="ProtectionModel_21Jan2015";var IL=dashjs.FactoryMaker.getClassFactory(CL);function kL(e){e=e||{};var t,n,r,i,a,s,o,l,u,c=this.context,d=e.eventBus,h=e.events,f=e.debug,p=e.api;function A(){try{for(var e=0;e<o.length;e++)g(o[e]);r&&r.removeEventListener(p.needkey,l),d.trigger(h.TEARDOWN_COMPLETE)}catch(e){d.trigger(h.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function g(e){var t=e.session;t.removeEventListener(p.error,e),t.removeEventListener(p.message,e),t.removeEventListener(p.ready,e),t.removeEventListener(p.close,e);for(var n=0;n<o.length;n++)if(o[n]===e){o.splice(n,1);break}t[p.release]()}function m(){var e=null,t=function(){r.removeEventListener("loadedmetadata",e),r[p.setMediaKeys](a),d.trigger(h.VIDEO_ELEMENT_SELECTED)};r.readyState>=1?t():(e=t.bind(this),r.addEventListener("loadedmetadata",e))}return t={getAllInitData:function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t].initData);return e},getSessions:function(){return o},requestKeySystemAccess:function(e){return new Promise((function(t,n){for(var r=!1,i=0;i<e.length;i++)for(var a=e[i].ks.systemString,s=e[i].configs,o=null,l=null,c=0;c<s.length;c++){var f=s[c].audioCapabilities,A=s[c].videoCapabilities;if(f&&0!==f.length){o=[];for(var g=0;g<f.length;g++)window[p.MediaKeys].isTypeSupported(a,f[g].contentType)&&o.push(f[g])}if(A&&0!==A.length){l=[];for(var m=0;m<A.length;m++)window[p.MediaKeys].isTypeSupported(a,A[m].contentType)&&l.push(A[m])}if(!(!o&&!l||o&&0===o.length||l&&0===l.length)){r=!0;var v=new NM(o,l),y=u.getKeySystemBySystemString(a),E=new SL(y,v);d.trigger(h.KEY_SYSTEM_ACCESS_COMPLETE,{data:E}),t({data:E});break}}if(!r){var _="Key system access denied! -- No valid audio/video content configurations detected!";d.trigger(h.KEY_SYSTEM_ACCESS_COMPLETE,{error:_}),n({error:_})}}))},selectKeySystem:function(e){return new Promise((function(t,n){try{a=e.mediaKeys=new window[p.MediaKeys](e.keySystem.systemString),i=e.keySystem,s=e,r&&m(),t(i)}catch(e){n({error:"Error selecting keys system ("+i.systemString+")! Could not create MediaKeys -- TODO"})}}))},setMediaElement:function(e){r!==e&&(r&&r.removeEventListener(p.needkey,l),(r=e)&&(r.addEventListener(p.needkey,l),a&&m()))},createKeySession:function(e){if(!i||!a||!s)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(s.ksConfiguration.videoCapabilities&&s.ksConfiguration.videoCapabilities.length>0&&(t=s.ksConfiguration.videoCapabilities[0]),null===t&&s.ksConfiguration.audioCapabilities&&s.ksConfiguration.audioCapabilities.length>0&&(t=s.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var r=t.contentType,l=a.createSession(r,new Uint8Array(e.initData),e.cdmData?new Uint8Array(e.cdmData):null),u=function(e,t){return{session:e,keyId:t.keyId,initData:t.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case p.error:var t="KeyError";d.trigger(h.KEY_ERROR,{error:new Bb(xM.MEDIA_KEYERR_CODE,t,this)});break;case p.message:var r=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;d.trigger(h.INTERNAL_KEY_MESSAGE,{data:new bL(this,r,e.destinationURL)});break;case p.ready:n.debug("DRM: Key added."),d.trigger(h.KEY_ADDED);break;case p.close:n.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),d.trigger(h.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(l,e);l.addEventListener(p.error,u),l.addEventListener(p.message,u),l.addEventListener(p.ready,u),l.addEventListener(p.close,u),o.push(u),n.debug("DRM: Session created.  SessionID = "+u.getSessionId()),d.trigger(h.KEY_SESSION_CREATED,{data:u})},updateKeySession:function(e,t){var n=e.session;u.isClearKey(i)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t)),d.trigger(h.KEY_SESSION_UPDATED)},closeKeySession:g,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:A,reset:A},n=f.getLogger(t),r=null,i=null,a=null,s=null,o=[],u=yL(c).getInstance(),l={handleEvent:function(e){if(e.type===p.needkey&&e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;d.trigger(h.NEED_KEY,{key:new TL(t,"cenc")})}}},t}kL.__dashjs_factory_name="ProtectionModel_3Feb2014";var RL=dashjs.FactoryMaker.getClassFactory(kL);function DL(e){e=e||{};var t,n,r,i,a,s,o,l,u,c=this.context,d=e.eventBus,h=e.events,f=e.debug,p=e.api,A=e.errHandler;function g(){r&&y();for(var e=0;e<o.length;e++)m(o[e]);d.trigger(h.TEARDOWN_COMPLETE)}function m(e){try{r[p.cancelKeyRequest](i.systemString,e.sessionId)}catch(t){d.trigger(h.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionId+") "+t.message})}}function v(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionId==t)return e[r];return null}return null}function y(){r.removeEventListener(p.keyerror,u),r.removeEventListener(p.needkey,u),r.removeEventListener(p.keymessage,u),r.removeEventListener(p.keyadded,u)}return t={getAllInitData:function(){for(var e=[],t=0;t<s.length;t++)e.push(s[t].initData);for(var n=0;n<o.length;n++)e.push(o[n].initData);return e},getSessions:function(){return o.concat(s)},requestKeySystemAccess:function(e){return new Promise((function(t,n){var i=r;i||(i=document.createElement("video"));for(var s=!1,o=0;o<e.length;o++)for(var l=e[o].ks.systemString,u=e[o].configs,c=null,f=0;f<u.length;f++){var p=u[f].videoCapabilities;if(p&&0!==p.length){c=[];for(var A=0;A<p.length;A++)""!==i.canPlayType(p[A].contentType,l)&&c.push(p[A])}if(c&&(!c||0!==c.length)){s=!0;var g=new NM(null,c),m=a.getKeySystemBySystemString(l),v=new SL(m,g);d.trigger(h.KEY_SYSTEM_ACCESS_COMPLETE,{data:v}),t({data:v});break}}if(!s){var y="Key system access denied! -- No valid audio/video content configurations detected!";d.trigger(h.KEY_SYSTEM_ACCESS_COMPLETE,{error:y}),n({error:y})}}))},selectKeySystem:function(e){return i=e.keySystem,Promise.resolve(i)},setMediaElement:function(e){if(r!==e){if(r){y();for(var t=0;t<o.length;t++)m(o[t]);o=[]}(r=e)&&(r.addEventListener(p.keyerror,u),r.addEventListener(p.needkey,u),r.addEventListener(p.keymessage,u),r.addEventListener(p.keyadded,u),d.trigger(h.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!i)throw new Error("Can not create sessions until you have selected a key system");if(l||0===o.length){var t={sessionId:null,keyId:e.keyId,initData:e.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return s.push(t),r[p.generateKeyRequest](i.systemString,new Uint8Array(e.initData)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionId;if(a.isClearKey(i))for(var s=0;s<t.keyPairs.length;s++)r[p.addKey](i.systemString,t.keyPairs[s].key,t.keyPairs[s].keyID,n);else r[p.addKey](i.systemString,new Uint8Array(t),new Uint8Array(e.initData),n);d.trigger(h.KEY_SESSION_UPDATED)},closeKeySession:m,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:g,reset:g},n=f.getLogger(t),r=null,i=null,s=[],o=[],a=yL(c).getInstance(),u={handleEvent:function(e){var t=null;switch(e.type){case p.needkey:var r=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;d.trigger(h.NEED_KEY,{key:new TL(r,"cenc")});break;case p.keyerror:if((t=v(o,e.sessionId))||(t=v(s,e.sessionId)),t){var i=xM.MEDIA_KEYERR_CODE,a="";switch(e.errorCode.code){case 1:i=xM.MEDIA_KEYERR_UNKNOWN_CODE,a+="MEDIA_KEYERR_UNKNOWN - "+xM.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:i=xM.MEDIA_KEYERR_CLIENT_CODE,a+="MEDIA_KEYERR_CLIENT - "+xM.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:i=xM.MEDIA_KEYERR_SERVICE_CODE,a+="MEDIA_KEYERR_SERVICE - "+xM.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:i=xM.MEDIA_KEYERR_OUTPUT_CODE,a+="MEDIA_KEYERR_OUTPUT - "+xM.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:i=xM.MEDIA_KEYERR_HARDWARECHANGE_CODE,a+="MEDIA_KEYERR_HARDWARECHANGE - "+xM.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:i=xM.MEDIA_KEYERR_DOMAIN_CODE,a+="MEDIA_KEYERR_DOMAIN - "+xM.MEDIA_KEYERR_DOMAIN_MESSAGE}a+="  System Code = "+e.systemCode,d.trigger(h.KEY_ERROR,{error:new Bb(i,a,t)})}else n.error("No session token found for key error");break;case p.keyadded:(t=v(o,e.sessionId))||(t=v(s,e.sessionId)),t?(n.debug("DRM: Key added."),d.trigger(h.KEY_ADDED,{data:t})):n.debug("No session token found for key added");break;case p.keymessage:if((l=null!==e.sessionId&&void 0!==e.sessionId)?!(t=v(o,e.sessionId))&&s.length>0&&(t=s.shift(),o.push(t),t.sessionId=e.sessionId,d.trigger(h.KEY_SESSION_CREATED,{data:t})):s.length>0&&(t=s.shift(),o.push(t),0!==s.length&&A.error(new Bb(xM.MEDIA_KEY_MESSAGE_ERROR_CODE,xM.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),t){var u=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=u,d.trigger(h.INTERNAL_KEY_MESSAGE,{data:new bL(t,u,e.defaultURL)})}else n.warn("No session token found for key message")}}},t}DL.__dashjs_factory_name="ProtectionModel_01b";var ML=dashjs.FactoryMaker.getClassFactory(DL),LL=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],NL=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function BL(){var e,t=this.context;function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}return e={createProtectionSystem:function(r){var i=null,a=yL(t).getInstance();a.setConfig({debug:r.debug,BASE64:r.BASE64,settings:r.settings}),a.initialize();var s=function(r){var i=r.debug,a=i.getLogger(e),s=r.eventBus,o=r.errHandler,l=r.videoModel?r.videoModel.getElement():null;return l&&void 0===l.onencrypted||l&&void 0===l.mediaKeys?n(l,NL)?(a.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),RL(t).create({debug:i,eventBus:s,events:r.events,api:n(l,NL)})):n(l,LL)?(a.info("EME detected on this user agent! (ProtectionModel_01b)"),ML(t).create({debug:i,eventBus:s,errHandler:o,events:r.events,api:n(l,LL)})):(a.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(a.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),IL(t).create({debug:i,eventBus:s,events:r.events}))}(r);return!i&&s&&(i=UM(t).create({protectionModel:s,protectionKeyController:a,eventBus:r.eventBus,debug:r.debug,events:r.events,BASE64:r.BASE64,constants:r.constants,cmcdModel:r.cmcdModel,customParametersModel:r.customParametersModel,settings:r.settings}),r.capabilities.setEncryptedMediaSupported(!0)),i}}}BL.__dashjs_factory_name="Protection";var xL=dashjs.FactoryMaker.getClassFactory(BL);xL.events=_L,xL.errors=xM,dashjs.FactoryMaker.updateClassFactory(BL.__dashjs_factory_name,xL);var PL=xL;var OL,FL=function(){var e,t="application/dash+xml";function n(n,r,i){if(!n||!/^VIDEO$/i.test(n.nodeName))return null;if(n._dashjs_player)return n._dashjs_player;var a,s=n.id||n.name||"video element";if(!(r=r||[].slice.call(n.querySelectorAll("source")).filter((function(e){return e.type==t}))[0])&&n.src)(r=document.createElement("source")).src=n.src;else if(!r&&!n.src)return null;return(a=UD(i=i||{}).create()).initialize(n,r.src,n.autoplay),e||(e=a.getDebug().getLogger()),e.debug("Converted "+s+" to dash.js player and added content: "+r.src),n._dashjs_player=a,a}function r(e){return/^VIDEO$/i.test(e.nodeName)?e:r(e.parentNode)}return{create:n,createAll:function(e,i){var a=[];e=e||"[data-dashjs-player]";for(var s=(i=i||document).querySelectorAll(e),o=0;o<s.length;o++){var l=n(s[o],null);a.push(l)}for(var u=i.querySelectorAll('source[type="'+t+'"]'),c=0;c<u.length;c++){var d=n(r(u[c]),null);a.push(d)}return a}}}();!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?FL.createAll():OL=window.setInterval((function(){window.dashjs&&(window.clearInterval(OL),FL.createAll())}),500):window.addEventListener("load",(function e(){window.removeEventListener("load",e),FL.createAll()})));var UL=FL;function jL(e){var t,n,r,i,a,s,o,l=this.context,u=e.errHandler,c=e.dashMetrics,d=e.mediaPlayerModel,h=e.requestModifier,f=e.boxParser,p=e.errors,A=e.requestTimeout||0,g=cb(l).getInstance(),m=Vb(l).getInstance(),v=!1,y=!1;function E(e,p){var _,T=e.request,b=[],S=!0,w=!0,C=new Date,I=C,k=0,R=null;if(!h||!c||!u)throw new Error("config object is not correct or missing");var D,M=function(e){if(w=!1,T.requestStartDate=C,T.requestEndDate=new Date,T.firstByteDate=T.firstByteDate||C,T.fileLoaderType=R,!T.checkExistenceOnly){var t=_.response?_.response.responseURL:null,n=_.response?_.response.status:null,r=_.response&&_.response.getAllResponseHeaders?_.response.getAllResponseHeaders():_.response?_.response.responseHeaders:[];c.addHttpRequest(T,t,n,r,e?b:null),T.type===Sb.MPD_TYPE&&c.addManifestUpdate(T)}},L=function(){if(-1!==t.indexOf(_)&&(t.splice(t.indexOf(_),1),w))if(M(!1),p>0){try{if(m.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&T.type===Sb.MEDIA_SEGMENT_TYPE)d.getRetryAttemptsForType(Sb.MEDIA_SEGMENT_TYPE)===p&&g.trigger(fb.ATTEMPT_BACKGROUND_SYNC)}catch(e){}p--;var n={config:e};r.push(n),n.timeout=setTimeout((function(){-1!==r.indexOf(n)&&(r.splice(r.indexOf(n),1),E(e,p))}),d.getRetryIntervalsForType(T.type))}else{if(T.type===Sb.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;var a=i[T.type];v?a=i.MPD_TYPE_TIMEOUT:y&&(a=i.FRAGMENT_TYPE_TIMEOUT),u.error(new Bb(a,T.url+" is not available",{request:T,response:_.response})),e.error&&e.error(T,"error",_.response.statusText),e.complete&&e.complete(T,_.response.statusText)}};T.hasOwnProperty("availabilityTimeComplete")&&!1===T.availabilityTimeComplete&&window.fetch&&"arraybuffer"===T.responseType&&T.type===Sb.MEDIA_SEGMENT_TYPE?((D=zS(l).create({requestModifier:h,lowLatencyThroughputModel:o,boxParser:f})).setup({dashMetrics:c}),R=eb.FILE_LOADER_TYPES.FETCH):(D=YS(l).create({requestModifier:h}),R=eb.FILE_LOADER_TYPES.XHR);var N=null,B=h.modifyRequestURL(T.url);if(m.get().streaming.cmcd&&m.get().streaming.cmcd.enabled){var x=m.get().streaming.cmcd.mode;if(x===eb.CMCD_MODE_QUERY){var P=_getAdditionalQueryParameter(T);B=Qb.addAditionalQueryParameterToUrl(B,P)}else x===eb.CMCD_MODE_HEADER&&(N=a.getHeaderParameters(T))}T.url=B;var O=T.checkExistenceOnly?Sb.HEAD:Sb.GET,F=s.getXHRWithCredentialsForType(T.type),U=A;T.type===Sb.MPD_TYPE?U=uh.shared().timeout.manifest:T.type===Sb.MEDIA_SEGMENT_TYPE&&(U=uh.shared().timeout.chunk),_={url:B,method:O,withCredentials:F,request:T,onload:function(){_.response.status>=200&&_.response.status<=299&&(M(!0),e.success&&e.success(_.response.response,_.response.statusText,_.response.responseURL),e.complete&&e.complete(T,_.response.statusText))},onend:L,onerror:L,progress:function(t){var n=new Date;S&&(S=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(T.firstByteDate=n)),t.lengthComputable&&(T.bytesLoaded=t.loaded,T.bytesTotal=t.total),t.noTrace||(b.push({s:I,d:t.time?t.time:n.getTime()-I.getTime(),b:[t.loaded?t.loaded-k:0]}),I=n,k=t.loaded),e.progress&&t&&e.progress(t)},onabort:function(){e.abort&&e.abort(T)},ontimeout:function(e){T.type===Sb.MPD_TYPE&&(v=!0),[Sb.INIT_SEGMENT_TYPE,Sb.MEDIA_SEGMENT_TYPE].includes(T.type)&&(y=!0)},loader:D,timeout:U,headers:N};var j=(new Date).getTime();if(isNaN(T.delayLoadingTime)||j>=T.delayLoadingTime)t.push(_),D.load(_);else{var Q={httpRequest:_};n.push(Q),Q.delayTimeout=setTimeout((function(){if(-1!==n.indexOf(Q)){n.splice(n.indexOf(Q),1);try{C=new Date,I=C,t.push(Q.httpRequest),D.load(Q.httpRequest)}catch(e){Q.httpRequest.onerror()}}}),T.delayLoadingTime-j)}}return function(){var e;t=[],n=[],r=[],a=Qw(l).getInstance(),o=sC(l).getInstance(),s=HC(l).getInstance(),_define_property(e={},Sb.MPD_TYPE,p.DOWNLOAD_ERROR_ID_MANIFEST_CODE),_define_property(e,"MPD_TYPE_TIMEOUT",77),_define_property(e,"FRAGMENT_TYPE_TIMEOUT",78),_define_property(e,Sb.XLINK_EXPANSION_TYPE,p.DOWNLOAD_ERROR_ID_XLINK_CODE),_define_property(e,Sb.INIT_SEGMENT_TYPE,p.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),_define_property(e,Sb.MEDIA_SEGMENT_TYPE,p.DOWNLOAD_ERROR_ID_CONTENT_CODE),_define_property(e,Sb.INDEX_SEGMENT_TYPE,p.DOWNLOAD_ERROR_ID_CONTENT_CODE),_define_property(e,Sb.BITSTREAM_SWITCHING_SEGMENT_TYPE,p.DOWNLOAD_ERROR_ID_CONTENT_CODE),_define_property(e,Sb.OTHER_TYPE,p.DOWNLOAD_ERROR_ID_CONTENT_CODE),i=e}(),{load:function(e){e.request?E(e,d.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")}}}dashjs.Protection=PL,dashjs.MetricsReporting=kM,dashjs.MediaPlayerFactory=UL,dashjs.Debug=_b,dashjs.supportsMediaSource=qk,dashjs;var QL,GL,VL=((QL=VL||{})[QL.ManifestDownload=4e3]="ManifestDownload",QL[QL.ManifestTimeout=4001]="ManifestTimeout",QL[QL.ManifestParsing=4002]="ManifestParsing",QL[QL.FragmentDownload=4003]="FragmentDownload",QL[QL.FragmentTimeout=4004]="FragmentTimeout",QL),HL=((GL=HL||{})[GL.Unknown=3e3]="Unknown",GL[GL.FetchCertificate=3001]="FetchCertificate",GL[GL.FetchLicense=3002]="FetchLicense",GL[GL.EmptyLicenseUrl=3003]="EmptyLicenseUrl",GL[GL.InvalidLicense=3004]="InvalidLicense",GL[GL.KeySystemSupport=3005]="KeySystemSupport",GL[GL.MediaKeysSupport=3006]="MediaKeysSupport",GL[GL.CreateMediaKeys=3007]="CreateMediaKeys",GL[GL.CreateKeySession=3008]="CreateKeySession",GL[GL.DecryptionKey=3009]="DecryptionKey",GL),YL=_object_spread({},VL,HL),qL=function(){function e(t,n,r){var i=this;if(_class_call_check(this,e),this.mediaPlayer=null,this.nextPriorityLevelsWhenError=null,this.levels=null,r=r||n.options_,this.player=ah(r.playerId),this.hasFiniteDuration=!1,this.tech=n,t.src){n.isReady_=!1;var a=n.el(),s=t.src,o=e.buildDashJSProtData(t.keySystemOptions),l=t.startSeconds;l&&(s+="#s="+l),this.mediaPlayer=this.createPlayer(r.dash,s,o,a),this.setupSettings(r);var u=function(e,t){var n=t.levels,r=i.getQualityItems(n);i.emitQualityValues(r),i.setStartQuality(r)};this.player.on(ef.MasterDashManifestParsed,u);var c=ch.subscribe(ph,(function(e){var t=e.payload.quality;if(t!==FT.AUTO_MODE_VALUE){var n=i.getBandwidth(),r=i.getLevelByQualityAndBandwidth(t,n);i.mediaPlayer&&i.mediaPlayer.getQualityFor("video")===r?ch.publish(Ah({quality:t})):null!==r?i.switchLevel(r):UT.fire("EXCEPTION","PLAYER",{message:"Quality ".concat(t," not found")})}else i.switchLevel(FT.AUTO_MODE_VALUE)}));ch.subscribe(Sh,(function(){var e;null===(e=i.player)||void 0===e||e.off(ef.MasterDashManifestParsed,u),c(),i.dispose()})),n.triggerReady()}}return _create_class(e,[{key:"emitQualityValues",value:function(e){ch.publish(hh({qualities:e})),1===Array.from(new Set(e.map((function(e){return e.quality})))).length&&(ch.publish(Ih({isAutoQuality:!1,quality:e[0].quality})),ch.publish(Ah({quality:e[0].quality})))}},{key:"getQualityItems",value:function(e){return e.map((function(e,t){var n=Bf.getQualityTypeByResolution(e.width,e.height);return n?{index:t,bitrate:e.bitrate,width:e.width,height:e.height,quality:Bf.getValueByQualityType(n),label:Bf.getLabelByQualityType(n,Mh.qualityLabelVariant)}:null})).filter(Boolean)}},{key:"getBandwidth",value:function(){var e,t,n,r,i=null===(t=this.mediaPlayer)||void 0===t||null===(e=t.getActiveStream())||void 0===e?void 0:e.getStreamInfo(),a=null===(n=this.mediaPlayer)||void 0===n?void 0:n.getDashMetrics(),s=null===(r=this.mediaPlayer)||void 0===r?void 0:r.getDashAdapter(),o=null;if(a&&i&&s){var l=i.index,u=a.getCurrentRepresentationSwitch("video");o=u?Math.round(s.getBandwidthForRepresentation(u.to,l)):NaN}return o}},{key:"getLevelByQualityAndBandwidth",value:function(e,t){var n=this.StatAdapterManifestParsed(),r=this.parseLevelsQuality(n.levels),i=r.filter((function(t){return t.quality===e})),a=null;if(t&&i.length>1){var s=i.map((function(e){return e.bitrate})).reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}));r.forEach((function(t,n){t.quality===e&&t.bitrate===s&&(a=n)}))}else r.forEach((function(t,n){t.quality===e&&(a=n)}));return a}},{key:"setupSettings",value:function(e){var t,n,r;null===(t=this.mediaPlayer)||void 0===t||t.updateSettings({streaming:{buffer:{fastSwitchEnabled:!0},fragmentRequestTimeout:e.timeout.chunk,retryIntervals:(n={},_define_property(n,"MediaSegment",1e4),_define_property(n,"InitializationSegment",1e3),_define_property(n,"BitstreamSwitchingSegment",1e4),_define_property(n,"IndexSegment",1e4),_define_property(n,"other",1e4),n),retryAttempts:(r={},_define_property(r,"MediaSegment",0),_define_property(r,"InitializationSegment",0),_define_property(r,"BitstreamSwitchingSegment",6),_define_property(r,"IndexSegment",6),_define_property(r,"other",6),r)}})}},{key:"dispose",value:function(){this.mediaPlayer&&(this.detachListeners(this.mediaPlayer),this.mediaPlayer.reset()),this.mediaPlayer=null,this.player=null,this.hasFiniteDuration=!1}},{key:"setStartQuality",value:function(e){if(void 0!==e.find((function(e){return e.quality===Number(Mh.quality)}))){var t=Number(Mh.quality);ch.publish(ph({quality:t,forced:!0,withUIUpdate:!0}))}}},{key:"levelLoadingErrorClear",value:function(){this.nextPriorityLevelsWhenError=null}},{key:"levelLoadingErrorGenerate",value:function(e,t){this.levelLoadingErrorClear();for(var n=t.length,r=1;r<=n;r++){var i=e-r,a=e+r;i>=0&&(null===this.nextPriorityLevelsWhenError&&(this.nextPriorityLevelsWhenError=[]),this.nextPriorityLevelsWhenError.push(i)),a<n&&(null===this.nextPriorityLevelsWhenError&&(this.nextPriorityLevelsWhenError=[]),this.nextPriorityLevelsWhenError.push(a))}}},{key:"duration",value:function(){return this.mediaPlayer.isDynamic()&&!this.hasFiniteDuration?1/0:this.mediaPlayer.duration()}},{key:"switchLevel",value:function(e){var t,n,r;e===zL?null===(t=this.mediaPlayer)||void 0===t||t.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}}):(null===(n=this.mediaPlayer)||void 0===n||n.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),null===(r=this.mediaPlayer)||void 0===r||r.setQualityFor("video",e,Mh.qualityFastSwitch))}},{key:"createPlayer",value:function(e,t,n,r){var i=UD().create();return i.extend("HTTPLoader",jL,!0),i.initialize(),this.attachListeners(i),e&&Object.keys(e).forEach((function(t){var n,r="set"+t.charAt(0).toUpperCase()+t.slice(1),a=e[t];Object.prototype.hasOwnProperty.call(i,r)&&(t=r),Object.prototype.hasOwnProperty.call(i,t)&&(Array.isArray(a)||(a=[a]),(n=i)[t].apply(n,_to_consumable_array(a)))})),i.attachView(r),i.setAutoPlay(!1),i.setProtectionData(n),i.attachSource(t),this.player.trigger(ef.MasterDashPlaylistLoad,t),i}},{key:"attachListeners",value:function(e){e.on(UD.events.ERROR,this.listenerError,this),e.on(UD.events.MANIFEST_LOADED,this.listenerManifestLoaded,this),e.on(UD.events.FRAGMENT_LOADING_COMPLETED,this.listenerFragmentLoadingCompleted,this),e.on(UD.events.STREAM_INITIALIZED,this.listenerStreamInitialized,this),e.on(UD.events.QUALITY_CHANGE_RENDERED,this.listenerQualityChangeRendered,this)}},{key:"detachListeners",value:function(e){e.off(UD.events.ERROR,this.listenerError,this),e.off(UD.events.MANIFEST_LOADED,this.listenerManifestLoaded,this),e.off(UD.events.FRAGMENT_LOADING_COMPLETED,this.listenerFragmentLoadingCompleted,this),e.off(UD.events.STREAM_INITIALIZED,this.listenerStreamInitialized,this),e.off(UD.events.QUALITY_CHANGE_RENDERED,this.listenerQualityChangeRendered,this)}},{key:"listenerManifestLoaded",value:function(e){var t=e.data.Period_asArray,n=this.hasFiniteDuration;e.data.mediaPresentationDuration||t[t.length-1].duration?this.hasFiniteDuration=!0:this.hasFiniteDuration=!1,this.hasFiniteDuration!==n&&this.player.trigger("durationchange")}},{key:"listenerQualityChangeRendered",value:function(e){if("video"===e.mediaType){var t=e.newQuality,n=this.StatAdapterManifestParsed(),r=this.parseLevelsQuality(n.levels)[t];this.levelLoadingErrorClear();var i=Bf.getLabelByValue(r.quality,Mh.qualityLabelVariant);ch.publish(fh({index:r.qualityIndex,bitrate:r.bitrate,quality:r.quality,label:i,isAuto:Mh.isAutoQuality})),this.player.trigger(ef.DashLevelSwitched,{level:e.newQuality})}}},{key:"listenerError",value:function(e){var t,n,r=this,i=e.error,a=i.code,s=i.message,o=e.error.data,l=null==o||null===(t=o.request)||void 0===t?void 0:t.url,u=null==o||null===(n=o.response)||void 0===n?void 0:n.status;switch(a){case UD.errors.CAPABILITY_MEDIAKEYS_ERROR_CODE:return this.triggerError(3006,l,s,u);case UD.errors.KEY_SESSION_CREATED_ERROR_CODE:return this.reloadOnce(3008,(function(){r.triggerError(3008,l,s,u)}));case UD.errors.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE:return this.triggerError(3004,l,s,u);case UD.errors.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE:case UD.errors.MEDIA_KEYERR_CLIENT_CODE:case UD.errors.MEDIA_KEYERR_DOMAIN_CODE:case UD.errors.MEDIA_KEYERR_OUTPUT_CODE:case UD.errors.MEDIA_KEYERR_HARDWARECHANGE_CODE:return this.triggerError(3005,l,s,u);case UD.errors.MEDIA_KEY_MESSAGE_ERROR_CODE:case UD.errors.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE:return this.reloadOnce(3009,(function(){r.triggerError(3009,l,s,u)}));case UD.errors.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE:return this.reloadOnce(3002,(function(){r.triggerError(3002,l,s,u)}));case UD.errors.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE:return this.reloadOnce(3003,(function(){r.triggerError(3003,l,s,u)}));case UD.errors.MEDIA_KEYERR_CODE:case UD.errors.MEDIA_KEYERR_SERVICE_CODE:case UD.errors.MEDIA_KEYERR_UNKNOWN_CODE:return this.triggerError(3e3,l,s,u);case UD.errors.SERVER_CERTIFICATE_UPDATED_ERROR_CODE:return this.reloadOnce(3001,(function(){r.triggerError(3001,l,s,u)}));case UD.errors.MANIFEST_ERROR_ID_NOSTREAMS_CODE:case UD.errors.MANIFEST_ERROR_ID_PARSE_CODE:case UD.errors.MANIFEST_ERROR_ID_MULTIPLEXED_CODE:case UD.errors.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:return this.dispose(),this.triggerError(4002,l,s);case UD.errors.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:case UD.errors.DOWNLOAD_ERROR_ID_MANIFEST_CODE:return this.triggerError(4e3,l,s,u,!0);case Number(77):return this.triggerError(4001,l,s,void 0,!0);case Number(78):return this.triggerError(4004,l,s);case UD.errors.DOWNLOAD_ERROR_ID_CONTENT_CODE:case UD.errors.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:case UD.errors.SEGMENT_BASE_LOADER_ERROR_CODE:case UD.errors.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE:case UD.errors.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:return this.triggerError(4003,l,s,u);case UD.errors.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:return void this.processDownloadError(o)}}},{key:"processDownloadError",value:function(e){var t,n,r,i,a,s={message:"Can't load chunk"};(null==e||null===(t=e.request)||void 0===t?void 0:t.url)&&(s.url=null==e||null===(i=e.request)||void 0===i?void 0:i.url);(null==e||null===(n=e.response)||void 0===n?void 0:n.status)&&(s.code=null==e||null===(a=e.response)||void 0===a?void 0:a.status);if(UT.fire("HTTP","CHUNK",s),(null===(r=e.request)||void 0===r?void 0:r.quality)&&this.levels&&null===this.nextPriorityLevelsWhenError&&this.levelLoadingErrorGenerate(e.request.quality,this.levels),Array.isArray(this.nextPriorityLevelsWhenError)){var o;if(0===this.nextPriorityLevelsWhenError.length)return this.dispose(),void UT.fire("HTTP","TRACK",{message:"No available level"},!0);var l,u=this.nextPriorityLevelsWhenError.shift();if(this.switchLevel(u),!(null===(o=this.mediaPlayer)||void 0===o?void 0:o.isPaused()))null===(l=this.mediaPlayer)||void 0===l||l.play()}}},{key:"triggerError",value:function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=e.getErrorComponentsByType(t),o={url:n};i&&"TIMEOUT"!==s.type&&(o.message=UT.getMessageByCode(i)||r),i&&i>0&&(o.code=i),UT.fire(s.type,s.component,o,a)}},{key:"reloadOnce",value:function(e,t){this.tech.reloadOnce(e,t)}},{key:"isBuffered",value:function(){var e,t=null===(e=this.mediaPlayer)||void 0===e?void 0:e.getDashMetrics().getCurrentBufferLevel("video");return!!t&&t>0}},{key:"listenerFragmentLoadingCompleted",value:function(t){if(!t.error){this.isBuffered()&&this.tech.resetError(4003);var n=e.StatAdapterFragmentLoadingCompleted(t);this.player.trigger(ef.FragmentLoaded,n)}}},{key:"StatAdapterManifestParsed",value:function(){var e={levels:this.mediaPlayer.getBitrateInfoListFor("video")};return this.levels=e.levels,e}},{key:"listenerStreamInitialized",value:function(e){var t=this.StatAdapterManifestParsed(),n=_object_spread_props(_object_spread({},t),{levels:this.parseLevelsQuality(t.levels)});this.player.trigger(ef.MasterDashManifestParsed,n),this.player.trigger(ef.PlayerMetadataLoaded)}},{key:"parseLevelsQuality",value:function(e){return e.map((function(e){if(e.width&&e.height){var t=Bf.getQualityTypeByResolution(e.width,e.height);if(!t)return null;var n=Bf.getValueByQualityType(t);return _object_spread_props(_object_spread({},e),{quality:n})}return e})).filter(Boolean)}}],[{key:"getErrorTextByType",value:function(e){switch(e){case 3007:case 3008:case 3006:case 3005:return"Ошибка воспроизведения видео. Попробуйте посмотреть видео на другом устройстве или в другом браузере";case 3009:case 3001:case 3002:case 3003:case 3004:case 4002:return"Ошибочный ответ от сервера";case 3e3:default:return"Неизвестная ошибка";case 4e3:case 4003:return"Видео временно недоступно"}}},{key:"getErrorComponentsByType",value:function(e){return e in HL?{type:"EXCEPTION",component:"DASH_DRM"}:4e3==e?{type:"HTTP",component:"PLAYLIST"}:4001==e?{type:"TIMEOUT",component:"PLAYLIST"}:4002==e?{type:"PARSING",component:"PLAYLIST"}:4003==e?{type:"HTTP",component:"CHUNK"}:4004==e?{type:"TIMEOUT",component:"CHUNK"}:{type:"EXCEPTION",component:"PLAYER"}}},{key:"StatAdapterFragmentLoadingCompleted",value:function(e){return{stats:{tfirst:e.request.firstByteDate.getTime()-window.performance.timeOrigin,tload:e.request.requestEndDate.getTime()-window.performance.timeOrigin,trequest:e.request.requestStartDate.getTime()-window.performance.timeOrigin,retry:void 0,loaded:e.request.bytesLoaded,total:e.request.bytesTotal}}}},{key:"buildDashJSProtData",value:function(e){var t={};if(!e||!Array.isArray(e))return null;for(var n=0;n<e.length;n++){var r=e[n],i=ah.mergeOptions({},r.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),i.priority=0,t[r.name]=i}return t}}]),e}(),zL=-1;ah.getTech("Tech");var WL=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"canPlayType",value:function(e){return/^application\/dash\+xml/i.test(e)?"probably":""}},{key:"canHandleSource",value:function(e){return this.canPlayType(e.type)?"probably":/\.mpd/i.test(e.src)?"maybe":""}},{key:"handleSource",value:function(e,t,n){if(n.timeout={chunk:uh.shared().timeout.chunk},_instanceof(t,$L))return new qL(e,t,n)}},{key:"dispose",value:function(){}}]),n}(Wh),KL=function(){function e(){_class_call_check(this,e),this.errorStorage=e.createErrorStorage()}return _create_class(e,[{key:"addError",value:function(e){this.errorStorage[e]+=1}},{key:"hasError",value:function(e){return this.errorStorage[e]>0}},{key:"countError",value:function(e){return this.errorStorage[e]}},{key:"resetError",value:function(e){this.errorStorage[e]=0}},{key:"resetErrors",value:function(){this.errorStorage=e.createErrorStorage()}}],[{key:"createErrorStorage",value:function(){var e={};for(var t in YL)e[t]=0;return e}}]),e}(),XL=ah.browser,JL=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).name_=n.TECH_NAME,i.finishSetup(e),i}return _create_class(n,[{key:"finishSetup",value:function(e){this.dashContext=new KL;var t=e.source;t&&this.currentSrc()!==t.src&&this.setSource(t),_get(_get_prototype_of(n.prototype),"finishSetup",this).call(this,e)}},{key:"reloadOnce",value:function(e,t){t&&(!e||this.dashContext.hasError(e)?(this.dashContext.resetErrors(),t()):(this.dashContext.addError(e),this.reload()))}},{key:"resetError",value:function(e){this.dashContext.resetError(e)}},{key:"reload",value:function(){}},{key:"switchLevel",value:function(e){this.sourceHandler_.switchLevel(e)}},{key:"dispose",value:function(){this.off("dispose",this.disposeSourceHandler),this.disposeSourceHandler(),_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"play",value:function(){return _get(_get_prototype_of(n.prototype),"play",this).call(this)}},{key:"reset",value:function(){_get(_get_prototype_of(n.prototype),"reset",this).call(this),this.cacheTime=0,this.stopTrackingCurrentTime()}},{key:"setSrc",value:function(e){var t=void 0===e.src?"":e.src,n=void 0!==e.isACLCheck&&e.isACLCheck;void 0!==e.forceReload&&e.forceReload||this.trigger(ef.RestoringContent,n),n||(this.switchType(t),this.el_.src=t)}},{key:"duration",value:function(){var e=this;if(!(!this.isLive||this.isDVR))return 1/0;if(this.el_.duration===1/0&&XL.IS_ANDROID&&XL.IS_CHROME&&0===this.el_.currentTime){var t=function(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN}},{key:"canPlaySource",value:function(e,t){return(new WL).canHandleSource(e)}},{key:"canPlayType",value:function(e){return(new WL).canPlayType(e)}},{key:"featuresPlaybackRate",get:function(){return n.canControlPlaybackRate()}},{key:"featuresProgressEvents",get:function(){return!1}},{key:"featuresTimeupdateEvents",get:function(){return!1}},{key:"featuresNativeTextTracks",get:function(){return n.supportsNativeTextTracks()}},{key:"allowAirplay",get:function(){return!1}}],[{key:"type",value:function(e){var t=e.toLowerCase();return t.indexOf("mpd")>0?"application/dash+xml":t.indexOf("mp4")>0?"video/mp4":null}},{key:"isSupported",value:function(){try{WL.VIDEO_TEST_TAG().volume=.5}catch(e){return!1}return!!(zT()&&WL.VIDEO_TEST_TAG()&&WL.VIDEO_TEST_TAG().canPlayType)}},{key:"canControlVolume",value:function(){return!0}},{key:"canMuteVolume",value:function(){return!0}},{key:"canControlPlaybackRate",value:function(){return!0}},{key:"supportsNativeVideoTracks",value:function(){return!(!WL.VIDEO_TEST_TAG()||!WL.VIDEO_TEST_TAG().videoTracks)}},{key:"supportsNativeAudioTracks",value:function(){return!(!WL.VIDEO_TEST_TAG()||!WL.VIDEO_TEST_TAG().audioTracks)}},{key:"featuresVolumeControl",get:function(){return n.canControlVolume()}},{key:"featuresMuteControl",get:function(){return n.canMuteVolume()}},{key:"featuresSourceset",get:function(){return n.canOverrideAttributes()}},{key:"featuresFullscreenResize",get:function(){return!0}},{key:"featuresNativeVideoTracks",get:function(){return n.supportsNativeVideoTracks()}},{key:"featuresNativeAudioTracks",get:function(){return n.supportsNativeAudioTracks()}}]),n}(bf);JL.TECH_NAME="NutDashTech";var ZL=JL;bf.withSourceHandlers(ZL),ZL.registerSourceHandler(new WL),bf.registerTech("NutDashTech",ZL);var $L=ZL,eN=ah.browser;ah.getTech("Tech");var tN=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"canPlayType",value:function(e){return"application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e?"probably":""}},{key:"canHandleSource",value:function(e,t){return"aes"!=e.type&&"application/x-mpegURL"!=e.type?"":(eN.IS_ANY_SAFARI||eN.IS_IOS)&&YT.IS_IOS&&!qT?"probably":""}},{key:"handleSource",value:function(e,t,n){_instanceof(t,sN)&&t.setSrc(e)}},{key:"dispose",value:function(){}}]),n}(Wh),nN=ah.browser,rN=ah.dom,iN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).name_=n.TECH_NAME,i.finishSetup(e),i}return _create_class(n,[{key:"finishSetup",value:function(e){var t=e.source;t&&this.currentSrc()!==t.src&&this.setSource(t),_get(_get_prototype_of(n.prototype),"finishSetup",this).call(this,e)}},{key:"play",value:function(){return _get(_get_prototype_of(n.prototype),"play",this).call(this,{})}},{key:"reset",value:function(){_get(_get_prototype_of(n.prototype),"reset",this).call(this),this.stopTrackingCurrentTime()}},{key:"setSrc",value:function(e){var t=void 0===e.src?"":e.src,n=void 0!==e.isACLCheck&&e.isACLCheck;void 0!==e.forceReload&&e.forceReload||this.trigger(ef.RestoringContent,n),n||(this.switchType(t),this.el_.src=t)}},{key:"duration",value:function(){var e=this;if(!!this.isLive)return 1/0;if(this.el_.duration===1/0&&nN.IS_ANDROID&&nN.IS_CHROME&&0===this.el_.currentTime){var t=function(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN}},{key:"canPlaySource",value:function(e,t){var n=tN.VIDEO_TEST_TAG();return n&&n.canPlayType&&n.canPlayType(e.type)}},{key:"canPlayType",value:function(e){var t=tN.VIDEO_TEST_TAG();return t&&t.canPlayType&&t.canPlayType(e)}},{key:"featuresPlaybackRate",get:function(){return n.canControlPlaybackRate()}},{key:"featuresProgressEvents",get:function(){return!1}},{key:"featuresTimeupdateEvents",get:function(){return!1}},{key:"featuresNativeTextTracks",get:function(){return n.supportsNativeTextTracks()}}],[{key:"type",value:function(e){var t=e.toLowerCase();return t.indexOf("m3u8")>0?"application/x-mpegURL":t.indexOf("mp4")>0?"video/mp4":null}},{key:"isSupported",value:function(){var e=tN.VIDEO_TEST_TAG();try{if(!e)return!1;e.volume=.5}catch(e){return!1}return!(!e||!e.canPlayType)}},{key:"canControlVolume",value:function(){try{var e=tN.VIDEO_TEST_TAG();if(!e)return!1;var t=e.volume;return e.volume=t/2+.1,t!==e.volume}catch(e){return!1}}},{key:"canMuteVolume",value:function(){try{var e=tN.VIDEO_TEST_TAG();if(!e)return!1;var t=e.muted;return e.muted=!t,e.muted?rN.setAttribute(e,"muted","muted"):rN.removeAttribute(e,"muted"),t!==e.muted}catch(e){return!1}}},{key:"canControlPlaybackRate",value:function(){var e=nN.CHROME_VERSION;if(nN.IS_ANDROID&&nN.IS_CHROME&&null!==e&&e<58)return!1;try{var t=Wh.VIDEO_TEST_TAG();if(!t)return!1;var n=Math.round(10*t.playbackRate),r=[0,1,2,3,4,5,6,7,8,9,10].filter((function(e){return e!==n})),i=r[Math.floor(Math.random()*r.length)];return t.playbackRate=i/10,n!==t.playbackRate}catch(e){return!1}}},{key:"supportsNativeVideoTracks",value:function(){var e=tN.VIDEO_TEST_TAG();return!(!e||!e.videoTracks)}},{key:"supportsNativeAudioTracks",value:function(){var e=tN.VIDEO_TEST_TAG();return!(!e||!e.audioTracks)}},{key:"featuresVolumeControl",get:function(){return n.canControlVolume()}},{key:"featuresMuteControl",get:function(){return n.canMuteVolume()}},{key:"featuresSourceset",get:function(){return n.canOverrideAttributes()}},{key:"featuresFullscreenResize",get:function(){return!0}},{key:"featuresNativeVideoTracks",get:function(){return n.supportsNativeVideoTracks()}},{key:"featuresNativeAudioTracks",get:function(){return n.supportsNativeAudioTracks()}}]),n}(bf);iN.TECH_NAME="NutAppleTech";var aN=iN;bf.withSourceHandlers(aN),aN.registerSourceHandler(new tN),aN.registerTech("NutAppleTech",aN);var sN=aN,oN=f(se(),1);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode('.vjs-button > .vjs-icon-placeholder:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vjs-button > .vjs-icon-placeholder:before {\n  text-align: center;\n}\n\n@font-face {\n  font-family: "Roboto";\n  font-style: normal;\n  font-weight: 400;\n  src: url("data:application/octet-stream;base64,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") format("woff2"), url("data:application/font-woff;base64,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") format("woff"), url("data:font/ttf;base64,AAEAAAARAQAABAAQR0RFRiBqII8AAAEcAAAA7kdQT1POA1gqAAACDAAAK6BHU1VCagczrwAALawAAAGoT1MvMqCnsaoAAC9UAAAAYGNtYXDxTp1yAAAvtAAABopjdnQgv4wcAAAANkAAAAEYZnBnbT+uIasAADdYAAAL4mdhc3AAAAAQAABDPAAAAAhnbHlm/xSlmAAAQ0QAAJIwaGVhZAF1UP4AANV0AAAANmhoZWEQqQyUAADVrAAAACRobXR4/FlxHgAA1dAAAAYAbG9jYXJ3TakAANvQAAADAm1heHADUw1wAADe1AAAACBuYW1lr/Sv5QAA3vQAAARocG9zdK5ApKcAAONcAAALy3ByZXDvF1bSAADvKAAAANUAAQAAAAwAAAAAAAAAAgAlACYAPwABAEYAXwABAHUAdQABAHwAgAABAIMAgwABAIcAhwABAIkAiwABAI0AnQABAJ8AnwABAKEAowABAKUApQABAKoAqwABALgAvAABAL4AvgABAMIAxAABAMYAxwADAM0AzgABANYA1wABANkA2QABAN4A3wABAOQA5wABAOoA6wABAO4A8AABAPQA9AABAPcA+wABAQABAQABAQIBBQACAQoBEwABARUBHgABASABNwABATkBOwABAT4BQgABAUQBcgABAXUBdQABAXgBeQABAXsBfAABAX4BfwABAAAAAQAAAAoAMgBMAARERkxUABpjeXJsABpncmVrABpsYXRuABoABAAAAAD//wACAAAAAQACa2VybgAObWFyawAUAAAAAQAAAAAAAQABAAIABiVWAAIAAAACAAoWrgABAWYABAAAAK4CxgLkAuQC6gMIFEwT/hQkFNAUmAMOFDYUNhZYA/QUNhQ2FNAUBAP6BDQVThQSBGoUqBaCBHwEghSCFPAUogSQFcoE9hXKFcoU2hTwBUgFVhVABWwUyhVABXYFhAbmCAgJPhQ2ChwLRhSoDDAUNhQ2FQIUNhQ2FDYMrg2MFDYV0A4GDoAO8g8cD9IVwBAUFMoQuhDEES4U8BHwEiYSrBPaFPAS/hNcE2YTsBPaFEwU2hQSFUAT9BTwFeoVwBSoFMoWWBZYFlgUNhSoFMoUNhQ2FNAVwBSoFMoUmBXqFDYUNhZYFlgVAhRME/4V6hSYFDYUNhTQFAQUJBVOFKgUghSiFNoU8BVAFMoUohXAFUAUmBSiFBIVQBQkFoIVQBQ2FKgUyhQ2FEwUghRMFIIUmBSiFKIUohSoFMoU0BTaFNoU8BUCFUAVAhVAFQIVQBVOFeoVwBXKFdAV6hZYFoIAAQCuAAUABwAMAA0AFAAmACcAKAApACoAKwAtAC4AMAAxADIAMwA0ADUANgA3ADkAOwA8AD0APgA/AEAARgBHAEoASwBNAFAAUgBTAFQAVQBXAFkAWwBcAF0AXgBgAHQAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIIAgwCEAIUAhgCHAIgAiQCKAIsAjACNAI4AjwCQAJEAkwCYAJkAmgCdAJ4AoAChAKIApQCmAKcArACvALoAuwC8AMQA0QDSANMA1gDXANgA2gDcAN4A5gDnAPcA+QD7AP8BAAEBAQ4BDwERARIBFAEVARYBFwEYARkBGgEcAR0BHgEgASEBIgEjASQBJQEnASgBKgErASwBLQEzATQBNgE6ATsBQAFCAUMBRAFFAUYBRwFIAUkBSgFLAU4BTwFRAVIBUwFUAVsBXAFgAWIBYwFkAWUBZgFnAWgBbQFxAXIBdQF3AXgBegF8AAcAOf/GAHT/xgB4/8YA3P/GAOj/xgEi/8YBbf/GAAEAXAALAAcAOwAUADwAJAA+ABYAuwAUAToAFAFCABYBfAAWAAEAFP8KADkAEf7yABP+8gAm/0IAL/8qADkAFABG/94ASP/rAEn/6wBK/+sATP/rAFT/6wBW/+sAV//mAFr/6gBb/+gAXv/oAHQAFAB4ABQAmf/rAKX/6wCv/0IAuv/rALz/6ADA/+sAxP/rANwAFADl/+sA6AAUARP/KgEX/0IBIgAUAST/3gEl/+sBJ//rASn/6wEq/+gBLP/rATP/6AE2/+sBO//oATz/6wFB/+sBQ//oAUj/QgFJ/94BSv9CAUv/3gFP/+sBUf/rAVL/6wFc/+sBXv/rAWD/6wFk/+gBZv/oAWj/6AFtABQAAQBc/8gADgA5/94AO//kADz/7AA+/90AdP/eAHj/3gC7/+QA3P/eAOj/3gEi/94BOv/kAUL/3QFt/94BfP/dAA0AOf/LADv/7QA+/9AAdP/LAHj/ywC7/+0A3P/LAOj/ywEi/8sBOv/tAUL/0AFt/8sBfP/QAAQADgAPAEIADABX/+sAYgAOAAEAXP/lAAMAL//uADr/7gET/+4AGQAHABAADAAQAA4AFABCABIASP/oAEn/6ABK/+gATP/oAFb/6ABiABMAmf/oAKX/6ADA/+gAxP/oAOX/6AEl/+gBKf/oASz/6AE2/+gBPP/oAUH/6AFP/+gBUf/oAVL/6AFe/+gAFABI/+wASf/sAEr/7ABM/+wAVv/sAJn/7ACl/+wAwP/sAMT/7ADl/+wBJf/sASn/7AEs/+wBNv/sATz/7AFB/+wBT//sAVH/7AFS/+wBXv/sAAMASwAUAFkAMgBcABEABQBU/+MAuv/jASf/4wFc/+MBYP/jAAIAEf+EABP/hAADAC//7AA6/+wBE//sAFgAB//KAAz/ygA5/9IAO//UAD3/9AA+/9MAUv/7AFP/+wBV//sAW//mAF3/7wBe/+YAdP/SAHj/0gB8//QAgP/tAIP/4QCI/9QAjv/7AJD/7wCS//sAk//7AJX/+wCW//sAl//7AJj/yQCa//sAnP/7AJ3/+wCg/9YAov/7AKf/+wCr/+UAu//UALz/5gDC/+MAzv/7ANb/9ADX/+8A2f/7ANz/0gDd/8QA3//7AOH/+wDm//QA5//vAOj/0gDq/+EA7P/hAPb/+wD4//sA+v/7AP//+wEA//QBAf/vARb/7QEi/9IBI//0ASb/+wEo//sBKv/mASv/7wEt//sBMv/7ATP/5gE3//sBOv/UATv/5gFC/9MBQ//mAUX/9AFG/+8BU//0AVT/7wFY//sBWv/7AWP/7QFk/+YBZf/tAWb/5gFn/+0BaP/mAWn/4QFs//sBbf/SAW//4QFy//sBfP/TAEgAB//GAAz/xgA5/6cAO//NAD3/8gA+/7MAUv/XAFP/1wBV/9cAdP+nAHb/9gB4/6cAfP/yAH//9gCA/+wAg//oAIj/xwCO/9cAkv/XAJP/1wCV/9cAlv/XAJf/1wCY/9IAmv/XAJz/1wCd/9cAoP/XAKL/1wCn/9cAu//NAM7/1wDW//IA2f/XANz/pwDd/9EA3//XAOH/1wDm//IA6P+nAOr/6ADs/+gA7//fAPP/9gD2/9cA+P/XAPr/1wD//9cBAP/yARb/7AEi/6cBI//yASb/1wEo/9cBLf/XATL/1wE3/9cBOv/NAUL/swFF//IBU//yAVj/1wFa/9cBY//sAWX/7AFn/+wBaf/oAWz/1wFt/6cBb//oAXL/1wF8/7MATQAH/7kADP+5ADn/qAA7/8sAPf/zAD7/sQBS/9QAU//UAFX/1ABd//EAdP+oAHj/qAB8//MAgP/uAIP/5ACI/8gAjv/UAJD/8QCS/9QAk//UAJX/1ACW/9QAl//UAJj/zACa/9QAnP/UAJ3/1ACg/9QAov/UAKf/1AC7/8sAzv/UANb/8wDX//EA2f/UANz/qADd/8YA3//UAOH/1ADm//MA5//xAOj/qADq/+QA7P/kAO//3wD2/9QA+P/UAPr/1AD//9QBAP/zAQH/8QEW/+4BIv+oASP/8wEm/9QBKP/UASv/8QEt/9QBMv/UATf/1AE6/8sBQv+xAUX/8wFG//EBU//zAVT/8QFY/9QBWv/UAWP/7gFl/+4BZ//uAWn/5AFs/9QBbf+oAW//5AFy/9QBfP+xADcAOf++AFL/5ABT/+QAVf/kAFv/7wBe/+8AdP++AHj/vgCI/8kAjv/kAJL/5ACT/+QAlf/kAJb/5ACX/+QAmP/fAJr/5ACc/+QAnf/kAKD/5ACi/+QAp//kAKv/7QC8/+8Awv/rAM7/5ADZ/+QA3P++AN3/3wDf/+QA4f/kAOj/vgDv/+kA9v/kAPj/5AD6/+QA///kASL/vgEm/+QBKP/kASr/7wEt/+QBMv/kATP/7wE3/+QBO//vAUP/7wFY/+QBWv/kAWT/7wFm/+8BaP/vAWz/5AFt/74Bcv/kAEoAOf/mADv/5wA9//IAPv/nAFL/2gBT/9oAVf/aAF3/8QB0/+YAeP/mAHz/8gCA/+4Ag//oAIj/5gCO/9oAkP/xAJL/2gCT/9oAlf/aAJb/2gCX/9oAmP/QAJr/2gCc/9oAnf/aAKD/2gCi/9oAp//aALv/5wDO/9oA1v/yANf/8QDZ/9oA3P/mAN3/zgDf/9oA4f/aAOb/8gDn//EA6P/mAOr/6ADs/+gA9v/aAPj/2gD6/9oA///aAQD/8gEB//EBFv/uASL/5gEj//IBJv/aASj/2gEr//EBLf/aATL/2gE3/9oBOv/nAUL/5wFF//IBRv/xAVP/8gFU//EBWP/aAVr/2gFj/+4BZf/uAWf/7gFp/+gBbP/aAW3/5gFv/+gBcv/aAXz/5wA6ACYAEAAo/+gALP/oADT/6AA2/+gAOf/gADv/4AA+/98AdP/gAHX/6AB2ABAAeP/gAHsAFAB/ABAAg//hAIj/4ACPABMAlAAQAJv/4ACmABAAqv/oAK8AEAC5/+gAu//gAL3/6AC//+gAwf/oAMP/6ADc/+AA5P/oAOj/4ADq/+EA6//gAOz/4QDt/+AA8P/hAPMAEAD0ABAA+//pARcAEAEe/+gBIf/oASL/4AE6/+ABPf/oAUD/6AFC/98BSAAQAUoAEAFb/+gBXf/oAV//6AFp/+EBav/gAW3/4AFv/+EBcP/gAXz/3wAfABz/8gA5//EAO//0AD3/9AA+//AAdP/xAHb/9QB4//EAfP/0AH//9QCA//MAiP/xALv/9ADW//QA3P/xAOb/9ADo//EA8//1AQD/9AEW//MBIv/xASP/9AE6//QBQv/wAUX/9AFT//QBY//zAWX/8wFn//MBbf/xAXz/8AA3ACYADwA5/+YAO//mAD0ADgA+/+YAdP/mAHYADgB4/+YAewATAHwADgB/AA4AgAALAIP/5QCI/+YAif/0AI8AEgCUAA8AmP/nAJv/6ACg/+kApgAPAK8ADwC7/+YA1gAOANz/5gDd/+cA5gAOAOj/5gDq/+UA6//oAOz/5QDt/+gA7//kAPMADgD0AA8BAAAOARYACwEXAA8BIv/mASMADgE6/+YBQv/mAUUADgFIAA8BSgAPAVMADgFjAAsBZQALAWcACwFp/+UBav/oAW3/5gFv/+UBcP/oAXz/5gAeAAf/xQAM/8UAOf+pADv/zgA+/7UAdP+pAHj/qQCA/+4Ag//pAIj/ygCY/9IAoP/ZALv/zgDc/6kA3f/RAOj/qQDq/+kA7P/pAO//3wEW/+4BIv+pATr/zgFC/7UBY//uAWX/7gFn/+4Baf/pAW3/qQFv/+kBfP+1AB4AOf/jAD3/5QA+/+QAdP/jAHb/5QB4/+MAe//iAHz/5QB//+UAgP/pAJT/6gCm/+oA1v/lANz/4wDm/+UA6P/jAPP/5QD0/+oBAP/lARb/6QEi/+MBI//lAUL/5AFF/+UBU//lAWP/6QFl/+kBZ//pAW3/4wF8/+QAHAA5/+IAPf/kAHT/4gB2/+QAeP/iAHv/4QB8/+QAf//kAID/6QCP/+QAlP/rAKb/6wDW/+QA3P/iAOb/5ADo/+IA8//kAPT/6wEA/+QBFv/pASL/4gEj/+QBRf/kAVP/5AFj/+kBZf/pAWf/6QFt/+IACgA5/+sAPv/zAHT/6wB4/+sA3P/rAOj/6wEi/+sBQv/zAW3/6wF8//MALQBS/+8AU//vAFX/7wBd//AAjv/vAI//7gCQ//AAkv/vAJP/7wCV/+8Alv/vAJf/7wCY/+4Amv/vAJz/7wCd/+8AoP/xAKL/7wCn/+8Aq//0AML/8QDO/+8A1//wANn/7wDd/+8A3//vAOH/7wDn//AA9v/vAPj/7wD6/+8A///vAQH/8AEm/+8BKP/vASv/8AEt/+8BMv/vATf/7wFG//ABVP/wAVj/7wFa/+8BbP/vAXL/7wAQAAf/8gAM//IAW//1AF7/9QCY//QAoP/1AKv/9QC8//UA3f/1ASr/9QEz//UBO//1AUP/9QFk//UBZv/1AWj/9QApAFL/8ABT//AAVf/wAI7/8ACPABQAkv/wAJP/8ACV//AAlv/wAJf/8ACY/+0Amv/wAJv/7QCc//AAnf/wAJ7/0gCg//AAov/wAKf/8ADO//AA2f/wAN3/7QDf//AA4f/wAOv/7QDt/+0A9v/wAPj/8AD6//AA///wASb/8AEo//ABLf/wATL/8AE3//ABWP/wAVr/8AFq/+0BbP/wAXD/7QFy//AAAgAH//UADP/1ABoASP/wAEn/8ABK//AATP/wAFT/ywBW//AAmf/wAKX/8AC6/8sAvv/rAMD/8ADE//AA5f/wASX/8AEn/8sBKf/wASz/8AE2//ABPP/wAUH/8AFP//ABUf/wAVL/8AFc/8sBXv/wAWD/ywAwAAcADQAMAA0ARv/wAEj/vgBJ/74ASv++AEsADQBM/74AVP/hAFb/vgBbAAsAXgALAI//xQCU/9MAmf++AKX/vgCm/9MAuv/hALwACwC+/+sAwP++AMIADADE/74A5f++APT/0wEk//ABJf++ASf/4QEp/74BKgALASz/vgEzAAsBNv++ATsACwE8/74BQf++AUMACwFJ//ABS//wAU//vgFR/74BUv++AVz/4QFe/74BYP/hAWQACwFmAAsBaAALAA0AjwAUAJQAEACY//AAm//wAKD/8gCjABUApgAQAN3/5wDr//AA7f/dAPQAEAFq//ABcP/wACEASP/xAEn/8QBK//EATP/xAFb/8QCPABYAlAAPAJj/4wCZ//EAm//lAJ7/vwCg/+YApf/xAKYADwDA//EAxP/xAN3/vgDl//EA6//lAO3/2gD0AA8BJf/xASn/8QEs//EBNv/xATz/8QFB//EBT//xAVH/8QFS//EBXv/xAWr/5QFw/+UAFABb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AAAAAAAAAAAAAAAAAAAAAwAbAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAHwAYAAAAAAAQABIACwAAAAsAAAALAAAAAAAAAAAAAAAAAAAAAAAAABAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAGAAQABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAfAAAAAAAAAAoACwALACAAAgAaAB8ABQAAAAAAAAABAAAAFAARAA0AEAAGAAgAAAADAAcAFQAJABIACAAYAAAAAAAAAAAAAAAJAAUAAAAIAAAAAAAAABsACQAAAAAAAAAAABEAFQAMAAkAAAAQABIAAAACAAYAAgAGAAAAAAAFAAgAAAAIAAgAEAASAAAAAAAAAAAAAAAAAAEAAwAAAAAAAAADAAAABwAgAAkAIAAJACAACQAAAAAAAAAAAA0AAAAAAAAAHwAYAAAAAAAEAAAAHQAfAAAACwAAAAwAAQAHAXYAEQAAAAAAAAAAABEAAAAAAAAAAAAVABgAFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAACAAAAAAAcAAAAAAAAAAAAAgAAAAIAAAAOAAoACQAXABMADwALABAAAAAAAAAAAAAAAAAABwAAAAEAAQABAAAAAQAAAAAAAAAAAAAAAwADAAQAAwABAAAADAAAAAUACAAAABIACAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAIAFAAAAAoAAAAAAAAADwAAAAAAFAAbAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAABIAAAADAAMAFgADAAMAAwAAAAEAAwAaAAMAAwAAAAAAAwAAAAMAAAAAAAEAFgADAAAAAAACAAAAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAACAAQAFwAIAAIAAAACAAEAAgAAAAIAAQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAADwASAAAAAwAAAAAACgAAAAAAAwAAAAMAAAAAAAIAAQAPABIACgAAABkAGgAAAAAAAAAAAAAAAAAAABQAFgAAAAMAAAADAAAAAwAAAAAAAAAAAAMADwASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAbAAYAAAAAAAAAAAAAAAAAAgAAAAAAAgAKAA8ABwABAAMABAADAAEACAASAAEAAwAMAAAAAAAAAAMACAAAAAAAAQADAAAAAAAXAAgAAQACAAAAAAACAAEACwAIAAAADwASAAAABgAHAAYABwAAAAAAAAABAAAAAQABAA8AEgAAAAAAAAADAAAAAwACAAQAAgABAAIABAAAAAAAGwAIABsACAAbAAgAGQAaAAAAAwAKAAAAGQAaAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAALAAQAAAABAAgAAQAMABYAAQDmARoAAgABAMYAygAAAAIAIgAmAD8AAABGAF8AGgB1AHUANAB8AH4ANQCAAIAAOACDAIMAOQCHAIcAOgCJAIsAOwCNAJ0APgCfAJ8ATwChAKMAUAClAKUAUwCqAKsAVAC4ALwAVgC+AL4AWwDCAMQAXADNAM4AXwDkAOUAYQDuAO4AYwD7APsAZAEKAQ8AZQESARIAawEVARYAbAEbARsAbgEkASYAbwEoASkAcgErATAAdAEyATcAegE5ATsAgAFFAUYAgwFIAUsAhQFOAVAAiQFSAVwAjAFfAWwAlwAFAAAAFgAAABwAAAAiAAAAKAAAAC4AAf3SBKYAAf5EBKYAAf3cBQEAAf4aBQEAAf2sBKYApQFMAZoBUgFYAV4BXgFkAWoBcAF2AXwBggGIAY4BlAGaAkgBoAGmAawBsgG4Ab4BxAHKAdADmAHWA7AB3AOeAeIB6AHuA84B9AH6AgACBgIMAhIDqgIYAh4DyAIkAioCMAI2A7YCPAJCAkgCTgJUAloCYAJmAmwCcgJ4An4ChAKKApAClgKcAqICqAKuArQCugLAAsYCzALSAtgC8ALeAuQC6gLwAvYC/AMCAwgDDgMUAxoDIAMmAywDMgM4Az4DRANKA1ADVgNcA2IDaANoA24DbgN0A3oDgAOGA4wDkgOYA54DpAOqA7ADtgO8A8IDyAPOA9QD2gPgA+YD7APyA/gD/gQEBAoEEAQWBBwEIgQoBC4ENAQ6BEAERgRMBFIEWAReBGQEagRwBHYEfASCBIgEjgSUBJoEoASmBKwEsgS4BL4ExATKBNAE1gABAqAGQQABAqgGYQABAmEGTAABAmsGTAABAqAGYQABAsgGTAABARcGTAABA1QGPwABAl0GOwABAQgGPAABA3oGQQABAtYGQQABAsMGQwABAl4GTAABAmIGQQABAm4GQwABAmQGQAABApsGQQABAo8GTAABA5wGQQABAo0GTAABAmoGQAABAmgGQQABAnoGSwABAiUGTAABAfYG2gABAiwFCgABAfUGSwABAN8GQAABAiUGSwABAPkGoQABA48FCgABAj0FCgABAj8FCgABAhkFCgABAZgFCgABATgFyQABAjcFCgABAfkFAAABAvsFCgABAfwFCgABAgMFCgABArwGQAABA6UGTAABAl4GYQABAt0GTAABAoYGTAABArAGTAABA3oGTAABArQGYgABA5QGQAABAooGTAABAiUE9QABAa8E9QABArQE9QABAwwE9QABAgYFCQABAk4E9QABAh0E9AABAoQE9QABAvAE9QABAlIE9QABAlgE9QABAecE9QABAuQGzAABAnME9QABAgwE9QABAywE9QABAxQE9QABAiMFCgABAzsE9QABAg0E9QABAlIFCAABA4IGGgABAwQE9QABAdIGzAABAs8GRwABAi8FDAABAm0GCAABAgcE4AABAkoFUAABAwkGQAABApwGYQABAj4FDAABAt0HYwABAk4GDAABArsGUQABAkIFCgABAoIGTAABAnsGHgABAQoE4QABAPwFCAABAmsHawABAnEHqwABARcHawABAl0HmgABAoYHiAABAt0HiAABAkYFCgABAjUFCgABAk4GMQABAnUFAAABAhUFCgABAfwFAAABAjUGKQABAa8GVAABAjIFCgABAPsGQAABAPwGJwABAh0GUwABAfwGRgABAmsHqwABAt0HqwABAjUGaQABAk4GVAABAscE9QABAm0HOQABAgcGEQABA6UHiAABAwwGMQABAqAHfQABAkYGRgABAqAHYAABAkYGKQABAmsHiAABAjUGRgABAnsHPQABAi8GKgABA6UHawABAwwGFAABAl4HgAABAgYGKAABAt0HcwABAk4GHAABAt0HawABAk4GFAABAsMHYgABAj8GKQABAs8HZgABAi8GKwABArQHgQABAiMGKQABAoYHcwABAfwGMQABAoYHawABAfwGKQABAoYHkAABAfwGTgABArAHawABAgwGFAABA3oHawABAxQGFAABAAAACgB8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uQgACABjYyMgWGIbIVljuAQAYiCwAFBYsEBgWWawAWNgIy4jICA8ijgjIVktsD0ssAAWILAIQyAuRyNHI2EgYLAgYGawAmIgsABQWLBAYFlmsAFjIyAgPIo4LbA+LCMgLkawAiVGUlggPFkusS4BFCstsD8sIyAuRrACJUZQWCA8WS6xLgEUKy2wQCwjIC5GsAIlRlJYIDxZIyAuRrACJUZQWCA8WS6xLgEUKy2wQSywOCsjIC5GsAIlRlJYIDxZLrEuARQrLbBCLLA5K4ogIDywBCNCijgjIC5GsAIlRlJYIDxZLrEuARQrsARDLrAuKy2wQyywABawBCWwBCYgLkcjRyNhsAlDKyMgPCAuIzixLgEUKy2wRCyxCAQlQrAAFrAEJbAEJSAuRyNHI2EgsAQjQrAJQysgsGBQWCCwQFFYswIgAyAbswImAxpZQkIjIEewBEOwAmIgsABQWLBAYFlmsAFjYCCwASsgiophILACQ2BkI7ADQ2FkUFiwAkNhG7ADQ2BZsAMlsAJiILAAUFiwQGBZZrABY2GwAiVGYTgjIDwjOBshICBGI0ewASsjYTghWbEuARQrLbBFLLA4Ky6xLgEUKy2wRiywOSshIyAgPLAEI0IjOLEuARQrsARDLrAuKy2wRyywABUgR7AAI0KyAAEBFRQTLrA0Ki2wSCywABUgR7AAI0KyAAEBFRQTLrA0Ki2wSSyxAAEUE7A1Ki2wSiywNyotsEsssAAWRSMgLiBGiiNhOLEuARQrLbBMLLAII0KwSystsE0ssgAARCstsE4ssgABRCstsE8ssgEARCstsFAssgEBRCstsFEssgAARSstsFIssgABRSstsFMssgEARSstsFQssgEBRSstsFUssgAAQSstsFYssgABQSstsFcssgEAQSstsFgssgEBQSstsFkssgAAQystsFossgABQystsFsssgEAQystsFwssgEBQystsF0ssgAARistsF4ssgABRistsF8ssgEARistsGAssgEBRistsGEssgAAQistsGIssgABQistsGMssgEAQistsGQssgEBQistsGUssDorLrEuARQrLbBmLLA6K7A+Ky2wZyywOiuwPystsGgssAAWsDorsEArLbBpLLA7Ky6xLgEUKy2waiywOyuwPistsGsssDsrsD8rLbBsLLA7K7BAKy2wbSywPCsusS4B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BT8AqQSMAKkEbACpBXMAegW0AKkCLQC3BGoANQUEAKkETgCpBvwAqQW0AKkFgAB2BQwAqQWAAG0E7QCoBL8AUATGADEFMACMBRcAHAcZAD0FBAA5BM4ADwTKAFYCHwCSA0gAKAIfAAkDWABAA5wABAJ5ADkEWgBtBH0AjAQwAFwEgwBfBD0AXQLHADwEfQBgBGgAjAHxAI0B6f+/BA4AjQHxAJwHAwCLBGoAjASQAFsEfQCMBIwAXwK1AIwEIABfAp0ACQRpAIgD4AAhBgMAKwP3ACkDyQAWA/cAWAK1AEAB8wCvArUAEwVxAIMDWABlA6oAjgKCAHsHev/yBsEATgH6AJsCA/+0BDcAYgNqAIEC/ABeAAD8JwRzALEFtQCyBYkAWgQCAC4FmgBfBf8AKgVkAHsIkQAxCKQAsQaCAD4FtACwBQsAogYEADIHQwAbBL8AUAW0ALEFqQAvBQcATQYsAFMF2QCvBXoAlgeHALAHwACwBhIAEAbrALIFBQCjBWQAkwcnALcFGABZBGwAYQSSAJ0DWwCaBNQALgYgABUEEABYBJ4AnARSAJwEoAAsBe8AnQSdAJwEngCcA9gAKAXNAGQEvQCcBFkAZwZ4AJwGngCRBPcAHgY2AJ0EWACdBE0AZAaHAJ0EZAAvBGj/6ARNAGcGyQAnBuQAnASJ//0EngCcBwgAnAYrAIEEVv/cBysAtwX4AJkE0gAoBEYADwcLAMkGCwC8BtEAkwXhAJYJBAC2B9EAmwQjAFAD2wBMBXEAZwSLAFsFCgAWBAMALgVxAGcEiABbBwEAnAYkAH4HCACcBisAgQUyAHUERwBkBP0AdAAA/GcAAPxxAAD9ZgAA/aQAAPwzAAD6GwAA+iwGCQCxBO0AnARW/9wFGwCoBIkAjARjAKIDkACRBNsAsQQFAJEHogAbBmEAFQWaALIEuACcBQkAowR+AJoGjABEBYMAPgX/AKkE2QCcB88AqAW0AJEIMQCwBvQAkQXuAHEE0wBtBRgAOQQqACkHLAA0BVwAHwW8AJYElgBnBW8AlgRqAIMFbwCJBi8APwS9/94FCQCjBFoAmgX+AC8E7wAsBbIAsQSIAJEGEgCpBOwAnAdPAKkGPgCdBYcAXQSoAGgEqABpBLcAOgOrADsFLgA5BEAAKQRuAB8EiwA8BtQAPAbUADwDlgCPBSQAsgGRAGcB/P+2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ZSBMaWNlbnNlLCBWZXJzaW9uIDIuMGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMABDAG8AcAB5AHIAaQBnAGgAdAAgADIAMAAxADEAIABHAG8AbwBnAGwAZQAgAEkAbgBjAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4AUgBvAGIAbwB0AG8AUgBlAGcAdQBsAGEAcgBWAGUAcgBzAGkAbwBuACAAMgAuADEAMwA0ADsAIAAyADAAMQA2ADsAIAB0AHQAZgBhAHUAdABvAGgAaQBuAHQAIAAoAHYAMQAuADQALgAxACkAUgBvAGIAbwB0AG8ALQBSAGUAZwB1AGwAYQByAFIAbwBiAG8AdABvACAAaQBzACAAYQAgAHQAcgBhAGQAZQBtAGEAcgBrACAAbwBmACAARwBvAG8AZwBsAGUALgBHAG8AbwBnAGwAZQBHAG8AbwBnAGwAZQAuAGMAbwBtAEMAaAByAGkAcwB0AGkAYQBuACAAUgBvAGIAZQByAHQAcwBvAG4ATABpAGMAZQBuAHMAZQBkACAAdQBuAGQAZQByACAAdABoAGUAIABBAHAAYQBjAGgAZQAgAEwAaQBjAGUAbgBzAGUALAAgAFYAZQByAHMAaQBvAG4AIAAyAC4AMABoAHQAdABwADoALwAvAHcAdwB3AC4AYQBwAGEAYwBoAGUALgBvAHIAZwAvAGwAaQBjAGUAbgBzAGUAcwAvAEwASQBDAEUATgBTAEUALQAyAC4AMAACAAAAAAAA/2oAZAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAABAQIBAwACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQCOANoAjQCQAKAA1wEEAQUA2wDfAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXARgBGQEaARsBHAEdAR4BHwEgASEBIgEjASQBJQEmAScBKAEpASoBKwEsAS0BLgEvATABMQEyATMBNAE1ATYBNwE4ATkBOgE7ATwBPQE+AT8BQAFBAUIBQwFEAUUBRgFHAUgBSQFKAUsBTAFNAU4BTwFQAVEBUgFTAVQBVQFWAVcBWAFZAVoBWwFcAV0BXgFfAWABYQFiAWMBZAFlAWYBZwFoAWkBagFrAWwBbQFuAW8BcAFxAXIBcwF0AXUBdgF3AXgBeQF6AXsBfAF9AX4BfwGAAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkAwAGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYHdW5pMDAwMgd1bmkwMDA5B3VuaTAyMzcFc2Nod2EHdW5pMDMwRgVHYW1tYQJQaQNQc2kFZ2FtbWEDcHNpB3VuaTA0MDIHdW5pMDQwNAd1bmkwNDA5B3VuaTA0MEEHdW5pMDQwQgd1bmkwNDBGB3VuaTA0MTEHdW5pMDQxNAd1bmkwNDE2B3VuaTA0MTcHdW5pMDQxOAd1bmkwNDFCB3VuaTA0MjMHdW5pMDQyNAd1bmkwNDI2B3VuaTA0MjcHdW5pMDQyOAd1bmkwNDI5B3VuaTA0MkEHdW5pMDQyQgd1bmkwNDJDB3VuaTA0MkQHdW5pMDQyRQd1bmkwNDJGB3VuaTA0MzEHdW5pMDQzMgd1bmkwNDMzB3VuaTA0MzQHdW5pMDQzNgd1bmkwNDM3B3VuaTA0MzgHdW5pMDQzQQd1bmkwNDNCB3VuaTA0M0MHdW5pMDQzRAd1bmkwNDNGB3VuaTA0NDIHdW5pMDQ0NAd1bmkwNDQ2B3VuaTA0NDcHdW5pMDQ0OAd1bmkwNDQ5B3VuaTA0NEEHdW5pMDQ0Qgd1bmkwNDRDB3VuaTA0NEQHdW5pMDQ0RQd1bmkwNDRGB3VuaTA0NTIHdW5pMDQ1NAd1bmkwNDU5B3VuaTA0NUEHdW5pMDQ1Qgd1bmkwNDVGB3VuaTA0NjAHdW5pMDQ2MQd1bmkwNDYzB3VuaTA0NjQHdW5pMDQ2NQd1bmkwNDY2B3VuaTA0NjcHdW5pMDQ2OAd1bmkwNDY5B3VuaTA0NkEHdW5pMDQ2Qgd1bmkwNDZDB3VuaTA0NkQHdW5pMDQ2RQd1bmkwNDZGB3VuaTA0NzIHdW5pMDQ3Mwd1bmkwNDc0B3VuaTA0NzUHdW5pMDQ3QQd1bmkwNDdCB3VuaTA0N0MHdW5pMDQ3RAd1bmkwNDdFB3VuaTA0N0YHdW5pMDQ4MAd1bmkwNDgxB3VuaTA0ODIHdW5pMDQ4Mwd1bmkwNDg0B3VuaTA0ODUHdW5pMDQ4Ngd1bmkwNDg3B3VuaTA0ODgHdW5pMDQ4OQd1bmkwNDhBB3VuaTA0OEIHdW5pMDQ4RAd1bmkwNDhFB3VuaTA0OEYHdW5pMDQ5MAd1bmkwNDkxB3VuaTA0OTQHdW5pMDQ5NQd1bmkwNDk2B3VuaTA0OTcHdW5pMDQ5QQd1bmkwNDlCB3VuaTA0OUMHdW5pMDQ5RAd1bmkwNEEwB3VuaTA0QTEHdW5pMDRBMgd1bmkwNEEzB3VuaTA0QTQHdW5pMDRBNQd1bmkwNEE2B3VuaTA0QTcHdW5pMDRBOAd1bmkwNEE5B3VuaTA0QjIHdW5pMDRCMwd1bmkwNEI0B3VuaTA0QjUHdW5pMDRCNgd1bmkwNEI3B3VuaTA0QjgHdW5pMDRCOQd1bmkwNEJBB3VuaTA0QkMHdW5pMDRCRAd1bmkwNEMzB3VuaTA0QzQHdW5pMDRDNQd1bmkwNEM2B3VuaTA0QzcHdW5pMDRDOAd1bmkwNEM5B3VuaTA0Q0EHdW5pMDRDRAd1bmkwNENFB3VuaTA0RDgHdW5pMDRFMAd1bmkwNEUxB3VuaTA0RkEHdW5pMDRGQgd1bmkwNEZDB3VuaTA0RkQDZl9sBWZfZl9pBWZfZl9sCGNyb3NzYmFyBUsuYWx0C2N5cmlsbGljdGljDGN5cmlsbGljaG9vawx1bmkwMDZBLmNjbXAMdW5pMDQ1OC5jY21wDHVuaTAwNjkuY2NtcAx1bmkwNDU2LmNjbXAHdW5pMDQwMQd1bmkwNDAzB3VuaTA0MDUHdW5pMDQwNgd1bmkwNDA3B3VuaTA0MDgHdW5pMDQxQQd1bmkwNDBDB3VuaTA0MEUHdW5pMDQxMAd1bmkwNDEyB3VuaTA0MTMHdW5pMDQxNQd1bmkwNDE5B3VuaTA0MUMHdW5pMDQxRAd1bmkwNDFFB3VuaTA0MUYHdW5pMDQyMAd1bmkwNDIxB3VuaTA0MjIHdW5pMDQyNQd1bmkwNDMwB3VuaTA0MzUHdW5pMDQzOQd1bmkwNDNFB3VuaTA0NDAHdW5pMDQ0MQd1bmkwNDQzB3VuaTA0NDUHdW5pMDQ1MQd1bmkwNDUzB3VuaTA0NTUHdW5pMDQ1Ngd1bmkwNDU3B3VuaTA0NTgHdW5pMDQ1Qwd1bmkwNDVFB3VuaTA0MDAHdW5pMDQwRAd1bmkwNDUwB3VuaTA0NUQHdW5pMDQ3MAd1bmkwNDcxB3VuaTA0NzYHdW5pMDQ3Nwd1bmkwNDc5B3VuaTA0NzgHdW5pMDQ5OAd1bmkwNDk5B3VuaTA0QUEHdW5pMDRBQgd1bmkwNEFFB3VuaTA0QUYHdW5pMDRDMAd1bmkwNEMxB3VuaTA0QzIHdW5pMDRDRgd1bmkwNEQwB3VuaTA0RDEHdW5pMDREMgd1bmkwNEQzB3VuaTA0RDQHdW5pMDRENQd1bmkwNEQ2B3VuaTA0RDcHdW5pMDREQQd1bmkwNEQ5B3VuaTA0REIHdW5pMDREQwd1bmkwNEREB3VuaTA0REUHdW5pMDRERgd1bmkwNEUyB3VuaTA0RTMHdW5pMDRFNAd1bmkwNEU1B3VuaTA0RTYHdW5pMDRFNwd1bmkwNEU4B3VuaTA0RTkHdW5pMDRFQQd1bmkwNEVCB3VuaTA0RUMHdW5pMDRFRAd1bmkwNEVFB3VuaTA0RUYHdW5pMDRGMAd1bmkwNEYxB3VuaTA0RjIHdW5pMDRGMwd1bmkwNEY0B3VuaTA0RjUHdW5pMDRGOAd1bmkwNEY5B3VuaTA0QUMHdW5pMDRBRAd1bmkwNENCB3VuaTA0Q0MHdW5pMDRGNgd1bmkwNEY3B3VuaTA0QkUHdW5pMDRCRgd1bmkwNEJCB3VuaTA0OEMHdW5pMDQ2Mgd1bmkwNDkyB3VuaTA0OTMHdW5pMDQ5RQd1bmkwNDlGB3VuaTA0QjAHdW5pMDRCMQd1bmkwNEZFB3VuaTA0RkYAAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAHQkAJAIVxXUk1AAcAKrEAB0JAEIsBeAhkCFAIPAgqBx4EBwgqsQAHQkAQjACCBm4GWgZGBjMFJAIHCCqxAA5CQQkjAB5AGUAUQA9ACsAHwAAHAAkqsQAVQkEJAAAAQABAAEAAQABAAEAABwAJKrEDAESxJAGIUViwQIhYsQMARLEmAYhRWLoIgAABBECIY1RYsQNkRFlZWVlAEIwAeghmCFIIPggsByAEBwwquAH/hbAEjbECAESzBWQGAEREAAAA") format("truetype");\n}\n.video-js {\n  display: block;\n  vertical-align: top;\n  box-sizing: border-box;\n  color: #fff;\n  background-color: #000;\n  position: relative;\n  padding: 0;\n  font-size: 10px;\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  font-family: "Roboto", sans-serif;\n  word-break: initial;\n}\n.video-js:-moz-full-screen {\n  position: absolute;\n}\n.video-js:-webkit-full-screen {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.video-js[tabindex="-1"] {\n  outline: none;\n}\n\n.video-js *,\n.video-js *:before,\n.video-js *:after {\n  box-sizing: inherit;\n}\n\n.video-js ul {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  list-style-position: outside;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.video-js.vjs-fluid,\n.video-js.vjs-16-9,\n.video-js.vjs-4-3,\n.video-js.vjs-9-16,\n.video-js.vjs-1-1 {\n  width: 100%;\n  max-width: 100%;\n  height: 0;\n}\n\n.video-js.vjs-16-9 {\n  padding-top: 56.25%;\n}\n\n.video-js.vjs-4-3 {\n  padding-top: 75%;\n}\n\n.video-js.vjs-9-16 {\n  padding-top: 177.7777777778%;\n}\n\n.video-js.vjs-1-1 {\n  padding-top: 100%;\n}\n\n.video-js.vjs-fill {\n  width: 100%;\n  height: 100%;\n}\n\n.video-js .vjs-tech {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody.vjs-full-window {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n}\n\n.vjs-full-window .video-js.vjs-fullscreen {\n  position: fixed;\n  overflow: hidden;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.video-js.vjs-fullscreen:not(.vjs-ios-native-fs) {\n  width: 100% !important;\n  height: 100% !important;\n  padding-top: 0 !important;\n}\n\n.video-js.vjs-fullscreen.vjs-user-inactive {\n  cursor: none;\n}\n\n.vjs-hidden {\n  display: none !important;\n}\n\n.vjs-disabled {\n  opacity: 0.5;\n  cursor: default;\n}\n\n.video-js .vjs-offscreen {\n  height: 1px;\n  left: -9999px;\n  position: absolute;\n  top: 0;\n  width: 1px;\n}\n\n.vjs-lock-showing {\n  display: block !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n.vjs-no-js {\n  padding: 20px;\n  color: #fff;\n  background-color: #000;\n  font-size: 18px;\n  font-family: "Roboto", sans-serif;\n  text-align: center;\n  width: 300px;\n  height: 150px;\n  margin: 0px auto;\n}\n\n.vjs-no-js a,\n.vjs-no-js a:visited {\n  color: #66A8CC;\n}\n\n@font-face {\n  font-family: "nutplayer";\n  src: url(data:font/woff;base64,d09GRgABAAAAABcoAA8AAAAAJ0QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAARAAAAGA+I1N0Y21hcAAAAdgAAACaAAACSvb11ZJjdnQgAAACdAAAAAsAAAAOAAAAAGZwZ20AAAKAAAAG7QAADgxiLvl6Z2FzcAAACXAAAAAIAAAACAAAABBnbHlmAAAJeAAACk4AAA/gauoxzWhlYWQAABPIAAAAMgAAADYiOdvzaGhlYQAAE/wAAAAgAAAAJAoVBkxobXR4AAAUHAAAAC8AAABEQ4D//WxvY2EAABRMAAAAJAAAACQksig4bWF4cAAAFHAAAAAgAAAAIAFNDyFuYW1lAAAUkAAAAYEAAALZDl3Q0nBvc3QAABYUAAAAlwAAAOe/A8RjcHJlcAAAFqwAAAB6AAAAnH62O7Z4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgYf7BOIGBlYGBqYppDwMDQw+EZnzAYMjIBBRlYGVmwAoC0lxTGA68YPgoyBz0P4shinkNwzSgMCOKIiYApQsNHnic7ZHLDcIwEESfkxB+IYQWOFMIBXGiSsqYKxWEsTNlsNLzyms7iuYBO6A3DzNAeVOo9fK0tHnPqc0Hnt6P7oVO8/e2riC27io+u7fe+c3gL4/sOXD0+zMTF2auLL4w8q+prZ/slprkRk1dwUmiUC0pVFMK1aCCE0fB2aNgCyjYBwrVrIIdoVD/TsHeULBBFOzS7jdYfmZMKkoAAHicY2BABgAADgABAHicrVdrWxvHFZ7VDYwBA0LYzbruKGNRlx3JJHEcYisO2WVRHCWpwLjddW67SLhNk16S3ug1vV+UP3NWtE+db/lpec/MSgEH3KfPUz7ovDPzzpzrnFlIaEnifhTGUnYfifmdLlXuPYjohkvX4uShHN6PqNBIP5sW06LfV/tuvU4iJhGorZFwRJD4TXI0yeRhkwpa1VW9SUUtB0fF5ZrwA6oGMkn8rLAc+FmjGFAh2DuUNKsAgnRApd7hqFAo4BiqH1yu8+xovub4lyWg8kdVp4o1RaIXHcSjFadgFJY0FT2qBRHro5UgyAmuHEj6vEel1Qeja85cEPZDqoRRnYqNePetCGR3GEnq9TC1CTZtMNqIY5lZNiy6hql8JGmd19eZ+XkvkojGMJU004sSzEhem2F0k9HNxE3iOHYRLZoN+iR2IxJdJtcxdrt0hdGVbvpoQfSZ8ags9uN4kMbkeHGcexDLAfxRftykspawoNRI4dNU0ItoSvk0rXxkAFuSJlVMuBEJOcim9n3Ji+yua83nXxJJ2KfyWh2LgRzKIXRl6+UGIrQTJT033Y0jFddjSZv3Iqy5HJfclCZNaToXeCNRsGmexlD5CuWi/JQK+w/J6cMQmlpr0jkt2dp5uFUS+5JPoM0kZkqyZayd0aNz8yII/bX6pHDO65OFNGtPcTyYEMD1RIZDlXJSTbCFywkh6cLIsZVIrUq3rIq5M7bTVewS7peuHd80r41DR3OzohhCi6vq8RqK+ILOCoWQBulWkxY0qFLSheA1PgAAGaIFHu1itGDytYiDFkxQJGLQh2ZaDBI5TCQtImxNWtLdvSgrDbbiqzR3oA6bVNXdnah7z066dcxXzfyyzsRScD/KlpYCclKfFj2+cigtP7vAPwv4IWcFuSg2elHG4YO//hAZhtqFtbrCtjF27TpvwU3mmRiedGB/B7Mnk3VGCjMhqgrxQkHdGTmOY7JV0yIThXAvoiXly5DmUX5ziHDiy+Q/ly45YlFUhe/7HIFlrDlptjzt0aee+zTCtQIfa16TLurMYXkJ8Wb5NZ0VWT6lsxJLV2dllpd1VmH5dZ1Nsbyis2mW39DZOZaeVuP4UyVBpJVskfMO35Ym6WOLK5PFj+xi89ji6mTxY7sotaAL3pl+wql/W1fZz+P+1eGfhF1Pwz+WCv6xvAr/WDbgH8tV+Mfym/CP5TX4x/Jb8I/lGvxj2dKybQr2uobaS4lE03OSwKQUl7DFNbuu6bpH13Efn8FV6MgzsqnSDcWN/YkMl71/dpzibL4ScsXRM2tZ2amFEZoie/ncsfCcxbmh5fPG8udxmuWEX9WJa3uqLTwvVv4l+G/rjtrIbjg19vUm4gEHTrcflyXdaNILunWx3aSN/0ZFYfdBfxEpEisN2ZIdbgkI7d3hsKM66CERHj50XbxIG45TW0aEb6F3rdBF0Epopw1Dy2aFT+cD72DYUlK2hzjz9kmabNnzqKL8MVtSwj1lcyc6KsmydI9Kq+WnYp877QyatjI71HZCleDx65pwt7OvUilIBorKeFSxXApSFzjhTvf4nhSmof+rbeRYQcM2v1gzgdGC805RomxPraCJIBllFFz5K6fiRDaiwUYU8Zt30i91oRDa41hIzJZX81ioNsL00mSJZsz6tuqwUs7inUkI2RkbaRJ7UUu28aCz9fmkZLvyVFClgdHd498uNomnVXueLcUl//IxS4JxuhL+wHnc5XGKN9E/WhzFbboYRD0Xb6psx61s3VnGvX3lxOqu2zux6p+690k7Ak23vCcp3NJ02xvCNq4xOHUmFQlt0Tp2hMZlrs9VG/kUH2i+dZ0LVOH6tHDz7PnbOpvBWzPe8j+WdOf/VcXsE/extkKrOlYv9Ti3s4MGfMsbR+VVjG57dZXHJfdmEoK7CEHNXnt8jeCGV1t0E7f8tTPmuzjOWa7SC8Cva3oR4g2OYohwy208vONovam5oOkNwG/rkRDbAD0Ah8GOHjlmZhfAzNxjTgdgjzkM7jOHwXeYw+C7+gi9MACKgByDYn3k2LkHQHbuLeY5jN5mnkHvMM+gd5ln0HusMwRIWCeDlHUy2GedDPrMeRVgwBwGB8xh8JA5DL5n7NoC+r6xi9H7xi5GPzB2MfrA2MXoQ2MXox8auxj9yNjF6MeIcXuSwJ+YEW0CfmThK4Afc9DNyMfop3hrc87PLGTOzw3HyTm/wOaXJqf+0ozMjkMLecevLGT6r3FOTviNhUz4rYVM+B24dybn/d6MDP0TC5n+BwuZ/kfszAl/spAJf7aQCX8B9+XJeX81I0P/m4VM/7uFTP8HduaEf1rIhKGFTPhUj86bL1uquKNSoRjinya0wdj3aPqAild7h+PHuvkFJdoBQQAAAAABAAH//wAPeJytV2lsXNUVvufe9+7bZzzLezOe1R7bs3jGYzyeJYs9HpPIQOzEDlkcg8FxCjIhDWUJhKDiOC1GbUKldFFV0dKEP02lSlWRQqsuUhFBFa0UVa3En/6wyo9KlNKqSIhKVWbouW/GWVChP+hodJdz7zn3nu+ce855hBLy0Tm2g40Qg0SI+mrIy4GW8oE0t31BpwbVcgbKdQhBArgCvAiVNSMcNuiCaTaL5d39dKEvEulrXurfXaZ/UDxW83bLo8CSElFgOjfmCbZeDk5Pi9YzliP4E+d9ixZZFs8LEbvhp0CArDMAeMq2bb/EI/lAOZ1yjy9VK3DT+Pup21L4h/Ptnv4jnEqFr/1ZtKznxpjIeMbj0o/YOJ5QJDvIfeQkebBx5BjoGsyIK6wTqtJ1okrqOpEUaZ3IOtdlvkYMzrjB1ggDzmCVADxHFKLpirZCcF2fJ7rOlwjX+eyTJx49vvLg8uHFhf17w/Fwd9xn8lge8LLBkBNyggpXOF66Vq1VuzJpuVoSVEFMpcuCmEln0mXlVnIdBHGgjlijxh5ID0M6D6n0OJSr26E0gVhwL3gAaTwOQQdpThI3VyvsL3rM1ueLhUJxXrdj+vLoyMho669GTF/sTSZ7F8XqbCwajc3qZ5BYDeCvKoi5WCynt34fqJVTqXIt8ATX1wcqlYF1Tblq+fgJqz+4rlqWuh7st05wn8VG9WBcn3/s+N+OPzYv+JdXT4FyajVnGPc+e+rUs4vi8NmHH1o5tseInTGM6l133LGrKoi548ezRuyLIU9gKNH8ZXIo4AmdUysDG+mKcrdmgnKuy2dqG6rl855TwNCJhDZ8mv2J7SQBkiFjZI58rnG4yqkCEZAYnSGUowVBVVRQ1tBIqkJWCWEqYasGMEll0irhRAWuruggybI0j50kL5kalSV5tj6+664dk+Nz9dmKXRmt2KMVv8WT+YDwsw7c1bIAH32vXC05m3AHuTBIpb1DULlrHtdMAbShyygEtBf7PN2psMqv+MJh35Xs1lsm9DR2uS3hvjYt55K5ivMtOdpz86z58xuzrVk26UfalU3StS9sSnClijcmsHuWvcUmiEls9P6r5JnGyYUIVfhcH6Xkp6uU0TsKFFi9QjVVntFB4YQrZA3x0kDV1kyQcC7xowbgc2GEHiUMsWZwlGiyrC0QTZOXiazJe0MOkN/99sXvfOPrDx89cnj7Fue+0GIw0OVFgSaYFncQGA8EE1CqQ7kIigBGYBZIoSdn2u6cBMUDAmAccNehJyCUAIEkDhxs6jAM+DoE0DioYlMEZC9Cn1KHziuguK/qcguZCRAjYQIvxi0h1XHPEpwe6DwiIYeKDa5AcUzR3SDshzMq3p97upCFjxY+yO7IZnfMieaJQr2A/2JPSfFPRSdCuZDiG9rbk80l9w75FJxORKf8SqlnW3tDI5TFDYW5ZC7bM1fADdlQo71hNxjKNsUAh/mjcWs/98hZmUpVlRqO54iiqsqRuCVTtSpRXPDw/WY8GmBOh8mWAtGYeYB7pJxEGTLpoQ6TJ6QjE6NSTrb4ATNuxVR4v3N3bL6ZFLcvUJJL3nqdbbcqJO77qQr1ZA+1z3OMmy5pxaP+G5dUY1YcL2nJn3xJyYOXjEUDkn0djkA0bt4Eh2zFN327HReCJEcmyD7y+cZRDphEZmQ3kxCFalTR0Jd1Q1cNEdN1g69awPlzEoDJKMYQuuIBTde1eew0fYnomj472cgPOvbumamdjX2Td2+tlUcGJ/ITqd5ot51zshggvLw776Yj4VYiNLghoQ4VuRMr3EjgLidglLnTtnu2twu2TS43oLiRIt0HJ924sOHr7vZtRIYidKs/HPZvyFo41Y3Tmk+0G5u05gvuPnz5qe4tORa5Ze8yStLk9l6cNl9q95tUOHrTem6LwBPcWPEVdifG2FJjuKZhgMAkSRFoKq0JwBmR8PkDsAXCGCwTYLA3HoskbJlH81gf4CMRz5eLLGa7yc/NepWySHH4+AXFdvNhSlAqIs/VbISoRlOquqja3uP3LIyWx7Y/sPL+ygPbx3p6tmrRAGgj0Vi5dPDQ1UMHS+XC4Lfv9doqfU21lUUVPMaEWR9fWn70lGBAzoeePji3e1z3R7Xy7Tt3rQgWwbty/91zD5tbDA+oQleGup5nL7EC1h69pEF2N3b19zkeS+asArJUBpDZZn3AMLswzrA0kDB9wJpbC3BJ4vOEc2mJSFyanRjbUhsaHOi2fYqoWtzcD2jVcob5Mj43WXMlM4qJG/FAFKCSEaWMG9owIGFoq2XcLF90o9GSHg3qrCzaF/Z32crZYGLPkKmcDaV6JgJ2891pNV6KX9wkTEBXUDnblQ9f1L3Mqwej+rWroqUbLXM/XDTRs3/Qre3RLsVUNRSJNf/9znTAaX0YH413SHXDBO2S3/Z2cHkLcQmSMtlDdjQaaH4si1wosBTigDWRzOTnkaBgDl4hSHGRYEsCpdmZu3ZOjo/VqvlsbyLsU3kYHeO/lDaZMsZsRcDipoWPYYFlTB0cJPLrkFR87YxaY3mzz5wMOU5o0uwLmyOp1Ij5Yzsw0ZMKnVXMC4lSPF5KXLgO1pridHU5yllvIXxB93r1C+GCl540zclDBw4emjTDfebIl780YqbmBmKRkKrGLmnI3voQxWziNUDf1MBjNu90gQzYXh10w2MHNmPQeelVxCtMhshuskKmG3cSLDfWCaccnUcSzqPKKpPXFHQqeB5ZNFXCKhJJ6jxRVXmJyKo8++CR++45eGBudufktlo40e3T0Y86yAVvKhbLn1wtfgZI/4iQ7ssPDub3CUinBvr7B6bM735mnFnCNPcdW3l75dg+sztlTi0uvHZoccpMvfh/gV/Eq6+yq6yGdaG3YXYB2YUWeSoEPJTHLK1gZldSGUij2iENUzf7SUAzmv9SHCvqa71p8VTeAgPeNgZZ3sj7r/3asMCGl32DUcXX+h6DgNaJE4/wr7E9pJ/chjlG/9lYuZgJAiuhcYQJ4tDuEVhhjQzYnR4tgvYaKKfxU0nEAvH9UnQv5eAMUwX9YaE0nOyl04WR4Z7e3p7hkULz1d7kcKnQvDzY5fV2DdJXkl3Ny14vnelKsrDX0ZuXdVXV6YzueNloRFP706PvweH2oFkfTferWgQOv9cZLEeKhaFi99/9fq11QesXjd9PXzd9Em9d4LYtWslndnS84uo46uo4Xr0ta7o6pt1Q7nNjeQ3sTt/+aGkvxmHg1o9CrJhQwSBOsDh2bihHp13l6ExbueZlV/3mHOqFGqFeqB3qFU520Rmvt3kZdR79H6ph3wbhvY8rRV+/RWvXV87TrfhOfSTUCEpYH2Bqw3bddZkwxTgVQDtp4H6qud+66dSMZcGZ1mkrMmDBRY+nddgaYAmr39M6jcSBiCC6K+3ceR6anypfgKKBqHlRdhnPKME/Lat1Gs6IA1pLeNjLn3QAfNT86BW2xAys430Nz3XJdsCVjF+IqSKtQymBufnx37zz5iP8mV998ItVuP/JN06ceONd0fwHSUB+kwAAeJxjYGRgYADizdYZB+L5bb4y8DO/AIow3NP20YTR///+z2M7zOwH5HIwMIFEAVKHDDsAAHicY2BkYGAO+p/FwMB27f/f/7/YDjMARVCAIACyHQdseJxjfsHAwBzEwMAUwcDAsgPIfoGEZwPxNgib5RGEZrsGwUzWEMwc+f8vALJKDbUAAAAAAAA4AGoBTAHqA1gEAAR2BQIFmgZYBooG/AduB54HzgfwAAEAAAARAM4ABQAAAAAAAgAeAEUAjQAAAIsODAAAAAB4nHWQy07CQBSG/+FmhMQFJq5no4GYFKhx48KQEHXnwgWuBxjaYuk004GElW/hO/hAbn0W/5YJMV7azPQ735yec1oAXXxCYH9dc+1Z4JjRnms4wq3nOv2d5wb50XMTHTx7btHPPLdxiRfPHZzijRVE45jRCu+eBbri1HMNJ+Lcc53+ynODfOe5iTPx7LlFv/bcxlS8eu7gQnxMTL6zSRQ72Zv0ZTgMQznbSUOVZCqVauNiYws5lkuTOZ2mJpibdbZxeap22j7paJMqe4gPMNW2SEwmR8Hw4B50pq1yelF2KLZR6NxSLq1Zy3tfW+bWrPTcBbFz+c1g8L0nJjDIsYNFgggxHCR6tH0+Qwy5QtKMGZKZ+6wEGRRSGoUN34irk4LxmGvJKKPVzEjJAebc13Rlbk6nWE3zjSfuEW1p7B/nv8202gtOUPaQGLH68I+8B+5ZRaqaZHH4hgJb9gxpHSctp7XVdBL3P+aWrFierWjm9EH1d8o+Nxjw/uc7vwA5HIi3AAAAeJxtytsOgjAURNGOAkIRFH+wacoBG3shvUj8e6No4oP7aWUybMe2OPvfgB32KFCiwgE1GnC0OKJDjxPOGHBhxWLko1xkjlRmp73rpmxMVIHICe/qSClpN8f+d56mUs5Su/buTbYkbE7EPzZ+/dLqsYtkSCUahU5km0h0E4amxN8Ker6mVobg18188+tRKR2UIcaeEPo9vAB4nGPw3sFwIihiIyNjX+QGxp0cDBwMyQUbGdidNjIwaEFoLhR6JwMDAzcSaycDMwODy0YVxo7AiA0OHREgforLRg0QfwcHA0SAwSVSeqM6SGgXRwMDI4tDR3IITAIENjLwae1g/N+6gaV3IxODy2bWFDYGFxcAlBwqBwAA);\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-play, .nut-skin-wrapper .vjs-play-control .vjs-icon-placeholder, .nut-skin-wrapper .vjs-big-play-button .vjs-icon-placeholder:before {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-play:before, .nut-skin-wrapper .vjs-play-control .vjs-icon-placeholder:before, .nut-skin-wrapper .vjs-big-play-button .vjs-icon-placeholder:before {\n  content: "\\e800";\n}\n\n.nut-icon-pause, .vjs-playing .vjs-play-control .vjs-icon-placeholder, .video-js.vjs-playing .vjs-big-play-button .vjs-icon-placeholder {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-pause:before, .vjs-playing .vjs-play-control .vjs-icon-placeholder:before, .video-js.vjs-playing .vjs-big-play-button .vjs-icon-placeholder:before {\n  content: "\\e801";\n}\n\n.nut-icon-play-again, .vjs-ended .vjs-play-control .vjs-icon-placeholder, .video-js.vjs-ended .vjs-big-play-button .vjs-icon-placeholder {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-play-again:before, .vjs-ended .vjs-play-control .vjs-icon-placeholder:before, .video-js.vjs-ended .vjs-big-play-button .vjs-icon-placeholder:before {\n  content: "\\e806";\n}\n\n.nut-icon-volume-mute {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-volume-mute:before {\n  content: "\\e807";\n}\n\n.nut-icon-volume-high {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-volume-high:before {\n  content: "\\e802";\n}\n\n.nut-icon-volume-mid {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-volume-mid:before {\n  content: "\\e809";\n}\n\n.nut-icon-volume-low {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-volume-low:before {\n  content: "\\e808";\n}\n\n.nut-icon-seek-left, .nut-skin-wrapper .nut-central-seek-button.seek-button--left .vjs-icon-placeholder:before {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-seek-left:before, .nut-skin-wrapper .nut-central-seek-button.seek-button--left .vjs-icon-placeholder:before {\n  content: "\\e80b";\n}\n\n.nut-icon-seek-right, .nut-skin-wrapper .nut-central-seek-button.seek-button--right .vjs-icon-placeholder:before {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-seek-right:before, .nut-skin-wrapper .nut-central-seek-button.seek-button--right .vjs-icon-placeholder:before {\n  content: "\\e80c";\n}\n\n.nut-icon-circle, .video-js .vjs-volume-level {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-circle:before, .video-js .vjs-volume-level:before {\n  content: "\\f111";\n}\n\n.nut-icon-selected-item, .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-selected:before {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-selected-item:before, .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-selected:before {\n  content: "\\e80a";\n}\n\n.nut-icon-arrow-right {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-arrow-right:before {\n  content: "\\e80d";\n}\n\n.nut-icon-arrow-left, .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.setting-menu-header:before {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n}\n.nut-icon-arrow-left:before, .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.setting-menu-header:before {\n  content: "\\e80e";\n}\n\n.nut-skin-wrapper {\n  display: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));\n  z-index: 1;\n}\n.nut-skin-wrapper .top-background {\n  display: none;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .top-background {\n  display: block;\n  position: absolute;\n  height: 150px;\n  left: 0;\n  right: 0;\n  top: 0;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.72) 0%, rgba(0, 0, 0, 0) 100%);\n  transform: matrix(-1, 0, 0, 1, 0, 0);\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .top-background {\n  display: block;\n  position: absolute;\n  height: 150px;\n  left: 0;\n  right: 0;\n  top: 0;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.72) 0%, rgba(0, 0, 0, 0) 100%);\n  transform: matrix(-1, 0, 0, 1, 0, 0);\n}\n\n.bottom-background {\n  display: none;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .bottom-background {\n  display: block;\n  position: absolute;\n  height: 150px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.72) 100%);\n  transform: matrix(-1, 0, 0, 1, 0, 0);\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .bottom-background {\n  display: block;\n  position: absolute;\n  height: 150px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.72) 100%);\n  transform: matrix(-1, 0, 0, 1, 0, 0);\n}\n\n.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper,\n.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper {\n  background: none;\n}\n\n.vjs-loaded .nut-skin-wrapper {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  transition: visibility 0.1s, opacity 0.1s;\n}\n\n.vjs-has-started.vjs-user-inactive.vjs-playing .nut-skin-wrapper {\n  visibility: visible;\n  opacity: 0;\n  pointer-events: none;\n  transition: visibility 1s, opacity 1s;\n}\n\n.vjs-controls-disabled .nut-skin-wrapper,\n.vjs-using-native-controls .nut-skin-wrapper {\n  display: none !important;\n}\n\n.vjs-error .nut-skin-wrapper {\n  display: block;\n}\n\n.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .nut-skin-wrapper {\n  opacity: 1;\n  visibility: visible;\n}\n\n.video-js button {\n  background: none;\n  border: none;\n  color: inherit;\n  display: inline-block;\n  font-size: inherit;\n  line-height: inherit;\n  text-transform: none;\n  -webkit-text-decoration: none;\n  text-decoration: none;\n  transition: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n\n.vjs-control .vjs-button {\n  height: 100%;\n  padding: 0;\n}\n\nbutton .vjs-icon-placeholder:hover,\n.vjs-control:hover .vjs-icon-placeholder:before {\n  color: rgba(255, 255, 255, 0.8) !important;\n}\n\n.vjs-control .nut-svg-container:hover svg path {\n  fill: rgba(255, 255, 255, 0.8) !important;\n}\n\n.vjs-control:hover .nut-svg-container svg path {\n  fill: rgba(255, 255, 255, 0.8) !important;\n}\n\n.nut-svg-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n.nut-svg-container svg {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.nut-svg-container:hover svg path {\n  fill: rgba(255, 255, 255, 0.8);\n}\n\n.nut-skin-wrapper .nut-central-panel {\n  position: absolute;\n  width: 100%;\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  transform: none;\n  top: 0;\n  height: calc(100% - 48px);\n  z-index: 3;\n  cursor: pointer;\n  align-items: center;\n}\n.video-js.vjs-layout-small .nut-skin-wrapper .nut-central-panel .nut-central-button {\n  margin-top: 44px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .nut-central-panel {\n  transform: none;\n  top: 0;\n  height: calc(100% - 50px);\n  z-index: 3;\n  cursor: pointer;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .nut-central-panel {\n  transform: none;\n  top: 0;\n  height: calc(100% - 90px);\n  z-index: 3;\n  cursor: pointer;\n}\n\n.vjs-layout-medium.vjs-waiting .nut-central-panel,\n.vjs-layout-medium.vjs-seeking .nut-central-panel,\n.vjs-layout-medium.vjs-quality-loader .nut-central-panel,\n.vjs-layout-medium.vjs-loading .nut-central-panel,\n.vjs-layout-huge.vjs-waiting .nut-central-panel,\n.vjs-layout-huge.vjs-quality-loader .nut-central-panel,\n.vjs-layout-huge.vjs-loading .nut-central-panel,\n.vjs-layout-huge.vjs-seeking .nut-central-panel {\n  display: none;\n}\n\n.video-js .nut-bottom-panel {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 3;\n}\n\n.nut-skin-wrapper .vjs-control-bar {\n  display: flex;\n  align-items: stretch;\n  height: 38px;\n  position: relative;\n  margin: 0 8px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar {\n  height: 38px;\n  margin: auto;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar {\n  height: 75px;\n  margin: auto;\n}\n\n.nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) {\n  position: absolute;\n  width: 37px;\n  height: 34px;\n  right: 2px;\n  margin-top: 1px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) {\n  position: absolute;\n  right: 6px;\n  width: 36px;\n  height: 36px;\n  bottom: 4px;\n  margin-top: auto;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) {\n  position: absolute;\n  right: 10px;\n  width: 60px;\n  height: 60px;\n  margin-top: 4px;\n}\n\n.nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) .vjs-menu {\n  left: -161px !important;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) .vjs-menu {\n  left: -265px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) .vjs-menu {\n  left: -251px !important;\n}\n\n.video-js.vjs-layout-small .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1)[role~=tooltip][data-tooltip-position|=top]::before, .vjs-layout-small .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) [role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -9px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1)[role~=tooltip][data-tooltip-position|=top]::before, .vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) [role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -9px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1)[role~=tooltip][data-tooltip-position|=top]::before, .vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) [role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -15px;\n}\n\n.video-js.vjs-layout-small .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1)[role~=tooltip][data-tooltip-position|=top]::after, .vjs-layout-small .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: 1px;\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1)[role~=tooltip][data-tooltip-position|=top]::after, .vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: 1px;\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1)[role~=tooltip][data-tooltip-position|=top]::after, .vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(1) [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -4px;\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n.nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) {\n  position: absolute;\n  width: 37px;\n  right: 42px;\n  height: 35px;\n  margin-top: 3px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) {\n  position: absolute;\n  right: 53px;\n  width: 36px;\n  height: 36px;\n  bottom: 3px;\n  margin-top: auto;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) {\n  position: absolute;\n  right: 79px;\n  margin-top: 4px;\n  width: 60px;\n  height: 60px;\n}\n\n.video-js.vjs-layout-small .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) [role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -7px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) [role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -9px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) [role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -15px;\n}\n\n.video-js.vjs-layout-small .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -2px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -4px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-control-bar .vjs-controlbar-right-button:nth-last-child(2) [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -9px;\n}\n\n.vjs-has-started.vjs-no-flex .vjs-control-bar {\n  display: table;\n}\n\n.vjs-control-bar .vjs-playback-rate {\n  display: none;\n}\n\n.video-js .vjs-control {\n  position: relative;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  flex: none;\n}\n\n.vjs-button > .vjs-icon-placeholder:before {\n  font-size: 18px;\n  line-height: 1.67em;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-button > .vjs-icon-placeholder:before {\n  line-height: 2.5em;\n}\n\n.vjs-button > .vjs-icon-placeholder {\n  display: block;\n}\n\n.video-js .vjs-control-text {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.vjs-no-flex .vjs-control {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n@keyframes press-pause {\n  0% {\n    content: "\\e801";\n    transform: scaleX(1);\n  }\n  50% {\n    content: "\\e801";\n    transform: scaleX(0);\n  }\n  51% {\n    content: "\\e800";\n  }\n  100% {\n    content: "\\e800";\n    transform: scaleX(1);\n  }\n}\n@keyframes press-play {\n  from {\n    content: "\\e800";\n    transform: scaleX(1);\n  }\n  50% {\n    content: "\\e800";\n    transform: scaleX(0);\n  }\n  51% {\n    content: "\\e801";\n  }\n  to {\n    content: "\\e801";\n    transform: scaleX(1);\n  }\n}\n@keyframes big-button-blink-pause {\n  0% {\n    visibility: visible;\n    opacity: 1;\n  }\n  50% {\n    visibility: visible;\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 0;\n    visibility: visible;\n  }\n}\n@keyframes big-button-blink-play {\n  0% {\n    visibility: visible;\n    opacity: 1;\n  }\n  50% {\n    visibility: visible;\n    opacity: 0.5;\n  }\n  100% {\n    visibility: visible;\n    opacity: 0;\n  }\n}\n.nut-skin-wrapper .vjs-big-play-button {\n  font-size: 24px;\n  display: block;\n  padding: 0;\n  cursor: pointer;\n  opacity: 1;\n  width: 46px;\n  margin: 0 41px;\n  height: 46px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button {\n  background: rgba(0, 0, 0, 0.4);\n  width: 80px;\n  height: 80px;\n  border-radius: 64px;\n  font-size: 40px;\n  visibility: hidden;\n  position: absolute;\n  top: calc(50% + 25px);\n  transform: translateY(-50%);\n  margin: 0 21px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button {\n  background: rgba(0, 0, 0, 0.5);\n  width: 124px;\n  height: 124px;\n  border-radius: 128px;\n  font-size: 62px;\n  visibility: hidden;\n  position: absolute;\n  top: calc(50% + 45px);\n  transform: translateY(-50%);\n  margin: 0 21px;\n}\n\n.nut-skin-wrapper .vjs-big-play-button.animation-press-pause {\n  animation: 1s linear 0s alternate big-button-blink-pause;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button.animation-press-pause .vjs-icon-placeholder:before {\n  animation: 0.3s cubic-bezier(0, 0.99, 0.89, 0.2) 0s alternate press-pause;\n  transform-origin: left center;\n  display: block;\n  margin: 0 25px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button.animation-press-pause .vjs-icon-placeholder:before {\n  animation: 0.3s cubic-bezier(0, 0.99, 0.89, 0.2) 0s alternate press-pause;\n  transform-origin: left center;\n  display: block;\n  margin: 0 25px;\n}\n\n.nut-skin-wrapper .vjs-big-play-button.animation-press-play {\n  animation: 1s linear 0s alternate big-button-blink-play;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button.animation-press-play .vjs-icon-placeholder:before {\n  animation: 0.3s cubic-bezier(0, 0.99, 0.89, 0.2) 0s alternate press-play;\n  transform-origin: left center;\n  display: block;\n  margin: 0 25px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button.animation-press-play .vjs-icon-placeholder:before {\n  animation: 0.3s cubic-bezier(0, 0.99, 0.89, 0.2) 0s alternate press-play;\n  transform-origin: left center;\n  display: block;\n  margin: 0 25px;\n}\n\n.nut-skin-wrapper .vjs-big-play-button .vjs-icon-placeholder:before {\n  position: relative;\n  left: 2px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button .vjs-icon-placeholder:before {\n  left: 3px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-big-play-button .vjs-icon-placeholder:before {\n  left: 4px;\n}\n\n.video-js.vjs-ended .vjs-big-play-button {\n  visibility: visible !important;\n}\n\n.vjs-layout-small.vjs-ended.vjs-loading .vjs-big-play-button {\n  visibility: hidden !important;\n}\n\n.vjs-layout-small.vjs-paused.vjs-loading .vjs-big-play-button {\n  visibility: hidden !important;\n}\n\n.video-js.vjs-waiting .vjs-big-play-button,\n.video-js.vjs-quality-loader .vjs-big-play-button,\n.video-js.vjs-seeking .vjs-big-play-button {\n  visibility: hidden;\n}\n\n.video-js.vjs-playing .vjs-big-play-button .vjs-icon-placeholder:before {\n  left: 0 !important;\n}\n\n.video-js.vjs-ended .vjs-big-play-button .vjs-icon-placeholder:before {\n  left: 0 !important;\n}\n\n.nut-skin-wrapper .vjs-play-control {\n  display: none;\n  cursor: pointer;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-play-control {\n  display: block;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-play-control {\n  display: block;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-play-control {\n  margin: 1px 7px 0 8px;\n  width: 36px;\n  height: 36px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-play-control {\n  width: 60px;\n  margin: 4px 0 0 11px;\n  height: 60px;\n}\n\n.nut-skin-wrapper .vjs-play-control .vjs-icon-placeholder {\n  flex: none;\n  width: 51px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-play-control .vjs-icon-placeholder:before {\n  font-size: 20px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-play-control .vjs-icon-placeholder:before {\n  font-size: 25px;\n}\n\n.nut-skin-wrapper .vjs-fullscreen-control {\n  cursor: pointer;\n  flex: none;\n}\n.nut-skin-wrapper .vjs-fullscreen-control .nut-svg-container svg {\n  width: 18px;\n  height: 18px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-fullscreen-control .nut-svg-container svg {\n  width: 24px;\n  height: 24px;\n  margin-top: 2px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-fullscreen-control .nut-svg-container svg {\n  width: 30px;\n  height: 30px;\n  margin-top: 1px;\n}\n\n.nut-skin-wrapper .vjs-fullscreen-control .nut-svg-container.nut-icon-fullscreen-exit svg {\n  display: none;\n}\n\n.video-js.vjs-fullscreen .vjs-fullscreen-control .nut-icon-fullscreen-enter svg {\n  display: none;\n}\n.video-js.vjs-fullscreen .vjs-fullscreen-control .nut-icon-fullscreen-exit svg {\n  display: block;\n}\n\n.nut-skin-wrapper .vjs-current-time {\n  margin-left: 6px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-current-time {\n  margin-left: 5px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-current-time {\n  margin-left: 18px;\n}\n\n.nut-skin-wrapper .vjs-time-control {\n  flex: none;\n  font-size: 12px;\n  line-height: 37px;\n  width: auto;\n  cursor: default;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-time-control {\n  font-size: 16px;\n  margin: 3px 0 0 13px;\n  line-height: 30px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-time-control {\n  font-size: 16px;\n  margin-top: 20px;\n  line-height: 30px;\n}\n\n.nut-skin-wrapper .vjs-time-control .current-time-display {\n  font-size: 11px;\n  padding-right: 4px;\n}\n.nut-skin-wrapper .vjs-time-divider {\n  margin-left: 3px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-time-divider {\n  margin-left: 4px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-time-divider {\n  margin-left: 4px;\n}\n\n.nut-skin-wrapper .vjs-duration {\n  margin-left: 3px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-duration {\n  margin-left: 4px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-duration {\n  margin-left: 4px;\n}\n\n.vjs-live .vjs-time-control {\n  display: none;\n}\n\n.vjs-no-flex .vjs-current-time {\n  display: none;\n}\n\n.vjs-no-flex .vjs-duration {\n  display: none;\n}\n\n.vjs-live .vjs-time-divider {\n  display: none;\n}\n\n.nut-skin-wrapper .vjs-progress-control {\n  cursor: pointer;\n  flex: auto;\n  display: flex;\n  align-items: center;\n  min-width: 4em;\n  touch-action: none;\n  height: 7px;\n  margin: 0 16px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-progress-control {\n  height: 11px;\n  margin: 0 8px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-progress-control {\n  height: 15px;\n  margin: 0 21px;\n}\n\n.nut-skin-wrapper .vjs-progress-control:hover [aria-label][role~=tooltip]::before, .nut-skin-wrapper .vjs-progress-control:hover [aria-label][role~=tooltip]::after {\n  opacity: 1;\n  pointer-events: auto;\n}\n.nut-skin-wrapper .vjs-progress-control:hover [aria-label][role~=tooltip]::before {\n  margin-bottom: 7px;\n}\n.nut-skin-wrapper .vjs-progress-control:hover [aria-label][role~=tooltip]::after {\n  margin-bottom: 13px;\n}\n\n.video-js .vjs-mouse-display[aria-label][role~=tooltip]:hover::before {\n  margin-bottom: 2px;\n}\n\n.video-js .vjs-mouse-display[aria-label][role~=tooltip]:hover::after {\n  margin-bottom: 8px;\n}\n\n.video-js .vjs-progress-control.disabled {\n  cursor: default;\n}\n\n.vjs-live .vjs-progress-control {\n  display: none;\n}\n\n.vjs-liveui .vjs-progress-control {\n  display: flex;\n  align-items: center;\n}\n\n.vjs-no-flex .vjs-progress-control {\n  width: auto;\n}\n\n.nut-skin-wrapper .vjs-progress-holder {\n  flex: auto;\n  transition: all 0.2s;\n  height: 3px;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-progress-holder {\n  height: 5px;\n}\n\n.nut-skin-wrapper .vjs-progress-control .vjs-progress-holder {\n  margin: 0;\n  border-radius: 5px;\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled {\n  font-size: 1em;\n}\n\n.video-js .vjs-progress-holder .vjs-play-progress,\n.video-js .vjs-progress-holder .vjs-load-progress,\n.video-js .vjs-progress-holder .vjs-load-progress div {\n  position: absolute;\n  display: block;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  width: 0;\n}\n\n.nut-skin-wrapper .vjs-play-progress {\n  background-color: #fff;\n  border-radius: 4px;\n}\n.video-js.vjs-layout-small .nut-skin-wrapper .vjs-play-progress:before {\n  width: 8px;\n  height: 8px;\n  background-color: #fff;\n  border-radius: 80px;\n  content: "";\n  position: absolute;\n  right: -4px;\n  top: -3px;\n  z-index: 1;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-play-progress {\n  border-radius: 5px;\n}\n\n.nut-skin-wrapper .vjs-play-progress:before {\n  font-size: 11px;\n  position: absolute;\n  right: -5px;\n  top: -4px;\n  z-index: 1;\n}\n\n.vjs-mobile .nut-skin-wrapper .vjs-play-progress:before {\n  width: 8px;\n  height: 8px;\n  background-color: #fff;\n  border-radius: 80px;\n  content: "";\n  position: absolute;\n  right: -4px;\n  top: -3px;\n  z-index: 1;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-progress-control:hover .vjs-play-progress:before {\n  width: 10px;\n  height: 10px;\n  background-color: #fff;\n  border-radius: 80px;\n  content: "";\n  position: absolute;\n  right: -5px;\n  top: -4px;\n  z-index: 1;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-progress-control:hover .vjs-play-progress:before {\n  width: 10px;\n  height: 10px;\n  background-color: #fff;\n  border-radius: 80px;\n  content: "";\n  position: absolute;\n  right: -5px;\n  top: -4px;\n  z-index: 1;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-progress-control:hover .vjs-play-progress:before {\n  top: -3px;\n}\n\n.video-js.vjs-layout-small .nut-skin-wrapper .vjs-progress-control .vjs-play-progress:active:before,\n.video-js.vjs-layout-small .nut-skin-wrapper .vjs-progress-control .vjs-play-progress:hover:before {\n  top: -3px;\n}\n\n.video-js .vjs-load-progress {\n  background: rgba(255, 255, 255, 0.25);\n  border-radius: 4px;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .video-js .vjs-load-progress {\n  border-radius: 5px;\n}\n\n.nut-skin-wrapper .vjs-load-progress div {\n  background: rgba(84, 84, 84, 0.75);\n  border-radius: 4px;\n}\n.nut-skin-wrapper .vjs-load-progress div.buffered-part {\n  border-radius: 0;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-load-progress div {\n  border-radius: 5px;\n}\n\n.video-js .vjs-time-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 0.3em;\n  color: #000;\n  float: right;\n  font-family: "Roboto", sans-serif;\n  font-size: 10px;\n  padding: 6px 8px 4px;\n  pointer-events: none;\n  position: absolute;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1;\n}\n\n.video-js .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: none;\n}\n\n.video-js .vjs-progress-control:hover .vjs-time-tooltip,\n.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: block;\n  font-size: 10px;\n  visibility: visible;\n}\n\n.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip {\n  font-size: 10px;\n}\n\n.video-js .vjs-progress-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 1px;\n  height: 100%;\n  z-index: 1;\n}\n\n.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  z-index: 0;\n}\n\n.video-js .vjs-progress-control:hover .vjs-mouse-display {\n  display: block;\n}\n\n.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s;\n}\n\n.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  display: none;\n}\n\n.vjs-mouse-display .vjs-time-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.video-js .vjs-slider {\n  position: relative;\n  cursor: pointer;\n  padding: 0;\n  margin: 0 0.45em 0 0.45em;\n  /* iOS Safari */\n  -webkit-touch-callout: none;\n  /* Safari */\n  -webkit-user-select: none;\n  /* Konqueror HTML */\n  /* Firefox */\n  -moz-user-select: none;\n  /* Internet Explorer/Edge */\n  /* Opera */\n  -o-user-select: none;\n  /* Non-prefixed version, currently supported by Chrome and Opera */\n  user-select: none;\n  background-color: #545454;\n  background-color: rgba(84, 84, 84, 0.5);\n}\n\n.video-js .vjs-slider.disabled {\n  cursor: default;\n}\n\n.nut-skin-wrapper .vjs-mute-control {\n  cursor: pointer;\n  width: 37px;\n  flex: none;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-mute-control {\n  width: 60px;\n}\n\n.nut-skin-wrapper .vjs-volume-panel .nut-svg-container {\n  display: none;\n}\n.nut-skin-wrapper .vjs-volume-panel .nut-svg-container svg {\n  width: 22px;\n  height: 22px;\n  left: 21px;\n  margin-top: -1px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .nut-svg-container svg {\n  width: 30px;\n  height: 30px;\n  left: 18px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .nut-svg-container svg {\n  width: 37px;\n  height: 37px;\n  left: 31px;\n}\n\n.nut-skin-wrapper .vjs-volume-panel .vjs-vol-0 .nut-icon-volume-0 {\n  display: block;\n}\n.nut-skin-wrapper .vjs-volume-panel .vjs-vol-0 .nut-icon-volume-0 svg {\n  width: 15px;\n  height: 15px;\n  left: 15px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .vjs-vol-0 .nut-icon-volume-0 svg {\n  width: 19px;\n  height: 19px;\n  left: 10px;\n  margin-top: 0;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .vjs-vol-0 .nut-icon-volume-0 svg {\n  width: 24px;\n  height: 24px;\n  left: 21px;\n  margin-top: 0;\n}\n\n.nut-skin-wrapper .vjs-volume-panel .vjs-vol-1 .nut-icon-volume-1 {\n  display: block;\n}\n.nut-skin-wrapper .vjs-volume-panel .vjs-vol-2 .nut-icon-volume-2 {\n  display: block;\n}\n.nut-skin-wrapper .vjs-volume-panel .vjs-vol-3 .nut-icon-volume-3 {\n  display: block;\n}\n\n.video-js .vjs-volume-control {\n  cursor: pointer;\n  margin-right: 1em;\n  display: flex;\n}\n\n.video-js .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control {\n  visibility: visible;\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-volume-control, .nut-skin-wrapper .vjs-volume-panel:focus .vjs-volume-control, .nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control, .nut-skin-wrapper .vjs-volume-panel .vjs-volume-control.vjs-slider-active {\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  transition: visibility 0.1s, opacity 0.1s, height 0.1s, width 0.1s, left 0s, top 0s;\n}\n.nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal, .nut-skin-wrapper .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal, .nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-horizontal, .nut-skin-wrapper .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal {\n  width: 40px;\n  height: 30px;\n  margin-right: 0;\n  touch-action: none;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal, .vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal, .vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-horizontal, .vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal {\n  width: 50px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal, .vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal, .vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-horizontal, .vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal {\n  width: 75px;\n  height: 60px;\n}\n\n.nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical, .nut-skin-wrapper .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical, .nut-skin-wrapper .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-vertical, .nut-skin-wrapper .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical {\n  left: -3.5em;\n  transition: left 0s;\n}\n.nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover, .nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active {\n  width: 80px !important;\n  transition: width 0.1s;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover, .vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active {\n  width: 90px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover, .vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active {\n  width: 130px !important;\n}\n\n.nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only {\n  width: 4em;\n}\n.nut-skin-wrapper .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover {\n  transition: width 0.5s;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  height: 8em;\n  width: 3em;\n  left: -3000em;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n}\n\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em;\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  transition: none;\n}\n\n.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  position: absolute;\n  bottom: 3em;\n  left: 0.5em;\n}\n\n.nut-skin-wrapper .vjs-volume-panel {\n  width: 37px;\n  position: relative;\n  display: flex;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel {\n  width: 36px;\n  height: 36px;\n  margin-left: 5px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel {\n  height: 60px;\n  margin: 4px 0 0 7px;\n  padding-top: 4px;\n  width: 60px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .vjs-icon-placeholder:before {\n  font-size: 2em;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-panel .vjs-icon-placeholder:before {\n  font-size: 2.5em;\n}\n\n.nut-skin-wrapper .vjs-volume-bar {\n  margin: 16px 4px 12px 0;\n  border-radius: 4px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-bar {\n  margin-top: 16px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-volume-bar {\n  margin-top: 26px;\n}\n\n.vjs-volume-bar.vjs-slider-horizontal {\n  width: 40px;\n  height: 3px;\n  display: none;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-volume-bar.vjs-slider-horizontal {\n  width: 55px;\n  margin-left: 3px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-volume-bar.vjs-slider-horizontal {\n  width: 65px;\n  margin-left: 3px;\n}\n\n.vjs-hover .vjs-volume-bar.vjs-slider-horizontal {\n  display: block;\n}\n\n.vjs-volume-bar.vjs-slider-vertical {\n  width: 0.3em;\n  height: 5em;\n  margin: 1.35em auto;\n}\n\n.video-js .vjs-volume-level {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n}\n.video-js .vjs-volume-level:before {\n  position: absolute;\n  font-size: 9px;\n  z-index: 1;\n}\n\n.vjs-slider-vertical .vjs-volume-level {\n  width: 0.3em;\n}\n.vjs-slider-vertical .vjs-volume-level:before {\n  top: -0.5em;\n  left: -0.3em;\n  z-index: 1;\n}\n\n.vjs-slider-horizontal .vjs-volume-level {\n  height: 3px;\n  border-radius: 4px;\n}\n.vjs-slider-horizontal .vjs-volume-level:before {\n  top: -3px;\n  right: -5px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-slider-horizontal .vjs-volume-level:before {\n  top: -3px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-slider-horizontal .vjs-volume-level:before {\n  top: -3px;\n}\n\n.video-js .vjs-volume-panel.vjs-volume-panel-vertical {\n  width: 4em;\n}\n\n.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level {\n  height: 100%;\n}\n\n.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level {\n  width: 100%;\n}\n\n.video-js .vjs-volume-vertical {\n  width: 3em;\n  height: 8em;\n  bottom: 8em;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.6);\n}\n\n.video-js .vjs-volume-horizontal .vjs-menu {\n  left: -2em;\n}\n\n.video-js .vjs-volume-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 0.3em;\n  color: #000;\n  float: right;\n  font-family: "Roboto", sans-serif;\n  font-size: 1em;\n  padding: 6px 8px 8px 8px;\n  pointer-events: none;\n  position: absolute;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1;\n}\n\n.video-js .vjs-volume-control:hover .vjs-volume-tooltip,\n.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip {\n  display: block;\n  font-size: 1em;\n  visibility: visible;\n}\n\n.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,\n.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip {\n  left: 1em;\n  top: -12px;\n}\n\n.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip {\n  font-size: 1em;\n}\n\n.video-js .vjs-volume-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  z-index: 1;\n}\n\n.video-js .vjs-volume-horizontal .vjs-mouse-display {\n  width: 1px;\n  height: 100%;\n}\n\n.vjs-no-flex .vjs-volume-control .vjs-mouse-display {\n  z-index: 0;\n}\n\n.video-js .vjs-volume-control:hover .vjs-mouse-display {\n  display: block;\n}\n\n.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s;\n}\n\n.video-js.vjs-user-inactive.vjs-no-flex .vjs-volume-control .vjs-mouse-display {\n  display: none;\n}\n\n.vjs-mouse-display .vjs-volume-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.vjs-menu-button {\n  cursor: pointer;\n}\n\n.vjs-menu-button.vjs-disabled {\n  cursor: default;\n}\n\n.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu {\n  display: none;\n}\n\n.vjs-menu .vjs-menu-content {\n  display: block;\n  padding: 0;\n  margin: 0;\n  font-family: "Roboto", sans-serif;\n  overflow: auto;\n}\n\n.vjs-menu .vjs-menu-content > * {\n  box-sizing: border-box;\n}\n\n.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu {\n  display: none;\n}\n\n.vjs-menu li {\n  list-style: none;\n  margin: 0;\n  padding: 0.2em 0;\n  line-height: 1.4em;\n  font-size: 1.2em;\n  text-align: center;\n  text-transform: lowercase;\n}\n\n.vjs-menu li.vjs-menu-item:focus,\n.vjs-menu li.vjs-menu-item:hover,\n.js-focus-visible .vjs-menu li.vjs-menu-item:hover {\n  background-color: #545454;\n  background-color: rgba(84, 84, 84, 0.5);\n}\n\n.vjs-menu li.vjs-selected,\n.vjs-menu li.vjs-selected:focus,\n.vjs-menu li.vjs-selected:hover,\n.js-focus-visible .vjs-menu li.vjs-selected:hover {\n  background-color: #fff;\n  color: #000;\n}\n\n.vjs-menu.main-menu .vjs-menu-item {\n  border-bottom: 1px solid rgba(255, 255, 255, 0.16);\n}\n.vjs-menu.main-menu .vjs-menu-item:last-child {\n  border-bottom: none;\n}\n\n.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),\n.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible) {\n  background: none;\n}\n\n.vjs-menu li.vjs-menu-title {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0;\n  margin: 0 0 0.3em 0;\n  font-weight: bold;\n  cursor: default;\n}\n\n.vjs-menu-button.vjs-menu-button--quality-hd .nut-icon-settings:before {\n  background-image: url("data:image/svg+xml,%3Csvg viewBox=\'0 0 11 8\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M0 2.01001C0 0.905439 0.895431 0.0100098 2 0.0100098H9C10.1046 0.0100098 11 0.90544 11 2.01001V5.44749C11 6.55206 10.1046 7.44749 9 7.44749H2C0.895431 7.44749 0 6.55206 0 5.44749V2.01001Z\' fill=\'%23606060\'/%3E%3Cpath d=\'M4.61279 5.5061H5.46484V1.95142H4.61279V3.36255H3.35059V1.95142H2.49365V5.5061H3.35059V4.02173H4.61279V5.5061Z\' fill=\'white\'/%3E%3Cpath fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M6.00928 1.95142V5.5061H7.17871C7.48633 5.50448 7.76465 5.43123 8.01367 5.28638C8.26432 5.13989 8.45801 4.93807 8.59473 4.68091C8.73307 4.42212 8.80225 4.12996 8.80225 3.80444V3.64087C8.80062 3.3186 8.729 3.02808 8.5874 2.76929C8.44743 2.50887 8.25212 2.30786 8.00146 2.16626C7.75081 2.02303 7.46842 1.95142 7.1543 1.95142H6.00928ZM6.86621 4.84692V2.61304H7.1543C7.40658 2.61304 7.59863 2.70011 7.73047 2.87427C7.8623 3.04842 7.92822 3.30721 7.92822 3.65063V3.80444C7.92822 4.1495 7.8623 4.40991 7.73047 4.58569C7.59863 4.75985 7.40983 4.84692 7.16406 4.84692H6.86621Z\' fill=\'white\'/%3E%3C/svg%3E");\n  content: "";\n  width: 16px;\n  height: 10px;\n  display: block;\n  position: absolute;\n  right: 2px;\n  bottom: 3px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  z-index: 1;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-menu-button.vjs-menu-button--quality-hd .nut-icon-settings:before {\n  width: 20px;\n  height: 12px;\n  right: -3px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-menu-button.vjs-menu-button--quality-hd .nut-icon-settings:before {\n  width: 22px;\n  height: 16px;\n  right: 6px;\n  bottom: 10px;\n}\n\n.vjs-menu-button.vjs-menu-button--quality-fhd .nut-icon-settings:before {\n  background-image: url("data:image/svg+xml,%3Csvg viewBox=\'0 0 11 8\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M0 2.01001C0 0.905439 0.895431 0.0100098 2 0.0100098H9C10.1046 0.0100098 11 0.90544 11 2.01001V5.44749C11 6.55206 10.1046 7.44749 9 7.44749H2C0.895431 7.44749 0 6.55206 0 5.44749V2.01001Z\' fill=\'%23606060\'/%3E%3Cpath d=\'M3.7523 4.03633H2.70352V5.39951H2.02881V2.05811H3.87852V2.62036H2.70352V3.47637H3.7523V4.03633Z\' fill=\'white\'/%3E%3Cpath d=\'M6.60718 5.39951H5.93477V3.96977H4.93877V5.39951H4.26406V2.05811H4.93877V3.40981H5.93477V2.05811H6.60718V5.39951Z\' fill=\'white\'/%3E%3Cpath fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M7.15107 2.05811V5.39951H8.01626C8.42323 5.39951 8.74222 5.27482 8.97324 5.02544C9.20579 4.77453 9.32207 4.42953 9.32207 3.99043V3.44883C9.31748 3.01738 9.19891 2.67773 8.96636 2.42988C8.73534 2.18203 8.42476 2.05811 8.03462 2.05811H7.15107ZM7.82578 4.83955V2.62036H8.07134C8.28094 2.62648 8.42935 2.6915 8.51655 2.81543C8.60376 2.93783 8.64736 3.15508 8.64736 3.46719V4.0478C8.64277 4.33849 8.59458 4.5435 8.50278 4.66284C8.41099 4.78065 8.25264 4.83955 8.02773 4.83955H7.82578Z\' fill=\'white\'/%3E%3C/svg%3E");\n  content: "";\n  width: 15px;\n  height: 12px;\n  display: block;\n  position: absolute;\n  right: 2px;\n  bottom: 2px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  z-index: 1;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-menu-button.vjs-menu-button--quality-fhd .nut-icon-settings:before {\n  width: 20px;\n  height: 14px;\n  right: -4px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-menu-button.vjs-menu-button--quality-fhd .nut-icon-settings:before {\n  width: 22px;\n  height: 16px;\n  right: 6px;\n  bottom: 10px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-menu-button .vjs-quality-menu {\n  min-height: 88px;\n}\n\n.vjs-menu-button .vjs-quality-menu .vjs-menu-item-text {\n  text-transform: capitalize;\n}\n.vjs-menu-button .loader {\n  display: block;\n  position: absolute;\n  top: 9px;\n  left: 50%;\n  height: 14px;\n  width: 14px;\n  border: 1px rgba(0, 0, 0, 0.57) solid;\n  border-top: 1px #e6e6e6 solid;\n  border-radius: 50%;\n  animation: spin2 1s infinite linear;\n  transform: translate(-50%, -50%);\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-menu-button .loader {\n  top: 15px;\n  height: 20px;\n  width: 20px;\n  border: 2px rgba(0, 0, 0, 0.57) solid;\n  border-top: 2px #e6e6e6 solid;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-menu-button .loader {\n  top: 15px;\n  height: 20px;\n  width: 20px;\n  border: 2px rgba(0, 0, 0, 0.57) solid;\n  border-top: 2px #e6e6e6 solid;\n}\n@keyframes spin2 {\n  from {\n    transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n\n.video-js .vjs-menu-button-inline {\n  transition: all 0.4s;\n  overflow: hidden;\n}\n\n.video-js .vjs-menu-button-inline:before {\n  width: 2.222222222em;\n}\n\n.video-js .vjs-menu-button-inline:hover,\n.video-js .vjs-menu-button-inline:focus,\n.video-js .vjs-menu-button-inline.vjs-slider-active,\n.video-js.vjs-no-flex .vjs-menu-button-inline {\n  width: 12em;\n}\n\n.vjs-menu-button-inline .vjs-menu {\n  opacity: 0;\n  height: 100%;\n  width: auto;\n  position: absolute;\n  left: 4em;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  transition: all 0.4s;\n}\n\n.vjs-menu-button-inline:hover .vjs-menu,\n.vjs-menu-button-inline:focus .vjs-menu,\n.vjs-menu-button-inline.vjs-slider-active .vjs-menu {\n  display: block;\n  opacity: 1;\n}\n\n.vjs-no-flex .vjs-menu-button-inline .vjs-menu {\n  display: block;\n  opacity: 1;\n  position: relative;\n  width: auto;\n}\n\n.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu {\n  width: auto;\n}\n\n.vjs-menu-button-inline .vjs-menu-content {\n  width: auto;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n}\n\n.vjs-menu-button-popup .vjs-menu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 100px;\n  left: -40px;\n  height: 0;\n  margin-bottom: 3px;\n  border-top-color: rgba(0, 0, 0, 0.6);\n}\n\n.vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.6);\n  position: absolute;\n  width: 100%;\n  bottom: 1.5em;\n  max-height: 15em;\n}\n\n.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 5em;\n}\n\n.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 10em;\n}\n\n.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 14em;\n}\n\n.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 25em;\n}\n\n.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,\n.vjs-menu-button-popup .vjs-menu.vjs-lock-showing {\n  display: block;\n}\n\n.vjs-loader {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  visibility: hidden;\n  z-index: 99;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-loader {\n  background: rgba(0, 0, 0, 0.4);\n  width: 80px;\n  height: 80px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-loader {\n  background: rgba(0, 0, 0, 0.4);\n  width: 124px;\n  height: 124px;\n}\n\n.vjs-loader .vjs-loading-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: left;\n  box-sizing: border-box;\n  width: 30px;\n  height: 30px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-loader .vjs-loading-spinner {\n  width: 50px;\n  height: 50px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-loader .vjs-loading-spinner {\n  width: 66px;\n  height: 66px;\n}\n\n.vjs-loader .vjs-loading-spinner:after {\n  content: "";\n  position: absolute;\n  z-index: 0;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: conic-gradient(#3d3f46, #6f7075, #c2c3c5);\n  padding: 3px;\n  border-radius: 50%;\n  -webkit-mask: linear-gradient(#fff 0, #fff 0) content-box, linear-gradient(#fff 0, #fff 0);\n  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);\n  -webkit-mask-composite: xor;\n  mask-composite: exclude;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-loader .vjs-loading-spinner:after {\n  padding: 5px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-loader .vjs-loading-spinner:after {\n  padding: 6px;\n}\n\n.vjs-seeking .vjs-loader,\n.vjs-loading .vjs-loader,\n.vjs-quality-loader .vjs-loader,\n.vjs-waiting .vjs-loader {\n  display: block !important;\n  animation: vjs-spinner-show 0s linear 0.3s forwards;\n}\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-loading .vjs-loading-spinner:before,\n.vjs-loading .vjs-loading-spinner:after,\n.vjs-quality-loader .vjs-loading-spinner:before,\n.vjs-quality-loader .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:after {\n  animation: vjs-spinner-spin 1.1s linear infinite, vjs-spinner-fade 1.1s linear infinite;\n}\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-loading .vjs-loading-spinner:after,\n.vjs-quality-loader .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:after {\n  animation-delay: 0.44s;\n}\n\n.vjs-error .vjs-loader {\n  display: none !important;\n}\n\n@keyframes vjs-spinner-show {\n  to {\n    visibility: visible;\n  }\n}\n@keyframes vjs-spinner-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n  }\n}\n@keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #545454;\n  }\n  20% {\n    border-top-color: #545454;\n  }\n  35% {\n    border-top-color: white;\n  }\n  60% {\n    border-top-color: #545454;\n  }\n  100% {\n    border-top-color: #545454;\n  }\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-button .vjs-icon-placeholder:before {\n  line-height: 2.1em;\n}\n\n.nut-skin-wrapper .vjs-settings-menu {\n  cursor: pointer;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu {\n  width: 200px !important;\n  left: -120px !important;\n  margin: 0 !important;\n  top: -12px;\n  z-index: 5;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu {\n  width: 300px !important;\n  left: -219px !important;\n  top: -15px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu {\n  width: 300px !important;\n  left: -182px !important;\n  top: -28px;\n}\n\n.vjs-menu li.vjs-selected,\n.vjs-menu li.vjs-selected:focus,\n.vjs-menu li.vjs-selected:hover,\n.js-focus-visible .vjs-menu li.vjs-selected:hover {\n  background-color: inherit;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-menu-content {\n  border: none !important;\n  border-radius: 4px !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  background-color: rgba(17, 17, 17, 0.98);\n}\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-menu-content.vjs-setting-menu-sub {\n  width: 160px;\n  right: 0;\n  max-height: 131px !important;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-menu-content.vjs-setting-menu-sub {\n  width: 200px;\n  max-height: 212px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-menu-content.vjs-setting-menu-sub {\n  width: 200px;\n  max-height: 430px !important;\n}\n\n.nut-skin-wrapper .vjs-menu .vjs-sm-top-level li {\n  margin: 0 16px !important;\n  line-height: 44px !important;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu li {\n  display: block !important;\n  position: static !important;\n  position: initial !important;\n  color: #fff;\n  transition: all 0.2s ease-in;\n  list-style-position: inherit;\n  list-style: none !important;\n  list-style-type: none !important;\n  list-style-image: none !important;\n  padding: 0 !important;\n  margin: 0 12px !important;\n  line-height: 30px !important;\n  background-image: none !important;\n  font-size: 10px !important;\n  color: rgba(255, 255, 255, 0.5);\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu li {\n  font-size: 16px !important;\n  line-height: 48px !important;\n  margin: 0 16px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu li {\n  font-size: 16px !important;\n  line-height: 48px !important;\n  margin: 0 16px !important;\n}\n\n.nut-skin-wrapper .vjs-settings-menu-sub .vjs-menu li.vjs-selected {\n  padding: 0 !important;\n}\n\n.nut-skin-wrapper .vjs-menu li.vjs-menu-item:focus,\n.vjs-menu li.vjs-menu-item:hover,\n.js-focus-visible .vjs-menu li.vjs-menu-item:hover {\n  background-color: inherit;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .nut-svg-container svg {\n  width: 20px;\n  transition: transform 0.5s ease;\n  transform: rotate(0deg);\n  top: 5px;\n  left: 0;\n  position: relative;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .nut-svg-container svg {\n  width: 25px !important;\n  top: 6px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .nut-svg-container svg {\n  width: 30px !important;\n  top: 16px;\n}\n\n.video-js .vjs-settings-menu.vjs-toogle-btn .nut-svg-container svg {\n  transform: rotate(90deg);\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-selected:before {\n  font-size: 10px;\n  margin: 0 0 0 5px;\n  position: absolute;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-selected:before {\n  font-size: 12px;\n  margin: 2px 0 0 5px;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub::-webkit-scrollbar {\n  width: 7px;\n}\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub::-webkit-scrollbar-thumb {\n  background-color: rgba(255, 255, 255, 0.5);\n  border-right: 5px solid rgba(17, 17, 17, 0.98);\n}\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li {\n  margin: 0 12px !important;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.16);\n  color: #fff;\n  text-align: left;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li {\n  margin: 0 15px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li {\n  margin: 0 15px !important;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.selected .vjs-menu-item-text {\n  margin-left: 10px;\n}\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li .vjs-menu-item-text {\n  margin-left: 27px;\n  display: inline-block;\n  line-height: 17px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li .vjs-menu-item-text {\n  line-height: 24px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li .vjs-menu-item-text {\n  line-height: 24px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.setting-menu-header {\n  color: rgba(255, 255, 255, 0.5);\n  line-height: 25px !important;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.setting-menu-header {\n  line-height: 48px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.setting-menu-header {\n  line-height: 48px !important;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.setting-menu-header:before {\n  margin: 0 13px 0 7px;\n  color: #fff;\n}\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-menu-item {\n  line-height: 28px !important;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-menu-item {\n  line-height: 42px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-menu-item {\n  line-height: 42px !important;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li:last-child {\n  border-bottom: 0;\n}\n\n.video-js .vjs-settings-menu .vjs-menu .vjs-menu-content {\n  bottom: 0 !important;\n}\n\n.vjs-workinghover .vjs-settings-menu:hover .vjs-menu {\n  display: none;\n}\n\n.video-js .vjs-settings-menu .vjs-lock-open {\n  display: block !important;\n}\n\n.video-js .vjs-button .vjs-menu:before,\n.video-js .vjs-button .vjs-menu:after {\n  display: none !important;\n}\n\n.video-js .vjs-menu-button-popup .vjs-menu .vjs-menu-content .vjs-menu-item-text {\n  position: relative;\n  padding-right: 8%;\n}\n.video-js .vjs-menu-button-popup .vjs-menu .vjs-menu-content .vjs-menu-item-text:first-letter {\n  text-transform: uppercase !important;\n}\n\n.video-js .vjs-sm-top-level-header {\n  text-transform: capitalize !important;\n  background: #24282d !important;\n  text-align: left !important;\n  pointer-events: none;\n}\n\n.video-js .setting-menu-header {\n  text-transform: capitalize !important;\n  text-align: left !important;\n}\n\n.nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-sm-top-level li.vjs-sm-list-item span::after {\n  font-family: "nutplayer";\n  font-weight: normal;\n  font-style: normal;\n  content: "\\e80d";\n  margin: 0 5px 0 15px;\n  font-size: 10px;\n  position: absolute;\n  right: 0;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-sm-top-level li.vjs-sm-list-item span::after {\n  font-size: 14px !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-settings-menu .vjs-menu .vjs-sm-top-level li.vjs-sm-list-item span::after {\n  font-size: 14px !important;\n}\n\n.nut-skin-wrapper .vjs-sm-list-item {\n  text-transform: capitalize !important;\n  text-align: left !important;\n}\n\n.nut-skin-wrapper .vjs-sm-list-item span {\n  float: right !important;\n  width: 62% !important;\n  white-space: nowrap !important;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  text-align: right !important;\n  color: #fff;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-sm-list-item span {\n  width: 67% !important;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-sm-list-item span {\n  width: 67% !important;\n}\n\n.video-js .vjs-hide-settings-menu-item {\n  display: none !important;\n}\n\n.vjs-settings-menu-is-loaded button.vjs-button[title]:before,\n.vjs-settings-menu-is-loaded button.vjs-button[title]:after {\n  display: none !important;\n}\n\n.video-js .vjs-settings-menu .vjs-captions-menu-item .vjs-icon-placeholder {\n  position: relative;\n}\n\n.nut-skin-wrapper .nut-central-seek-button {\n  display: block;\n  position: relative;\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n  cursor: pointer;\n  opacity: 1;\n  width: 46px;\n  height: 46px;\n}\n.nut-skin-wrapper .nut-central-seek-button .seek-button-text {\n  font-size: 10px;\n  display: block;\n  margin-top: 6px;\n  color: rgba(255, 255, 255, 0.7) !important;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .nut-central-seek-button {\n  display: none;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .nut-central-seek-button {\n  display: none;\n}\n\n.nut-skin-wrapper .nut-central-seek-button .vjs-icon-placeholder {\n  display: block;\n  margin-top: 16px;\n}\n.nut-skin-wrapper .nut-central-seek-button:disabled .vjs-icon-placeholder:before {\n  color: rgba(255, 255, 255, 0.4) !important;\n}\n.nut-skin-wrapper .nut-central-seek-button:disabled .vjs-icon-placeholder:before:hover {\n  color: rgba(255, 255, 255, 0.4) !important;\n}\n.vjs-live .nut-skin-wrapper .nut-central-seek-button {\n  display: none;\n}\n\n/* ------------------------------------------------\n  [1] Base Styles\n-------------------------------------------------*/\n[aria-label][role~=tooltip]::before,\n[aria-label][role~=tooltip]::after {\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  box-sizing: border-box;\n  z-index: 10;\n  font-family: "Roboto", sans-serif;\n}\n\n[aria-label][role~=tooltip]::before {\n  background-size: 100% auto !important;\n  content: "";\n}\n\n[aria-label][role~=tooltip]::after {\n  background: #fff;\n  border-radius: 4px;\n  color: #000;\n  content: attr(aria-label);\n  font-size: 12px;\n  font-weight: normal;\n  text-transform: none;\n  padding: 4px 8px;\n  white-space: nowrap;\n  box-sizing: content-box;\n  line-height: 14px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) [aria-label][role~=tooltip]::after {\n  font-size: 16px;\n  line-height: 19px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) [aria-label][role~=tooltip]::after {\n  font-size: 16px;\n  line-height: 19px;\n}\n\n[aria-label][role~=tooltip][aria-tooltip-edge=left]:hover::after {\n  transform: translate3d(calc(-100% + 8px), -5px, 0) !important;\n}\n\n.vjs-progress-control:hover [aria-label][role~=tooltip][aria-tooltip-edge=left]::after {\n  transform: translate3d(calc(-100% + 8px), -5px, 0) !important;\n  margin-bottom: 8px;\n}\n\n[aria-label][role~=tooltip][aria-tooltip-edge=right]:hover::after {\n  transform: translate3d(calc(0% - 8px), -5px, 0) !important;\n}\n\n.vjs-progress-control:hover [aria-label][role~=tooltip][aria-tooltip-edge=right]::after {\n  transform: translate3d(calc(0% - 8px), -5px, 0) !important;\n  margin-bottom: 8px;\n}\n\n[aria-label][role~=tooltip][aria-tooltip-edge=left]:hover::before {\n  transform: translate3d(-66%, -5px, 0);\n}\n\n.vjs-progress-control:hover [aria-label][role~=tooltip][aria-tooltip-edge=left]::before {\n  transform: translate3d(-66%, -5px, 0);\n  margin-bottom: 2px;\n}\n\n[aria-label][role~=tooltip][aria-tooltip-edge=right]:hover::before {\n  transform: translate3d(-40%, -5px, 0);\n}\n\n.vjs-progress-control:hover [aria-label][role~=tooltip][aria-tooltip-edge=right]::before {\n  transform: translate3d(-40%, -5px, 0);\n  margin-bottom: 2px;\n}\n\n[aria-label][role~=tooltip]:hover::before,\n[aria-label][role~=tooltip]:hover::after {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.vjs-control-bar [aria-label][role~=tooltip]:hover::before,\n.vjs-control-bar [aria-label][role~=tooltip]:hover::after {\n  pointer-events: none;\n}\n\n/* ------------------------------------------------\n  [2] Position Modifiers\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position|=top]::before {\n  background: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iNiIgdmlld0JveD0iMCAwIDEyIDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02IDZMLTQuMjkxMzhlLTA3IC05LjUzOTkxZS0wOEwxMiA5LjUzNjc0ZS0wN0w2IDZaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K") no-repeat;\n  height: 10px;\n  width: 21px;\n  margin-bottom: 5px;\n}\n\n[role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: 11px;\n}\n\n.vjs-control [role~=tooltip][data-tooltip-position|=top]::before,\n.vjs-control[role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -7px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-control [role~=tooltip][data-tooltip-position|=top]::before, .vjs-layout-medium:not(.vjs-mobile) .vjs-control[role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -7px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-control [role~=tooltip][data-tooltip-position|=top]::before, .vjs-layout-huge:not(.vjs-mobile) .vjs-control[role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -16px;\n}\n\n.video-js.vjs-layout-small .vjs-control [role~=tooltip][data-tooltip-position|=top]::after, .vjs-layout-small .vjs-control[role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -2px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-control [role~=tooltip][data-tooltip-position|=top]::after, .vjs-layout-medium:not(.vjs-mobile) .vjs-control[role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -1px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-control [role~=tooltip][data-tooltip-position|=top]::after, .vjs-layout-huge:not(.vjs-mobile) .vjs-control[role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -10px;\n}\n\n.video-js.vjs-layout-small .vjs-control.vjs-mute-control[role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -7px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-control.vjs-mute-control[role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -2px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-control.vjs-mute-control[role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: -6px;\n}\n\n.video-js.vjs-layout-small .vjs-control.vjs-mute-control[role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -12px;\n}\n\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-control.vjs-mute-control[role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -8px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-control.vjs-mute-control[role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: -12px;\n}\n\n.vjs-progress-control [role~=tooltip][data-tooltip-position|=top]::before {\n  margin-bottom: 7px;\n}\n.vjs-progress-control [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: 13px;\n}\n\n[role~=tooltip][data-tooltip-position|=top]::before {\n  transform: translate3d(-50%, 0, 0);\n  bottom: 100%;\n  left: 50%;\n}\n\n[role~=tooltip][data-tooltip-position|=top]:hover::before {\n  transform: translate3d(-50%, -5px, 0);\n}\n\n[role~=tooltip][data-tooltip-position|=top]::after {\n  transform: translate3d(-50%, 0, 0);\n  bottom: 100%;\n  left: 50%;\n}\n\n[role~=tooltip][data-tooltip-position=top]:hover::after {\n  transform: translate3d(-50%, -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.1] Top Left\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position=top-left]::after {\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n  bottom: 100%;\n}\n\n[role~=tooltip][data-tooltip-position=top-left]:hover::after {\n  transform: translate3d(calc(-100% + 16px), -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.2] Top Right\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position=top-right]::after {\n  transform: translate3d(calc(0% - 16px), 0, 0);\n  bottom: 100%;\n}\n\n[role~=tooltip][data-tooltip-position=top-right]:hover::after {\n  transform: translate3d(calc(0% - 16px), -5px, 0);\n}\n\n/* ------------------------------------------------\n  [2.3] Bottom\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position|=bottom]::before {\n  background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2236px%22%20height%3D%2212px%22%3E%3Cpath%20fill%3D%22rgb%28255,%20255,%20255%29%22%20transform%3D%22rotate%28180%2018%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E") no-repeat;\n  height: 6px;\n  width: 18px;\n  margin-top: 5px;\n  margin-bottom: 0;\n}\n\n[role~=tooltip][data-tooltip-position|=bottom]::after {\n  margin-top: 11px;\n}\n\n[role~=tooltip][data-tooltip-position|=bottom]::before {\n  transform: translate3d(-50%, -10px, 0);\n  bottom: auto;\n  left: 50%;\n  top: 100%;\n}\n\n[role~=tooltip][data-tooltip-position|=bottom]:hover::before {\n  transform: translate3d(-50%, 0, 0);\n}\n\n[role~=tooltip][data-tooltip-position|=bottom]::after {\n  transform: translate3d(-50%, -10px, 0);\n  top: 100%;\n  left: 50%;\n}\n\n[role~=tooltip][data-tooltip-position=bottom]:hover::after {\n  transform: translate3d(-50%, 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.4] Bottom Left\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position=bottom-left]::after {\n  transform: translate3d(calc(-100% + 16px), -10px, 0);\n  top: 100%;\n}\n\n[role~=tooltip][data-tooltip-position=bottom-left]:hover::after {\n  transform: translate3d(calc(-100% + 16px), 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.5] Bottom Right\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position=bottom-right]::after {\n  transform: translate3d(calc(0% - 16px), -10px, 0);\n  top: 100%;\n}\n\n[role~=tooltip][data-tooltip-position=bottom-right]:hover::after {\n  transform: translate3d(calc(0% - 16px), 0, 0);\n}\n\n/* ------------------------------------------------\n  [2.6] Left\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position=left]::before,\n[role~=tooltip][data-tooltip-position=left]::after {\n  bottom: auto;\n  left: auto;\n  right: 100%;\n  top: 50%;\n  transform: translate3d(10px, -50%, 0);\n}\n\n[role~=tooltip][data-tooltip-position=left]::before {\n  background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%28-90%2018%2018%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E") no-repeat;\n  height: 18px;\n  width: 6px;\n  margin-right: 5px;\n  margin-bottom: 0;\n}\n\n[role~=tooltip][data-tooltip-position=left]::after {\n  margin-right: 11px;\n}\n\n[role~=tooltip][data-tooltip-position=left]:hover::before,\n[role~=tooltip][data-tooltip-position=left]:hover::after {\n  transform: translate3d(0, -50%, 0);\n}\n\n/* ------------------------------------------------\n  [2.7] Right\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-position=right]::before,\n[role~=tooltip][data-tooltip-position=right]::after {\n  bottom: auto;\n  left: 100%;\n  top: 50%;\n  transform: translate3d(-10px, -50%, 0);\n}\n\n[role~=tooltip][data-tooltip-position=right]::before {\n  background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2212px%22%20height%3D%2236px%22%3E%3Cpath%20fill%3D%22rgba%2817,%2017,%2017,%200.9%29%22%20transform%3D%22rotate%2890%206%206%29%22%20d%3D%22M2.658,0.000%20C-13.615,0.000%2050.938,0.000%2034.662,0.000%20C28.662,0.000%2023.035,12.002%2018.660,12.002%20C14.285,12.002%208.594,0.000%202.658,0.000%20Z%22/%3E%3C/svg%3E") no-repeat;\n  height: 18px;\n  width: 6px;\n  margin-bottom: 0;\n  margin-left: 5px;\n}\n\n[role~=tooltip][data-tooltip-position=right]::after {\n  margin-left: 11px;\n}\n\n[role~=tooltip][data-tooltip-position=right]:hover::before,\n[role~=tooltip][data-tooltip-position=right]:hover::after {\n  transform: translate3d(0, -50%, 0);\n}\n\n/* ------------------------------------------------\n  [3] Size\n-------------------------------------------------*/\n[role~=tooltip][data-tooltip-size=small]::after {\n  white-space: normal;\n  white-space: initial;\n  width: 80px;\n}\n\n[role~=tooltip][data-tooltip-size=medium]::after {\n  white-space: normal;\n  white-space: initial;\n  width: 150px;\n}\n\n[role~=tooltip][data-tooltip-size=large]::after {\n  white-space: normal;\n  white-space: initial;\n  width: 260px;\n}\n\n.video-js .vjs-toogle-btn [aria-label][role~=tooltip]::after {\n  display: none;\n}\n.video-js .vjs-toogle-btn [aria-label][role~=tooltip]::before {\n  display: none;\n}\n\n.vjs-layout-small .vjs-volume-panel [role~=tooltip][data-tooltip-position|=top]::after {\n  margin-bottom: 11px;\n  transform: translate3d(calc(0% - 16px), 0, 0);\n  bottom: 100%;\n}\n.vjs-layout-small .vjs-volume-panel [role~=tooltip][data-tooltip-position=top]:hover::after {\n  transform: translate3d(calc(0% - 16px), -5px, 0);\n}\n\n.vjs-text-track-display {\n  position: absolute;\n  bottom: 50px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 0;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-text-track-display {\n  bottom: 62px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-text-track-display {\n  bottom: 106px;\n}\n\n.vjs-text-track-display .text {\n  display: inline-block;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 4px 6px;\n  font-size: 12px;\n  line-height: 16px;\n  text-align: center;\n  white-space: pre;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .vjs-text-track-display .text {\n  font-size: 16px;\n  line-height: 20px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .vjs-text-track-display .text {\n  font-size: 24px;\n  line-height: 28px;\n}\n\n.vjs-error .vjs-text-track-display {\n  display: none;\n}\n.vjs-text-track-display--disabled {\n  display: none;\n}\n\n.nut-restriction-box {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: absolute;\n  min-height: 24px;\n  left: 8px;\n  top: 34px;\n  background: rgba(0, 0, 0, 0.5);\n  border-radius: 4px;\n  z-index: 1;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-restriction-box {\n  top: 36px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-restriction-box {\n  left: 20px;\n  top: 100px;\n}\n\n.nut-restriction-box__item--left {\n  font-size: 14px;\n  line-height: 16px;\n  text-align: center;\n  font-weight: bold;\n  padding: 4px 8px;\n  display: flex;\n  width: 24px;\n  height: 16px;\n  justify-content: center;\n  box-sizing: content-box;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-restriction-box__item--left {\n  font-size: 24px;\n  line-height: 28px;\n  padding: 16px;\n  width: 41px;\n  height: 28px;\n}\n\n.nut-restriction-box__item--right {\n  font-size: 10px;\n  line-height: 12px;\n  max-width: 179px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding: 4px 8px;\n  min-height: 32px;\n  display: table;\n  position: relative;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-restriction-box__item--right {\n  font-size: 12px;\n  line-height: 14px;\n  min-height: 36px;\n  max-width: 215px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-restriction-box__item--right {\n  font-size: 20px;\n  line-height: 23px;\n  min-height: 78px;\n  max-width: 365px;\n  padding: 16px;\n}\n\n.nut-restriction-box__item--right-centered {\n  display: table-cell;\n  vertical-align: middle;\n}\n.nut-restriction-box__item--right .text {\n  display: -webkit-box !important;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n.nut-restriction-box__item--left + .nut-restriction-box__item--right {\n  padding-left: 9px;\n}\n.nut-restriction-box__item--left + .nut-restriction-box__item--right::before {\n  content: "";\n  display: block;\n  position: absolute;\n  left: 0;\n  height: 64%;\n  top: 18%;\n  bottom: 18%;\n  width: 1px;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-restriction-box__item--left + .nut-restriction-box__item--right::before {\n  width: 2px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-restriction-box__item--left + .nut-restriction-box__item--right {\n  padding-left: 17px;\n}\n\n.nut-restriction-box__item.hidden {\n  display: none;\n}\n.nut-restriction-box__item .text {\n  align-items: center;\n  display: flex;\n}\n\n.nut-skin-wrapper .vjs-airplay-button {\n  cursor: pointer;\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  flex: none;\n}\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button {\n  top: 24px;\n  right: 24px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button {\n  top: 30px;\n  right: 30px;\n}\n\n.nut-skin-wrapper .vjs-airplay-button[role~=tooltip][data-tooltip-position|=bottom]::before {\n  margin-top: 9px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button[role~=tooltip][data-tooltip-position|=bottom]::before {\n  margin-top: 12px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button[role~=tooltip][data-tooltip-position|=bottom]::before {\n  margin-top: 15px;\n}\n\n.nut-skin-wrapper .vjs-airplay-button[role~=tooltip][data-tooltip-position|=bottom]::after {\n  margin-top: 15px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button[role~=tooltip][data-tooltip-position|=bottom]::after {\n  margin-top: 18px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button[role~=tooltip][data-tooltip-position|=bottom]::after {\n  margin-top: 21px;\n}\n\n.nut-skin-wrapper .vjs-airplay-button .nut-svg-container svg {\n  width: 20px;\n  height: 20px;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button .nut-svg-container svg {\n  width: 26px;\n  height: 26px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-airplay-button .nut-svg-container svg {\n  width: 32px;\n  height: 32px;\n}\n\n.canvas-loop-wrapper {\n  width: auto;\n  height: auto;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  border: 0;\n}\n.canvas-loop-wrapper #canvas-loop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.nut-skin-wrapper .vjs-live-badge {\n  width: 39px;\n  position: relative;\n  cursor: default;\n  display: none;\n  margin-left: 5px;\n  flex: none;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-live-badge {\n  margin: 0 5px 0 14px;\n  width: 40px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-live-badge {\n  margin-left: 24px;\n  width: 46px;\n}\n\n.nut-skin-wrapper .vjs-live-badge .nut-svg-container svg {\n  width: 30px;\n  height: 30px;\n  top: 48%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .vjs-live-badge .nut-svg-container svg {\n  width: 34px;\n  height: 34px;\n  top: 43%;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .vjs-live-badge .nut-svg-container svg {\n  width: 42px;\n  height: 42px;\n  top: 45%;\n}\n\n.vjs-live .vjs-live-badge {\n  display: block;\n}\n\n.nut-skin-wrapper .nut-error-layout {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 3;\n  background-color: #000;\n}\n.nut-skin-wrapper .nut-error-layout .nut-error-content {\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 13px;\n  text-align: center;\n  width: 90%;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .nut-error-layout .nut-error-content {\n  font-size: 14px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .nut-error-layout .nut-error-content {\n  font-size: 15px;\n}\n\n.nut-skin-wrapper .nut-error-layout .nut-error-content__caption {\n  display: block;\n  margin-bottom: 6px;\n  font-weight: bold;\n}\n.nut-skin-wrapper .nut-error-layout .nut-error-content__text {\n  line-height: 14px;\n  -webkit-user-select: text;\n     -moz-user-select: text;\n          user-select: text;\n  max-height: 84px;\n  overflow: hidden;\n  display: inline-block;\n  width: 100%;\n}\n.nut-skin-wrapper .nut-error-layout .nut-error-content__text::-moz-selection {\n  background-color: highlight;\n  color: highlighttext;\n}\n.nut-skin-wrapper .nut-error-layout .nut-error-content__text::selection {\n  background-color: highlight;\n  color: highlighttext;\n}\n.video-js.vjs-layout-medium:not(.vjs-mobile) .nut-skin-wrapper .nut-error-layout .nut-error-content__text {\n  font-size: 14px;\n  line-height: 16px;\n  max-height: 96px;\n}\n\n.video-js.vjs-layout-huge:not(.vjs-mobile) .nut-skin-wrapper .nut-error-layout .nut-error-content__text {\n  font-size: 15px;\n  line-height: 18px;\n  max-height: 108px;\n}\n\n.vjs-error .nut-skin-wrapper .nut-error-layout {\n  display: block;\n}\n\n.vjs-poster {\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: contain;\n  background-color: #000000;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n}\n.vjs-poster img {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.vjs-has-started .vjs-poster,\n.vjs-using-native-controls .vjs-poster {\n  display: none;\n}\n\n.vjs-audio.vjs-has-started .vjs-poster,\n.vjs-has-started.vjs-audio-poster-mode .vjs-poster {\n  display: block;\n}\n\n::-moz-selection {\n  background: rgba(0, 0, 0, 0);\n}\n\n::selection {\n  background: rgba(0, 0, 0, 0);\n}\n\n* {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  font-family: "Roboto", sans-serif;\n}\n\n.vjs-resize-manager {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  z-index: -1000;\n}\n\n.js-focus-visible .video-js *:focus {\n  outline: none;\n}\n\n.video-js *:focus {\n  outline: none;\n}'));var lN=f(D(),1),uN=ah.getComponent("component"),cN=ah.log,dN=ah.dom,hN=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"createEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e="button",t=lf({className:this.buildCSSClass(),tabIndex:-1},t),n=lf({type:"button"},n);var r=dN.createEl(e,t,n,"");return r.appendChild(dN.createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0},"")),this.controlText(this.controlText_,r),r}},{key:"addChild",value:function(e,t,n){var r=this.constructor.name;return cN.warn("Adding an actionable (user controllable) child to a Button (".concat(r,") is not supported; use a ClickableComponent instead.")),uN.prototype.addChild.call(this,e,t)}},{key:"enable",value:function(){_get(_get_prototype_of(n.prototype),"enable",this).call(this),this.el().removeAttribute("disabled")}},{key:"disable",value:function(){_get(_get_prototype_of(n.prototype),"disable",this).call(this),this.el().setAttribute("disabled","disabled")}},{key:"handleKeyDown",value:function(e){lN.default.isEventKey(e,"Space")||lN.default.isEventKey(e,"Enter")?e.stopPropagation():_get(_get_prototype_of(n.prototype),"handleKeyDown",this).call(this,e)}}]),n}(ET);uN.registerComponent("Button",hN);var fN=hN,pN=ah.getComponent("component"),AN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).mouseused_=!1,i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-big-play-button nut-central-button"}},{key:"handleClick",value:function(e){e.stopPropagation(),this.player_.paused()?(this.player().ended()&&this.player().trigger(ef.Replay),this.player_.play()):this.player_.pause()}},{key:"handleKeyDown",value:function(e){this.mouseused_=!1,_get(_get_prototype_of(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"handleMouseDown",value:function(e){this.mouseused_=!0}},{key:"handleDisabling",value:function(e){this.mouseused_=!0}}]),n}(fN);pN.registerComponent("BigPlayButton",AN);var gN="fullscreen-enter",mN="fullscreen-exit",vN="vjs-vol-1",yN="vjs-vol-2",EN="vjs-vol-3",_N="vjs-vol-0",TN="airplay",bN="live-badge",SN="settings",wN=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"getSvgStrByType",value:function(t){switch(t){case gN:return e.fullscreenEnterButton();case mN:return e.fullscreenExitButton();case vN:return e.volumeLevel1();case yN:return e.volumeLevel2();case EN:return e.volumeLevel3();case _N:return e.volumeLevel0();case SN:return e.settings();case TN:return e.airplay();case bN:return e.liveBadge();default:return console.warn("Unknown SvgType received!"),'<svg xmlns="http://www.w3.org/2000/svg"></svg>'}}},{key:"fullscreenEnterButton",value:function(){return'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path d="M0.333496 7.33325C0.333496 7.88554 0.781212 8.33325 1.3335 8.33325C1.88578 8.33325 2.3335 7.88554 2.3335 7.33325L2.3335 2.66658C2.3335 2.48249 2.48274 2.33325 2.66683 2.33325L7.3335 2.33325C7.88578 2.33325 8.3335 1.88554 8.3335 1.33325C8.3335 0.780966 7.88578 0.333252 7.3335 0.333252H2.66683C1.37817 0.333252 0.333496 1.37792 0.333496 2.66658V7.33325Z" fill="white"/>\n<path d="M0.333496 16.6666C0.333496 16.1143 0.781212 15.6666 1.3335 15.6666C1.88578 15.6666 2.3335 16.1143 2.3335 16.6666L2.3335 21.3333C2.3335 21.5173 2.48274 21.6666 2.66683 21.6666L7.3335 21.6666C7.88578 21.6666 8.3335 22.1143 8.3335 22.6666C8.3335 23.2189 7.88578 23.6666 7.3335 23.6666L2.66683 23.6666C1.37817 23.6666 0.333496 22.6219 0.333496 21.3333V16.6666Z" fill="white"/>\n<path d="M15.6668 1.33325C15.6668 0.780967 16.1145 0.333252 16.6668 0.333252H21.3335C22.6222 0.333252 23.6668 1.37792 23.6668 2.66658V7.33325C23.6668 7.88554 23.2191 8.33325 22.6668 8.33325C22.1145 8.33325 21.6668 7.88554 21.6668 7.33325V2.66658C21.6668 2.48249 21.5176 2.33325 21.3335 2.33325L16.6668 2.33325C16.1145 2.33325 15.6668 1.88554 15.6668 1.33325Z" fill="white"/>\n<path d="M16.6668 23.6666C16.1145 23.6666 15.6668 23.2189 15.6668 22.6666C15.6668 22.1143 16.1145 21.6666 16.6668 21.6666H21.3335C21.5176 21.6666 21.6668 21.5173 21.6668 21.3333L21.6668 16.6666C21.6668 16.1143 22.1145 15.6666 22.6668 15.6666C23.2191 15.6666 23.6668 16.1143 23.6668 16.6666V21.3333C23.6668 22.6219 22.6222 23.6666 21.3335 23.6666H16.6668Z" fill="white"/>\n</svg>'}},{key:"fullscreenExitButton",value:function(){return'<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">\n<path d="M11.2498 1.66663C11.2498 0.97627 10.6902 0.416626 9.99984 0.416626C9.30948 0.416626 8.74984 0.97627 8.74984 1.66663V8.33329C8.74984 8.56341 8.56329 8.74996 8.33317 8.74996L1.6665 8.74996C0.976148 8.74996 0.416504 9.3096 0.416504 9.99996C0.416504 10.6903 0.976148 11.25 1.6665 11.25L8.33317 11.25C9.944 11.25 11.2498 9.94412 11.2498 8.33329V1.66663Z" fill="white"/>\n<path d="M28.3332 11.25C29.0235 11.25 29.5832 10.6903 29.5832 9.99996C29.5832 9.3096 29.0235 8.74996 28.3332 8.74996H21.6665C21.4364 8.74996 21.2498 8.56341 21.2498 8.33329V1.66663C21.2498 0.976269 20.6902 0.416626 19.9998 0.416626C19.3095 0.416626 18.7498 0.97627 18.7498 1.66663L18.7498 8.33329C18.7498 9.94412 20.0557 11.25 21.6665 11.25H28.3332Z" fill="white"/>\n<path d="M19.9998 29.5833C19.3095 29.5833 18.7498 29.0236 18.7498 28.3333V21.6666C18.7498 20.0558 20.0557 18.75 21.6665 18.75L28.3332 18.75C29.0235 18.75 29.5832 19.3096 29.5832 20C29.5832 20.6903 29.0235 21.25 28.3332 21.25H21.6665C21.4364 21.25 21.2498 21.4365 21.2498 21.6666V28.3333C21.2498 29.0236 20.6902 29.5833 19.9998 29.5833Z" fill="white"/>\n<path d="M1.6665 18.75C0.976147 18.75 0.416504 19.3096 0.416504 20C0.416504 20.6903 0.976148 21.25 1.6665 21.25H8.33317C8.56329 21.25 8.74984 21.4365 8.74984 21.6666L8.74984 28.3333C8.74984 29.0236 9.30948 29.5833 9.99984 29.5833C10.6902 29.5833 11.2498 29.0236 11.2498 28.3333L11.2498 21.6666C11.2498 20.0558 9.944 18.75 8.33317 18.75H1.6665Z" fill="white"/>\n</svg>'}},{key:"volumeLevel1",value:function(){return'<svg viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.4174 5.79148C12.6615 5.5474 13.0572 5.5474 13.3013 5.79148C15.2746 7.76481 15.2746 10.9642 13.3013 12.9375C13.0572 13.1816 12.6615 13.1816 12.4174 12.9375C12.1734 12.6934 12.1734 12.2977 12.4174 12.0536C13.9026 10.5685 13.9026 8.16054 12.4174 6.67537C12.1734 6.43129 12.1734 6.03556 12.4174 5.79148Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.74871 3.73787C7.71986 2.5658 9.625 3.25252 9.625 4.77465V15.2262C9.625 16.7483 7.71987 17.435 6.74872 16.2629L4.67581 13.7611C4.60457 13.6752 4.49871 13.6254 4.38705 13.6254H2C1.10254 13.6254 0.375 12.8979 0.375 12.0004V8.0004C0.375 7.10294 1.10254 6.3754 2 6.3754H4.38705C4.49871 6.3754 4.60457 6.32564 4.67581 6.23966L6.74871 3.73787ZM8.375 4.77465C8.375 4.42339 7.93535 4.26492 7.71124 4.5354L5.63833 7.03718C5.32962 7.40977 4.87092 7.6254 4.38705 7.6254H2C1.79289 7.6254 1.625 7.79329 1.625 8.0004V12.0004C1.625 12.2075 1.79289 12.3754 2 12.3754H4.38705C4.87092 12.3754 5.32962 12.591 5.63833 12.9636L7.71124 15.4654C7.93535 15.7359 8.375 15.5774 8.375 15.2262V4.77465Z" fill="white"/>\n</svg>'}},{key:"volumeLevel2",value:function(){return'<svg viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.9223 3.28562C15.1664 3.04155 15.5621 3.04155 15.8062 3.28562C19.1629 6.64235 19.1629 12.0847 15.8062 15.4414C15.5621 15.6855 15.1664 15.6855 14.9223 15.4414C14.6782 15.1973 14.6782 14.8016 14.9223 14.5575C17.7909 11.6889 17.7909 7.03807 14.9223 4.16951C14.6782 3.92543 14.6782 3.5297 14.9223 3.28562Z" fill="white"/>\n<path d="M12.4174 5.79148C12.6615 5.5474 13.0572 5.5474 13.3013 5.79148C15.2746 7.76481 15.2746 10.9642 13.3013 12.9375C13.0572 13.1816 12.6615 13.1816 12.4174 12.9375C12.1734 12.6934 12.1734 12.2977 12.4174 12.0536C13.9026 10.5685 13.9026 8.16054 12.4174 6.67537C12.1734 6.43129 12.1734 6.03556 12.4174 5.79148Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.74871 3.73787C7.71986 2.5658 9.625 3.25252 9.625 4.77465V15.2262C9.625 16.7483 7.71987 17.435 6.74872 16.2629L4.67581 13.7611C4.60457 13.6752 4.49871 13.6254 4.38705 13.6254H2C1.10254 13.6254 0.375 12.8979 0.375 12.0004V8.0004C0.375 7.10294 1.10254 6.3754 2 6.3754H4.38705C4.49871 6.3754 4.60457 6.32564 4.67581 6.23966L6.74871 3.73787ZM8.375 4.77465C8.375 4.42339 7.93535 4.26492 7.71124 4.5354L5.63833 7.03718C5.32962 7.40977 4.87092 7.6254 4.38705 7.6254H2C1.79289 7.6254 1.625 7.79329 1.625 8.0004V12.0004C1.625 12.2075 1.79289 12.3754 2 12.3754H4.38705C4.87092 12.3754 5.32962 12.591 5.63833 12.9636L7.71124 15.4654C7.93535 15.7359 8.375 15.5774 8.375 15.2262V4.77465Z" fill="white"/>\n</svg>'}},{key:"volumeLevel3",value:function(){return'<svg viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.1987 0.810011C17.9546 0.565934 17.5588 0.565934 17.3148 0.810011C17.0707 1.05409 17.0707 1.44982 17.3148 1.69389C21.5525 5.93162 21.5525 12.8023 17.3148 17.04C17.0707 17.2841 17.0707 17.6799 17.3148 17.9239C17.5588 18.168 17.9546 18.168 18.1987 17.9239C22.9245 13.1981 22.9245 5.53589 18.1987 0.810011Z" fill="white"/>\n<path d="M14.9223 3.28562C15.1664 3.04155 15.5621 3.04155 15.8062 3.28562C19.1629 6.64235 19.1629 12.0847 15.8062 15.4414C15.5621 15.6855 15.1664 15.6855 14.9223 15.4414C14.6782 15.1973 14.6782 14.8016 14.9223 14.5575C17.7909 11.6889 17.7909 7.03807 14.9223 4.16951C14.6782 3.92543 14.6782 3.5297 14.9223 3.28562Z" fill="white"/>\n<path d="M12.4174 5.79148C12.6615 5.5474 13.0572 5.5474 13.3013 5.79148C15.2746 7.76481 15.2746 10.9642 13.3013 12.9375C13.0572 13.1816 12.6615 13.1816 12.4174 12.9375C12.1734 12.6934 12.1734 12.2977 12.4174 12.0536C13.9026 10.5685 13.9026 8.16054 12.4174 6.67537C12.1734 6.43129 12.1734 6.03556 12.4174 5.79148Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.74871 3.73787C7.71986 2.5658 9.625 3.25252 9.625 4.77465V15.2262C9.625 16.7483 7.71987 17.435 6.74872 16.2629L4.67581 13.7611C4.60457 13.6752 4.49871 13.6254 4.38705 13.6254H2C1.10254 13.6254 0.375 12.8979 0.375 12.0004V8.0004C0.375 7.10294 1.10254 6.3754 2 6.3754H4.38705C4.49871 6.3754 4.60457 6.32564 4.67581 6.23966L6.74871 3.73787ZM8.375 4.77465C8.375 4.42339 7.93535 4.26492 7.71124 4.5354L5.63833 7.03718C5.32962 7.40977 4.87092 7.6254 4.38705 7.6254H2C1.79289 7.6254 1.625 7.79329 1.625 8.0004V12.0004C1.625 12.2075 1.79289 12.3754 2 12.3754H4.38705C4.87092 12.3754 5.32962 12.591 5.63833 12.9636L7.71124 15.4654C7.93535 15.7359 8.375 15.5774 8.375 15.2262V4.77465Z" fill="white"/>\n</svg>'}},{key:"volumeLevel0",value:function(){return'<svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1.4307 0.5C1.23544 0.304738 0.918857 0.304738 0.723595 0.5C0.528333 0.695263 0.528333 1.01184 0.723595 1.20711L13.0184 13.5C13.2136 13.6952 13.5302 13.6952 13.7255 13.5C13.9207 13.3047 13.9207 12.9881 13.7255 12.7929L1.4307 0.5Z" fill="white"/>\n<path d="M11.6212 1.77399V9.27442L10.3712 8.02442V1.77399C10.3712 1.42273 9.93157 1.26425 9.70746 1.53473L7.63456 4.03652C7.43701 4.27494 7.17805 4.44909 6.89038 4.54359L5.72153 3.37474H6.38327C6.49494 3.37474 6.60079 3.32498 6.67203 3.23899L8.74493 0.737209C9.71608 -0.434868 11.6212 0.251853 11.6212 1.77399Z" fill="white"/>\n<path d="M3.62123 8.99973V5.51708L2.49084 4.38669C2.41372 4.57587 2.37123 4.78284 2.37123 4.99974V8.99973C2.37123 9.89719 3.09876 10.6247 3.99623 10.6247H6.38327C6.49494 10.6247 6.60079 10.6745 6.67203 10.7605L8.74493 13.2623C9.47155 14.1392 10.721 13.9756 11.3042 13.2L10.3693 12.2651C10.3377 12.5883 9.92295 12.7248 9.70746 12.4647L7.63456 9.96295C7.32584 9.59036 6.86714 9.37473 6.38327 9.37473H3.99623C3.78912 9.37473 3.62123 9.20683 3.62123 8.99973Z" fill="white"/>\n</svg>'}},{key:"settings",value:function(){return'<svg viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.0002 10.5826C12.5609 10.5826 10.5835 12.5601 10.5835 14.9993C10.5835 17.4386 12.5609 19.416 15.0002 19.416C17.4394 19.416 19.4168 17.4386 19.4168 14.9993C19.4168 12.5601 17.4394 10.5826 15.0002 10.5826ZM12.7502 14.9993C12.7502 13.7567 13.7575 12.7493 15.0002 12.7493C16.2428 12.7493 17.2502 13.7567 17.2502 14.9993C17.2502 16.2419 16.2428 17.2493 15.0002 17.2493C13.7575 17.2493 12.7502 16.2419 12.7502 14.9993Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.1421 0.582642C12.855 0.582642 11.7401 1.47536 11.4586 2.7313L10.918 5.14398L8.83057 3.82087C7.74347 3.1318 6.32386 3.28892 5.41375 4.19902L4.19988 5.4129C3.28977 6.32301 3.13266 7.74262 3.82172 8.82972L5.14484 10.9171L2.73215 11.4578C1.47622 11.7392 0.583496 12.8541 0.583496 14.1412V15.8574C0.583496 17.1445 1.47622 18.2594 2.73215 18.5408L5.14484 19.0815L3.82172 21.1689C3.13265 22.256 3.28977 23.6756 4.19987 24.5857L5.41375 25.7996C6.32386 26.7097 7.74348 26.8668 8.83057 26.1777L10.918 24.8546L11.4586 27.2673C11.7401 28.5233 12.855 29.416 14.1421 29.416H15.8583C17.1453 29.416 18.2603 28.5233 18.5417 27.2673L19.0824 24.8546L21.1698 26.1777C22.2568 26.8668 23.6765 26.7097 24.5866 25.7996L25.8004 24.5857C26.7106 23.6756 26.8677 22.256 26.1786 21.1689L24.8555 19.0815L27.2682 18.5408C28.5241 18.2594 29.4168 17.1445 29.4168 15.8574V14.1412C29.4168 12.8541 28.5241 11.7392 27.2682 11.4578L24.8555 10.9171L26.1786 8.82972C26.8677 7.74262 26.7106 6.32301 25.8004 5.4129L24.5866 4.19902C23.6765 3.28891 22.2568 3.1318 21.1698 3.82087L19.0824 5.14398L18.5417 2.7313C18.2603 1.47536 17.1453 0.582642 15.8583 0.582642H14.1421ZM13.5728 3.20508C13.6325 2.93867 13.869 2.74931 14.1421 2.74931H15.8583C16.1313 2.74931 16.3678 2.93867 16.4275 3.20508L17.0868 6.14711C17.2137 6.71375 17.6084 7.18321 18.1448 7.40563C18.6817 7.62824 19.2933 7.57555 19.7842 7.26441L22.3297 5.65087C22.5603 5.50471 22.8615 5.53803 23.0545 5.73109L24.2684 6.94497C24.4614 7.13802 24.4948 7.43915 24.3486 7.66974L22.7351 10.2153C22.4239 10.7062 22.3712 11.3178 22.5938 11.8546C22.8163 12.391 23.2857 12.7857 23.8524 12.9127L26.7944 13.572C27.0608 13.6317 27.2502 13.8682 27.2502 14.1412V15.8574C27.2502 16.1304 27.0608 16.3669 26.7944 16.4266L23.8524 17.0859C23.2857 17.2129 22.8163 17.6076 22.5938 18.144C22.3712 18.6808 22.4239 19.2924 22.7351 19.7833L24.3486 22.3289C24.4948 22.5595 24.4614 22.8606 24.2684 23.0536L23.0545 24.2675C22.8615 24.4606 22.5603 24.4939 22.3297 24.3477L19.7842 22.7342C19.2933 22.4231 18.6817 22.3704 18.1448 22.593C17.6084 22.8154 17.2137 23.2849 17.0868 23.8515L16.4275 26.7935C16.3678 27.0599 16.1313 27.2493 15.8583 27.2493H14.1421C13.869 27.2493 13.6326 27.0599 13.5728 26.7935L12.9136 23.8515C12.7866 23.2849 12.3919 22.8154 11.8555 22.593C11.3186 22.3704 10.707 22.4231 10.2162 22.7342L7.6706 24.3477C7.44 24.4939 7.13887 24.4606 6.94582 24.2675L5.73194 23.0536C5.53889 22.8606 5.50556 22.5595 5.65173 22.3289L7.26526 19.7833C7.57641 19.2924 7.62909 18.6808 7.40649 18.144C7.18406 17.6076 6.7146 17.2129 6.14796 17.0859L3.20594 16.4266C2.93953 16.3669 2.75016 16.1304 2.75016 15.8574V14.1412C2.75016 13.8682 2.93953 13.6317 3.20594 13.572L6.14796 12.9127C6.7146 12.7857 7.18406 12.391 7.40649 11.8546C7.62909 11.3178 7.57641 10.7062 7.26526 10.2153L5.65173 7.66974C5.50556 7.43915 5.53889 7.13802 5.73194 6.94497L6.94582 5.73109C7.13887 5.53803 7.44 5.50471 7.6706 5.65087L10.2162 7.26441C10.707 7.57555 11.3186 7.62824 11.8555 7.40563C12.3919 7.18321 12.7866 6.71375 12.9136 6.14711L13.5728 3.20508Z" fill="white"/>\n</svg>\n'}},{key:"airplay",value:function(){return'<svg viewBox="0 0 21 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.4701 0.349609C2.02311 0.349609 0.850098 1.52262 0.850098 2.96961V3.49961C0.850098 3.85859 1.14111 4.14961 1.5001 4.14961C1.85908 4.14961 2.1501 3.85859 2.1501 3.49961V2.96961C2.1501 2.24059 2.74108 1.64961 3.4701 1.64961H17.5001C18.2457 1.64961 18.8501 2.25403 18.8501 2.99961V12.9996C18.8501 13.7452 18.2457 14.3496 17.5001 14.3496H13.0001C12.6411 14.3496 12.3501 14.6406 12.3501 14.9996C12.3501 15.3586 12.6411 15.6496 13.0001 15.6496H17.5001C18.9637 15.6496 20.1501 14.4632 20.1501 12.9996V2.99961C20.1501 1.53606 18.9637 0.349609 17.5001 0.349609H3.4701Z" fill="white"/>\n<path d="M1.5 16C2.05228 16 2.5 15.5523 2.5 15C2.5 14.4477 2.05228 14 1.5 14C0.947715 14 0.5 14.4477 0.5 15C0.5 15.5523 0.947715 16 1.5 16Z" fill="white"/>\n<path d="M0.850098 10.9996C0.850098 10.6406 1.14111 10.3496 1.5001 10.3496C4.06822 10.3496 6.1501 12.4315 6.1501 14.9996C6.1501 15.3586 5.85908 15.6496 5.5001 15.6496C5.14111 15.6496 4.8501 15.3586 4.8501 14.9996C4.8501 13.1495 3.35025 11.6496 1.5001 11.6496C1.14111 11.6496 0.850098 11.3586 0.850098 10.9996Z" fill="white"/>\n<path d="M1.5001 6.34961C1.14111 6.34961 0.850098 6.64062 0.850098 6.99961C0.850098 7.35859 1.14111 7.64961 1.5001 7.64961C5.55939 7.64961 8.8501 10.9403 8.8501 14.9996C8.8501 15.3586 9.14111 15.6496 9.5001 15.6496C9.85908 15.6496 10.1501 15.3586 10.1501 14.9996C10.1501 10.2223 6.27736 6.34961 1.5001 6.34961Z" fill="white"/>\n</svg>\n'}},{key:"liveBadge",value:function(){return'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="0.5" y="6.5" width="23" height="12" rx="1.5" stroke="white"/>\n<path d="M10.2471 14.1387V15H7.73486V14.1387H10.2471ZM8.11426 10.0234V15H7V10.0234H8.11426ZM11.98 10.0234V15H10.8691V10.0234H11.98ZM14.7178 13.896L15.8252 10.0234H17.0659L15.3604 15H14.5503L14.7178 13.896ZM13.7095 10.0234L14.8135 13.896L14.9878 15H14.1675L12.4722 10.0234H13.7095ZM20.8633 14.1387V15H18.2144V14.1387H20.8633ZM18.5938 10.0234V15H17.4795V10.0234H18.5938ZM20.5215 12.0264V12.8604H18.2144V12.0264H20.5215ZM20.8667 10.0234V10.8882H18.2144V10.0234H20.8667Z" fill="white"/>\n<circle cx="4" cy="12.5" r="1.25195" fill="#E14242"/>\n</svg>\n\n'}}]),e}(),CN=ah.getComponent("component"),IN=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"createEl",value:function(e,t,r){var i=this.options();if(i){var a=i.className?"".concat(this.buildCSSClass()," ").concat(i.className):this.buildCSSClass();return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:a,innerHTML:wN.getSvgStrByType(i.svgType)})}}},{key:"buildCSSClass",value:function(){return"nut-svg-container"}}]),n}(CN);CN.registerComponent("SVGComponent",IN);var kN=IN,RN=ah.getComponent("component"),DN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),i=t.call(this,e,r),lh.hasAirPlayAPISupport()||i.hide(),i.addIcons(),i.reactToAirPlayAvailableEvents(),i.controlText("AirPlay",i.el(),"bottom-left"),i.on(e,"loadedmetadata",(function(){i.player().tech().allowAirplay&&lh.hasAirPlayAPISupport()?i.show():i.hide()})),i}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-airplay-button vjs-controlbar-right-button ".concat(_get(_get_prototype_of(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.player().trigger(ef.AirPlay)}},{key:"getMediaEl",value:function(){return this.player().el().querySelector("video")}},{key:"reactToAirPlayAvailableEvents",value:function(){var e=this,t=this.getMediaEl();t&&lh.hasAirPlayAPISupport()&&(t.addEventListener("webkitplaybacktargetavailabilitychanged",this.onTargetAvailabilityChanged),this.on("dispose",(function(){t.removeEventListener("webkitplaybacktargetavailabilitychanged",e.onTargetAvailabilityChanged)})))}},{key:"onTargetAvailabilityChanged",value:function(e){"available"===e.availability?this.show():this.hide()}},{key:"addIcons",value:function(){var e=this;[{svgType:TN,className:"nut-icon-airplay"}].forEach((function(t){return RN.prototype.addChild.call(e,new kN(e.player(),t))}))}}]),n}(fN);RN.registerComponent("AirPlayButton",DN);var MN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).on(e,"loadedmetadata",i.visibilityHandle),i.on(e,"timeupdate",i.updateDisabledState),i}return _create_class(n,[{key:"visibilityHandle",value:function(){this.player().duration()<60&&(this.disable(),this.hide())}}]),n}(fN);MN.seekValue=15;var LN=ah.getComponent("component"),NN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){return _class_call_check(this,n),t.call(this,e,r)}return _create_class(n,[{key:"createEl",value:function(){var e=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"img",{className:"nut-central-seek-button seek-button--left nut-central-button"}),t=document.createElement("span");return t.className="seek-button-text",t.innerText="".concat(MN.seekValue," ").concat(this.localize("Seconds-short").toLowerCase(),"."),e.appendChild(t),e}},{key:"handleClick",value:function(e){e.stopPropagation(),this.enabled_&&this.player().currentTime(this.player().currentTime()-MN.seekValue)}},{key:"updateDisabledState",value:function(){this.player().currentTime()>0?this.enabled_||this.enable():this.enabled_&&this.disable()}}]),n}(MN);LN.registerComponent("LeftSeekButton",NN);var BN=ah.getComponent("component"),xN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){return _class_call_check(this,n),t.call(this,e,r)}return _create_class(n,[{key:"createEl",value:function(){var e=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"nut-central-seek-button seek-button--right nut-central-button"}),t=document.createElement("span");return t.className="seek-button-text",t.innerText="".concat(MN.seekValue," ").concat(this.localize("Seconds-short").toLowerCase(),"."),e.appendChild(t),e}},{key:"handleClick",value:function(e){e.stopPropagation(),this.enabled_&&(this.player().duration()-this.player().currentTime()<MN.seekValue?this.player().currentTime(this.player().duration()-.05):this.player().currentTime(this.player().currentTime()+MN.seekValue))}},{key:"updateDisabledState",value:function(){this.player().currentTime()<this.player().duration()?this.enabled_||this.enable():this.enabled_&&this.disable()}}]),n}(MN);BN.registerComponent("RightSeekButton",xN);var PN=f(Ue(),1),ON=ah.getComponent("component"),FN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;_class_call_check(this,n);return(i=t.call(this,e,{children:["leftSeekButton","bigPlayButton","rightSeekButton","airPlayButton"]})).player().on("SettingsMenuOpened",(function(e){return i.disableClick()})),i.player().on("SettingsMenuClosed",(function(e){return i.enableClick()})),i.bigPlayButton=i.getChild("BigPlayButton"),i.isClickDisabled=!1,i.bigPlayButton&&i.bigPlayButton.el().addEventListener("animationend",(function(){i.bigPlayButton.removeClass("animation-press-play"),i.bigPlayButton.removeClass("animation-press-pause")})),i}return _create_class(n,[{key:"enableClick",value:function(){this.isClickDisabled=!1}},{key:"disableClick",value:function(){this.isClickDisabled=!0}},{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"nut-central-panel"})}},{key:"handleClick",value:function(e){e.target===this.el()&&(this.isClickDisabled||_P.getDevice().type===PN.DEVICE.MOBILE||(this.player_.paused()?("small"!==this.player_.currentBreakpoint()&&_P.getDevice().type!==PN.DEVICE.MOBILE&&this.bigPlayButton&&this.bigPlayButton.addClass("animation-press-play"),this.player_.play()):("small"!==this.player_.currentBreakpoint()&&_P.getDevice().type!==PN.DEVICE.MOBILE&&this.bigPlayButton&&this.bigPlayButton.addClass("animation-press-pause"),this.player_.pause())))}}]),n}(ET);ON.registerComponent("CentralPanel",FN);var UN=ah.getComponent("component"),jN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),i=t.call(this,e,r),r.replay=void 0===r.replay||r.replay,i.controlText("Play",i.el(),"top-right"),i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),r.replay&&i.on(e,"ended",i.handleEnded),i}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-play-control ".concat(_get(_get_prototype_of(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(e){this.player_.paused()?this.player_.play():this.player_.pause()}},{key:"handleSeeked",value:function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}},{key:"handlePlay",value:function(e){this.controlText("Pause",this.el(),"top-right")}},{key:"handlePause",value:function(e){this.controlText("Play",this.el(),"top-right")}},{key:"handleEnded",value:function(e){this.controlText("Replay",this.el(),"top-right"),this.one(this.player_,"seeked",this.handleSeeked)}}]),n}(fN);UN.registerComponent("PlayToggle",jN);var QN=ah.getComponent("component"),GN=ah.dom,VN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).controlText("Fullscreen"),i.on(e,"fullscreenchange",(function(e){return i.handleFullscreenChange(e)})),i.addIcons(),i.controlText("Fullscreen",i.el(),"top-left"),!1===document[e.fsApi_.fullscreenEnabled]&&i.disable(),i}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-fullscreen-control ".concat(_get(_get_prototype_of(n.prototype),"buildCSSClass",this).call(this)," vjs-controlbar-right-button")}},{key:"createEl",value:function(){var e=GN.createEl("button",{className:this.buildCSSClass(),tabIndex:-1},{type:"button"},"");return this.controlText(this.controlText_,e),e}},{key:"handleFullscreenChange",value:function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen",this.el(),"top-left"):this.controlText("Fullscreen",this.el(),"top-left")}},{key:"handleClick",value:function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}},{key:"addIcons",value:function(){var e=this;[{svgType:gN,className:"nut-icon-fullscreen-enter"},{svgType:mN,className:"nut-icon-fullscreen-exit"}].forEach((function(t){return QN.prototype.addChild.call(e,new kN(e.player(),t))}))}}]),n}(fN);QN.registerComponent("FullscreenToggle",VN);var HN=ah.getComponent("component"),YN=ah.dom,qN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).menuButton_=null,r&&(i.menuButton_=r.menuButton),i}return _create_class(n,[{key:"removeChild",value:function(e){"string"==typeof e&&(e=this.getChild(e)),_get(_get_prototype_of(n.prototype),"removeChild",this).call(this,e)}},{key:"addItem",value:function(e){this.addChild(e)}},{key:"createEl",value:function(){var e=this.options_.contentElType||"ul";this.contentEl_=YN.createEl(e,{className:"vjs-menu-content vjs-sm-top-level"}),this.contentEl().setAttribute("role","menu");var t=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{append:this.contentEl(),className:"vjs-menu main-menu"});return t.appendChild(this.contentEl()),eT(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}},{key:"dispose",value:function(){this.contentEl_=null,_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}}]),n}(HN);HN.registerComponent("SettingsMainMenu",qN);var zN=qN,WN=ah.getComponent("component"),KN=ah.dom,XN=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).options_=r,i.clickHandler=r.clickHandler,i.value=r.value,r.additionalClassName&&i.addClass(r.additionalClassName),r.selected&&i.selected(!0),i}return _create_class(n,[{key:"createEl",value:function(e,t,r){this.nonIconControl=!0;var i=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"li",lf({className:"vjs-menu-item",tabIndex:-1},t),r);return i.replaceChild(KN.createEl("span",{className:this.options_.isBackButton?"":"vjs-menu-item-text",textContent:this.localize(this.options_.label||"")},{},""),i.querySelector(".vjs-icon-placeholder")),i}},{key:"handleClick",value:function(e){this.clickHandler&&this.clickHandler()}}]),n}(wT);WN.registerComponent("SettingsPlaybackRateMenuItem",XN);var JN=XN,ZN=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"playbackrateFormat",value:function(e,t){return t&&1===e?t:e+"x"}}]),e}(),$N=ah.getComponent("component"),eB=ah.dom,tB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).items=[],i.menuButton_=r.menuButton,i.createItems(),i}return _create_class(n,[{key:"createItems",value:function(){var e,t,n=this;this.addItem(new JN(this.player(),{label:this.localize("Speed"),isBackButton:!0,clickHandler:function(){n.hide(),n.unlockShowing(),n.menuButton_.mainMenu.show(),n.menuButton_.mainMenu.lockShowing(),n.headerAfterClickHandler()},additionalClassName:"setting-menu-header"})),null===(t=this.player().options_)||void 0===t||null===(e=t.playbackRates)||void 0===e||e.forEach((function(e){n.addItem(new JN(n.player(),{label:ZN.playbackrateFormat(e,n.localize("Normal")),value:e,selectable:!0,selected:n.player().playbackRate()===e,clickHandler:function(){n.playbackRateSupported()?n.player().playbackRate(e):console.error("Tech doesn't support playbackrate changes"),n.itemAfterClickHandler(),n.player().trigger("PlaybackRateItemClicked")}}))}))}},{key:"removeChild",value:function(e){"string"==typeof e&&(e=this.getChild(e)),_get(_get_prototype_of(n.prototype),"removeChild",this).call(this,e)}},{key:"addItem",value:function(e){this.addChild(e)}},{key:"createEl",value:function(){var e=this.options_.contentElType||"ul";this.contentEl_=eB.createEl(e,{className:"vjs-menu-content vjs-playbackrate-menu vjs-setting-menu-sub"}),this.contentEl_.setAttribute("role","menu");var t=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{append:this.contentEl_,className:"vjs-menu playbackrate-menu"});return t.appendChild(this.contentEl_),eT(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}},{key:"dispose",value:function(){this.contentEl_=null,_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"playbackRateSupported",value:function(){return this.player().tech()&&this.player().tech().featuresPlaybackRate&&this.player().playbackRates()&&this.player().playbackRates().length>0}}]),n}(NT);$N.registerComponent("SettingsPlaybackRateMenu",tB);var nB=tB,rB=ah.getComponent("component"),iB=ah.dom,aB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).options_=r,i}return _create_class(n,[{key:"createEl",value:function(e,t,r){this.nonIconControl=!0;var i=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"li",lf({className:"vjs-menu-item vjs-sm-list-item",id:this.options_.id||"",tabIndex:-1,textContent:this.localize(this.options_.label||"")},t),r);return i.replaceChild(iB.createEl("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.value||"")},{},""),i.querySelector(".vjs-icon-placeholder")),i}},{key:"handleClick",value:function(e){this.player().trigger("showSubMenu",{id:this.options_.id})}},{key:"valueLabel",set:function(e){var t=this.el();if(t){var n=t.querySelector(".vjs-menu-item-text");n&&(n.textContent=e)}}},{key:"showLoader",value:function(){var e=this.el();if(e){var t=e.querySelector(".vjs-menu-item-text");t&&(t.innerHTML='<div class="loader"></div>')}}}]),n}(wT);rB.registerComponent("SettingsMainMenuItem",aB);var sB=aB,oB=f(k(),1),lB=f(A(),1);var uB=function(e,t){if(!e||!t)return"";if("function"==typeof lB.default.getComputedStyle){var n;try{n=lB.default.getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""},cB=ah.getComponent("component"),dB=ah.dom,hB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).options_=r,i.clickHandler=r.clickHandler,i.value=r.value,r.additionalClassName&&i.addClass(r.additionalClassName),r.selected&&i.selected(!0),i}return _create_class(n,[{key:"createEl",value:function(e,t,r){this.nonIconControl=!0;var i=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"li",lf({className:"vjs-menu-item",tabIndex:-1},t),r);return i.replaceChild(dB.createEl("span",{className:this.options_.isBackButton?"":"vjs-menu-item-text",textContent:this.localize(this.options_.label||"")},{},""),i.querySelector(".vjs-icon-placeholder")),i}},{key:"handleClick",value:function(e){this.clickHandler&&this.clickHandler()}},{key:"label",set:function(e){var t=this.el();if(t){var n=t.querySelector(".vjs-menu-item-text");n&&(n.textContent=e)}}}]),n}(wT);cB.registerComponent("SettingsQualityMenuItem",hB);var fB=hB,pB=ah.getComponent("component"),AB=ah.dom,gB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;_class_call_check(this,n),(i=t.call(this,e,r)).menuButton_=null,i.menuButton_=r.menuButton,i.captions=r.captions,i.addHeaderItem();var a=new fB(i.player(),{label:i.localize("Off"),value:"",selectable:!0,selected:!0,clickHandler:function(){ch.publish(yh({caption:null,onSuccess:function(){i.resetSelected(),a.selected(!0),i.itemAfterClickHandler(),ch.publish(_h({caption:null}))},setNativeCaption:!0}))}});return i.addItem(a),i.captions.forEach((function(e,t){var n=new fB(i.player(),{label:e.title,value:e.language,selectable:!0,selected:!1,clickHandler:function(){ch.publish(yh({caption:e,onSuccess:function(){i.resetSelected(),n.selected(!0),ch.publish(_h({caption:e}))},setNativeCaption:!0})),i.itemAfterClickHandler()}});i.addItem(n)})),ch.subscribe(Eh,(function(e){var t=e.payload.index,n=i.children()["number"==typeof t?t+2:1],r=null!==t?i.captions[t]:null;ch.publish(yh({caption:r,onSuccess:function(){i.resetSelected(),n.selected(!0),ch.publish(_h({caption:r}))},setNativeCaption:!1}))})),i}return _create_class(n,[{key:"resetSelected",value:function(){this.children().forEach((function(e){return e.selected(!1)}))}},{key:"addHeaderItem",value:function(){var e=this;this.addItem(new fB(this.player(),{label:this.localize("Subtitles"),isBackButton:!0,clickHandler:function(){var t,n;e.headerAfterClickHandler(),e.hide(),e.unlockShowing(),null===(t=e.menuButton_)||void 0===t||t.mainMenu.show(),null===(n=e.menuButton_)||void 0===n||n.mainMenu.lockShowing()},additionalClassName:"setting-menu-header"}))}},{key:"removeChild",value:function(e){"string"==typeof e&&(e=this.getChild(e)),_get(_get_prototype_of(n.prototype),"removeChild",this).call(this,e)}},{key:"addItem",value:function(e){this.addChild(e)}},{key:"createEl",value:function(){var e=this.options_.contentElType||"ul";this.contentEl_=AB.createEl(e,{className:"vjs-menu-content vjs-subtitles-menu vjs-setting-menu-sub"}),this.contentEl_.setAttribute("role","menu");var t=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{append:this.contentEl_,className:"vjs-menu subtitles-menu"});return t.appendChild(this.contentEl_),eT(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}},{key:"dispose",value:function(){this.contentEl_=null,_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}}]),n}(NT);pB.registerComponent("SettingsSubtitlesMenu",gB);var mB=gB,vB=ah.getComponent("component"),yB=ah.dom,EB=ah.browser,_B=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;_class_call_check(this,n),(i=t.call(this,e,{})).options_=r,i.nutQualityPlugin=i.player().nutQualityPlugin,i.menuButton_=new fN(e,{}),i.menuButton_.controlText("Settings"),i.menuButton_.el().setAttribute("aria-haspopup","true");var a=fN.prototype.buildCSSClass();i.menuButton_.el().className=i.buildCSSClass()+" "+a,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.addIcons(),i.build(),i.player().on("playerreset",(function(){i.build()})),i.enabled_=!0;var s=function(e){return i.handleClick(e)};return i.player().on("loadstart",(function(){i.player().one("canplaythrough",(function(){i.el().querySelectorAll(".vjs-menu-content").forEach((function(e){i.resizeSubMenu(e),i.player().on("playerresize",(function(){i.resizeSubMenu(e)}))}))}))})),i.player().on(["userinactive","SettingsMenuClose"],(function(){i.unpressButton()})),i.on(i.menuButton_,"tap",s),i.on(i.menuButton_,"click",s),i.player().on("showSubMenu",(function(e,t){i.mainMenu.unlockShowing(),i.mainMenu.hide(),t.id===n.SETTINGS_PLAYBACKRATE_MENU_ITEM_ID&&(i.playbackrateMenu.lockShowing(),i.playbackrateMenu.show()),t.id===n.SETTINGS_QUALITY_MENU_ITEM_ID&&(i.qualityMenu.lockShowing(),i.qualityMenu.show()),t.id===n.SETTINGS_SUBTITLES_MENU_ITEM_ID&&(i.subtitlesMenu.lockShowing(),i.subtitlesMenu.show())})),i.player().on("ratechange",(function(){var e=i.player().playbackRate();i.el().querySelector("#".concat(n.SETTINGS_PLAYBACKRATE_MENU_ITEM_ID," .vjs-menu-item-text")).textContent=ZN.playbackrateFormat(e),i.playbackrateMenu.children().forEach((function(t){t.selected(t.value===e)}))})),oB.default.addEventListener(EB.TOUCH_ENABLED?"touchstart":"click",(function(e){e.stopPropagation(),i.buttonPressed_&&(e.target.closest(".vjs-menu-button.vjs-settings-menu")||i.unpressButton())})),i.nutQualityPlugin&&i.nutQualityPlugin().handleSettingsButton(i.menuButton_),i}return _create_class(n,[{key:"build",value:function(){var e=this,t=this.createMenu(),n=this.createQualityMenu();this.mainMenu&&(this.mainMenu.dispose(),this.removeChild(this.mainMenu)),this.qualityMenu&&(this.qualityMenu.dispose(),this.removeChild(this.qualityMenu)),this.subtitlesMenu&&(this.subtitlesMenu.dispose(),this.removeChild(this.subtitlesMenu)),this.mainMenu=t,this.qualityMenu=n,this.addChild(t),this.addChild(n),ch.subscribe(Dh,(function(t){if(t.payload.isActive){e.playbackrateMenu&&(e.playbackrateMenu.dispose(),e.removeChild(e.playbackrateMenu));var n=e.createPlaybackrateMenu();e.playbackrateMenu=n,e.addChild(n)}})),ch.subscribe(mh,(function(t){var n=t.payload;if(0!==n.captions.length){var r=e.createSubtitlesMenu(n.captions);e.subtitlesMenu=r,e.addChild(r)}})),this.buttonPressed_=!1,this.menuButton_.el().setAttribute("aria-expanded","false")}},{key:"createMenu",value:function(){var e=this,t=new zN(this.player_,{menuButton:this});return this.nutQualityPlugin&&this.nutQualityPlugin().addQualityMenuItem(t),ch.subscribe(Dh,(function(r){r.payload.isActive&&t.addChild(new sB(e.player(),{value:"Normal",label:"Speed",id:n.SETTINGS_PLAYBACKRATE_MENU_ITEM_ID}),{},1)})),ch.subscribe(mh,(function(t){0!==t.payload.captions.length&&e.addSubtitlesItem()})),t}},{key:"addSubtitlesItem",value:function(){var e=this,t=new sB(this.player(),{value:"Off",label:"Subtitles",id:n.SETTINGS_SUBTITLES_MENU_ITEM_ID});this.mainMenu.addChild(t,{},2);var r=ch.subscribe(_h,(function(n){var r;t&&(t.valueLabel=(null===(r=n.payload.caption)||void 0===r?void 0:r.title)||e.localize("Off"))}));this.player_.one("playerreset",(function(){r()}))}},{key:"createPlaybackrateMenu",value:function(){return new nB(this.player_,{menuButton:this})}},{key:"createQualityMenu",value:function(){return new FT(this.player_,{menuButton:this})}},{key:"createSubtitlesMenu",value:function(e){return new mB(this.player_,{menuButton:this,captions:e})}},{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:this.buildWrapperCSSClass()},{})}},{key:"buildWrapperCSSClass",value:function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var t=fN.prototype.buildCSSClass();return"vjs-menu-button vjs-settings-menu vjs-controlbar-right-button ".concat(e," ").concat(t," ").concat(_get(_get_prototype_of(n.prototype),"buildCSSClass",this).call(this))}},{key:"buildCSSClass",value:function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(_get(_get_prototype_of(n.prototype),"buildCSSClass",this).call(this))}},{key:"controlText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)}},{key:"dispose",value:function(){_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"handleClick",value:function(e){this.buttonPressed_?this.unpressButton():this.pressButton()}},{key:"pressButton",value:function(){var e=this;if(this.enabled_){this.buttonPressed_=!0,this.mainMenu.show(),this.mainMenu.lockShowing(),this.menuButton_.el().setAttribute("aria-expanded","true"),this.addClass("vjs-toogle-btn");var t=setInterval((function(){e.player().reportUserActivity({})}),1e3);if(this.player().one("SettingsMenuClosed",(function(e){clearInterval(t)})),this.player().trigger("SettingsMenuOpened"),EB.IS_IOS&&yB.isInFrame())return}}},{key:"unpressButton",value:function(){this.enabled_&&(this.buttonPressed_=!1,this.mainMenu.unlockShowing(),this.mainMenu.hide(),this.playbackrateMenu&&(this.playbackrateMenu.unlockShowing(),this.playbackrateMenu.hide()),this.qualityMenu.unlockShowing(),this.qualityMenu.hide(),this.subtitlesMenu&&(this.subtitlesMenu.unlockShowing(),this.subtitlesMenu.hide()),this.removeClass("vjs-toogle-btn"),this.menuButton_.el().setAttribute("aria-expanded","false"),this.player().trigger("SettingsMenuClosed"))}},{key:"disable",value:function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}},{key:"enable",value:function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}},{key:"resizeSubMenu",value:function(e){var t=parseInt(uB(this.player().el(),"width")),n=parseInt(uB(this.player().el(),"height"))-(t<=this.player().breakpoints_.small?49:t>this.player().breakpoints_.small&&t<=this.player().breakpoints_.medium?103:156);e.style.setProperty("max-height",n+"px","important")}},{key:"addIcons",value:function(){var e=this;[{svgType:SN,className:"nut-icon-settings"}].forEach((function(t){return e.menuButton_.addChild.call(e.menuButton_,new kN(e.player(),t))}))}}]),n}(vB);_B.SETTINGS_PLAYBACKRATE_MENU_ITEM_ID="main-menu-playbackrate-item",_B.SETTINGS_SUBTITLES_MENU_ITEM_ID="main-menu-subtitles-item",_B.SETTINGS_QUALITY_MENU_ITEM_ID="main-menu-quality-item";var TB=_B;vB.registerComponent("SettingsMenuButton",TB);var bB=TB,SB=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||s>0?i+":":"")+(r=((i||a>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)};var wB=function(e){return SB(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e)},CB=ah.getComponent("component"),IB=ah.dom,kB=ah.log,RB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).textNode_=null,i.formattedTime_="",i.on(e,["timeupdate","ended"],(function(e){return i.updateContent(e)})),i.updateTextNode_(),i}return _create_class(n,[{key:"createEl",value:function(){var e=this.buildCSSClass(),t=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"".concat(e," vjs-time-control vjs-control")}),r=IB.createEl("span",{className:"vjs-control-text"},{role:"presentation"});return t.appendChild(r),this.contentEl_=IB.createEl("span",{className:"".concat(e,"-display")},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t}},{key:"dispose",value:function(){this.contentEl_=null,this.textNode_=null,_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"updateTextNode_",value:function(){var e=this,t=wB(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0);this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;t&&e.contentEl_.firstChild!==t&&(t=null,kB.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),e.textNode_=document.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))}},{key:"updateContent",value:function(e){}}]),n}(CB);CB.registerComponent("TimeDisplay",RB);var DB=RB,MB=ah.getComponent("component"),LB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){return _class_call_check(this,n),t.call(this,e,r)}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-current-time"}},{key:"updateContent",value:function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}]),n}(DB);MB.registerComponent("CurrentTimeDisplay",LB);var NB=ah.getComponent("component"),BB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-duration"}},{key:"updateContent",value:function(e){var t=this.player_.duration();this.updateTextNode_(t)}}]),n}(DB);NB.registerComponent("DurationDisplay",BB);var xB=ah.getComponent("component"),PB=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"createEl",value:function(){var e=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div"),r=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"span",{textContent:"/"});return t.appendChild(r),e.appendChild(t),e}}]),n}(xB);xB.registerComponent("TimeDivider",PB);var OB=f(D(),1),FB=function(e,t){t.tech()&&!t.tech().featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech().featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},UB=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},jB=f(D(),1),QB=ah.getComponent("component"),GB=ah.dom,VB=ah.browser,HB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).handleMouseDown_=function(e){return i.handleMouseDown(e)},i.handleMouseUp_=function(e){return i.handleMouseUp(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleMouseMove_=function(e){return i.handleMouseMove(e)},i.update_=function(e){return i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}return _create_class(n,[{key:"enabled",value:function(){return this.enabled_}},{key:"enable",value:function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",-1),this.enabled_=!0)}},{key:"disable",value:function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}}},{key:"createEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.className=t.className+" vjs-slider",t=lf({tabIndex:-1},t),r=lf({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:-1},r),_get(_get_prototype_of(n.prototype),"createEl",this).call(this,e,t,r)}},{key:"handleMouseDown",value:function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||VB.IS_CHROME||e.preventDefault(),GB.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}},{key:"handleMouseMove",value:function(e){}},{key:"handleMouseUp",value:function(e){var t=this.bar.el_.ownerDocument;GB.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}},{key:"update",value:function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}}},{key:"getProgress",value:function(){return Number(UB(this.getPercent(),0,1).toFixed(4))}},{key:"calculateDistance",value:function(e){var t=GB.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x}},{key:"handleKeyDown",value:function(e){jB.default.isEventKey(e,"Left")||jB.default.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):jB.default.isEventKey(e,"Right")||jB.default.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):_get(_get_prototype_of(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"handleClick",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"vertical",value:function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}]),n}(QB);QB.registerComponent("Slider",HB);var YB=HB,qB=ah.getComponent("component"),zB=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-level"})}}]),n}(qB);qB.registerComponent("VolumeLevel",zB);var WB=function(){function e(){_class_call_check(this,e)}return _create_class(e,null,[{key:"isSingleLeftClick",value:function(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||("mousedown"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons)))}}]),e}(),KB=ah.getComponent("component"),XB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).on("slideractive",(function(e){return i.updateLastVolume_()})),i.on(e,"volumechange",(function(e){return i.updateARIAAttributes()})),e.ready((function(){return i.updateARIAAttributes()})),i}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}},{key:"handleMouseDown",value:function(e){WB.isSingleLeftClick(e)&&_get(_get_prototype_of(n.prototype),"handleMouseDown",this).call(this,e)}},{key:"handleMouseMove",value:function(e){WB.isSingleLeftClick(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}},{key:"checkMuted",value:function(){this.player_.muted()&&this.player_.muted(!1)}},{key:"getPercent",value:function(){return this.player_.muted()?0:this.player_.volume()}},{key:"stepForward",value:function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}},{key:"stepBack",value:function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}},{key:"updateARIAAttributes",value:function(){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el().setAttribute("aria-valuenow",String(e)),this.el().setAttribute("aria-valuetext",e+"%")}},{key:"volumeAsPercentage_",value:function(){return Math.round(100*this.player_.volume())}},{key:"updateLastVolume_",value:function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))}}]),n}(YB);XB.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},XB.prototype.playerEvent="volumechange",KB.registerComponent("VolumeBar",XB);var JB=ah.getComponent("component"),ZB=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),r.vertical=r.vertical||!1,(void 0===r.volumeBar||cf(r.volumeBar))&&(r.volumeBar=r.volumeBar||void 0,r.volumeBar&&(r.volumeBar.vertical=r.vertical)),(i=t.call(this,e,r)).options_=r,FB(_assert_this_initialized(i),e),i.throttledHandleMouseMove=Oh(Ph(_assert_this_initialized(i),i.handleMouseMove),xh),i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i.on("mousemove",(function(e){return i.handleMouseMove(e)})),i}return _create_class(n,[{key:"createEl",value:function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-control vjs-control ".concat(e)})}},{key:"handleMouseDown",value:function(e){var t=this.el().ownerDocument;this.on(t,"mousemove",this.handleMouseUp),this.on(t,"mouseup",this.handleMouseUp)}},{key:"handleMouseUp",value:function(e){var t=this.el().ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp)}},{key:"handleMouseMove",value:function(e){var t;null===(t=this.volumeBar)||void 0===t||t.handleMouseMove(e)}}]),n}(JB);ZB.prototype.options_={children:["volumeBar"]},JB.registerComponent("VolumeControl",ZB);var $B=function(e,t){t.tech()&&!t.tech().featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech().featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},ex=ah.getComponent("component"),tx=ah.dom,nx=ah.browser,rx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),i=t.call(this,e,r),$B(_assert_this_initialized(i),e),i.controlText("Mute"),i.addIcons(),i.on(e,["loadstart","volumechange"],(function(e){return i.update(e)})),i}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-mute-control ".concat(_get(_get_prototype_of(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}},{key:"update",value:function(e){this.updateIcon_(),this.updateControlText_()}},{key:"updateIcon_",value:function(){var e=this.player_.volume(),t=3;nx.IS_IOS&&this.player_.tech()&&this.player_.tech().el()&&this.player_.muted(this.player_.tech().el().muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)tx.removeClass(this.el(),"vjs-vol-".concat(n));tx.addClass(this.el(),"vjs-vol-".concat(t))}},{key:"updateControlText_",value:function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}},{key:"createEl",value:function(){var e=tx.createEl("button",{className:this.buildCSSClass(),tabIndex:-1},{type:"button"},"");return this.controlText(this.controlText_,e),e}},{key:"addIcons",value:function(){var e=this;[{svgType:vN,className:"nut-icon-volume-1"},{svgType:yN,className:"nut-icon-volume-2"},{svgType:EN,className:"nut-icon-volume-3"},{svgType:_N,className:"nut-icon-volume-0"}].forEach((function(t){return ex.prototype.addChild.call(e,new kN(e.player(),t))}))}}]),n}(fN);ex.registerComponent("MuteToggle",rx);var ix=ah.getComponent("component"),ax=ah.browser,sx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),void 0===r.inline&&(r.inline=!0),(void 0===r.volumeControl||cf(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),(i=t.call(this,e,r)).options_=r,i.on(e,["loadstart"],(function(e){return i.volumePanelState_()})),i.muteToggle&&i.on(i.muteToggle,"keyup",(function(e){return i.handleKeyPress(e)})),i.on("keydown",(function(e){return i.handleKeyPress(e)})),i.on("mouseenter",(function(e){return i.handleMouseOver(e)})),i.on("mouseleave",(function(e){return i.handleMouseOut()})),i}return _create_class(n,[{key:"sliderActive_",value:function(){this.addClass("vjs-slider-active")}},{key:"sliderInactive_",value:function(){this.removeClass("vjs-slider-active")}},{key:"volumePanelState_",value:function(){this.volumeControl&&this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl&&this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}},{key:"createEl",value:function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-volume-panel vjs-control ".concat(e)})}},{key:"dispose",value:function(){this.handleMouseOut(),_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"handleVolumeControlKeyUp",value:function(e){OB.default.isEventKey(e,"Esc")&&this.muteToggle&&this.muteToggle.focus()}},{key:"handleMouseOver",value:function(e){ax.TOUCH_ENABLED||(this.addClass("vjs-hover"),eT(document,"keyup",this.handleKeyPress))}},{key:"handleMouseOut",value:function(){ax.TOUCH_ENABLED||(this.removeClass("vjs-hover"),tT(document,"keyup",this.handleKeyPress))}},{key:"handleKeyPress",value:function(e){OB.default.isEventKey(e,"Esc")&&this.handleMouseOut()}}]),n}(ix);sx.prototype.options_={children:["muteToggle","volumeControl"]},ix.registerComponent("VolumePanel",sx);var ox=ah.getComponent("component"),lx=ah.dom,ux=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).addIcon(),i}return _create_class(n,[{key:"buildCSSClass",value:function(){return"vjs-live-badge"}},{key:"createEl",value:function(){return lx.createEl("div",{className:this.buildCSSClass(),tabIndex:-1})}},{key:"addIcon",value:function(){ox.prototype.addChild.call(this,new kN(this.player(),{svgType:bN,className:"nut-icon-live-badge"}))}}]),n}(fN);ox.registerComponent("LiveBadge",ux);var cx=ah.getComponent("component"),dx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){_class_call_check(this,n);var i={children:["playToggle","volumePanel","liveBadge","currentTimeDisplay","timeDivider","durationDisplay"]},a=null==r?void 0:r.settings;return void 0===a||!0!==a.enableSettings&&void 0!==a.enableSettings||i.children.push("settingsMenuButton"),void 0===a||!0!==a.enableFullscreen&&void 0!==a.enableFullscreen||i.children.push("fullscreenToggle"),t.call(this,e,i)}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-control-bar",dir:"ltr"})}}]),n}(cx);cx.registerComponent("ControlBar",dx);var hx=f(D(),1),fx=ah.dom,px=ah.getComponent("component"),Ax=function(e,t){return lh.clamp(e/t*100,0,100).toFixed(2)+"%"},gx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).partEls_=[],i.on(e,"progress",(function(e){return i.update(e)})),i}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-load-progress"})}},{key:"dispose",value:function(){this.partEls_=[],_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"bufferedEnd",value:function(){var e=this.player_.buffered(),t=this.player_.duration(),n=e.length>1?e.end(e.length-2):e.end(e.length-1);return n>t&&(n=t),n}},{key:"getBufferedEnd",value:function(){for(var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.currentTime(),r=e.end(e.length-1),i=0;i<e.length;i++){var a=e.start(i);if(r=e.end(i),n>=a&&n<=r)return e.end(i)}return r>t&&(r=t),r}},{key:"update",value:function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.getBufferedEnd(),a=t.partEls_,s=Ax(i,r);t.percent_!==s&&(t.el().style.width=s,t.percent_=s);for(var o=0;o<n.length;o++){var l=n.start(o),u=n.end(o),c=a[o];c||(c=t.el_.appendChild(fx.createEl()),a[o]=c),c.dataset.start===l&&c.dataset.end===u||(c.dataset.start=l,c.dataset.end=u,c.classList.add("buffered-part"),c.style.left=Ax(l,i),c.style.width=Ax(u-l,i))}for(var d=a.length;d>n.length;d--)t.el_.removeChild(a[d-1]);a.length=n.length}))}}]),n}(px);px.registerComponent("LoadProgressBar",gx);var mx=ah.getComponent("component"),vx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){return _class_call_check(this,n),t.call(this,e,r)}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}}]),n}(mx);vx.prototype.options_={children:[]},mx.registerComponent("PlayProgressBar",vx);var yx=ah.getComponent("component"),Ex=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).update=Oh(Ph(_assert_this_initialized(i),i.update),xh),i}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-mouse-display"},{"aria-label":"0","data-tooltip-position":"top",role:"tooltip"})}},{key:"update",value:function(e,t){var n,r=this.player_.duration(),i=t*r;if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){var a=this.player_.liveTracker.liveWindow(),s=a-t*a;n=(s<1?"":"-")+wB(s,a)}else n=wB(i,r);var o=e.width*t,l="top",u="normal";o<20?(l="top-right",o<8&&(u="right")):e.width-o<20&&(l="top-left",e.width-o<8&&(u="left")),this.el().style.left="".concat(o,"px"),this.el().setAttribute("aria-label",n),this.el().setAttribute("data-tooltip-position",l),this.el().setAttribute("aria-tooltip-edge",u)}}]),n}(yx);yx.registerComponent("MouseTimeDisplay",Ex);var _x=ah.getComponent("component"),Tx=ah.browser,bx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).updateInterval=null,i.videoWasPlaying=!1,i.percent_=0,i.currentTime_=0,i.duration_=0,i.setEventHandlers_(),i}return _create_class(n,[{key:"setEventHandlers_",value:function(){this.update=Oh(Ph(this,this.update),xh),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)}},{key:"toggleVisibility_",value:function(e){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}},{key:"enableInterval_",value:function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,xh))}},{key:"disableInterval_",value:function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}},{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}},{key:"update",value:function(){var e=this;if("hidden"!==document.visibilityState){var t=_get(_get_prototype_of(n.prototype),"update",this).call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var n=e.player_.ended()?e.player_.duration():e.getCurrentTime_(),r=e.player_.liveTracker,i=e.player_.duration();r&&r.isLive()&&(i=e.player_.liveTracker.liveCurrentTime()),e.percent_!==t&&(e.el().setAttribute("aria-valuenow",(100*t).toFixed(2)),e.percent_=t),e.currentTime_===n&&e.duration_===i||(e.el().setAttribute("aria-valuetext",e.localize("progress bar timing: currentTime={1} duration={2}",[wB(n,i),wB(i,i)],"{1} of {2}")),e.currentTime_=n,e.duration_=i)})),t}}},{key:"userSeek_",value:function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}},{key:"getCurrentTime_",value:function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}},{key:"getPercent",value:function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e}},{key:"handleMouseDown",value:function(e){WB.isSingleLeftClick(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),_get(_get_prototype_of(n.prototype),"handleMouseDown",this).call(this,e))}},{key:"handleMouseMove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(WB.isSingleLeftClick(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(r>=.99)return void i.seekToLiveEdge();var a=i.seekableStart(),s=i.liveCurrentTime();if((n=a+r*i.liveWindow())>=s&&(n=s),n<=a&&(n=a+.1),n===1/0)return}else(n=r*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}}},{key:"enable",value:function(){_get(_get_prototype_of(n.prototype),"enable",this).call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()}},{key:"disable",value:function(){_get(_get_prototype_of(n.prototype),"disable",this).call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()}},{key:"handleMouseUp",value:function(e){_get(_get_prototype_of(n.prototype),"handleMouseUp",this).call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?vf(this.player_.play()):this.update()}},{key:"stepForward",value:function(){this.userSeek_(this.player_.currentTime()+5)}},{key:"stepBack",value:function(){this.userSeek_(this.player_.currentTime()-5)}},{key:"handleAction",value:function(e){this.player_.paused()?this.player_.play():this.player_.pause()}},{key:"handleKeyDown",value:function(e){var t=this.player_.liveTracker;if(hx.default.isEventKey(e,"Space")||hx.default.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(hx.default.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(hx.default.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test((0,hx.default)(e))){e.preventDefault(),e.stopPropagation();var r=10*(hx.default.codes[(0,hx.default)(e)]-hx.default.codes[0])/100;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else hx.default.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):hx.default.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):_get(_get_prototype_of(n.prototype),"handleKeyDown",this).call(this,e)}},{key:"dispose",value:function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}}]),n}(YB);bx.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Tx.IS_IOS||Tx.IS_ANDROID||bx.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),_x.registerComponent("SeekBar",bx);var Sx=ah.getComponent("component"),wx=ah.dom,Cx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).enabled_=!1,i.handleMouseMove=Oh(Ph(_assert_this_initialized(i),i.handleMouseMove),xh),i.throttledHandleMouseSeek=Oh(Ph(_assert_this_initialized(i),i.handleMouseSeek),xh),i.enable(),i}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-progress-control"})}},{key:"handleMouseMove",value:function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay");if(n){var r=t.el(),i=wx.findPosition(r),a=wx.getPointerPosition(r,e).x;a=UB(a,0,1),n&&n.update(i,a)}}}},{key:"handleMouseSeek",value:function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)}},{key:"enabled",value:function(){return this.enabled_}},{key:"disable",value:function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el(),"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&vf(this.player_.play())}}},{key:"enable",value:function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el(),"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}},{key:"removeListenersAddedOnMousedownAndTouchstart",value:function(){var e=this.el().ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)}},{key:"handleMouseDown",value:function(e){var t=this.el().ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)}},{key:"handleMouseUp",value:function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}]),n}(Sx);Cx.prototype.options_={children:["seekBar"]},Sx.registerComponent("ProgressControl",Cx);var Ix=ah.getComponent("component"),kx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i,a;_class_call_check(this,n);var s={children:["ProgressControl",{name:"controlBar",settings:{enableFullscreen:null==r||null===(i=r.settings)||void 0===i?void 0:i.enableFullscreen,enableSettings:null==r||null===(a=r.settings)||void 0===a?void 0:a.enableSettings}}]};return t.call(this,e,s)}return _create_class(n,[{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"nut-bottom-panel"})}}]),n}(Ix);Ix.registerComponent("BottomPanel",kx);var Rx=ah.getComponent("component"),Dx=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r,i;return _class_call_check(this,n),r=t.call(this,e),(null===(i=uh.shared().ui)||void 0===i?void 0:i.showErrorDetails)&&ch.subscribe(Ch,(function(e){var t=e.payload;t.fatal&&(r.$(".nut-error-content__text").textContent=UT.processText(t.error.message||"",1)||"")})),r}return _create_class(n,[{key:"createEl",value:function(){var e=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"nut-error-layout"}),t=document.createElement("div");t.classList.add("nut-error-content");var r=document.createElement("span");r.classList.add("nut-error-content__caption"),r.textContent=UT.processText(this.localize("Playback-error"),0)||"";var i=document.createElement("span");return i.classList.add("nut-error-content__text"),t.append(r,i),e.appendChild(t),e}}]),n}(Rx);Rx.registerComponent("ErrorLayout",Dx);var Mx=ah.getComponent("component"),Lx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i,a;_class_call_check(this,n);var s={children:["CentralPanel",{name:"BottomPanel",settings:{enableFullscreen:null==r||null===(i=r.settings)||void 0===i?void 0:i.enableFullscreen,enableSettings:null==r||null===(a=r.settings)||void 0===a?void 0:a.enableSettings}},"ErrorLayout"]},o=t.call(this,e,s),l=document.createElement("div");return l.className="bottom-background",e.el().appendChild(l),o}return _create_class(n,[{key:"createEl",value:function(){var e=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"nut-skin-wrapper"}),t=document.createElement("div");return t.className="top-background",e.appendChild(t),e}}]),n}(Mx);Mx.registerComponent("Skin",Lx);var Nx=ah.dom,Bx=ah.getComponent("component"),xx=function(e){_inherits(n,e);var t=_create_super(n);function n(){return _class_call_check(this,n),t.apply(this,arguments)}return _create_class(n,[{key:"show",value:function(){this.player().addClass("vjs-loading"),this.removeClass("vjs-hidden")}},{key:"hide",value:function(){this.player().removeClass("vjs-loading"),this.addClass("vjs-hidden")}},{key:"createEl",value:function(){var e=Nx.createEl("div",{className:"vjs-loader"},{},""),t=_get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-loading-spinner"});return e.appendChild(t),e}}]),n}(Bx);Bx.registerComponent("LoadingSpinner",xx);var Px=ah.dom,Ox=ah.getComponent("component"),Fx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;return _class_call_check(this,n),(i=t.call(this,e,r)).update(),i.update_=function(){return i.update()},e.on("posterchange",i.update_),i}return _create_class(n,[{key:"dispose",value:function(){this.player().off("posterchange",this.update_),_get(_get_prototype_of(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return Px.createEl("div",{className:"vjs-poster"})}},{key:"crossOrigin",value:function(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player().tech()&&this.player().tech().isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player().log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"'))}},{key:"update",value:function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()}},{key:"setSrc",value:function(e){e?(this.$("img")||this.el().appendChild(Px.createEl("picture",{tabIndex:-1},{},Px.createEl("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el().textContent=""}},{key:"handleClick",value:function(){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?vf(this.player().play()):this.player_.pause())}}]),n}(ET);Ox.registerComponent("PosterImage",Fx);var Ux=ah.getComponent("component"),jx=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e)).hide(),ch.subscribe(kh,(function(e){var t=e.payload;t.content.restrictions&&r.process(t.content.restrictions)})),r}return _create_class(n,[{key:"process",value:function(e){var t=this;e.showAgeRestriction&&this.attachLeftSide(e.age||""),e.showTextRestriction&&this.attachRightSide(e.text||"");var n,r=e.ageRestrictionSeconds||0,i=e.textRestrictionSeconds||0,a=!1,s=0;this.player().on("play",(function(){a||(Math.floor(s)<Math.max(r,i)&&t.show(),Math.floor(s)<r&&t.showLeftBox(),Math.floor(s)<i&&t.showRightBox(),n=setInterval((function(){s+=.5,Math.floor(s)>r&&t.hideLeftBox(),Math.floor(s)>i&&t.hideRightBox(),Math.floor(s)>Math.max(r,i)&&(t.hide(),clearInterval(n))}),500)),a=!0})),this.player().on(["abort","ended"],(function(){clearInterval(n),t.hide()})),this.player().on(ef.Replay,(function(){s=0,a=!1}))}},{key:"hide",value:function(){this.el().classList.add("vjs-hidden"),this.el().querySelectorAll(".nut-restriction-box__item").forEach((function(e){return e.classList.add("hidden")}))}},{key:"attachLeftSide",value:function(e){var t=document.createElement("div");t.classList.add("nut-restriction-box__item","nut-restriction-box__item--left"),t.innerHTML='<span class="text">'.concat(e,"</span>"),this.el().appendChild(t)}},{key:"attachRightSide",value:function(e){var t=document.createElement("div");t.classList.add("nut-restriction-box__item","nut-restriction-box__item--right"),t.innerHTML='<div class="nut-restriction-box__item--right-centered">\n<span class="text">'.concat(e,"</span>\n</div>"),this.el().appendChild(t)}},{key:"showLeftBox",value:function(){var e=this.el().querySelector(".nut-restriction-box__item--left");e&&e.classList.remove("hidden")}},{key:"hideLeftBox",value:function(){var e=this.el().querySelector(".nut-restriction-box__item--left");e&&e.classList.add("hidden")}},{key:"showRightBox",value:function(){var e=this.el().querySelector(".nut-restriction-box__item--right");e&&e.classList.remove("hidden")}},{key:"hideRightBox",value:function(){var e=this.el().querySelector(".nut-restriction-box__item--right");e&&e.classList.add("hidden")}},{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"nut-restriction-box"})}}]),n}(Ux);Ux.registerComponent("RestrictionBox",jx);var Qx=ah.getComponent("component"),Gx=ah.browser,Vx=function(e){_inherits(n,e);var t=_create_super(n);function n(e,r){var i;if(_class_call_check(this,n),(i=t.call(this,e,r)).hide(),Gx.IS_IOS)return i.disable(),_possible_constructor_return(i);var a=document.createElement("span");return a.classList.add("text"),i.el().appendChild(a),ch.subscribe(vh,(function(e){var t=e.payload;t.text?i.show():i.hide(),a.innerHTML=t.text||""})),ch.subscribe(yh,(function(e){null===e.payload.caption?i.hide():i.show()})),i}return _create_class(n,[{key:"disable",value:function(){this.el().classList.add("vjs-text-track-display--disabled")}},{key:"enable",value:function(){this.el().classList.remove("vjs-text-track-display--disabled")}},{key:"createEl",value:function(){return _get(_get_prototype_of(n.prototype),"createEl",this).call(this,"div",{className:"vjs-text-track-display"})}}]),n}(Qx);Qx.registerComponent("TextTrackDisplay",Vx);var Hx=f(Ue(),1),Yx={};!function(e,t){for(var n in t)r(e,n,{get:t[n],enumerable:!0})}(Yx,{default:function(){return Wx},en:function(){return zx},ru:function(){return qx}});var qx={Play:"Смотреть",Pause:"Пауза",Replay:"Повторить",Settings:"Настройки",Fullscreen:"Развернуть","Non-Fullscreen":"Свернуть",Mute:"Отключить звук",Unmute:"Включить звук",Speed:"Скорость",Subtitles:"Субтитры",Off:"Выкл.",Normal:"Обычная",Auto:"Авто",Quality:"Качество",Error:"Ошибка","Playback-error":"Ошибка проигрывания","Seconds-short":"Cек"},zx={Play:"Play",Pause:"Pause",Replay:"Repeat",Settings:"Settings",Fullscreen:"Full screen","Non-Fullscreen":"Exit full screen",Mute:"Mute",Unmute:"Unmute",Speed:"Speed",Subtitles:"Subtitles",Off:"Off",Normal:"Normal",Auto:"Auto",Quality:"Quality",Error:"Error","Playback-error":"Playback error","Seconds-short":"Sec"},Wx={ru:qx,en:zx},Kx=f(je(),1),Xx=function(){function e(t,n,r){_class_call_check(this,e),this.adWrapper=null,this.container=t,this.loader=r,this.isMobile=!1,this.adType=n}return _create_class(e,[{key:"update",value:function(e){if(e){for(var t in this.adWrapper||this.build(e),e)"skipAtSecond"===t&&this.handleSkip(e.remainingSkipSecond),"remainingTime"===t&&e.remainingTimeFormatted&&this.handleDuration(e.remainingTimeFormatted),"showControls"===t&&this.handleControls(e.showControls),"isLoading"===t&&void 0!==e.isLoading&&this.handleLoader(e.isLoading,e.image),"isPaused"===t&&void 0!==e.isPaused&&this.handlePause(e.isPaused),"isMuted"===t&&void 0!==e.isMuted&&this.handleMuted(e.isMuted);this.handleLink(e.linkText)}else this.adWrapper&&(this.container.removeChild(this.adWrapper),this.adWrapper=null)}},{key:"build",value:function(e){var t;this.adWrapper=document.createElement("div"),this.adWrapper.classList.add("ad-player-wrapper","ad-type--"+this.adType),this.adWrapper.innerHTML='<div id="ad-play-button" class="ad-play-button ad-player--control-element">\n        <div class="icon"></div>\n      </div>\n      <div id="ad-player-close-button" class="ad-skip-button ad-player--control-element"></div>\n       <div class="ad-player__link ad-player--control-element" id="ad-link-text">'+(null==e?void 0:e.linkText)+'</div>\n      <div class="ad-player-controls ad-player--control-element" id="ad-duration">\n          <div class="ad-player-controls-wrapper">\n              <div class="ad-player__caption ad-player--not-clickable">Реклама</div>\n              <div class="ad-player__duration ad-player--not-clickable"></div>\n          </div>\n      </div>\n      <div class="ad-top-bg"></div>\n      <div class="clickable-area"></div>',this.container.prepend(this.adWrapper),null===(t=this.adWrapper.querySelector("#ad-play-button"))||void 0===t||t.addEventListener("click",this.playButtonHandler),this.initAdStyles()}},{key:"handleControls",value:function(e){this.adWrapper&&(!1!==e||this.adWrapper.classList.contains("ad-player-wrapper--hide-controls")?(!0===e&&this.adWrapper.classList.contains("ad-player-wrapper--hide-controls")&&this.adWrapper.classList.remove("ad-player-wrapper--hide-controls"),this.adWrapper.classList.contains("ad-player--started")||(this.container.classList.contains("vjs-advertising--playing")||this.container.classList.add("vjs-advertising--playing"),this.adWrapper.classList.add("ad-player--started"))):this.adWrapper.classList.add("ad-player-wrapper--hide-controls"))}},{key:"handleMuted",value:function(e){var t,n=this;if(!(null===(t=this.adWrapper)||void 0===t?void 0:t.querySelector(".ad-player__sound"))){var r,i,a=document.createElement("div");a.classList.add("ad-player__sound"),e&&a.classList.add("ad-player__sound--muted"),null===(i=this.adWrapper)||void 0===i||null===(r=i.querySelector(".ad-player-controls-wrapper"))||void 0===r||r.prepend(a),null==a||a.addEventListener("click",(function(){var e,t;return null===(e=(t=n).volumeButtonHandler)||void 0===e?void 0:e.call(t,a,"ad-player__sound--muted")}))}}},{key:"handlePause",value:function(e){this.adWrapper&&(e&&!this.adWrapper.classList.contains("ad-player--paused")?this.adWrapper.classList.add("ad-player--paused"):!e&&this.adWrapper.classList.contains("ad-player--paused")&&this.adWrapper.classList.remove("ad-player--paused"))}},{key:"handleLoader",value:function(e,t){var n,r;e?null===(n=this.loader)||void 0===n||n.show():null===(r=this.loader)||void 0===r||r.hide()}},{key:"initAdStyles",value:function(){if(this.adWrapper){var e=this.adWrapper;Ge(),new ResizeObserver((function(t){var n=t[0].contentRect.width;n>558&&n<1003?(e.classList.remove("ad-player-wrapper--large","ad-player-wrapper--small"),e.classList.add("ad-player-wrapper--medium")):n>=1003?(e.classList.remove("ad-player-wrapper--medium","ad-player-wrapper--small"),e.classList.add("ad-player-wrapper--large")):(e.classList.remove("ad-player-wrapper--medium","ad-player-wrapper--large"),e.classList.add("ad-player-wrapper--small"))})).observe(e)}}},{key:"handleDuration",value:function(e){if(this.adWrapper){var t=this.adWrapper.querySelector(".ad-player__duration");t&&(t.innerText=e)}}},{key:"handleLink",value:function(e){if(this.adWrapper){var t=this.adWrapper,n=t.querySelector(".ad-player__link");if(e&&n){var r;if(n.innerHTML=e,n.classList.add("ad-player__link--active"),this.adClickHandler)n.addEventListener("click",this.adClickHandler),null===(r=this.adWrapper.querySelector(".clickable-area"))||void 0===r||r.addEventListener("click",this.adClickHandler);return t.classList.add("ad-player-wrapper--clickable"),void t.querySelectorAll(".ad-player--not-clickable").forEach((function(e){e.addEventListener("click",(function(e){return e.stopPropagation()}))}))}}}},{key:"handleSkip",value:function(e){if(this.adWrapper){var t=this.adWrapper;if(e||0===e){var n=t.querySelector(".ad-skip-button");e<=0&&n&&(n.classList.add("ad-skip-button--active"),n.addEventListener("click",this.skipButtonHandler))}else;}}},{key:"dispose",value:function(){this.container.classList.contains("vjs-advertising--playing")&&this.container.classList.remove("vjs-advertising--playing")}}]),e}(),Jx=function(){function e(t,n,r){var i=this;_class_call_check(this,e),this.isInProgress=!1,this.prerollPlayed=!1,this.postrollPlayed=!1,this.isPostrollPreloading=!1,this.midrollPoints=[],this.preloadMidrollTime=null,this.preloadPostrollTime=null,this.preloadedUnits=new Map,this.advertisement=n,this.player=t,this.adContainer=t.el(),this.playerSkin=t.Skin,this.loader=t.LoadingSpinner,this.isInProgress=!1,r.config.forEach((function(t){t.type===Kx.AdSlotType.midroll&&t.preload&&(i.preloadMidrollTime=t.preloadTime||e.DEFAULT_PRELOAD_TIME),t.type===Kx.AdSlotType.postroll&&t.preload&&(i.preloadPostrollTime=t.preloadTime||e.DEFAULT_PRELOAD_TIME)})),this.midrollPoints=_to_consumable_array(n.midrollPoints),t.on("play",this.handlePreroll.bind(this)),t.on("timeupdate",this.handleTimeUpdate.bind(this)),t.on("ended",this.handlePostroll.bind(this)),t.on(ef.Replay,(function(){i.prerollPlayed=!1,i.postrollPlayed=!1,i.midrollPoints=_to_consumable_array(n.midrollPoints),i.preloadedUnits.clear()})),t.on("playerreset",(function(){t.off("play",i.handlePreroll.bind(i)),t.off("timeupdate",i.handleTimeUpdate.bind(i)),t.off("ended",i.handlePostroll.bind(i))}))}return _create_class(e,[{key:"showMainPlayer",value:function(){this.adContainer.querySelector("#".concat(bP.DivID)).style.display="block",this.playerSkin.show()}},{key:"hideMainPlayer",value:function(){this.adContainer.querySelector("#".concat(bP.DivID)).style.display="none",this.playerSkin.hide()}},{key:"handlePreroll",value:function(){var e=this;if(!(this.prerollPlayed||this.isInProgress||!Mh.isLive&&Math.floor(this.player.currentTime())>=1)){var t=this.player.muted(),n=this.advertisement.createUnit(Kx.AdSlotType.preroll,this.player.isFullscreen()?Kx.AdViewType.fullscreen:Kx.AdViewType.normal,t?0:this.player.volume());this.prerollPlayed=!0,n.flatMap((function(t){e.isInProgress=!0;var n=e.player.volume();e.hideMainPlayer(),e.player.pause();var r=new Xx(e.adContainer,Kx.AdSlotType.preroll,e.loader),i=e.player.isFullscreen()&&lh.isFullscreenEnabled();r.adClickHandler=function(){t.acceptInvitation(Kx.AdInvitationType.click)},r.skipButtonHandler=function(){t.acceptInvitation(Kx.AdInvitationType.skip)},r.playButtonHandler=function(){t.resume()},r.volumeButtonHandler=function(r,i){t.muted?(t.volume=n,e.player.volume(n),e.player.muted(!1),r.classList.remove(i)):(t.volume=0,e.player.volume(0),e.player.muted(!0),r.classList.add(i))},t.viewStateEmitter.on((function(e){r.update(e)})),i&&t.fullscreen(e.player.isFullscreen()),t.start().catch((function(e){console.error(e)})).finally((function(){var t;e.isInProgress=!1,null===(t=r.loader)||void 0===t||t.hide(),e.showMainPlayer(),r.dispose(),e.player.play()}))}))}}},{key:"handleTimeUpdate",value:function(){var t=this;if(!this.isInProgress){var n=lh.roundNumber(this.player.currentTime(),.5),r=null;if(this.preloadMidrollTime){var i=this.midrollPoints.findIndex((function(e){return e===n+t.preloadMidrollTime}));i>-1&&(r=this.midrollPoints[i])}if(r&&!this.preloadedUnits.has(r)){var a=this.advertisement.preloadUnit(Kx.AdSlotType.midroll,this.player.isFullscreen()?Kx.AdViewType.fullscreen:Kx.AdViewType.normal,this.player.muted()?0:this.player.volume(),n+this.preloadMidrollTime).catch((function(e){return console.error(e)}));this.preloadedUnits.set(r,a)}if(this.handleMidroll(n),this.preloadPostrollTime&&!this.isPostrollPreloading&&Math.floor(this.player.duration())<=n+this.preloadPostrollTime){this.isPostrollPreloading=!0;var s=this.advertisement.preloadUnit(Kx.AdSlotType.postroll,this.player.isFullscreen()?Kx.AdViewType.fullscreen:Kx.AdViewType.normal,this.player.muted()?0:this.player.volume()).catch((function(e){return console.error(e)}));this.preloadedUnits.set(e.PRELOADING_POSTROLL_TYPE,s)}}}},{key:"handleMidroll",value:function(e){var t=this,n=!1;if(this.midrollPoints=this.midrollPoints.filter((function(t){return n||e!==t||(n=!0),t!==e})),n)if(this.preloadedUnits.has(e)){var r=this.preloadedUnits.get(e);this.player.pause(),this.playerSkin.hide(),this.loader.show(),r.then((function(e){t.runMidrollUnit(e)})).catch((function(e){console.error(e),t.playerSkin.show(),t.loader.hide(),t.player.play()}))}else{this.player.pause(),this.playerSkin.hide(),this.advertisement.createUnit(Kx.AdSlotType.midroll,this.player.isFullscreen()?Kx.AdViewType.fullscreen:Kx.AdViewType.normal,this.player.muted()?0:this.player.volume(),e).flatMap(this.runMidrollUnit.bind(this))}}},{key:"runMidrollUnit",value:function(e){var t=this;this.isInProgress=!0;var n=this.player.volume(),r=new Xx(this.adContainer,Kx.AdSlotType.midroll,this.loader),i=this.player.isFullscreen()&&lh.isFullscreenEnabled();r.adClickHandler=function(){e.acceptInvitation(Kx.AdInvitationType.click)},r.skipButtonHandler=function(){e.acceptInvitation(Kx.AdInvitationType.skip)},r.playButtonHandler=function(){e.resume()},r.volumeButtonHandler=function(r,i){e.muted?(e.volume=n,t.player.volume(n),t.player.muted(!1),r.classList.remove(i)):(e.volume=0,t.player.volume(0),t.player.muted(!0),r.classList.add(i))};var a=!1;e.viewStateEmitter.on((function(e){var n;void 0===(null==e?void 0:e.totalDuration)||a||(t.hideMainPlayer(),t.player.pause(),null===(n=r.loader)||void 0===n||n.hide(),a=!0);r.update(e)})),i&&e.fullscreen(this.player.isFullscreen()),e.start().catch((function(e){console.error(e)})).finally((function(){var e;t.isInProgress=!1,null===(e=r.loader)||void 0===e||e.hide(),t.showMainPlayer(),r.dispose(),t.player.play()}))}},{key:"handlePostroll",value:function(){var t=this;if(!this.postrollPlayed&&!this.isInProgress)if(this.advertisement.createUnit(Kx.AdSlotType.postroll,this.player.isFullscreen()?Kx.AdViewType.fullscreen:Kx.AdViewType.normal,this.player.muted()?0:this.player.volume()),this.postrollPlayed=!0,this.preloadedUnits.has(e.PRELOADING_POSTROLL_TYPE)){var n=this.preloadedUnits.get(e.PRELOADING_POSTROLL_TYPE);this.playerSkin.hide(),this.loader.show(),n.then((function(e){t.runPostrollUnit(e)})).catch((function(e){console.error(e),t.playerSkin.show(),t.loader.hide()}))}else{this.playerSkin.hide(),this.advertisement.createUnit(Kx.AdSlotType.postroll,this.player.isFullscreen()?Kx.AdViewType.fullscreen:Kx.AdViewType.normal,this.player.muted()?0:this.player.volume()).flatMap(this.runPostrollUnit.bind(this))}}},{key:"runPostrollUnit",value:function(e){var t=this;this.isInProgress=!0;var n=this.player.volume(),r=new Xx(this.adContainer,Kx.AdSlotType.postroll,this.loader),i=this.player.isFullscreen()&&lh.isFullscreenEnabled();r.adClickHandler=function(){e.acceptInvitation(Kx.AdInvitationType.click)},r.skipButtonHandler=function(){e.acceptInvitation(Kx.AdInvitationType.skip)},r.playButtonHandler=function(){e.resume()},r.volumeButtonHandler=function(r,i){e.muted?(e.volume=n,t.player.volume(n),t.player.muted(!1),r.classList.remove(i)):(e.volume=0,t.player.volume(0),t.player.muted(!0),r.classList.add(i))};var a=!1;e.viewStateEmitter.on((function(e){void 0===(null==e?void 0:e.totalDuration)||a||(t.hideMainPlayer(),t.loader.hide(),a=!0),r.update(e)})),i&&e.fullscreen(this.player.isFullscreen()),e.start().catch((function(e){console.error(e)})).finally((function(){var e;t.isInProgress=!1,null===(e=r.loader)||void 0===e||e.hide(),r.dispose(),t.showMainPlayer()}))}}]),e}();Jx.DEFAULT_PRELOAD_TIME=3,Jx.PRELOADING_POSTROLL_TYPE="postroll";var Zx=Jx,$x=f(je(),1),eP=function(e){_inherits(n,e);var t=_create_super(n);function n(e){_class_call_check(this,n);var r=t.call(this,e);try{ch.subscribe(kh,(function(t){var n=t.payload;if(n.content.adConfig){var r=$x.NutConfiguration.create(n.content.adConfig),i=new $x.Advertisement(e.el());r.value&&(i.configure(r.value,(function(e,t){if(t===$x.AdSlotType.preroll&&Mh.isAutoQuality)return null;var n=e.findIndex((function(e){return Number(e)===Number(Mh.quality)}));return n>-1?e[n]:null})),new Zx(e,i,r.value))}}))}catch(e){UT.fire("EXCEPTION","PLAYER",{message:e.message})}return r}return n}(ah.getPlugin("plugin"));ah.registerPlugin("nutAdvertisementPlugin",eP);var tP,nP,rP,iP=((tP=iP||{}).GET="get",tP.POST="post",tP),aP={ignoreCache:!1,headers:{Accept:"application/json, text/javascript, text/plain"},timeout:5e3},sP=function(){function e(){_class_call_check(this,e)}return _create_class(e,[{key:"request",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:aP,s=a.ignoreCache||aP.ignoreCache,o=a.headers||aP.headers,l=a.timeout||aP.timeout;return new Promise((function(a,u){var c=new XMLHttpRequest;c.open(e,n.withQuery(t,r)),o&&Object.keys(o).forEach((function(e){return c.setRequestHeader(e,o[e])})),s&&c.setRequestHeader("Cache-Control","no-cache"),c.timeout=l,c.onload=function(e){a(n.parseXHRResult(c))},c.onerror=function(e){a(n.errorResponse(c,"Failed to make request."))},c.ontimeout=function(e){a(n.errorResponse(c,"Request took longer than expected."))},"post"===e&&i?(c.setRequestHeader("Content-Type","application/json"),c.send(JSON.stringify(i))):c.send()}))}},{key:"queryParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},{key:"withQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.queryParams(t);return n?e+(-1===e.indexOf("?")?"?":"&")+n:e}},{key:"parseXHRResult",value:function(e){return{ok:e.status>=200&&e.status<300,status:e.status,statusText:e.statusText,headers:e.getAllResponseHeaders(),data:e.responseText,json:function(){return JSON.parse(e.responseText)}}}},{key:"errorResponse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{ok:!1,status:e.status,statusText:e.statusText,headers:e.getAllResponseHeaders(),data:t||e.statusText,json:function(){return JSON.parse(t||e.statusText)}}}}]),e}(),oP=((nP=oP||{}).VIDEO_LOAD="video_load",nP.VIDEO_START="video_start",nP.VIDEO_END="video_end",nP.VIDEO_HEARTBEAT="video_heartbeat",nP),lP=((rP=lP||{}).Debug="debug",rP.Info="info",rP.Warning="warning",rP.Error="error",rP),uP=function(){function e(){_class_call_check(this,e)}return _create_class(e,[{key:"debug",value:function(t){e.checkLevel("debug")&&ch.publish(wh({message:t,level:"debug"}))}},{key:"error",value:function(t){e.checkLevel("error")&&ch.publish(wh({message:t,level:"error"}))}},{key:"info",value:function(t){e.checkLevel("info")&&ch.publish(wh({message:t,level:"info"}))}},{key:"warning",value:function(t){e.checkLevel("warning")&&ch.publish(wh({message:t,level:"warning"}))}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"checkLevel",value:function(e){var t=Object.values(lP),n=t.findIndex((function(e){return e===uh.shared().logLevel}));return t.findIndex((function(t){return t===e}))>=n}}]),e}(),cP=function(){function e(t,n){_class_call_check(this,e),this.items=this.prepareItems(t),this.httpClient=n}return _create_class(e,[{key:"prepareItems",value:function(e){var t={};return e.forEach((function(e){var n=e.type;Object.values(oP).includes(n)&&(t[n]||(t[n]=[]),t[n].push(e))})),t}},{key:"triggerEvent",value:function(e){var t,n,r=this;null===(t=this.items[e])||void 0===t||t.forEach((n=_async_to_generator((function(e){return _ts_generator(this,(function(t){if(!Object.values(iP).includes(e.method))return[2];try{r.httpClient.request(e.method,e.url_template)}catch(e){_instanceof(e,Error)&&uP.getInstance().error(e.message)}return[2]}))})),function(e){return n.apply(this,arguments)}))}}]),e}(),dP=function(){function e(t,n,r){_class_call_check(this,e),this.player=t,this.httpClient=n,this.data=r,this.trackCounter=0,this.delayCounter=0,this.startCounter=0,this.prevTime=0,this.isStarted=!1}return _create_class(e,[{key:"isCountable",get:function(){return this.data.count>0}},{key:"isLimitReached",get:function(){return this.trackCounter>=this.data.count}},{key:"timeUpdateHandler",value:function(){if(this.isCountable&&this.isLimitReached)this.player.off("timeupdate",this.timeUpdateHandler.bind(this));else{var e=Math.floor(this.player.currentTime());e-this.prevTime>=1&&(this.isStarted||this.startCounter++,!this.isStarted&&this.startCounter>=this.data.start&&(this.track(),this.isStarted=!0),this.isStarted&&(this.delayCounter++,this.delayCounter===this.data.delay&&(this.track(),this.delayCounter=0))),this.prevTime=e}}},{key:"handle",value:function(){this.data.delay&&(this.data.start||(this.data.start=this.data.delay),this.player.on("timeupdate",this.timeUpdateHandler.bind(this)))}},{key:"track",value:function(){var e=this;return _async_to_generator((function(){var t;return _ts_generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.httpClient.request(e.data.method,e.data.url_template)];case 1:return n.sent(),e.isCountable&&e.trackCounter++,[3,3];case 2:return _instanceof(t=n.sent(),Error)&&UT.fire("HTTP","STATISTICS",{message:t.message}),[3,3];case 3:return[2]}}))}))()}},{key:"reset",value:function(){}}]),e}(),hP=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e)).init(e),r}return _create_class(n,[{key:"init",value:function(e){var t=this,n=ch.subscribe(kh,(function(n){var r=n.payload;r.content.statistics&&t.process(e,r.content.statistics)}));e.on(ef.PlayerReset,(function(){n()}))}},{key:"process",value:function(e,t){var n=!1,r=!1,i=new cP(t,new sP),a=t.map((function(e){return e.type}));(a.includes("video_load")&&e.on("canplay",(function(){n||(i.triggerEvent("video_load"),n=!0)})),a.includes("video_start")&&(e.on("play",(function(){r||(i.triggerEvent("video_start"),r=!0)})),e.on(ef.Replay,(function(){r=!1}))),a.includes("video_end")&&e.on("ended",(function(){i.triggerEvent("video_end")})),a.includes("video_heartbeat"))&&t.filter((function(e){return"video_heartbeat"===e.type})).forEach((function(t){new dP(e,new sP,t).handle()}))}}]),n}(ah.getPlugin("plugin"));ah.registerPlugin("nutStatisticsPlugin",hP);var fP=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e)).setupListeners(e),r}return _create_class(n,[{key:"addQualityMenuItem",value:function(e){var t=this,n=new sB(this.player,{name:"QualityMainMenuItem",value:Bf.getLabelByQualityType(-1,Mh.qualityLabelVariant)||this.player.localize("Auto"),label:"Quality",id:bB.SETTINGS_QUALITY_MENU_ITEM_ID});e.addChild(n,{},0);var r=ch.subscribe(hh,(function(){var r=e.getChild("QualityMainMenuItem");r&&(r.valueLabel=Bf.getLabelByQualityType(-1,Mh.qualityLabelVariant)||t.player.localize("Auto"));var i=ch.subscribe(fh,(function(e){var r=e.payload;t.player.removeClass("vjs-quality-loader"),Mh.isAutoQuality||n&&(n.valueLabel=Bf.getLabelByValue(r.quality,Mh.qualityLabelVariant))})),a=ch.subscribe(ph,(function(e){-1===e.payload.quality&&(n.valueLabel=Bf.getLabelByQualityType(-1,Mh.qualityLabelVariant)||t.player.localize("Auto"))})),s=ch.subscribe(Ah,(function(e){var t=e.payload;Mh.isAutoQuality||n&&(n.valueLabel=Bf.getLabelByValue(t.quality,Mh.qualityLabelVariant))}));t.player.one("playerreset",(function(){a(),i(),s()}))}));this.player.one("playerreset",(function(){r()}))}},{key:"handleSettingsButton",value:function(e){var t=this;ch.subscribe(fh,(function(n){var r=n.payload;t.processMenuButtonBadges(e,r.quality)})),ch.subscribe(ph,(function(n){-1===n.payload.quality&&t.removeSettingsButtonBadges(e)})),ch.subscribe(Ah,(function(n){var r=n.payload;t.processMenuButtonBadges(e,r.quality)}))}},{key:"processMenuButtonBadges",value:function(e,t){this.removeSettingsButtonBadges(e),Mh.isAutoQuality||(720!==t?1080!==t||e.addClass("vjs-menu-button--quality-fhd"):e.addClass("vjs-menu-button--quality-hd"))}},{key:"removeSettingsButtonBadges",value:function(e){e.removeClass("vjs-menu-button--quality-hd"),e.removeClass("vjs-menu-button--quality-fhd")}},{key:"setupListeners",value:function(e){ch.subscribe(fh,(function(e){Mh.expectedQuality&&e.payload.quality===Mh.expectedQuality&&(ch.publish(Ih({expectedQuality:null,isAutoQuality:!1})),ch.publish(Ah({quality:e.payload.quality}))),ch.publish(Ih({quality:e.payload.quality}))})),ch.subscribe(ph,(function(t){if(Mh.quality===t.payload.quality)return Mh.isAutoQuality?(ch.publish(Ih({isAutoQuality:!1})),void ch.publish(Ah({quality:t.payload.quality}))):void 0;-1!==t.payload.quality&&e.addClass("vjs-quality-loader"),t.payload.noAutoChange?ch.publish(Ih({expectedQuality:t.payload.quality})):(ch.publish(Ih({isAutoQuality:-1===t.payload.quality})),t.payload.withUIUpdate&&ch.publish(Ah({quality:t.payload.quality})))})),ch.subscribe(gh,(function(t){t.payload.value?e.addClass("vjs-quality-loader"):e.removeClass("vjs-quality-loader")})),e.on("playerreset",(function(){ch.publish(ph({quality:FT.AUTO_MODE_VALUE,forced:!0}))}))}}]),n}(ah.getPlugin("plugin"));ah.registerPlugin("nutQualityPlugin",fP);var pP=function(){function e(){_class_call_check(this,e),p(this,"seperator",",")}return _create_class(e,[{key:"timestampToSeconds",value:function(e){var t=_sliced_to_array(e.split(","),2),n=t[0],r=t[1],i=parseInt(r),a=_sliced_to_array(n.split(":").map((function(e){return parseInt(e)})),3),s=a[0],o=a[1],l=.001*i+a[2]+60*o+3600*s;return Math.round(1e3*l)/1e3}},{key:"correctFormat",value:function(e){var t,n,r,i,a=_sliced_to_array(e.replace(".",",").split(","),2),s=a[0],o=a[1];i=this.fixed_str_digit(3,o);var l=_sliced_to_array(s.split(":"),3),u=l[0],c=l[1],d=l[2];return t=this.fixed_str_digit(2,u,!1),n=this.fixed_str_digit(2,c,!1),r=this.fixed_str_digit(2,d,!1),"".concat(t,":").concat(n,":").concat(r,",").concat(i)}},{key:"fixed_str_digit",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.length==e?t:t.length>e?t.slice(0,e):t.length<e?n?t.padEnd(e,"0"):t.padStart(e,"0"):void 0}},{key:"tryComma",value:function(e){var t=(e=e.replace(/\r/g,"")).split(/(\d+)\n(\d{1,2}:\d{2}:\d{2},\d{1,3}) --> (\d{1,2}:\d{2}:\d{2},\d{1,3})/g);return t.shift(),t}},{key:"tryDot",value:function(e){var t=(e=e.replace(/\r/g,"")).split(/(\d+)\n(\d{1,2}:\d{2}:\d{2}\.\d{1,3}) --> (\d{1,2}:\d{2}:\d{2}\.\d{1,3})/g);return t.shift(),this.seperator=".",t}},{key:"fromSrt",value:function(e){var t=e,n=this.tryComma(t);0==n.length&&(n=this.tryDot(t));for(var r=[],i=0;i<n.length;i+=4){var a=this.correctFormat(n[i+1].trim()),s=this.correctFormat(n[i+2].trim()),o={id:n[i].trim(),startTime:a,startSeconds:this.timestampToSeconds(a),endTime:s,endSeconds:this.timestampToSeconds(s),text:n[i+3].trim()};r.push(o)}return r}},{key:"toSrt",value:function(e){for(var t="",n="\r\n",r=0;r<e.length;r++){var i=e[r];t+=i.id+n,t+=i.startTime+" --\x3e "+i.endTime+n,t+=i.text.replace("\n",n)+n+n}return t}}]),e}(),AP=pP,gP=function(){function e(t,n,r,i,a){_class_call_check(this,e),this.id=t,this.title=n,this.url=r,this.type=i,this.language=a,this._lines=[],this.currentLine=null,this.isVTTFilled_=!1}return _create_class(e,[{key:"load",value:function(e){var t=this;return _async_to_generator((function(){var n,r;return _ts_generator(this,(function(i){switch(i.label){case 0:return t.lines.length?[2]:[4,e.request("get",t.url)];case 1:return n=i.sent(),r=new AP,t._lines=r.fromSrt(n.data),[2]}}))}))()}},{key:"lines",get:function(){return this._lines}},{key:"isVTTFilled",get:function(){return this.isVTTFilled_}},{key:"attachVTTtoPlayer",value:function(e){var t,n=this,r=null===(t=e.el().querySelector("video"))||void 0===t?void 0:t.textTracks;r&&(this.lines.forEach((function(e){var t=new VTTCue(e.startSeconds,e.endSeconds,e.text);t.line=10,t.size=60,r[n.id-1].addCue(t)})),this.isVTTFilled_=!0)}},{key:"getLineForSecond",value:function(e){var t,n;if(this.currentLine&&e>=(null===(t=this.currentLine)||void 0===t?void 0:t.startSeconds)&&e<=(null===(n=this.currentLine)||void 0===n?void 0:n.endSeconds))return this.currentLine;this.currentLine=null;for(var r=0;r<this.lines.length;r++)if(e>=this.lines[r].startSeconds&&e<=this.lines[r].endSeconds){this.currentLine=this.lines[r];break}return this.currentLine}},{key:"resetLine",value:function(){this.currentLine=null}}]),e}(),mP=ah.browser,vP=function(e){_inherits(n,e);var t=_create_super(n);function n(e){var r;return _class_call_check(this,n),(r=t.call(this,e)).activeCaption=null,r.isActive=!1,r.nativeCaptions=!1,r.init(e),r}return _create_class(n,[{key:"init",value:function(e){var t=this,n=ch.subscribe(kh,(function(n){var r=n.payload;Mh.enableCaptions&&r.content.subtitles&&t.process(e,r.content.subtitles)}));e.on(ef.PlayerReset,(function(){n()}))}},{key:"process",value:function(e,t){var n=this,r=[];t.forEach((function(e,t){r.push(new gP(t+1,e.title,e.url,e.type,e.language))})),ch.publish(mh({captions:r})),mP.IS_IOS&&(this.nativeCaptions=!0,e.on("loadedmetadata",(function(){r.forEach((function(t){e.addTextTrack("captions",t.title,t.language)}))})));var i=ch.subscribe(yh,(function(e){var t=e.payload;t.caption?n.handleCaptionClick(t.caption,t.onSuccess):(n.nativeCaptions?n.setNativeCaption(null):n.disableCaptions(),t.onSuccess())}));e.on("playerreset",(function(){i()}))}},{key:"disableNativeCaptions",value:function(e){for(var t=0;t<e.length;t++)e[t].mode="disabled"}},{key:"lineHandler",value:function(){var e;if(this.isActive){var t=null===(e=this.activeCaption)||void 0===e?void 0:e.getLineForSecond(this.player.currentTime()),n=null==t?void 0:t.text;ch.publish(vh({text:n?lh.splitSentenceByNthCharacter(lh.replaceStringNewLines(n," "),42):null}))}}},{key:"enableCustomCaptions",value:function(){this.isActive=!0,this.player.on("timeupdate",this.lineHandler.bind(this))}},{key:"disableCaptions",value:function(){this.isActive=!1,ch.publish(vh({text:null})),this.player.off("timeupdate",this.lineHandler.bind(this))}},{key:"handleCaptionClick",value:function(e,t){var n=this;return _async_to_generator((function(){var r;return _ts_generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.load(new sP)];case 1:return i.sent(),n.nativeCaptions?(e.isVTTFilled||e.attachVTTtoPlayer(n.player),n.setNativeCaption(e.id-1)):(n.activeCaption=e,n.enableCustomCaptions()),t(),[3,3];case 2:return _instanceof(r=i.sent(),Error)&&(uP.getInstance().error(r.message),UT.fire("EXCEPTION","PLAYER",{message:r.message})),[3,3];case 3:return[2]}}))}))()}},{key:"setNativeCaption",value:function(e){var t,n=null===(t=this.player.el().querySelector("video"))||void 0===t?void 0:t.textTracks;n&&(this.disableNativeCaptions(n),null!==e&&(n[e].mode="showing"))}}]),n}(ah.getPlugin("plugin"));ah.registerPlugin("nutCaptionsPlugin",vP);var yP=ah.dom,EP=[.25,.5,.75,1,1.25,1.5,1.75,2];ah.setFormatTime(lh.formatTime);var _P=new Hx.UAParser,TP=function(){function e(t,n){var r=this;_class_call_check(this,e),this.state_="Initializing";var i=void 0===t?null:t;this.stateEmitter=new oN.EventBus,this.stateEmitter.subscribe(Th,(function(e){return r.state_=e.payload.value})),n&&(window.nutEnvironment=n),He.isAutoplaySupported((function(e){r.setupPlayer(e,i)}))}return _create_class(e,[{key:"setupPlayer",value:function(t,n){var r=this;uh.shared(t);var i=yP.createEl("video",{id:e.DivID},{},{});document.body.appendChild(i);var a=this.initOptions();e.setUICSSStyles();var s=ah(e.DivID,a,(function(){null!=n&&n(r),r.stateEmitter.publish(Th({value:"initialized"}))}));s.addClass("video-js"),_P.getDevice().type===Hx.DEVICE.MOBILE&&s.addClass("vjs-mobile"),this.setupAttachListeners(s),this.player=s}},{key:"initOptions",value:function(){var t,n=uh.shared(),r={nutPostMessagesPlugin:{identifier:n.identifier,stateEmiter:this.stateEmitter,version:e.version},nutQualityPlugin:{},nutStatisticsPlugin:{},nutAdvertisementPlugin:{},nutCaptionsPlugin:{}},i=["mediaLoader"],a=[{name:"Skin",settings:{enableFullscreen:n.enableFullscreen,enableSettings:n.enableSettings}},"resizeManager","LoadingSpinner","PosterImage","RestrictionBox","liveTracker","textTrackDisplay"];"custom"!==n.skin&&(t=i).push.apply(t,_to_consumable_array(a));return{controls:!0,techOrder:["NutEmptyTech","NutAppleTech","NutMp4Tech","NutHlsTech","NutDashTech"],plugins:r,languages:Yx,language:uh.shared().language,children:i,poster:uh.shared().poster,responsive:!0,breakpoints:{tiny:void 0,xsmall:void 0,small:559,medium:1002,large:void 0,xlarge:void 0,huge:1/0},playbackRates:EP,nut:{environment:n}}}},{key:"state",get:function(){return this.state_}},{key:"setupAttachListeners",value:function(e){var t=this;e.on("loadstart",this.listenerLoadStart.bind(this)),e.on("loadeddata",this.listenerLoadedData.bind(this)),e.on("loadedmetadata",this.listenerLoadedMetaData.bind(this)),e.on("error",this.listenerError.bind(this)),e.on(ef.AirPlay,this.listenerAirPlay.bind(this)),e.on("volumechange",(function(e){ch.publish(Ih({volume:t.player.muted()?0:t.player.volume().toFixed(1)}))})),e.on("play",(function(e){ch.publish(Ih({volume:t.player.muted()?0:t.player.volume().toFixed(1)}))})),ch.subscribe(Ch,(function(e){var n=e.payload;t.player.removeClass("vjs-loading"),"TRACK"===n.component&&"HTTP"==n.type&&t.player.removeClass("vjs-quality-loader"),n.fatal&&(t.player.addClass("vjs-error"),t.player.removeClass("vjs-playing"),t.player.pause(),t.player.currentTime(0))})),ch.subscribe(kh,(function(e){var n=e.payload;t.player.src(n.content.url)})),ch.subscribe(Rh,(function(e){var n=e.payload;Mh.fillLoadOptions(t.player,t.stateEmitter,n.options,uh.shared())})),e.on("seeked",(function(){Math.round(e.currentTime())>=e.duration()&&e.paused()&&!e.ended()&&e.play()})),e.on("playerreset",(function(){e.removeClass("vjs-playing"),e.addClass("vjs-paused"),e.playbackRates(EP)}))}},{key:"listenerLoadedData",value:function(){this.player.addClass("vjs-loaded"),this.stateEmitter.publish(bh())}},{key:"listenerLoadedMetaData",value:function(){var e=this.player.duration()===1/0||Number.isNaN(this.player.duration());ch.publish(Ih({isLive:e})),e&&(this.player.isLive=!0),ch.publish(Dh({isActive:!this.player.isLive})),this.player.removeClass("vjs-loading")}},{key:"listenerLoadStart",value:function(){uP.getInstance().debug("check logger"),this.player.addClass("vjs-loading")}},{key:"listenerError",value:function(){var e;this.player.addClass("vjs-error"),this.player.removeClass("vjs-playing"),this.player.removeClass("vjs-loading"),UT.fire("EXCEPTION","PLAYER",{message:null===(e=this.player.error())||void 0===e?void 0:e.message},!0)}},{key:"listenerAirPlay",value:function(){var e;null===(e=this.player.el().querySelector("video"))||void 0===e||e.webkitShowPlaybackTargetPicker()}},{key:"load",value:function(e,t){this.player.src()&&(this.player.reset(),ch.publish(Sh())),t&&Mh.fillLoadOptions(this.player,this.stateEmitter,t,uh.shared()),this.player.src(e)}}],[{key:"setUICSSStyles",value:function(){var t=uh.shared().color,n=document.createElement("style");n.appendChild(document.createTextNode("\n            #".concat(e.DivID," .vjs-settings-menu .vjs-menu .vjs-setting-menu-sub li.vjs-selected {\n              color: #").concat(t," !important;\n            }\n            #").concat(e.DivID," .vjs-loader .vjs-loading-spinner:after {\n              background: conic-gradient(#").concat(t,", #c2c3c5);\n            }\n            #").concat(e.DivID," .vjs-toogle-btn .nut-svg-container svg path {\n              fill: #").concat(t," !important;\n            }\n            #").concat(e.DivID," .vjs-play-progress,\n            #").concat(e.DivID," .vjs-volume-level {\n                background-color: #").concat(t,"\n            }\n        "))),document.head.appendChild(n)}}]),e}();TP.version="1.0.0",TP.DivID="nutPlayer";var bP=TP;
/*! Bundled license information:

  keycode/index.js:
    (*!
     * Programatically add the following
     *)

  @videojs/xhr/lib/index.js:
    (**
     * @license
     * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
     * Copyright (c) 2014 David Björklund
     * Available under the MIT license
     * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
     *)

  eventemitter2/lib/eventemitter2.js:
    (*!
     * EventEmitter2
     * https://github.com/hij1nx/EventEmitter2
     *
     * Copyright (c) 2013 hij1nx
     * Licensed under the MIT license.
     *)

  es6-promise/dist/es6-promise.js:
    (*!
     * @overview es6-promise - a tiny implementation of Promises/A+.
     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
     * @license   Licensed under MIT license
     *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
     * @version   v4.2.8+1e68dce6
     *)

  codem-isoboxer/dist/iso_boxer.js:
    (*! codem-isoboxer v0.3.9 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt *)

  sax/lib/sax.js:
    (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)

  es6-promise/dist/es6-promise.js:
    (*!
     * @overview es6-promise - a tiny implementation of Promises/A+.
     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
     * @license   Licensed under MIT license
     *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
     * @version   v4.2.8+1e68dce6
     *)

  m3u8-parser/dist/m3u8-parser.es.js:
    (*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 *)

  mpd-parser/dist/mpd-parser.es.js:
    (*! @name mpd-parser @version 0.22.1 @license Apache-2.0 *)

  video.js/dist/video.es.js:
    (**
     * @license
     * Video.js 7.21.5 <http://videojs.com/>
     * Copyright Brightcove, Inc. <https://www.brightcove.com/>
     * Available under Apache License Version 2.0
     * <https://github.com/videojs/video.js/blob/main/LICENSE>
     *
     * Includes vtt.js <https://github.com/mozilla/vtt.js>
     * Available under Apache License Version 2.0
     * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
     *)
    (*! @name @videojs/http-streaming @version 2.16.2 @license Apache-2.0 *)
    (*! @name pkcs7 @version 1.0.4 @license Apache-2.0 *)
    (*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 *)
  */return e.Player=bP,e}({});